(self.webpackChunkngBlogSite=self.webpackChunkngBlogSite||[]).push([[179],{2011:(mt,Re,Q)=>{"use strict";Q.d(Re,{Dh:()=>F,GT:()=>Z,cc:()=>He,hO:()=>ce,on:()=>$,pX:()=>we,xv:()=>ee});var m=Q(4650),fe=Q(9260),Y=Q(4976);mt=Q.hmd(mt);const se=["ngOnDestroy"],we=(We,je,Ze,Ge={})=>new Proxy(We,{get:(Le,be)=>Ze.runOutsideAngular(()=>{var Pe;if(We[be])return!(null===(Pe=Ge?.spy)||void 0===Pe)&&Pe.get&&Ge.spy.get(be,We[be]),We[be];if(se.indexOf(be)>-1)return()=>{};const q=je.toPromise().then(Fe=>{const me=Fe&&Fe[be];return"function"==typeof me?me.bind(Fe):me&&me.then?me.then(vt=>Ze.run(()=>vt)):Ze.run(()=>me)});return new Proxy(()=>{},{get:(Fe,me)=>q[me],apply:(Fe,me,vt)=>q.then(nt=>{var Yt;const gt=nt&&nt(...vt);return!(null===(Yt=Ge?.spy)||void 0===Yt)&&Yt.apply&&Ge.spy.apply(be,vt,gt),gt})})})}),Z=(We,je)=>{je.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ge=>{Object.defineProperty(We.prototype,Ge,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ge))})})};class ne{constructor(je){return je}}const F=new m.OlP("angularfire2.app.options"),ee=new m.OlP("angularfire2.app.name");function $(We,je,Ze){const Le="object"==typeof Ze&&Ze||{};Le.name=Le.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Pe=fe.Z.apps.filter(q=>q&&q.name===Le.name)[0]||je.runOutsideAngular(()=>fe.Z.initializeApp(We,Le));try{JSON.stringify(We)!==JSON.stringify(Pe.options)&&U("error",`${Pe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(Pe)}const U=(We,...je)=>{(0,m.X6Q)()&&typeof console<"u"&&console[We](...je)},G={provide:ne,useFactory:$,deps:[F,m.R0b,[new m.FiY,ee]]};let ce=(()=>{class We{constructor(Ze){fe.Z.registerVersion("angularfire",Y.q4.full,"core"),fe.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),fe.Z.registerVersion("angular",m.q4F.full,Ze.toString())}static initializeApp(Ze,Ge){return{ngModule:We,providers:[{provide:F,useValue:Ze},{provide:ee,useValue:Ge}]}}}return We.\u0275fac=function(Ze){return new(Ze||We)(m.LFG(m.Lbi))},We.\u0275mod=m.oAB({type:We}),We.\u0275inj=m.cJS({providers:[G]}),We})();function He(We,je,Ze,Ge,Le){const[,be,Pe]=globalThis.\u0275AngularfireInstanceCache.find(q=>q[0]===We)||[];if(be)return function it(We,je){try{return We.toString()===je.toString()}catch{return We===je}}(Le,Pe)||(xe("error",`${je} was already initialized on the ${Ze} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Le,was:Pe})),be;{const q=Ge();return globalThis.\u0275AngularfireInstanceCache.push([We,q,Le]),q}}const ct=!!mt.hot,xe=(We,...je)=>{(0,m.X6Q)()&&typeof console<"u"&&console[We](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(mt,Re,Q)=>{"use strict";Q.d(Re,{q4:()=>Ol,iC:()=>on,HU:()=>Ho,vb:()=>Bl,JM:()=>Fl});var m=Q(4650),fe=Q(259),Y=Q(5861),se=Q(6881),we=Q(2090),Z=Q(4859),ne=Q(1877);const F=(L,H)=>H.some(O=>L instanceof O);let ee,$;const ce=new WeakMap,He=new WeakMap,it=new WeakMap,ct=new WeakMap,xe=new WeakMap;let Ze={get(L,H,O){if(L instanceof IDBTransaction){if("done"===H)return He.get(L);if("objectStoreNames"===H)return L.objectStoreNames||it.get(L);if("store"===H)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Pe(L[H])},set:(L,H,O)=>(L[H]=O,!0),has:(L,H)=>L instanceof IDBTransaction&&("done"===H||"store"===H)||H in L};function be(L){return"function"==typeof L?function Le(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function G(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...H){return L.apply(q(this),H),Pe(ce.get(this))}:function(...H){return Pe(L.apply(q(this),H))}:function(H,...O){const J=L.call(q(this),H,...O);return it.set(J,H.sort?H.sort():[H]),Pe(J)}}(L):(L instanceof IDBTransaction&&function je(L){if(He.has(L))return;const H=new Promise((O,J)=>{const ae=()=>{L.removeEventListener("complete",he),L.removeEventListener("error",Ce),L.removeEventListener("abort",Ce)},he=()=>{O(),ae()},Ce=()=>{J(L.error||new DOMException("AbortError","AbortError")),ae()};L.addEventListener("complete",he),L.addEventListener("error",Ce),L.addEventListener("abort",Ce)});He.set(L,H)}(L),F(L,function U(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,Ze):L)}function Pe(L){if(L instanceof IDBRequest)return function We(L){const H=new Promise((O,J)=>{const ae=()=>{L.removeEventListener("success",he),L.removeEventListener("error",Ce)},he=()=>{O(Pe(L.result)),ae()},Ce=()=>{J(L.error),ae()};L.addEventListener("success",he),L.addEventListener("error",Ce)});return H.then(O=>{O instanceof IDBCursor&&ce.set(O,L)}).catch(()=>{}),xe.set(H,L),H}(L);if(ct.has(L))return ct.get(L);const H=be(L);return H!==L&&(ct.set(L,H),xe.set(H,L)),H}const q=L=>xe.get(L),vt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Yt=new Map;function gt(L,H){if(!(L instanceof IDBDatabase)||H in L||"string"!=typeof H)return;if(Yt.get(H))return Yt.get(H);const O=H.replace(/FromIndex$/,""),J=H!==O,ae=nt.includes(O);if(!(O in(J?IDBIndex:IDBObjectStore).prototype)||!ae&&!vt.includes(O))return;const he=function(){var Ce=(0,Y.Z)(function*(ot,...at){const Mt=this.transaction(ot,ae?"readwrite":"readonly");let Rt=Mt.store;return J&&(Rt=Rt.index(at.shift())),(yield Promise.all([Rt[O](...at),ae&&Mt.done]))[0]});return function(at){return Ce.apply(this,arguments)}}();return Yt.set(H,he),he}!function Ge(L){Ze=L(Ze)}(L=>({...L,get:(H,O,J)=>gt(H,O)||L.get(H,O,J),has:(H,O)=>!!gt(H,O)||L.has(H,O)}));const lr="@firebase/installations",Qi="0.6.4",Br=1e4,as=`w:${Qi}`,pe="FIS_v2",Ee="https://firebaseinstallations.googleapis.com/v1",Te=36e5,kt=new we.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(L){return L instanceof we.ZR&&L.code.includes("request-failed")}function $t({projectId:L}){return`${Ee}/projects/${L}/installations`}function xt(L){return{token:L.token,requestStatus:2,expiresIn:Mr(L.expiresIn),creationTime:Date.now()}}function dn(L,H){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,Y.Z)(function*(L,H){const J=(yield H.json()).error;return kt.create("request-failed",{requestName:L,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function Sn({apiKey:L}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L})}function Ji(L){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,Y.Z)(function*(L){const H=yield L();return H.status>=500&&H.status<600?L():H})).apply(this,arguments)}function Mr(L){return Number(L.replace("s","000"))}function zt(){return(zt=(0,Y.Z)(function*({appConfig:L,heartbeatServiceProvider:H},{fid:O}){const J=$t(L),ae=Sn(L),he=H.getImmediate({optional:!0});if(he){const Mt=yield he.getHeartbeatsHeader();Mt&&ae.append("x-firebase-client",Mt)}const ot={method:"POST",headers:ae,body:JSON.stringify({fid:O,authVersion:pe,appId:L.appId,sdkVersion:as})},at=yield Ji(()=>fetch(J,ot));if(at.ok){const Mt=yield at.json();return{fid:Mt.fid||O,registrationStatus:2,refreshToken:Mt.refreshToken,authToken:xt(Mt.authToken)}}throw yield dn("Create Installation",at)})).apply(this,arguments)}function ao(L){return new Promise(H=>{setTimeout(H,L)})}const Xi=/^[cdef][\w-]{21}$/,Hn="";function _i(){try{const L=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(L),L[0]=112+L[0]%16;const O=function An(L){return function vl(L){return btoa(String.fromCharCode(...L)).replace(/\+/g,"-").replace(/\//g,"_")}(L).substr(0,22)}(L);return Xi.test(O)?O:Hn}catch{return Hn}}function En(L){return`${L.appName}!${L.appId}`}const ht=new Map;function Vt(L,H){const O=En(L);ur(O,H),function er(L,H){const O=function Do(){return!bi&&"BroadcastChannel"in self&&(bi=new BroadcastChannel("[Firebase] FID Change"),bi.onmessage=L=>{ur(L.data.key,L.data.fid)}),bi}();O&&O.postMessage({key:L,fid:H}),function Gn(){0===ht.size&&bi&&(bi.close(),bi=null)}()}(O,H)}function ur(L,H){const O=ht.get(L);if(O)for(const J of O)J(H)}let bi=null;const w1="firebase-installations-database",gn=1,cs="firebase-installations-store";let fn=null;function Kn(){return fn||(fn=function Fe(L,H,{blocked:O,upgrade:J,blocking:ae,terminated:he}={}){const Ce=indexedDB.open(L,H),ot=Pe(Ce);return J&&Ce.addEventListener("upgradeneeded",at=>{J(Pe(Ce.result),at.oldVersion,at.newVersion,Pe(Ce.transaction))}),O&&Ce.addEventListener("blocked",()=>O()),ot.then(at=>{he&&at.addEventListener("close",()=>he()),ae&&at.addEventListener("versionchange",()=>ae())}).catch(()=>{}),ot}(w1,gn,{upgrade:(L,H)=>{0===H&&L.createObjectStore(cs)}})),fn}function Mn(L,H){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,Y.Z)(function*(L,H){const O=En(L),ae=(yield Kn()).transaction(cs,"readwrite"),he=ae.objectStore(cs),Ce=yield he.get(O);return yield he.put(H,O),yield ae.done,(!Ce||Ce.fid!==H.fid)&&Vt(L,H.fid),H})).apply(this,arguments)}function Zo(L){return ni.apply(this,arguments)}function ni(){return(ni=(0,Y.Z)(function*(L){const H=En(L),J=(yield Kn()).transaction(cs,"readwrite");yield J.objectStore(cs).delete(H),yield J.done})).apply(this,arguments)}function Yo(L,H){return xr.apply(this,arguments)}function xr(){return(xr=(0,Y.Z)(function*(L,H){const O=En(L),ae=(yield Kn()).transaction(cs,"readwrite"),he=ae.objectStore(cs),Ce=yield he.get(O),ot=H(Ce);return void 0===ot?yield he.delete(O):yield he.put(ot,O),yield ae.done,ot&&(!Ce||Ce.fid!==ot.fid)&&Vt(L,ot.fid),ot})).apply(this,arguments)}function oe(L){return te.apply(this,arguments)}function te(){return te=(0,Y.Z)(function*(L){let H;const O=yield Yo(L.appConfig,J=>{const ae=function ue(L){return Qn(L||{fid:_i(),registrationStatus:0})}(J),he=function Ne(L,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(kt.create("app-offline"))};const O={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},J=function _e(L,H){return Je.apply(this,arguments)}(L,O);return{installationEntry:O,registrationPromise:J}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:At(L)}:{installationEntry:H}}(L,ae);return H=he.registrationPromise,he.installationEntry});return O.fid===Hn?{installationEntry:yield H}:{installationEntry:O,registrationPromise:H}}),te.apply(this,arguments)}function Je(){return Je=(0,Y.Z)(function*(L,H){try{const O=yield function jr(L,H){return zt.apply(this,arguments)}(L,H);return Mn(L.appConfig,O)}catch(O){throw wt(O)&&409===O.customData.serverCode?yield Zo(L.appConfig):yield Mn(L.appConfig,{fid:H.fid,registrationStatus:0}),O}}),Je.apply(this,arguments)}function At(L){return bn.apply(this,arguments)}function bn(){return(bn=(0,Y.Z)(function*(L){let H=yield ai(L.appConfig);for(;1===H.registrationStatus;)yield ao(100),H=yield ai(L.appConfig);if(0===H.registrationStatus){const{installationEntry:O,registrationPromise:J}=yield oe(L);return J||O}return H})).apply(this,arguments)}function ai(L){return Yo(L,H=>{if(!H)throw kt.create("installation-not-found");return Qn(H)})}function Qn(L){return function Vn(L){return 1===L.registrationStatus&&L.registrationTime+Br<Date.now()}(L)?{fid:L.fid,registrationStatus:0}:L}function Ur(){return(Ur=(0,Y.Z)(function*({appConfig:L,heartbeatServiceProvider:H},O){const J=function ls(L,{fid:H}){return`${$t(L)}/${H}/authTokens:generate`}(L,O),ae=function Ci(L,{refreshToken:H}){const O=Sn(L);return O.append("Authorization",function xo(L){return`${pe} ${L}`}(H)),O}(L,O),he=H.getImmediate({optional:!0});if(he){const Mt=yield he.getHeartbeatsHeader();Mt&&ae.append("x-firebase-client",Mt)}const ot={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:as,appId:L.appId}})},at=yield Ji(()=>fetch(J,ot));if(at.ok)return xt(yield at.json());throw yield dn("Generate Auth Token",at)})).apply(this,arguments)}function Ss(L){return Es.apply(this,arguments)}function Es(){return Es=(0,Y.Z)(function*(L,H=!1){let O;const J=yield Yo(L.appConfig,he=>{if(!cn(he))throw kt.create("not-registered");const Ce=he.authToken;if(!H&&function Lt(L){return 2===L.requestStatus&&!function xn(L){const H=Date.now();return H<L.creationTime||L.creationTime+L.expiresIn<H+Te}(L)}(Ce))return he;if(1===Ce.requestStatus)return O=function Se(L,H){return ye.apply(this,arguments)}(L,H),he;{if(!navigator.onLine)throw kt.create("app-offline");const ot=function yn(L){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},L),{authToken:H})}(he);return O=function It(L,H){return Bt.apply(this,arguments)}(L,ot),ot}});return O?yield O:J.authToken}),Es.apply(this,arguments)}function ye(){return(ye=(0,Y.Z)(function*(L,H){let O=yield Ke(L.appConfig);for(;1===O.authToken.requestStatus;)yield ao(100),O=yield Ke(L.appConfig);const J=O.authToken;return 0===J.requestStatus?Ss(L,H):J})).apply(this,arguments)}function Ke(L){return Yo(L,H=>{if(!cn(H))throw kt.create("not-registered");return function hi(L){return 1===L.requestStatus&&L.requestTime+Br<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Bt(){return Bt=(0,Y.Z)(function*(L,H){try{const O=yield function mn(L,H){return Ur.apply(this,arguments)}(L,H),J=Object.assign(Object.assign({},H),{authToken:O});return yield Mn(L.appConfig,J),O}catch(O){if(!wt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const J=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield Mn(L.appConfig,J)}else yield Zo(L.appConfig);throw O}}),Bt.apply(this,arguments)}function cn(L){return void 0!==L&&2===L.registrationStatus}function Q2(){return(Q2=(0,Y.Z)(function*(L){const H=L,{installationEntry:O,registrationPromise:J}=yield oe(H);return J?J.catch(console.error):Ss(H).catch(console.error),O.fid})).apply(this,arguments)}function Q1(){return Q1=(0,Y.Z)(function*(L,H=!1){const O=L;return yield function tr(L){return ut.apply(this,arguments)}(O),(yield Ss(O,H)).token}),Q1.apply(this,arguments)}function ut(){return(ut=(0,Y.Z)(function*(L){const{registrationPromise:H}=yield oe(L);H&&(yield H)})).apply(this,arguments)}function fi(L){return kt.create("missing-app-config-values",{valueName:L})}const Jt="installations",J1=L=>{const H=L.getProvider("app").getImmediate(),O=function us(L){if(!L||!L.options)throw fi("App Configuration");if(!L.name)throw fi("App Name");const H=["projectId","apiKey","appId"];for(const O of H)if(!L.options[O])throw fi(O);return{appName:L.name,projectId:L.options.projectId,apiKey:L.options.apiKey,appId:L.options.appId}}(H);return{app:H,appConfig:O,heartbeatServiceProvider:(0,se._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},ds=L=>{const H=L.getProvider("app").getImmediate(),O=(0,se._getProvider)(H,Jt).getImmediate();return{getId:()=>function wi(L){return Q2.apply(this,arguments)}(O),getToken:ae=>function bu(L){return Q1.apply(this,arguments)}(O,ae)}};(function $s(){(0,se._registerComponent)(new Z.wA(Jt,J1,"PUBLIC")),(0,se._registerComponent)(new Z.wA("installations-internal",ds,"PRIVATE"))})(),(0,se.registerVersion)(lr,Qi),(0,se.registerVersion)(lr,Qi,"esm2017");const Ai="@firebase/remote-config",li=new we.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class co{constructor(H,O,J,ae){this.client=H,this.storage=O,this.storageCache=J,this.logger=ae}isCachedDataFresh(H,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-O,ae=J<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${ae}.`),ae}fetch(H){var O=this;return(0,Y.Z)(function*(){const[J,ae]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ae&&O.isCachedDataFresh(H.cacheMaxAgeMillis,J))return ae;H.eTag=ae&&ae.eTag;const he=yield O.client.fetch(H),Ce=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Ce.push(O.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Ce),he})()}}function A5(L=navigator){return L.languages&&L.languages[0]||L.language}class bl{constructor(H,O,J,ae,he,Ce){this.firebaseInstallations=H,this.sdkVersion=O,this.namespace=J,this.projectId=ae,this.apiKey=he,this.appId=Ce}fetch(H){var O=this;return(0,Y.Z)(function*(){const[J,ae]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},at={sdk_version:O.sdkVersion,app_instance_id:J,app_instance_id_token:ae,app_id:O.appId,language_code:A5()},Mt={method:"POST",headers:ot,body:JSON.stringify(at)},Rt=fetch(Ce,Mt),Zt=new Promise((Po,Ro)=>{H.signal.addEventListener(()=>{const k2=new Error("The operation was aborted.");k2.name="AbortError",Ro(k2)})});let ho;try{yield Promise.race([Rt,Zt]),ho=yield Rt}catch(Po){let Ro="fetch-client-network";throw"AbortError"===Po?.name&&(Ro="fetch-timeout"),li.create(Ro,{originalErrorMessage:Po?.message})}let ii=ho.status;const wn=ho.headers.get("ETag")||void 0;let Xr,Ir;if(200===ho.status){let Po;try{Po=yield ho.json()}catch(Ro){throw li.create("fetch-client-parse",{originalErrorMessage:Ro?.message})}Xr=Po.entries,Ir=Po.state}if("INSTANCE_STATE_UNSPECIFIED"===Ir?ii=500:"NO_CHANGE"===Ir?ii=304:("NO_TEMPLATE"===Ir||"EMPTY_CONFIG"===Ir)&&(Xr={}),304!==ii&&200!==ii)throw li.create("fetch-status",{httpStatus:ii});return{status:ii,eTag:wn,config:Xr}})()}}class M5{constructor(H,O){this.client=H,this.storage=O}fetch(H){var O=this;return(0,Y.Z)(function*(){const J=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(H,J)})()}attemptFetch(H,{throttleEndTimeMillis:O,backoffCount:J}){var ae=this;return(0,Y.Z)(function*(){yield function J4(L,H){return new Promise((O,J)=>{const ae=Math.max(H-Date.now(),0),he=setTimeout(O,ae);L.addEventListener(()=>{clearTimeout(he),J(li.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,O);try{const he=yield ae.client.fetch(H);return yield ae.storage.deleteThrottleMetadata(),he}catch(he){if(!function yl(L){if(!(L instanceof we.ZR&&L.customData))return!1;const H=Number(L.customData.httpStatus);return 429===H||500===H||503===H||504===H}(he))throw he;const Ce={throttleEndTimeMillis:Date.now()+(0,we.$s)(J),backoffCount:J+1};return yield ae.storage.setThrottleMetadata(Ce),ae.attemptFetch(H,Ce)}})()}}class y7{constructor(H,O,J,ae,he){this.app=H,this._client=O,this._storageCache=J,this._storage=ae,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tc(L,H){const O=L.target.error||void 0;return li.create(H,{originalErrorMessage:O&&O?.message})}const ui="app_namespace_store";class C7{constructor(H,O,J,ae=function Ka(){return new Promise((L,H)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=J=>{H(tc(J,"storage-open"))},O.onsuccess=J=>{L(J.target.result)},O.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(ui,{keyPath:"compositeKey"})}}catch(O){H(li.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=H,this.appName=O,this.namespace=J,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var O=this;return(0,Y.Z)(function*(){const J=yield O.openDbPromise;return new Promise((ae,he)=>{const ot=J.transaction([ui],"readonly").objectStore(ui),at=O.createCompositeKey(H);try{const Mt=ot.get(at);Mt.onerror=Rt=>{he(tc(Rt,"storage-get"))},Mt.onsuccess=Rt=>{const Zt=Rt.target.result;ae(Zt?Zt.value:void 0)}}catch(Mt){he(li.create("storage-get",{originalErrorMessage:Mt?.message}))}})})()}set(H,O){var J=this;return(0,Y.Z)(function*(){const ae=yield J.openDbPromise;return new Promise((he,Ce)=>{const at=ae.transaction([ui],"readwrite").objectStore(ui),Mt=J.createCompositeKey(H);try{const Rt=at.put({compositeKey:Mt,value:O});Rt.onerror=Zt=>{Ce(tc(Zt,"storage-set"))},Rt.onsuccess=()=>{he()}}catch(Rt){Ce(li.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(H){var O=this;return(0,Y.Z)(function*(){const J=yield O.openDbPromise;return new Promise((ae,he)=>{const ot=J.transaction([ui],"readwrite").objectStore(ui),at=O.createCompositeKey(H);try{const Mt=ot.delete(at);Mt.onerror=Rt=>{he(tc(Rt,"storage-delete"))},Mt.onsuccess=()=>{ae()}}catch(Mt){he(li.create("storage-delete",{originalErrorMessage:Mt?.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class t3{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,Y.Z)(function*(){const O=H.storage.getLastFetchStatus(),J=H.storage.getLastSuccessfulFetchTimestampMillis(),ae=H.storage.getActiveConfig(),he=yield O;he&&(H.lastFetchStatus=he);const Ce=yield J;Ce&&(H.lastSuccessfulFetchTimestampMillis=Ce);const ot=yield ae;ot&&(H.activeConfig=ot)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function Cl(){return na.apply(this,arguments)}function na(){return(na=(0,Y.Z)(function*(){if(!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}!function Ys(){(0,se._registerComponent)(new Z.wA("remote-config",function L(H,{instanceIdentifier:O}){const J=H.getProvider("app").getImmediate(),ae=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw li.create("registration-window");if(!(0,we.hl)())throw li.create("indexed-db-unavailable");const{projectId:he,apiKey:Ce,appId:ot}=J.options;if(!he)throw li.create("registration-project-id");if(!Ce)throw li.create("registration-api-key");if(!ot)throw li.create("registration-app-id");const at=new C7(ot,J.name,O=O||"firebase"),Mt=new t3(at),Rt=new ne.Yd(Ai);Rt.logLevel=ne.in.ERROR;const Zt=new bl(ae,se.SDK_VERSION,O,he,Ce,ot),ho=new M5(Zt,at),ii=new co(ho,at,Mt,Rt),wn=new y7(J,ii,Mt,at,Rt);return function hr(L){const H=(0,we.m9)(L);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(wn),wn},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Ai,"0.4.4"),(0,se.registerVersion)(Ai,"0.4.4","esm2017")}();const wl=(L,H)=>H.some(O=>L instanceof O);let ia,Ds;const Xa=new WeakMap,A1=new WeakMap,Gr=new WeakMap,qr=new WeakMap,ra=new WeakMap;let Ks={get(L,H,O){if(L instanceof IDBTransaction){if("done"===H)return A1.get(L);if("objectStoreNames"===H)return L.objectStoreNames||Gr.get(L);if("store"===H)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return $r(L[H])},set:(L,H,O)=>(L[H]=O,!0),has:(L,H)=>L instanceof IDBTransaction&&("done"===H||"store"===H)||H in L};function e0(L){return"function"==typeof L?function n3(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ja(){return Ds||(Ds=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...H){return L.apply(ir(this),H),$r(Xa.get(this))}:function(...H){return $r(L.apply(ir(this),H))}:function(H,...O){const J=L.call(ir(this),H,...O);return Gr.set(J,H.sort?H.sort():[H]),$r(J)}}(L):(L instanceof IDBTransaction&&function e2(L){if(A1.has(L))return;const H=new Promise((O,J)=>{const ae=()=>{L.removeEventListener("complete",he),L.removeEventListener("error",Ce),L.removeEventListener("abort",Ce)},he=()=>{O(),ae()},Ce=()=>{J(L.error||new DOMException("AbortError","AbortError")),ae()};L.addEventListener("complete",he),L.addEventListener("error",Ce),L.addEventListener("abort",Ce)});A1.set(L,H)}(L),wl(L,function Qa(){return ia||(ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,Ks):L)}function $r(L){if(L instanceof IDBRequest)return function fr(L){const H=new Promise((O,J)=>{const ae=()=>{L.removeEventListener("success",he),L.removeEventListener("error",Ce)},he=()=>{O($r(L.result)),ae()},Ce=()=>{J(L.error),ae()};L.addEventListener("success",he),L.addEventListener("error",Ce)});return H.then(O=>{O instanceof IDBCursor&&Xa.set(O,L)}).catch(()=>{}),ra.set(H,L),H}(L);if(qr.has(L))return qr.get(L);const H=e0(L);return H!==L&&(qr.set(L,H),ra.set(H,L)),H}const ir=L=>ra.get(L);function r3(L,H,{blocked:O,upgrade:J,blocking:ae,terminated:he}={}){const Ce=indexedDB.open(L,H),ot=$r(Ce);return J&&Ce.addEventListener("upgradeneeded",at=>{J($r(Ce.result),at.oldVersion,at.newVersion,$r(Ce.transaction))}),O&&Ce.addEventListener("blocked",()=>O()),ot.then(at=>{he&&at.addEventListener("close",()=>he()),ae&&at.addEventListener("versionchange",()=>ae())}).catch(()=>{}),ot}function lo(L,{blocked:H}={}){const O=indexedDB.deleteDatabase(L);return H&&O.addEventListener("blocked",()=>H()),$r(O).then(()=>{})}const kl=["get","getKey","getAll","getAllKeys","count"],Qs=["put","add","delete","clear"],oa=new Map;function t2(L,H){if(!(L instanceof IDBDatabase)||H in L||"string"!=typeof H)return;if(oa.get(H))return oa.get(H);const O=H.replace(/FromIndex$/,""),J=H!==O,ae=Qs.includes(O);if(!(O in(J?IDBIndex:IDBObjectStore).prototype)||!ae&&!kl.includes(O))return;const he=function(){var Ce=(0,Y.Z)(function*(ot,...at){const Mt=this.transaction(ot,ae?"readwrite":"readonly");let Rt=Mt.store;return J&&(Rt=Rt.index(at.shift())),(yield Promise.all([Rt[O](...at),ae&&Mt.done]))[0]});return function(at){return Ce.apply(this,arguments)}}();return oa.set(H,he),he}!function Li(L){Ks=L(Ks)}(L=>({...L,get:(H,O,J)=>t2(H,O)||L.get(H,O,J),has:(H,O)=>!!t2(H,O)||L.has(H,O)}));const Wt="/firebase-messaging-sw.js",n2="/firebase-cloud-messaging-push-scope",Al="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",t0="https://fcmregistrations.googleapis.com/v1",nc="google.c.a.c_id",n0="google.c.a.c_l",ic="google.c.a.ts",r0="google.c.a.e";var ze=(()=>{return(L=ze||(ze={})).PUSH_RECEIVED="push-received",L.NOTIFICATION_CLICKED="notification-clicked",ze;var L})();function en(L){const H=new Uint8Array(L);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rc(L){const O=(L+"=".repeat((4-L.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(O),ae=new Uint8Array(J.length);for(let he=0;he<J.length;++he)ae[he]=J.charCodeAt(he);return ae}const r2="fcm_token_details_db",Ni=5,sa="fcm_token_object_Store";function Sr(){return Sr=(0,Y.Z)(function*(L){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(r2))return null;let H=null;return(yield r3(r2,Ni,{upgrade:(J=(0,Y.Z)(function*(ae,he,Ce,ot){var at;if(he<2||!ae.objectStoreNames.contains(sa))return;const Mt=ot.objectStore(sa),Rt=yield Mt.index("fcmSenderId").get(L);if(yield Mt.clear(),Rt)if(2===he){const Zt=Rt;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;H={token:Zt.fcmToken,createTime:null!==(at=Zt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:en(Zt.vapidKey)}}}else if(3===he){const Zt=Rt;H={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:en(Zt.auth),p256dh:en(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:en(Zt.vapidKey)}}}else if(4===he){const Zt=Rt;H={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:en(Zt.auth),p256dh:en(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:en(Zt.vapidKey)}}}}),function(he,Ce,ot,at){return J.apply(this,arguments)})})).close(),yield lo(r2),yield lo("fcm_vapid_details_db"),yield lo("undefined"),function o3(L){if(!L||!L.subscriptionOptions)return!1;const{subscriptionOptions:H}=L;return"number"==typeof L.createTime&&L.createTime>0&&"string"==typeof L.token&&L.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}(H)?H:null;var J}),Sr.apply(this,arguments)}const s2="firebase-messaging-database",yu=1,zs="firebase-messaging-store";let a2=null;function Vi(){return a2||(a2=r3(s2,yu,{upgrade:(L,H)=>{0===H&&L.createObjectStore(zs)}})),a2}function Lo(L){return Is.apply(this,arguments)}function Is(){return Is=(0,Y.Z)(function*(L){const H=Ts(L),J=yield(yield Vi()).transaction(zs).objectStore(zs).get(H);if(J)return J;{const ae=yield function o2(L){return Sr.apply(this,arguments)}(L.appConfig.senderId);if(ae)return yield aa(L,ae),ae}}),Is.apply(this,arguments)}function aa(L,H){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,Y.Z)(function*(L,H){const O=Ts(L),ae=(yield Vi()).transaction(zs,"readwrite");return yield ae.objectStore(zs).put(H,O),yield ae.done,H})).apply(this,arguments)}function oc(){return(oc=(0,Y.Z)(function*(L){const H=Ts(L),J=(yield Vi()).transaction(zs,"readwrite");yield J.objectStore(zs).delete(H),yield J.done})).apply(this,arguments)}function Ts({appConfig:L}){return L.appId}const Ui=new we.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function c2(L,H){return l2.apply(this,arguments)}function l2(){return(l2=(0,Y.Z)(function*(L,H){const O=yield l3(L),J=Ml(H),ae={method:"POST",headers:O,body:JSON.stringify(J)};let he;try{he=yield(yield fetch(d2(L.appConfig),ae)).json()}catch(Ce){throw Ui.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(he.error)throw Ui.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw Ui.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function a0(){return(a0=(0,Y.Z)(function*(L,H){const O=yield l3(L),J=Ml(H.subscriptionOptions),ae={method:"PATCH",headers:O,body:JSON.stringify(J)};let he;try{he=yield(yield fetch(`${d2(L.appConfig)}/${H.token}`,ae)).json()}catch(Ce){throw Ui.create("token-update-failed",{errorInfo:Ce?.toString()})}if(he.error)throw Ui.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw Ui.create("token-update-no-token");return he.token})).apply(this,arguments)}function a3(L,H){return c3.apply(this,arguments)}function c3(){return(c3=(0,Y.Z)(function*(L,H){const J={method:"DELETE",headers:yield l3(L)};try{const he=yield(yield fetch(`${d2(L.appConfig)}/${H}`,J)).json();if(he.error)throw Ui.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ae){throw Ui.create("token-unsubscribe-failed",{errorInfo:ae?.toString()})}})).apply(this,arguments)}function d2({projectId:L}){return`${t0}/projects/${L}/registrations`}function l3(L){return sc.apply(this,arguments)}function sc(){return(sc=(0,Y.Z)(function*({appConfig:L,installations:H}){const O=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":L.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ml({p256dh:L,auth:H,endpoint:O,vapidKey:J}){const ae={web:{endpoint:O,auth:H,p256dh:L}};return J!==Al&&(ae.web.applicationPubKey=J),ae}const u3=6048e5;function d3(){return d3=(0,Y.Z)(function*(L){const H=yield function ku(L,H){return c0.apply(this,arguments)}(L.swRegistration,L.vapidKey),O={vapidKey:L.vapidKey,swScope:L.swRegistration.scope,endpoint:H.endpoint,auth:en(H.getKey("auth")),p256dh:en(H.getKey("p256dh"))},J=yield Lo(L.firebaseDependencies);if(J){if(function x5(L,H){return H.vapidKey===L.vapidKey&&H.endpoint===L.endpoint&&H.auth===L.auth&&H.p256dh===L.p256dh}(J.subscriptionOptions,O))return Date.now()>=J.createTime+u3?function mi(L,H){return ac.apply(this,arguments)}(L,{token:J.token,createTime:Date.now(),subscriptionOptions:O}):J.token;try{yield a3(L.firebaseDependencies,J.token)}catch(ae){console.warn(ae)}return wu(L.firebaseDependencies,O)}return wu(L.firebaseDependencies,O)}),d3.apply(this,arguments)}function Js(){return Js=(0,Y.Z)(function*(L){const H=yield Lo(L.firebaseDependencies);H&&(yield a3(L.firebaseDependencies,H.token),yield function s0(L){return oc.apply(this,arguments)}(L.firebaseDependencies));const O=yield L.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Js.apply(this,arguments)}function ac(){return ac=(0,Y.Z)(function*(L,H){try{const O=yield function u2(L,H){return a0.apply(this,arguments)}(L.firebaseDependencies,H),J=Object.assign(Object.assign({},H),{token:O,createTime:Date.now()});return yield aa(L.firebaseDependencies,J),O}catch(O){throw yield function Er(L){return Js.apply(this,arguments)}(L),O}}),ac.apply(this,arguments)}function wu(L,H){return M1.apply(this,arguments)}function M1(){return(M1=(0,Y.Z)(function*(L,H){const J={token:yield c2(L,H),createTime:Date.now(),subscriptionOptions:H};return yield aa(L,J),J.token})).apply(this,arguments)}function c0(){return(c0=(0,Y.Z)(function*(L,H){return(yield L.pushManager.getSubscription())||L.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rc(H)})})).apply(this,arguments)}function h3(L){const H={from:L.from,collapseKey:L.collapse_key,messageId:L.fcmMessageId};return function xl(L,H){if(!H.notification)return;L.notification={};const O=H.notification.title;O&&(L.notification.title=O);const J=H.notification.body;J&&(L.notification.body=J);const ae=H.notification.image;ae&&(L.notification.image=ae);const he=H.notification.icon;he&&(L.notification.icon=he)}(H,L),function Sl(L,H){H.data&&(L.data=H.data)}(H,L),function l0(L,H){var O,J,ae,he,Ce;if(!(H.fcmOptions||null!==(O=H.notification)&&void 0!==O&&O.click_action))return;L.fcmOptions={};const ot=null!==(ae=null===(J=H.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==ae?ae:null===(he=H.notification)||void 0===he?void 0:he.click_action;ot&&(L.fcmOptions.link=ot);const at=null===(Ce=H.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;at&&(L.fcmOptions.analyticsLabel=at)}(H,L),H}function h2(L,H){const O=[];for(let J=0;J<L.length;J++)O.push(L.charAt(J)),J<H.length&&O.push(H.charAt(J));return O.join("")}function Xs(L){return Ui.create("missing-app-config-values",{valueName:L})}h2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),h2("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Au{constructor(H,O,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function f2(L){if(!L||!L.options)throw Xs("App Configuration Object");if(!L.name)throw Xs("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:O}=L;for(const J of H)if(!O[J])throw Xs(J);return{appName:L.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:ae,installations:O,analyticsProvider:J}}_delete(){return Promise.resolve()}}function Mu(L){return cc.apply(this,arguments)}function cc(){return(cc=(0,Y.Z)(function*(L){try{L.swRegistration=yield navigator.serviceWorker.register(Wt,{scope:n2}),L.swRegistration.update().catch(()=>{})}catch(H){throw Ui.create("failed-service-worker-registration",{browserErrorMessage:H?.message})}})).apply(this,arguments)}function lc(){return(lc=(0,Y.Z)(function*(L,H){if(!H&&!L.swRegistration&&(yield Mu(L)),H||!L.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw Ui.create("invalid-sw-registration");L.swRegistration=H}})).apply(this,arguments)}function ca(){return(ca=(0,Y.Z)(function*(L,H){H?L.vapidKey=H:L.vapidKey||(L.vapidKey=Al)})).apply(this,arguments)}function m2(){return m2=(0,Y.Z)(function*(L,H){if(!navigator)throw Ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ui.create("permission-blocked");return yield function x1(L,H){return ca.apply(this,arguments)}(L,H?.vapidKey),yield function w7(L,H){return lc.apply(this,arguments)}(L,H?.serviceWorkerRegistration),function Cu(L){return d3.apply(this,arguments)}(L)}),m2.apply(this,arguments)}function la(){return(la=(0,Y.Z)(function*(L,H,O){const J=function ua(L){switch(L){case ze.NOTIFICATION_CLICKED:return"notification_open";case ze.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(H);(yield L.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:O[nc],message_name:O[n0],message_time:O[ic],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function da(){return da=(0,Y.Z)(function*(L,H){const O=H.data;if(!O.isFirebaseMessaging)return;L.onMessageHandler&&O.messageType===ze.PUSH_RECEIVED&&("function"==typeof L.onMessageHandler?L.onMessageHandler(h3(O)):L.onMessageHandler.next(h3(O)));const J=O.data;(function El(L){return"object"==typeof L&&!!L&&nc in L})(J)&&"1"===J[r0]&&(yield function m3(L,H,O){return la.apply(this,arguments)}(L,O.messageType,J))}),da.apply(this,arguments)}const e1="@firebase/messaging",ha=L=>{const H=new Au(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),L.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function p3(L,H){return da.apply(this,arguments)}(H,O)),H},uc=L=>{const H=L.getProvider("messaging").getImmediate();return{getToken:J=>function f3(L,H){return m2.apply(this,arguments)}(H,J)}};function zl(){return g3.apply(this,arguments)}function g3(){return(g3=(0,Y.Z)(function*(){try{yield(0,we.eu)()}catch{return!1}return typeof window<"u"&&(0,we.hl)()&&(0,we.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function In(){(0,se._registerComponent)(new Z.wA("messaging",ha,"PUBLIC")),(0,se._registerComponent)(new Z.wA("messaging-internal",uc,"PRIVATE")),(0,se.registerVersion)(e1,"0.12.4"),(0,se.registerVersion)(e1,"0.12.4","esm2017")}();const Rn="analytics",E1="firebase_id",_3="origin",b3=6e4,g2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ln="https://www.googletagmanager.com/gtag/js",Gi=new ne.Yd("@firebase/analytics"),pi=new we.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function y3(L){if(!L.startsWith(ln)){const H=pi.create("invalid-gtag-resource",{gtagURL:L});return Gi.warn(H.message),""}return L}function v2(L){return Promise.all(L.map(H=>H.catch(O=>O)))}function zn(){return(zn=(0,Y.Z)(function*(L,H,O,J,ae,he){const Ce=J[ae];try{if(Ce)yield H[Ce];else{const at=(yield v2(O)).find(Mt=>Mt.measurementId===ae);at&&(yield H[at.appId])}}catch(ot){Gi.error(ot)}L("config",ae,he)})).apply(this,arguments)}function Ns(){return(Ns=(0,Y.Z)(function*(L,H,O,J,ae){try{let he=[];if(ae&&ae.send_to){let Ce=ae.send_to;Array.isArray(Ce)||(Ce=[Ce]);const ot=yield v2(O);for(const at of Ce){const Mt=ot.find(Zt=>Zt.measurementId===at),Rt=Mt&&H[Mt.appId];if(!Rt){he=[];break}he.push(Rt)}}0===he.length&&(he=Object.values(H)),yield Promise.all(he),L("event",J,ae||{})}catch(he){Gi.error(he)}})).apply(this,arguments)}const ts=30,o1=new class r1{constructor(H={},O=1e3){this.throttleMetadata=H,this.intervalMillis=O}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,O){this.throttleMetadata[H]=O}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function h0(L){return new Headers({Accept:"application/json","x-goog-api-key":L})}function vn(){return(vn=(0,Y.Z)(function*(L){var H;const{appId:O,apiKey:J}=L,ae={method:"GET",headers:h0(J)},he=g2.replace("{app-id}",O),Ce=yield fetch(he,ae);if(200!==Ce.status&&304!==Ce.status){let ot="";try{const at=yield Ce.json();null!==(H=at.error)&&void 0!==H&&H.message&&(ot=at.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:ot})}return Ce.json()})).apply(this,arguments)}function _2(){return(_2=(0,Y.Z)(function*(L,H=o1,O){const{appId:J,apiKey:ae,measurementId:he}=L.options;if(!J)throw pi.create("no-app-id");if(!ae){if(he)return{measurementId:he,appId:J};throw pi.create("no-api-key")}const Ce=H.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new S5;return setTimeout((0,Y.Z)(function*(){ot.abort()}),void 0!==O?O:b3),C3({appId:J,apiKey:ae,measurementId:he},Ce,ot,H)})).apply(this,arguments)}function C3(L,H,O){return w3.apply(this,arguments)}function w3(){return w3=(0,Y.Z)(function*(L,{throttleEndTimeMillis:H,backoffCount:O},J,ae=o1){var he;const{appId:Ce,measurementId:ot}=L;try{yield function Su(L,H){return new Promise((O,J)=>{const ae=Math.max(H-Date.now(),0),he=setTimeout(O,ae);L.addEventListener(()=>{clearTimeout(he),J(pi.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(J,H)}catch(at){if(ot)return Gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:Ce,measurementId:ot};throw at}try{const at=yield function f0(L){return vn.apply(this,arguments)}(L);return ae.deleteThrottleMetadata(Ce),at}catch(at){const Mt=at;if(!function Eu(L){if(!(L instanceof we.ZR&&L.customData))return!1;const H=Number(L.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Mt)){if(ae.deleteThrottleMetadata(Ce),ot)return Gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${Mt?.message}]`),{appId:Ce,measurementId:ot};throw at}const Rt=503===Number(null===(he=Mt?.customData)||void 0===he?void 0:he.httpStatus)?(0,we.$s)(O,ae.intervalMillis,ts):(0,we.$s)(O,ae.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+Rt,backoffCount:O+1};return ae.setThrottleMetadata(Ce,Zt),Gi.debug(`Calling attemptFetch again in ${Rt} millis`),C3(L,Zt,J,ae)}}),w3.apply(this,arguments)}class S5{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let fa,Wr;function Cn(){return(Cn=(0,Y.Z)(function*(L,H,O,J,ae){if(ae&&ae.global)L("event",O,J);else{const he=yield H;L("event",O,Object.assign(Object.assign({},J),{send_to:he}))}})).apply(this,arguments)}function Zr(){return(Zr=(0,Y.Z)(function*(){if(!(0,we.hl)())return Gi.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,we.eu)()}catch(L){return Gi.warn(pi.create("indexeddb-unavailable",{errorInfo:L?.toString()}).message),!1}return!0})).apply(this,arguments)}function Yr(){return Yr=(0,Y.Z)(function*(L,H,O,J,ae,he,Ce){var ot;const at=function xu(L){return _2.apply(this,arguments)}(L);at.then(ii=>{O[ii.measurementId]=ii.appId,L.options.measurementId&&ii.measurementId!==L.options.measurementId&&Gi.warn(`The measurement ID in the local Firebase config (${L.options.measurementId}) does not match the measurement ID fetched from the server (${ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ii=>Gi.error(ii)),H.push(at);const Mt=function vi(){return Zr.apply(this,arguments)}().then(ii=>{if(ii)return J.getId()}),[Rt,Zt]=yield Promise.all([at,Mt]);(function es(L){const H=window.document.getElementsByTagName("script");for(const O of Object.values(H))if(O.src&&O.src.includes(ln)&&O.src.includes(L))return O;return null})(he)||function Xo(L,H){const O=function Jn(L,H){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(L,H)),O}("firebase-js-sdk-policy",{createScriptURL:y3}),J=document.createElement("script"),ae=`${ln}?l=${L}&id=${H}`;J.src=O?O?.createScriptURL(ae):ae,J.async=!0,document.head.appendChild(J)}(he,Rt.measurementId),Wr&&(ae("consent","default",Wr),function gi(L){Wr=L}(void 0)),ae("js",new Date);const ho=null!==(ot=Ce?.config)&&void 0!==ot?ot:{};return ho[_3]="firebase",ho.update=!0,null!=Zt&&(ho[E1]=Zt),ae("config",Rt.measurementId,ho),fa&&(ae("set",fa),function zr(L){fa=L}(void 0)),Rt.measurementId}),Yr.apply(this,arguments)}class Kr{constructor(H){this.app=H}_delete(){return delete Mi[this.app.options.appId],Promise.resolve()}}let Mi={},zu=[];const Hs={};let Ll,yi,Hi="dataLayer",Et="gtag",un=!1;function M3(L,H,O){!function z1(){const L=[];if((0,we.ru)()&&L.push("This is a browser extension environment."),(0,we.zI)()||L.push("Cookies are not available."),L.length>0){const H=L.map((J,ae)=>`(${ae+1}) ${J}`).join(" "),O=pi.create("invalid-analytics-context",{errorInfo:H});Gi.warn(O.message)}}();const J=L.options.appId;if(!J)throw pi.create("no-app-id");if(!L.options.apiKey){if(!L.options.measurementId)throw pi.create("no-api-key");Gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${L.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mi[J])throw pi.create("already-exists",{id:J});if(!un){!function d0(L){let H=[];Array.isArray(window[L])?H=window[L]:window[L]=H}(Hi);const{wrappedGtag:he,gtagCore:Ce}=function n1(L,H,O,J,ae){let he=function(...Ce){window[J].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(he=window[ae]),window[ae]=function t1(L,H,O,J){function he(){return he=(0,Y.Z)(function*(Ce,...ot){try{if("event"===Ce){const[at,Mt]=ot;yield function Il(L,H,O,J,ae){return Ns.apply(this,arguments)}(L,H,O,at,Mt)}else if("config"===Ce){const[at,Mt]=ot;yield function hc(L,H,O,J,ae,he){return zn.apply(this,arguments)}(L,H,O,J,at,Mt)}else if("consent"===Ce){const[at]=ot;L("consent","update",at)}else if("get"===Ce){const[at,Mt,Rt]=ot;L("get",at,Mt,Rt)}else if("set"===Ce){const[at]=ot;L("set",at)}else L(Ce,...ot)}catch(at){Gi.error(at)}}),he.apply(this,arguments)}return function ae(Ce){return he.apply(this,arguments)}}(he,L,H,O),{gtagCore:he,wrappedGtag:window[ae]}}(Mi,zu,Hs,Hi,Et);yi=he,Ll=Ce,un=!0}return Mi[J]=function D1(L,H,O,J,ae,he,Ce){return Yr.apply(this,arguments)}(L,zu,Hs,H,Ll,Hi,O),new Kr(L)}function s1(){return I1.apply(this,arguments)}function I1(){return(I1=(0,Y.Z)(function*(){if((0,we.ru)()||!(0,we.zI)()||!(0,we.hl)())return!1;try{return yield(0,we.eu)()}catch{return!1}})).apply(this,arguments)}const y2="@firebase/analytics";!function Pl(){(0,se._registerComponent)(new Z.wA(Rn,(H,{options:O})=>M3(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,se._registerComponent)(new Z.wA("analytics-internal",function L(H){try{const O=H.getProvider(Rn).getImmediate();return{logEvent:(J,ae,he)=>function Vl(L,H,O,J){L=(0,we.m9)(L),function k7(L,H,O,J,ae){return Cn.apply(this,arguments)}(yi,Mi[L.app.options.appId],H,O,J).catch(ae=>Gi.error(ae))}(O,J,ae,he)}}catch(O){throw pi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,se.registerVersion)(y2,"0.10.0"),(0,se.registerVersion)(y2,"0.10.0","esm2017")}();var S3=Q(4408),E3=Q(7565);const Lu=new class pc extends E3.v{}(class Tu extends S3.o{constructor(H,O){super(H,O),this.scheduler=H,this.work=O}schedule(H,O=0){return O>0?super.schedule(H,O):(this.delay=O,this.state=H,this.scheduler.flush(this),this)}execute(H,O){return O>0||this.closed?super.execute(H,O):this._execute(H,O)}requestAsyncId(H,O,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(H,O,J):(H.flush(this),0)}});var Rl=Q(4986),m0=Q(8505),Wn=Q(9468),gc=Q(5363);const Ol=new m.GfV("7.6.1"),c1="__angularfire_symbol__analyticsIsSupportedValue",vc="__angularfire_symbol__analyticsIsSupported",p0="__angularfire_symbol__remoteConfigIsSupportedValue",C2="__angularfire_symbol__remoteConfigIsSupported",_c="__angularfire_symbol__messagingIsSupportedValue",z3="__angularfire_symbol__messagingIsSupported";function Fl(L,H,O){if(H){if(1===H.length)return H[0];const he=H.filter(Ce=>Ce.app===O);if(1===he.length)return he[0]}return O.container.getProvider(L).getImmediate({optional:!0})}globalThis[vc]||(globalThis[vc]=s1().then(L=>globalThis[c1]=L).catch(()=>globalThis[c1]=!1)),globalThis[z3]||(globalThis[z3]=zl().then(L=>globalThis[_c]=L).catch(()=>globalThis[_c]=!1)),globalThis[C2]||(globalThis[C2]=Cl().then(L=>globalThis[p0]=L).catch(()=>globalThis[p0]=!1));const Bl=(L,H)=>{const O=H?[H]:(0,fe.C6)(),J=[];return O.forEach(ae=>{ae.container.getProvider(L).instances.forEach(Ce=>{J.includes(Ce)||J.push(Ce)})}),J};function ps(){}class _0{constructor(H,O=Lu){this.zone=H,this.delegate=O}now(){return this.delegate.now()}schedule(H,O,J){const ae=this.zone;return this.delegate.schedule(function(Ce){ae.runGuarded(()=>{H.apply(this,[Ce])})},O,J)}}class _a{constructor(H){this.zone=H,this.task=null}call(H,O){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),O.pipe((0,m0.b)({next:J,complete:J,error:J})).subscribe(H).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ho=(()=>{class L{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new _0(Zone.current)),this.insideAngular=O.run(()=>new _0(Zone.current,Rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return L.\u0275fac=function(O){return new(O||L)(m.LFG(m.R0b))},L.\u0275prov=m.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();function L1(){const L=globalThis.\u0275AngularFireScheduler;if(!L)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return L}function on(L){return L1(),function I3(L){return function(O){return(O=O.lift(new _a(L.ngZone))).pipe((0,Wn.R)(L.outsideAngular),(0,gc.Q)(L.insideAngular))}}(L1())(L)}},6170:(mt,Re,Q)=>{mt=Q.nmd(mt);var m=Q(7156).default;(function(fe){const Y=fe.en=fe.en||{};Y.dictionary=Object.assign(Y.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,mt.exports=(()=>{"use strict";var fe={3062:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const ce=G},903:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const ce=G},3143:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},4717:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const ce=G},9315:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const ce=G},8733:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},3508:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},2640:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const ce=G},5083:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const ce=G},4036:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const ce=G},3773:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const ce=G},3689:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const ce=G},1905:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},9773:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const ce=G},2347:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},7754:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},4564:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const ce=G},4652:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const ce=G},7442:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},9292:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},1613:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const ce=G},6306:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const ce=G},3881:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const ce=G},6945:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const ce=G},4906:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const ce=G},5332:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const ce=G},6781:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const ce=G},5485:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},3949:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},7686:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},7339:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const ce=G},9688:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},8847:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},6574:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},4879:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},3662:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const ce=G},2577:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},1046:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},8793:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},4650:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},7676:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},5868:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},6764:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const ce=G},9695:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const ce=G},5542:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const ce=G},3332:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const ce=G},4793:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const ce=G},3488:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const ce=G},8506:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const ce=G},4921:(Z,ne,F)=>{F.d(ne,{Z:()=>ce});var ee=F(1799),$=F.n(ee),U=F(2609),G=F.n(U)()($());G.push([Z.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const ce=G},2609:Z=>{Z.exports=function(ne){var F=[];return F.toString=function(){return this.map(function(ee){var $=ne(ee);return ee[2]?"@media ".concat(ee[2]," {").concat($,"}"):$}).join("")},F.i=function(ee,$,U){"string"==typeof ee&&(ee=[[null,ee,""]]);var G={};if(U)for(var ce=0;ce<this.length;ce++){var He=this[ce][0];null!=He&&(G[He]=!0)}for(var it=0;it<ee.length;it++){var ct=[].concat(ee[it]);U&&G[ct[0]]||($&&(ct[2]=ct[2]?"".concat($," and ").concat(ct[2]):$),F.push(ct))}},F}},1799:Z=>{function F(ee,$){(null==$||$>ee.length)&&($=ee.length);for(var U=0,G=new Array($);U<$;U++)G[U]=ee[U];return G}Z.exports=function(ee){var $=function ne(ee,$){return function(U){if(Array.isArray(U))return U}(ee)||function(U,G){var ce=U&&(typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"]);if(null!=ce){var He,it,ct=[],xe=!0,We=!1;try{for(ce=ce.call(U);!(xe=(He=ce.next()).done)&&(ct.push(He.value),!G||ct.length!==G);xe=!0);}catch(je){We=!0,it=je}finally{try{xe||null==ce.return||ce.return()}finally{if(We)throw it}}return ct}}(ee,$)||function(U,G){if(U){if("string"==typeof U)return F(U,G);var ce=Object.prototype.toString.call(U).slice(8,-1);if("Object"===ce&&U.constructor&&(ce=U.constructor.name),"Map"===ce||"Set"===ce)return Array.from(U);if("Arguments"===ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return F(U,G)}}(ee,$)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ee,4),U=$[1],G=$[3];if(!G)return U;if("function"==typeof btoa){var ce=btoa(unescape(encodeURIComponent(JSON.stringify(G)))),He="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(ce),it="/*# ".concat(He," */"),ct=G.sources.map(function(xe){return"/*# sourceURL=".concat(G.sourceRoot||"").concat(xe," */")});return[U].concat(ct).concat([it]).join("\n")}return[U].join("\n")}},6062:(Z,ne,F)=>{var ee,be,U=(be={},function(Pe){if(void 0===be[Pe]){var q=document.querySelector(Pe);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}be[Pe]=q}return be[Pe]}),G=[];function ce(be){for(var Pe=-1,q=0;q<G.length;q++)if(G[q].identifier===be){Pe=q;break}return Pe}function He(be,Pe){for(var q={},Fe=[],me=0;me<be.length;me++){var vt=be[me],nt=Pe.base?vt[0]+Pe.base:vt[0],Yt=q[nt]||0,gt="".concat(nt," ").concat(Yt);q[nt]=Yt+1;var lr=ce(gt),Qi={css:vt[1],media:vt[2],sourceMap:vt[3]};-1!==lr?(G[lr].references++,G[lr].updater(Qi)):G.push({identifier:gt,updater:Le(Qi,Pe),references:1}),Fe.push(gt)}return Fe}function it(be){var Pe=document.createElement("style"),q=be.attributes||{};if(void 0===q.nonce){var Fe=F.nc;Fe&&(q.nonce=Fe)}if(Object.keys(q).forEach(function(vt){Pe.setAttribute(vt,q[vt])}),"function"==typeof be.insert)be.insert(Pe);else{var me=U(be.insert||"head");if(!me)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");me.appendChild(Pe)}return Pe}var ct,xe=(ct=[],function(be,Pe){return ct[be]=Pe,ct.filter(Boolean).join("\n")});function We(be,Pe,q,Fe){var me=q?"":Fe.media?"@media ".concat(Fe.media," {").concat(Fe.css,"}"):Fe.css;if(be.styleSheet)be.styleSheet.cssText=xe(Pe,me);else{var vt=document.createTextNode(me),nt=be.childNodes;nt[Pe]&&be.removeChild(nt[Pe]),nt.length?be.insertBefore(vt,nt[Pe]):be.appendChild(vt)}}function je(be,Pe,q){var Fe=q.css,me=q.media,vt=q.sourceMap;if(me?be.setAttribute("media",me):be.removeAttribute("media"),vt&&typeof btoa<"u"&&(Fe+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(vt))))," */")),be.styleSheet)be.styleSheet.cssText=Fe;else{for(;be.firstChild;)be.removeChild(be.firstChild);be.appendChild(document.createTextNode(Fe))}}var Ze=null,Ge=0;function Le(be,Pe){var q,Fe,me;if(Pe.singleton){var vt=Ge++;q=Ze||(Ze=it(Pe)),Fe=We.bind(null,q,vt,!1),me=We.bind(null,q,vt,!0)}else q=it(Pe),Fe=je.bind(null,q,Pe),me=function(){!function(nt){if(null===nt.parentNode)return!1;nt.parentNode.removeChild(nt)}(q)};return Fe(be),function(nt){if(nt){if(nt.css===be.css&&nt.media===be.media&&nt.sourceMap===be.sourceMap)return;Fe(be=nt)}else me()}}Z.exports=function(be,Pe){(Pe=Pe||{}).singleton||"boolean"==typeof Pe.singleton||(Pe.singleton=(void 0===ee&&(ee=Boolean(window&&document&&document.all&&!window.atob)),ee));var q=He(be=be||[],Pe);return function(Fe){if(Fe=Fe||[],"[object Array]"===Object.prototype.toString.call(Fe)){for(var me=0;me<q.length;me++){var vt=ce(q[me]);G[vt].references--}for(var nt=He(Fe,Pe),Yt=0;Yt<q.length;Yt++){var gt=ce(q[Yt]);0===G[gt].references&&(G[gt].updater(),G.splice(gt,1))}q=nt}}}}},Y={};function se(Z){var ne=Y[Z];if(void 0!==ne)return ne.exports;var F=Y[Z]={id:Z,exports:{}};return fe[Z](F,F.exports,se),F.exports}se.n=Z=>{var ne=Z&&Z.__esModule?()=>Z.default:()=>Z;return se.d(ne,{a:ne}),ne},se.d=(Z,ne)=>{for(var F in ne)se.o(ne,F)&&!se.o(Z,F)&&Object.defineProperty(Z,F,{enumerable:!0,get:ne[F]})},se.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),se.o=(Z,ne)=>Object.prototype.hasOwnProperty.call(Z,ne),se.nc=void 0;var we={};return(()=>{function Z({emitter:f,activator:i,callback:o,contextElements:l}){f.listenTo(document,"mousedown",(h,v)=>{if(!i())return;const b="function"==typeof v.composedPath?v.composedPath():[],C="function"==typeof l?l():l;for(const a of C)if(a.contains(v.target)||b.includes(a))return;o()})}function ne(f){const i=f;i.set("_isCssTransitionsDisabled",!1),i.disableCssTransitions=()=>{i._isCssTransitionsDisabled=!0},i.enableCssTransitions=()=>{i._isCssTransitionsDisabled=!1},i.extendTemplate({attributes:{class:[i.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function F({view:f}){f.listenTo(f.element,"submit",(i,o)=>{o.preventDefault(),f.fire("submit")},{useCapture:!0})}se.d(we,{default:()=>a5});const ee=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),U={isMac:G(ee),isWindows:(f=ee,f.indexOf("windows")>-1),isGecko:function(f){return!!f.match(/gecko\/\d+/)}(ee),isSafari:function(f){return f.indexOf(" applewebkit/")>-1&&-1===f.indexOf("chrome")}(ee),isiOS:function(f){return!!f.match(/iphone|ipad/i)||G(f)&&navigator.maxTouchPoints>0}(ee),isAndroid:function(f){return f.indexOf("android")>-1}(ee),isBlink:function(f){return f.indexOf("chrome/")>-1&&f.indexOf("edge/")<0}(ee),features:{isRegExpUnicodePropertySupported:function(){let f=!1;try{f=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch{}return f}()}};var f;function G(f){return f.indexOf("macintosh")>-1}function ce(f,i,o,l){o=o||function(a,c){return a===c};const h=Array.isArray(f)?f:Array.prototype.slice.call(f),v=Array.isArray(i)?i:Array.prototype.slice.call(i),b=function(a,c,u){const p=He(a,c,u);if(-1===p)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const A=He(it(a,p),it(c,p),u);return{firstIndex:p,lastIndexOld:a.length-A,lastIndexNew:c.length-A}}(h,v,o);return l?function(a,c){const{firstIndex:u,lastIndexOld:p,lastIndexNew:_}=a;if(-1===u)return Array(c).fill("equal");let y=[];return u>0&&(y=y.concat(Array(u).fill("equal"))),_-u>0&&(y=y.concat(Array(_-u).fill("insert"))),p-u>0&&(y=y.concat(Array(p-u).fill("delete"))),_<c&&(y=y.concat(Array(c-_).fill("equal"))),y}(b,v.length):function(a,c){const u=[],{firstIndex:p,lastIndexOld:_,lastIndexNew:y}=c;return y-p>0&&u.push({index:p,type:"insert",values:a.slice(p,y)}),_-p>0&&u.push({index:p+(y-p),type:"delete",howMany:_-p}),u}(v,b)}function He(f,i,o){for(let l=0;l<Math.max(f.length,i.length);l++)if(void 0===f[l]||void 0===i[l]||!o(f[l],i[l]))return l;return-1}function it(f,i){return f.slice(i).reverse()}function ct(f,i,o){o=o||function(S,E){return S===E};const l=f.length,h=i.length;if(l>200||h>200||l+h>300)return ct.fastDiff(f,i,o,!0);let v,b;if(h<l){const S=f;f=i,i=S,v="delete",b="insert"}else v="insert",b="delete";const C=f.length,a=i.length,c=a-C,u={},p={};function _(S){const E=(void 0!==p[S-1]?p[S-1]:-1)+1,T=void 0!==p[S+1]?p[S+1]:-1,V=E>T?-1:1;u[S+V]&&(u[S]=u[S+V].slice(0)),u[S]||(u[S]=[]),u[S].push(E>T?v:b);let B=Math.max(E,T),X=B-S;for(;X<C&&B<a&&o(f[X],i[B]);)X++,B++,u[S].push("equal");return B}let y,A=0;do{for(y=-A;y<c;y++)p[y]=_(y);for(y=c+A;y>c;y--)p[y]=_(y);p[c]=_(c),A++}while(p[c]!==a);return u[c].slice(1)}function xe(f,...i){i.forEach(o=>{const l=Object.getOwnPropertyNames(o),h=Object.getOwnPropertySymbols(o);l.concat(h).forEach(v=>{if(v in f.prototype||"function"==typeof o&&("length"==v||"name"==v||"prototype"==v))return;const b=Object.getOwnPropertyDescriptor(o,v);b.enumerable=!1,Object.defineProperty(f.prototype,v,b)})})}ct.fastDiff=ce;class je{constructor(i,o){this.source=i,this.name=o,this.path=[],this.stop=function f(){f.called=!0},this.off=function f(){f.called=!0}}}const Ze=new Array(256).fill("").map((f,i)=>("0"+i.toString(16)).slice(-2));function Ge(){const f=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,l=4294967296*Math.random()>>>0;return"e"+Ze[f>>0&255]+Ze[f>>8&255]+Ze[f>>16&255]+Ze[f>>24&255]+Ze[i>>0&255]+Ze[i>>8&255]+Ze[i>>16&255]+Ze[i>>24&255]+Ze[o>>0&255]+Ze[o>>8&255]+Ze[o>>16&255]+Ze[o>>24&255]+Ze[l>>0&255]+Ze[l>>8&255]+Ze[l>>16&255]+Ze[l>>24&255]}const Le={get(f="normal"){return"number"!=typeof f?this[f]||this.normal:f},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function be(f,i){const o=Le.get(i.priority);for(let l=0;l<f.length;l++)if(Le.get(f[l].priority)<o)return void f.splice(l,0,i);f.push(i)}const Pe="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class q extends Error{constructor(i,o,l){super(function(h,v){const b=new WeakSet;return h+(v?` ${JSON.stringify(v,(u,p)=>{if("object"==typeof p&&null!==p){if(b.has(p))return`[object ${p.constructor.name}]`;b.add(p)}return p})}`:"")+vt(h)}(i,l)),this.name="CKEditorError",this.context=o,this.data=l}is(i){return"CKEditorError"===i}static rethrowUnexpectedError(i,o){if(i.is&&i.is("CKEditorError"))throw i;const l=new q(i.message,o);throw l.stack=i.stack,l}}function Fe(f,i){console.warn(...nt(f,i))}function me(f,i){console.error(...nt(f,i))}function vt(f){return`\nRead more: ${Pe}#error-${f}`}function nt(f,i){const o=vt(f);return i?[f,i,o]:[f,o]}const gt="object"==typeof window?window:se.g;if(gt.CKEDITOR_VERSION)throw new q("ckeditor-duplicated-modules",null);gt.CKEDITOR_VERSION="36.0.1";const lr=Symbol("listeningTo"),Qi=Symbol("emitterId"),Br=Symbol("delegations"),as=pe(Object);function pe(f){return f?class extends f{on(i,o,l){this.listenTo(this,i,o,l)}once(i,o,l){let h=!1;this.listenTo(this,i,(v,...b)=>{h||(h=!0,v.off(),o.call(this,v,...b))},l)}off(i,o){this.stopListening(this,i,o)}listenTo(i,o,l,h={}){let v,b;this[lr]||(this[lr]={});const C=this[lr];Te(i)||Ee(i);const a=Te(i);var u,p,_,y;(v=C[a])||(v=C[a]={emitter:i,callbacks:{}}),(b=v.callbacks[o])||(b=v.callbacks[o]=[]),b.push(l),p=o,_=l,y=h,(u=i)._addEventListener?u._addEventListener(p,_,y):this._addEventListener.call(u,p,_,y)}stopListening(i,o,l){const h=this[lr];let v=i&&Te(i);const b=h&&v?h[v]:void 0,C=b&&o?b.callbacks[o]:void 0;if(!(!h||i&&!b||o&&!C))if(l)wt(this,i,o,l),-1!==C.indexOf(l)&&(1===C.length?delete b.callbacks[o]:wt(this,i,o,l));else if(C){for(;l=C.pop();)wt(this,i,o,l);delete b.callbacks[o]}else if(b){for(o in b.callbacks)this.stopListening(i,o);delete h[v]}else{for(v in h)this.stopListening(h[v].emitter);delete this[lr]}}fire(i,...o){try{const l=i instanceof je?i:new je(this,i),h=l.name;let v=Be(this,h);if(l.path.push(this),v){const C=[l,...o];v=Array.from(v);for(let a=0;a<v.length&&(v[a].callback.apply(this,C),l.off.called&&(delete l.off.called,this._removeEventListener(h,v[a].callback)),!l.stop.called);a++);}const b=this[Br];if(b){const C=b.get(h),a=b.get("*");C&&kt(C,l,o),a&&kt(a,l,o)}return l.return}catch(l){q.rethrowUnexpectedError(l,this)}}delegate(...i){return{to:(o,l)=>{this[Br]||(this[Br]=new Map),i.forEach(h=>{const v=this[Br].get(h);v?v.set(o,l):this[Br].set(h,new Map([[o,l]]))})}}}stopDelegating(i,o){if(this[Br])if(i)if(o){const l=this[Br].get(i);l&&l.delete(o)}else this[Br].delete(i);else this[Br].clear()}_addEventListener(i,o,l){!function(b,C){const a=Me(b);if(a[C])return;let c=C,u=null;const p=[];for(;""!==c&&!a[c];)a[c]={callbacks:[],childEvents:[]},p.push(a[c]),u&&a[c].childEvents.push(u),u=c,c=c.substr(0,c.lastIndexOf(":"));if(""!==c){for(const _ of p)_.callbacks=a[c].callbacks.slice();a[c].childEvents.push(u)}}(this,i);const h=Ue(this,i),v={callback:o,priority:Le.get(l.priority)};for(const b of h)be(b,v)}_removeEventListener(i,o){const l=Ue(this,i);for(const h of l)for(let v=0;v<h.length;v++)h[v].callback==o&&(h.splice(v,1),v--)}}:as}function Ee(f,i){f[Qi]||(f[Qi]=i||Ge())}function Te(f){return f[Qi]}function Me(f){return f._events||Object.defineProperty(f,"_events",{value:{}}),f._events}function Ue(f,i){const o=Me(f)[i];if(!o)return[];let l=[o.callbacks];for(let h=0;h<o.childEvents.length;h++){const v=Ue(f,o.childEvents[h]);l=l.concat(v)}return l}function Be(f,i){let o;return f._events&&(o=f._events[i])&&o.callbacks.length?o.callbacks:i.indexOf(":")>-1?Be(f,i.substr(0,i.lastIndexOf(":"))):null}function kt(f,i,o){for(let[l,h]of f){h?"function"==typeof h&&(h=h(i.name)):h=i.name;const v=new je(i.source,h);v.path=[...i.path],l.fire(v,...o)}}function wt(f,i,o,l){i._removeEventListener?i._removeEventListener(o,l):f._removeEventListener.call(i,o,l)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{pe[f]=as.prototype[f]});const $t=function(f){var i=typeof f;return null!=f&&("object"==i||"function"==i)},xt=Symbol("observableProperties"),dn=Symbol("boundObservables"),Yn=Symbol("boundProperties"),Sn=Symbol("decoratedMethods"),Ci=Symbol("decoratedOriginal"),Ji=Gt(pe());function Gt(f){return f?class extends f{set(i,o){if($t(i))return void Object.keys(i).forEach(h=>{this.set(h,i[h])},this);Mr(this);const l=this[xt];if(i in this&&!l.has(i))throw new q("observable-set-cannot-override",this);Object.defineProperty(this,i,{enumerable:!0,configurable:!0,get:()=>l.get(i),set(h){const v=l.get(i);let b=this.fire(`set:${i}`,i,h,v);void 0===b&&(b=h),v===b&&l.has(i)||(l.set(i,b),this.fire(`change:${i}`,i,b,v))}}),this[i]=o}bind(...i){if(!i.length||!zt(i))throw new q("observable-bind-wrong-properties",this);if(new Set(i).size!==i.length)throw new q("observable-bind-duplicate-properties",this);Mr(this);const o=this[Yn];i.forEach(h=>{if(o.has(h))throw new q("observable-bind-rebind",this)});const l=new Map;return i.forEach(h=>{const v={property:h,to:[]};o.set(h,v),l.set(h,v)}),{to:xo,toMany:jr,_observable:this,_bindProperties:i,_to:[],_bindings:l}}unbind(...i){if(!this[xt])return;const o=this[Yn],l=this[dn];if(i.length){if(!zt(i))throw new q("observable-unbind-wrong-properties",this);i.forEach(h=>{const v=o.get(h);v&&(v.to.forEach(([b,C])=>{const a=l.get(b),c=a[C];c.delete(v),c.size||delete a[C],Object.keys(a).length||(l.delete(b),this.stopListening(b,"change"))}),o.delete(h))})}else l.forEach((h,v)=>{this.stopListening(v,"change")}),l.clear(),o.clear()}decorate(i){Mr(this);const o=this[i];if(!o)throw new q("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:i});this.on(i,(l,h)=>{l.return=o.apply(this,h)}),this[i]=function(...l){return this.fire(i,l)},this[i][Ci]=o,this[Sn]||(this[Sn]=[]),this[Sn].push(i)}stopListening(i,o,l){if(!i&&this[Sn]){for(const h of this[Sn])this[h]=this[h][Ci];delete this[Sn]}super.stopListening(i,o,l)}}:Ji}function Mr(f){f[xt]||(Object.defineProperty(f,xt,{value:new Map}),Object.defineProperty(f,dn,{value:new Map}),Object.defineProperty(f,Yn,{value:new Map}))}function xo(...f){const i=function(...v){if(!v.length)throw new q("observable-bind-to-parse-error",null);const b={to:[]};let C;return"function"==typeof v[v.length-1]&&(b.callback=v.pop()),v.forEach(a=>{if("string"==typeof a)C.properties.push(a);else{if("object"!=typeof a)throw new q("observable-bind-to-parse-error",null);C={observable:a,properties:[]},b.to.push(C)}}),b}(...f),o=Array.from(this._bindings.keys()),l=o.length;if(!i.callback&&i.to.length>1)throw new q("observable-bind-to-no-callback",this);if(l>1&&i.callback)throw new q("observable-bind-to-extra-callback",this);var h;i.to.forEach(v=>{if(v.properties.length&&v.properties.length!==l)throw new q("observable-bind-to-properties-length",this);v.properties.length||(v.properties=this._bindProperties)}),this._to=i.to,i.callback&&(this._bindings.get(o[0]).callback=i.callback),h=this._observable,this._to.forEach(v=>{const b=h[dn];let C;b.get(v.observable)||h.listenTo(v.observable,"change",(a,c)=>{C=b.get(v.observable)[c],C&&C.forEach(u=>{ao(h,u.property)})})}),function(v){let b;v._bindings.forEach((C,a)=>{v._to.forEach(c=>{b=c.properties[C.callback?0:v._bindProperties.indexOf(a)],C.to.push([c.observable,b]),function(u,p,_,y){const A=u[dn],S=A.get(_),E=S||{};E[y]||(E[y]=new Set),E[y].add(p),S||A.set(_,E)}(v._observable,C,c.observable,b)})})}(this),this._bindProperties.forEach(v=>{ao(this._observable,v)})}function jr(f,i,o){if(this._bindings.size>1)throw new q("observable-bind-to-many-not-one-binding",this);this.to(...function(l,h){const v=l.map(b=>[b,h]);return Array.prototype.concat.apply([],v)}(f,i),o)}function zt(f){return f.every(i=>"string"==typeof i)}function ao(f,i){const o=f[Yn].get(i);let l;o.callback?l=o.callback.apply(f,o.to.map(h=>h[0][h[1]])):(l=o.to[0],l=l[0][l[1]]),Object.prototype.hasOwnProperty.call(f,i)?f[i]=l:f.set(i,l)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{Gt[f]=Ji.prototype[f]});class vl{constructor(){this._replacedElements=[]}replace(i,o){this._replacedElements.push({element:i,newElement:o}),i.style.display="none",o&&i.parentNode.insertBefore(o,i.nextSibling)}restore(){this._replacedElements.forEach(({element:i,newElement:o})=>{i.style.display="",o&&o.remove()}),this._replacedElements=[]}}function Xi(f){let i=0;for(const o of f)i++;return i}function Hn(f,i){const o=Math.min(f.length,i.length);for(let l=0;l<o;l++)if(f[l]!=i[l])return l;return f.length==i.length?"same":f.length<i.length?"prefix":"extension"}function _i(f){return!(!f||!f[Symbol.iterator])}const An="object"==typeof global&&global&&global.Object===Object&&global;var En="object"==typeof self&&self&&self.Object===Object&&self;const ht=An||En||Function("return this")(),Vt=ht.Symbol;var So=Object.prototype,Eo=So.hasOwnProperty,ur=So.toString,er=Vt?Vt.toStringTag:void 0,Do=Object.prototype.toString,cs=Vt?Vt.toStringTag:void 0;const fn=function(f){return null==f?void 0===f?"[object Undefined]":"[object Null]":cs&&cs in Object(f)?function(f){var i=Eo.call(f,er),o=f[er];try{f[er]=void 0;var l=!0}catch{}var h=ur.call(f);return l&&(i?f[er]=o:delete f[er]),h}(f):function(f){return Do.call(f)}(f)},Kn=Array.isArray,Mn=function(f){return null!=f&&"object"==typeof f},Zo=function(f){return"string"==typeof f||!Kn(f)&&Mn(f)&&"[object String]"==fn(f)};function ni(f,i,o={},l=[]){const h=o&&o.xmlns,v=h?f.createElementNS(h,i):f.createElement(i);for(const b in o)v.setAttribute(b,o[b]);!Zo(l)&&_i(l)||(l=[l]);for(let b of l)Zo(b)&&(b=f.createTextNode(b)),v.appendChild(b);return v}const Yo=function(f,i){return function(o){return f(i(o))}},xr=Yo(Object.getPrototypeOf,Object);var Ne=Function.prototype.toString,_e=Object.prototype.hasOwnProperty,Je=Ne.call(Object);const At=function(f){if(!Mn(f)||"[object Object]"!=fn(f))return!1;var i=xr(f);if(null===i)return!0;var o=_e.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&Ne.call(o)==Je},ai=function(f,i){return f===i||f!=f&&i!=i},Qn=function(f,i){for(var o=f.length;o--;)if(ai(f[o][0],i))return o;return-1};var Vn=Array.prototype.splice;function Es(f){var i=-1,o=null==f?0:f.length;for(this.clear();++i<o;){var l=f[i];this.set(l[0],l[1])}}Es.prototype.clear=function(){this.__data__=[],this.size=0},Es.prototype.delete=function(f){var i=this.__data__,o=Qn(i,f);return!(o<0||(o==i.length-1?i.pop():Vn.call(i,o,1),--this.size,0))},Es.prototype.get=function(f){var i=this.__data__,o=Qn(i,f);return o<0?void 0:i[o][1]},Es.prototype.has=function(f){return Qn(this.__data__,f)>-1},Es.prototype.set=function(f,i){var o=this.__data__,l=Qn(o,f);return l<0?(++this.size,o.push([f,i])):o[l][1]=i,this};const Se=Es,hi=function(f){if(!$t(f))return!1;var i=fn(f);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},wi=ht["__core-js_shared__"];var Q2=function(){var f=/[^.]+$/.exec(wi&&wi.keys&&wi.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Q1=Function.prototype.toString;const tr=function(f){if(null!=f){try{return Q1.call(f)}catch{}try{return f+""}catch{}}return""};var ut=/^\[object .+?Constructor\]$/,ji=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const us=function(f,i){var o=function(f,i){return f?.[i]}(f,i);return function(f){return!(!$t(f)||function(f){return!!Q2&&Q2 in f}(f))&&(hi(f)?ji:ut).test(tr(f))}(o)?o:void 0},fi=us(ht,"Map"),Jt=us(Object,"create");var $s=Object.prototype.hasOwnProperty,$a=Object.prototype.hasOwnProperty;function li(f){var i=-1,o=null==f?0:f.length;for(this.clear();++i<o;){var l=f[i];this.set(l[0],l[1])}}li.prototype.clear=function(){this.__data__=Jt?Jt(null):{},this.size=0},li.prototype.delete=function(f){var i=this.has(f)&&delete this.__data__[f];return this.size-=i?1:0,i},li.prototype.get=function(f){var i=this.__data__;if(Jt){var o=i[f];return"__lodash_hash_undefined__"===o?void 0:o}return $s.call(i,f)?i[f]:void 0},li.prototype.has=function(f){var i=this.__data__;return Jt?void 0!==i[f]:$a.call(i,f)},li.prototype.set=function(f,i){var o=this.__data__;return this.size+=this.has(f)?0:1,o[f]=Jt&&void 0===i?"__lodash_hash_undefined__":i,this};const qn=li,Wa=function(f,i){var o=f.__data__;return function(f){var i=typeof f;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==f:null===f}(i)?o["string"==typeof i?"string":"hash"]:o.map};function Zs(f){var i=-1,o=null==f?0:f.length;for(this.clear();++i<o;){var l=f[i];this.set(l[0],l[1])}}Zs.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(fi||Se),string:new qn}},Zs.prototype.delete=function(f){var i=Wa(this,f).delete(f);return this.size-=i?1:0,i},Zs.prototype.get=function(f){return Wa(this,f).get(f)},Zs.prototype.has=function(f){return Wa(this,f).has(f)},Zs.prototype.set=function(f,i){var o=Wa(this,f),l=o.size;return o.set(f,i),this.size+=o.size==l?0:1,this};const hr=Zs;function fs(f){var i=this.__data__=new Se(f);this.size=i.size}fs.prototype.clear=function(){this.__data__=new Se,this.size=0},fs.prototype.delete=function(f){var i=this.__data__,o=i.delete(f);return this.size=i.size,o},fs.prototype.get=function(f){return this.__data__.get(f)},fs.prototype.has=function(f){return this.__data__.has(f)},fs.prototype.set=function(f,i){var o=this.__data__;if(o instanceof Se){var l=o.__data__;if(!fi||l.length<199)return l.push([f,i]),this.size=++o.size,this;o=this.__data__=new hr(l)}return o.set(f,i),this.size=o.size,this};const ea=fs,ta=function(){try{var f=us(Object,"defineProperty");return f({},"",{}),f}catch{}}(),To=function(f,i,o){"__proto__"==i&&ta?ta(f,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):f[i]=o};var Q4=Object.prototype.hasOwnProperty;const _l=function(f,i,o){var l=f[i];Q4.call(f,i)&&ai(l,o)&&(void 0!==o||i in f)||To(f,i,o)},co=function(f,i,o,l){var h=!o;o||(o={});for(var v=-1,b=i.length;++v<b;){var C=i[v],a=l?l(o[C],f[C],C,o,f):void 0;void 0===a&&(a=f[C]),h?To(o,C,a):_l(o,C,a)}return o},J4=function(f){return Mn(f)&&"[object Arguments]"==fn(f)};var yl=Object.prototype,M5=yl.hasOwnProperty,Xc=yl.propertyIsEnumerable;const e3=J4(function(){return arguments}())?J4:function(f){return Mn(f)&&M5.call(f,"callee")&&!Xc.call(f,"callee")};var tc=Re&&!Re.nodeType&&Re,ui=tc&&mt&&!mt.nodeType&&mt,X4=ui&&ui.exports===tc?ht.Buffer:void 0;const Ya=(X4?X4.isBuffer:void 0)||function(){return!1};var C7=/^(?:0|[1-9]\d*)$/;const t3=function(f,i){var o=typeof f;return!!(i=i??9007199254740991)&&("number"==o||"symbol"!=o&&C7.test(f))&&f>-1&&f%1==0&&f<i},ms=function(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=9007199254740991};var Dn={};Dn["[object Float32Array]"]=Dn["[object Float64Array]"]=Dn["[object Int8Array]"]=Dn["[object Int16Array]"]=Dn["[object Int32Array]"]=Dn["[object Uint8Array]"]=Dn["[object Uint8ClampedArray]"]=Dn["[object Uint16Array]"]=Dn["[object Uint32Array]"]=!0,Dn["[object Arguments]"]=Dn["[object Array]"]=Dn["[object ArrayBuffer]"]=Dn["[object Boolean]"]=Dn["[object DataView]"]=Dn["[object Date]"]=Dn["[object Error]"]=Dn["[object Function]"]=Dn["[object Map]"]=Dn["[object Number]"]=Dn["[object Object]"]=Dn["[object RegExp]"]=Dn["[object Set]"]=Dn["[object String]"]=Dn["[object WeakMap]"]=!1;const na=function(f){return function(i){return f(i)}};var wl=Re&&!Re.nodeType&&Re,ia=wl&&mt&&!mt.nodeType&&mt,Ds=ia&&ia.exports===wl&&An.process;const Qa=function(){try{return ia&&ia.require&&ia.require("util").types||Ds&&Ds.binding&&Ds.binding("util")}catch{}}();var Ja=Qa&&Qa.isTypedArray;const Xa=Ja?na(Ja):function(f){return Mn(f)&&ms(f.length)&&!!Dn[fn(f)]};var A1=Object.prototype.hasOwnProperty;const Gr=function(f,i){var o=Kn(f),l=!o&&e3(f),h=!o&&!l&&Ya(f),v=!o&&!l&&!h&&Xa(f),b=o||l||h||v,C=b?function(f,i){for(var o=-1,l=Array(f);++o<f;)l[o]=i(o);return l}(f.length,String):[],a=C.length;for(var c in f)!i&&!A1.call(f,c)||b&&("length"==c||h&&("offset"==c||"parent"==c)||v&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||t3(c,a))||C.push(c);return C};var qr=Object.prototype;const ra=function(f){var i=f&&f.constructor;return f===("function"==typeof i&&i.prototype||qr)},fr=Yo(Object.keys,Object);var e2=Object.prototype.hasOwnProperty;const Li=function(f){return null!=f&&ms(f.length)&&!hi(f)},n3=function(f){return Li(f)?Gr(f):function(f){if(!ra(f))return fr(f);var i=[];for(var o in Object(f))e2.call(f,o)&&"constructor"!=o&&i.push(o);return i}(f)};var ir=Object.prototype.hasOwnProperty;const lo=function(f){return Li(f)?Gr(f,!0):function(f){if(!$t(f))return function(f){var i=[];if(null!=f)for(var o in Object(f))i.push(o);return i}(f);var i=ra(f),o=[];for(var l in f)("constructor"!=l||!i&&ir.call(f,l))&&o.push(l);return o}(f)};var Qs=Re&&!Re.nodeType&&Re,oa=Qs&&mt&&!mt.nodeType&&mt,t2=oa&&oa.exports===Qs?ht.Buffer:void 0,Wt=t2?t2.allocUnsafe:void 0;const n2=function(f,i){if(i)return f.slice();var o=f.length,l=Wt?Wt(o):new f.constructor(o);return f.copy(l),l},Al=function(f,i){var o=-1,l=f.length;for(i||(i=Array(l));++o<l;)i[o]=f[o];return i},nc=function(){return[]};var n0=Object.prototype.propertyIsEnumerable,ic=Object.getOwnPropertySymbols;const r0=ic?function(f){return null==f?[]:(f=Object(f),function(f,i){for(var o=-1,l=null==f?0:f.length,h=0,v=[];++o<l;){var b=f[o];i(b)&&(v[h++]=b)}return v}(ic(f),function(i){return n0.call(f,i)}))}:nc,ze=function(f,i){for(var o=-1,l=i.length,h=f.length;++o<l;)f[h+o]=i[o];return f},en=Object.getOwnPropertySymbols?function(f){for(var i=[];f;)ze(i,r0(f)),f=xr(f);return i}:nc,r2=function(f,i,o){var l=i(f);return Kn(f)?l:ze(l,o(f))},Ni=function(f){return r2(f,n3,r0)},sa=function(f){return r2(f,lo,en)},o2=us(ht,"DataView"),Sr=us(ht,"Promise"),o3=us(ht,"Set"),s2=us(ht,"WeakMap");var yu="[object Map]",zs="[object Promise]",a2="[object Set]",Vi="[object WeakMap]",Lo="[object DataView]",Is=tr(o2),aa=tr(fi),Jo=tr(Sr),s0=tr(o3),oc=tr(s2),Ts=fn;(o2&&Ts(new o2(new ArrayBuffer(1)))!=Lo||fi&&Ts(new fi)!=yu||Sr&&Ts(Sr.resolve())!=zs||o3&&Ts(new o3)!=a2||s2&&Ts(new s2)!=Vi)&&(Ts=function(f){var i=fn(f),o="[object Object]"==i?f.constructor:void 0,l=o?tr(o):"";if(l)switch(l){case Is:return Lo;case aa:return yu;case Jo:return zs;case s0:return a2;case oc:return Vi}return i});const s3=Ts;var Ui=Object.prototype.hasOwnProperty;const l2=ht.Uint8Array,u2=function(f){var i=new f.constructor(f.byteLength);return new l2(i).set(new l2(f)),i};var a3=/\w*$/,d2=Vt?Vt.prototype:void 0,l3=d2?d2.valueOf:void 0;const Ml=function(f,i){var o=i?u2(f.buffer):f.buffer;return new f.constructor(o,f.byteOffset,f.length)};var Au=Object.create;const Mu=function(){function f(){}return function(i){if(!$t(i))return{};if(Au)return Au(i);f.prototype=i;var o=new f;return f.prototype=void 0,o}}(),cc=function(f){return"function"!=typeof f.constructor||ra(f)?{}:Mu(xr(f))};var x1=Qa&&Qa.isMap;const ca=x1?na(x1):function(f){return Mn(f)&&"[object Map]"==s3(f)};var m3=Qa&&Qa.isSet;const la=m3?na(m3):function(f){return Mn(f)&&"[object Set]"==s3(f)};var e1="[object Arguments]",Dl="[object Function]",uc="[object Object]",In={};In[e1]=In["[object Array]"]=In["[object ArrayBuffer]"]=In["[object DataView]"]=In["[object Boolean]"]=In["[object Date]"]=In["[object Float32Array]"]=In["[object Float64Array]"]=In["[object Int8Array]"]=In["[object Int16Array]"]=In["[object Int32Array]"]=In["[object Map]"]=In["[object Number]"]=In[uc]=In["[object RegExp]"]=In["[object Set]"]=In["[object String]"]=In["[object Symbol]"]=In["[object Uint8Array]"]=In["[object Uint8ClampedArray]"]=In["[object Uint16Array]"]=In["[object Uint32Array]"]=!0,In["[object Error]"]=In[Dl]=In["[object WeakMap]"]=!1;const zl=function f(i,o,l,h,v,b){var C,a=1&o,c=2&o,u=4&o;if(l&&(C=v?l(i,h,v,b):l(i)),void 0!==C)return C;if(!$t(i))return i;var p=Kn(i);if(p){if(C=function(f){var i=f.length,o=new f.constructor(i);return i&&"string"==typeof f[0]&&Ui.call(f,"index")&&(o.index=f.index,o.input=f.input),o}(i),!a)return Al(i,C)}else{var _=s3(i),y=_==Dl||"[object GeneratorFunction]"==_;if(Ya(i))return n2(i,a);if(_==uc||_==e1||y&&!v){if(C=c||y?{}:cc(i),!a)return c?function(f,i){return co(f,en(f),i)}(i,function(f,i){return f&&co(i,lo(i),f)}(C,i)):function(f,i){return co(f,r0(f),i)}(i,function(f,i){return f&&co(i,n3(i),f)}(C,i))}else{if(!In[_])return v?i:{};C=function(f,i,o){var l=f.constructor;switch(i){case"[object ArrayBuffer]":return u2(f);case"[object Boolean]":case"[object Date]":return new l(+f);case"[object DataView]":return function(f,i){var o=i?u2(f.buffer):f.buffer;return new f.constructor(o,f.byteOffset,f.byteLength)}(f,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ml(f,o);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(f);case"[object RegExp]":return function(f){var i=new f.constructor(f.source,a3.exec(f));return i.lastIndex=f.lastIndex,i}(f);case"[object Symbol]":return function(f){return l3?Object(l3.call(f)):{}}(f)}}(i,_,a)}}b||(b=new ea);var A=b.get(i);if(A)return A;b.set(i,C),la(i)?i.forEach(function(E){C.add(f(E,o,l,E,i,b))}):ca(i)&&i.forEach(function(E,T){C.set(T,f(E,o,l,T,i,b))});var S=p?void 0:(u?c?sa:Ni:c?lo:n3)(i);return function(f,i){for(var o=-1,l=null==f?0:f.length;++o<l&&!1!==i(f[o],o););}(S||i,function(E,T){S&&(E=i[T=E]),_l(C,T,f(E,o,l,T,i,b))}),C},S1=function(f,i){return zl(f,5,i="function"==typeof i?i:void 0)},Dr=function(f){return Mn(f)&&1===f.nodeType&&!At(f)};class Ls{constructor(i,o){this._config={},o&&this.define(v3(o)),i&&this._setObjectToTarget(this._config,i)}set(i,o){this._setToTarget(this._config,i,o)}define(i,o){this._setToTarget(this._config,i,o,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,o,l,h=!1){if(At(o))return void this._setObjectToTarget(i,o,h);const v=o.split(".");o=v.pop();for(const b of v)At(i[b])||(i[b]={}),i=i[b];if(At(l))return At(i[o])||(i[o]={}),void this._setObjectToTarget(i=i[o],l,h);h&&void 0!==i[o]||(i[o]=l)}_getFromSource(i,o){const l=o.split(".");o=l.pop();for(const h of l){if(!At(i[h])){i=null;break}i=i[h]}return i?v3(i[o]):void 0}_setObjectToTarget(i,o,l){Object.keys(o).forEach(h=>{this._setToTarget(i,h,o[h],l)})}}function v3(f){return S1(f,p2)}function p2(f){return Dr(f)?f:void 0}function No(f){if(f){if(f.defaultView)return f instanceof f.defaultView.Document;if(f.ownerDocument&&f.ownerDocument.defaultView)return f instanceof f.ownerDocument.defaultView.Node}return!1}function dc(f){const i=Object.prototype.toString.apply(f);return"[object Window]"==i||"[object global]"==i}const Rn=E1(pe());function E1(f){return f?class extends f{listenTo(i,o,l,h={}){if(No(i)||dc(i)){const v={capture:!!h.useCapture,passive:!!h.usePassive},b=this._getProxyEmitter(i,v)||new _3(i,v);this.listenTo(b,o,l,h)}else super.listenTo(i,o,l,h)}stopListening(i,o,l){if(No(i)||dc(i)){const h=this._getAllProxyEmitters(i);for(const v of h)this.stopListening(v,o,l)}else super.stopListening(i,o,l)}_getProxyEmitter(i,o){return function(l,h){const v=l[lr];return v&&v[h]?v[h].emitter:null}(this,b3(i,o))}_getAllProxyEmitters(i){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(o=>this._getProxyEmitter(i,o)).filter(o=>!!o)}}:Rn}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(f=>{E1[f]=Rn.prototype[f]});class _3 extends(pe()){constructor(i,o){super(),Ee(this,b3(i,o)),this._domNode=i,this._options=o}attach(i){if(this._domListeners&&this._domListeners[i])return;const o=this._createDomListener(i);this._domNode.addEventListener(i,o,this._options),this._domListeners||(this._domListeners={}),this._domListeners[i]=o}detach(i){let o;!this._domListeners[i]||(o=this._events[i])&&o.callbacks.length||this._domListeners[i].removeListener()}_addEventListener(i,o,l){this.attach(i),pe().prototype._addEventListener.call(this,i,o,l)}_removeEventListener(i,o){pe().prototype._removeEventListener.call(this,i,o),this.detach(i)}_createDomListener(i){const o=l=>{this.fire(i,l)};return o.removeListener=()=>{this._domNode.removeEventListener(i,o,this._options),delete this._domListeners[i]},o}}function b3(f,i){let o=(l=f)["data-ck-expando"]||(l["data-ck-expando"]=Ge());var l;for(const l of Object.keys(i).sort())i[l]&&(o+="-"+l);return o}let g2;try{g2={window,document}}catch{g2={window:{},document:{}}}const ln=g2;function Gi(f){const i=[];let o=f;for(;o&&o.nodeType!=Node.DOCUMENT_NODE;)i.unshift(o),o=o.parentNode;return i}function On(f){return"[object Text]"==Object.prototype.toString.call(f)}function pi(f){return"[object Range]"==Object.prototype.toString.apply(f)}function y3(f){const i=f.ownerDocument.defaultView.getComputedStyle(f);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}const v2=["top","right","bottom","left","width","height"];class Jn{constructor(i){const o=pi(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),hc(i)||o)if(o){const l=Jn.getDomRangeRects(i);Xo(this,Jn.getBoundingRect(l))}else Xo(this,i.getBoundingClientRect());else if(dc(i)){const{innerWidth:l,innerHeight:h}=i;Xo(this,{top:0,right:l,bottom:h,left:0,width:l,height:h})}else Xo(this,i)}clone(){return new Jn(this)}moveTo(i,o){return this.top=o,this.right=i+this.width,this.bottom=o+this.height,this.left=i,this}moveBy(i,o){return this.top+=o,this.right+=i,this.left+=i,this.bottom+=o,this}getIntersection(i){const o={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left),width:0,height:0};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new Jn(o)}getIntersectionArea(i){const o=this.getIntersection(i);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let o=this.clone();if(!d0(i)){let l=i.parentNode||i.commonAncestorContainer;for(;l&&!d0(l);){const h=new Jn(l),v=o.getIntersection(h);if(!v)return null;v.getArea()<o.getArea()&&(o=v),l=l.parentNode}}return o}isEqual(i){for(const o of v2)if(this[o]!==i[o])return!1;return!0}contains(i){const o=this.getIntersection(i);return!(!o||!o.isEqual(i))}excludeScrollbarsAndBorders(){const i=this._source;let o,l,h;if(dc(i))o=i.innerWidth-i.document.documentElement.clientWidth,l=i.innerHeight-i.document.documentElement.clientHeight,h=i.getComputedStyle(i.document.documentElement).direction;else{const v=y3(i);o=i.offsetWidth-i.clientWidth-v.left-v.right,l=i.offsetHeight-i.clientHeight-v.top-v.bottom,h=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=v.left,this.top+=v.top,this.right-=v.right,this.bottom-=v.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,"ltr"===h?this.right-=o:this.left+=o,this.height-=l,this.bottom-=l,this}static getDomRangeRects(i){const o=[],l=Array.from(i.getClientRects());if(l.length)for(const h of l)o.push(new Jn(h));else{let h=i.startContainer;On(h)&&(h=h.parentNode);const v=new Jn(h.getBoundingClientRect());v.right=v.left,v.width=0,o.push(v)}return o}static getBoundingRect(i){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let l=0;for(const h of i)l++,o.left=Math.min(o.left,h.left),o.top=Math.min(o.top,h.top),o.right=Math.max(o.right,h.right),o.bottom=Math.max(o.bottom,h.bottom);return 0==l?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new Jn(o))}}function Xo(f,i){for(const o of v2)f[o]=i[o]}function d0(f){return!!hc(f)&&f===f.ownerDocument.body}function hc(f){return null!==f&&"object"==typeof f&&1===f.nodeType&&"function"==typeof f.getBoundingClientRect}class zn{constructor(i,o){zn._observerInstance||zn._createObserver(),this._element=i,this._callback=o,zn._addElementCallback(i,o),zn._observerInstance.observe(i)}destroy(){zn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(i,o){zn._elementCallbacks||(zn._elementCallbacks=new Map);let l=zn._elementCallbacks.get(i);l||(l=new Set,zn._elementCallbacks.set(i,l)),l.add(o)}static _deleteElementCallback(i,o){const l=zn._getElementCallbacks(i);l&&(l.delete(o),l.size||(zn._elementCallbacks.delete(i),zn._observerInstance.unobserve(i))),zn._elementCallbacks&&!zn._elementCallbacks.size&&(zn._observerInstance=null,zn._elementCallbacks=null)}static _getElementCallbacks(i){return zn._elementCallbacks?zn._elementCallbacks.get(i):null}static _createObserver(){zn._observerInstance=new ln.window.ResizeObserver(i=>{for(const o of i){const l=zn._getElementCallbacks(o.target);if(l)for(const h of l)h(o)}})}}function Ns(f){return i=>i+f}function t1(f){let i=0;for(;f.previousSibling;)f=f.previousSibling,i++;return i}function n1(f,i,o){f.insertBefore(o,f.childNodes[i]||null)}function es(f){return f&&f.nodeType===Node.COMMENT_NODE}function ts(f){return!!(f&&f.getClientRects&&f.getClientRects().length)}function Tl({element:f,target:i,positions:o,limiter:l,fitInViewport:h,viewportOffsetConfig:v}){hi(i)&&(i=i()),hi(l)&&(l=l());const b=(_=f)&&_.parentNode?_.offsetParent===ln.document.body?null:_.offsetParent:null,C=new Jn(f),a=new Jn(i);var _;let c;const u=h&&function(_){_=Object.assign({top:0,bottom:0,left:0,right:0},_);const y=new Jn(ln.window);return y.top+=_.top,y.height-=_.top,y.bottom-=_.bottom,y.height-=_.bottom,y}(v)||null,p={targetRect:a,elementRect:C,positionedElementAncestor:b,viewportRect:u};if(l||h){const _=l&&new Jn(l).getVisible();Object.assign(p,{limiterRect:_,viewportRect:u}),c=function(y,A){const{elementRect:S}=A,E=S.getArea(),T=y.map(X=>new o1(X,A)).filter(X=>!!X.name);let V=0,B=null;for(const X of T){const{limiterIntersectionArea:le,viewportIntersectionArea:ke}=X;if(le===E)return X;const Oe=ke**2+le**2;Oe>V&&(V=Oe,B=X)}return B}(o,p)||new o1(o[0],p)}else c=new o1(o[0],p);return c}function r1(f){const{scrollX:i,scrollY:o}=ln.window;return f.clone().moveBy(i,o)}zn._observerInstance=null,zn._elementCallbacks=null;class o1{constructor(i,o){const l=i(o.targetRect,o.elementRect,o.viewportRect);if(!l)return;const{left:h,top:v,name:b,config:C}=l;this.name=b,this.config=C,this._positioningFunctionCorrdinates={left:h,top:v},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const i=this._options.limiterRect;if(i){const o=this._options.viewportRect;if(!o)return i.getIntersectionArea(this._rect);{const l=i.getIntersection(o);if(l)return l.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const i=this._options.viewportRect;return i?i.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=r1(this._rect),this._options.positionedElementAncestor&&function(i,o){const l=r1(new Jn(o)),h=y3(o);let v=0,b=0;v-=l.left,b-=l.top,v+=o.scrollLeft,b+=o.scrollTop,v-=h.left,b-=h.top,i.moveBy(v,b)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function h0(f){const i=f.parentNode;i&&i.removeChild(f)}function f0(f,i,o){const l=i.clone().moveBy(0,o),h=i.clone().moveBy(0,-o),v=new Jn(f).excludeScrollbarsAndBorders();if(![h,l].every(b=>v.contains(b))){let{scrollX:b,scrollY:C}=f;_2(h,v)?C-=v.top-i.top+o:xu(l,v)&&(C+=i.bottom-v.bottom+o),C3(i,v)?b-=v.left-i.left+o:w3(i,v)&&(b+=i.right-v.right+o),f.scrollTo(b,C)}}function vn(f,i){const o=Su(f);let l,h;for(;f!=o.document.body;)h=i(),l=new Jn(f).excludeScrollbarsAndBorders(),l.contains(h)||(_2(h,l)?f.scrollTop-=l.top-h.top:xu(h,l)&&(f.scrollTop+=h.bottom-l.bottom),C3(h,l)?f.scrollLeft-=l.left-h.left:w3(h,l)&&(f.scrollLeft+=h.right-l.right)),f=f.parentNode}function xu(f,i){return f.bottom>i.bottom}function _2(f,i){return f.top<i.top}function C3(f,i){return f.left<i.left}function w3(f,i){return f.right>i.right}function Su(f){return pi(f)?f.startContainer.ownerDocument.defaultView:f.ownerDocument.defaultView}function Eu(f){if(pi(f)){let i=f.commonAncestorContainer;return On(i)&&(i=i.parentNode),i}return f.parentNode}function S5(f,i){const o=Su(f),l=new Jn(f);if(o===i)return l;{let h=o;for(;h!=i;){const b=new Jn(h.frameElement).excludeScrollbarsAndBorders();l.moveBy(b.left,b.top),h=h.parent}}return l}const fa={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},k7={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Cn=function(){const f={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let i=65;i<=90;i++)f[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)f[i-48]=i;for(let i=112;i<=123;i++)f["f"+(i-111)]=i;for(const i of"`-=[];',./\\")f[i]=i.charCodeAt(0);return f}(),rr=Object.fromEntries(Object.entries(Cn).map(([f,i])=>[i,f.charAt(0).toUpperCase()+f.slice(1)]));function Vs(f){let i;if("string"==typeof f){if(i=Cn[f.toLowerCase()],!i)throw new q("keyboard-unknown-key",null,{key:f})}else i=f.keyCode+(f.altKey?Cn.alt:0)+(f.ctrlKey?Cn.ctrl:0)+(f.shiftKey?Cn.shift:0)+(f.metaKey?Cn.cmd:0);return i}function b2(f){return"string"==typeof f&&(f=f.split("+").map(o=>o.trim())),f.map(i=>"string"==typeof i?function(o){if(o.endsWith("!"))return Vs(o.slice(0,-1));const l=Vs(o);return U.isMac&&l==Cn.ctrl?Cn.cmd:l}(i):i).reduce((i,o)=>o+i,0)}function k3(f){let i=b2(f);return Object.entries(U.isMac?fa:k7).reduce((o,[l,h])=>(i&Cn[l]&&(i&=~Cn[l],o+=h),o),"")+(i?rr[i]:"")}function Vo(f,i){const o="ltr"===i;switch(f){case Cn.arrowleft:return o?"left":"right";case Cn.arrowright:return o?"right":"left";case Cn.arrowup:return"up";case Cn.arrowdown:return"down"}}function $n(f){return Array.isArray(f)?f:[f]}ln.window.CKEDITOR_TRANSLATIONS||(ln.window.CKEDITOR_TRANSLATIONS={});const ma=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function fc(f){return ma.includes(f)?"rtl":"ltr"}class A3{constructor({uiLanguage:i="en",contentLanguage:o}={}){this.uiLanguage=i,this.contentLanguage=o||this.uiLanguage,this.uiLanguageDirection=fc(this.uiLanguage),this.contentLanguageDirection=fc(this.contentLanguage),this.t=(l,h)=>this._t(l,h)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,o=[]){return o=$n(o),"string"==typeof i&&(i={string:i}),h=function Du(f,i,o=1){if("number"!=typeof o)throw new q("translation-service-quantity-not-a-number",null,{quantity:o});const l=Object.keys(ln.window.CKEDITOR_TRANSLATIONS).length;1===l&&(f=Object.keys(ln.window.CKEDITOR_TRANSLATIONS)[0]);const h=i.id||i.string;if(0===l||!ln.window.CKEDITOR_TRANSLATIONS[a=f]||!ln.window.CKEDITOR_TRANSLATIONS[a].dictionary[h])return 1!==o?i.plural:i.string;var a;const b=ln.window.CKEDITOR_TRANSLATIONS[f].getPluralForm||(a=>1===a?0:1),C=ln.window.CKEDITOR_TRANSLATIONS[f].dictionary[h];return"string"==typeof C?C:C[Number(b(o))]}(this.uiLanguage,i,i.plural?o[0]:1),v=o,h.replace(/%(\d+)/g,(b,C)=>C<v.length?v[C]:b);var h,v}}class Wr extends(pe()){constructor(i={},o={}){super();const l=_i(i);if(l||(o=i),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],l)for(const h of i)this._items.push(h),this._itemMap.set(this._getItemIdBeforeAdding(h),h)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,o){return this.addMany([i],o)}addMany(i,o){if(void 0===o)o=this._items.length;else if(o>this._items.length||o<0)throw new q("collection-add-item-invalid-index",this);let l=0;for(const h of i){const v=this._getItemIdBeforeAdding(h),b=o+l;this._items.splice(b,0,h),this._itemMap.set(v,h),this.fire("add",h,b),l++}return this.fire("change",{added:i,removed:[],index:o}),this}get(i){let o;if("string"==typeof i)o=this._itemMap.get(i);else{if("number"!=typeof i)throw new q("collection-get-invalid-arg",this);o=this._items[i]}return o||null}has(i){if("string"==typeof i)return this._itemMap.has(i);{const o=i[this._idProperty];return o&&this._itemMap.has(o)}}getIndex(i){let o;return o="string"==typeof i?this._itemMap.get(i):i,o?this._items.indexOf(o):-1}remove(i){const[o,l]=this._remove(i);return this.fire("change",{added:[],removed:[o],index:l}),o}map(i,o){return this._items.map(i,o)}find(i,o){return this._items.find(i,o)}filter(i,o){return this._items.filter(i,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const i=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:i,index:0})}bindTo(i){if(this._bindToCollection)throw new q("collection-bind-to-rebind",this);return this._bindToCollection=i,{as:o=>{this._setUpBindToBinding(l=>new o(l))},using:o=>{this._setUpBindToBinding("function"==typeof o?o:l=>l[o])}}}_setUpBindToBinding(i){const o=this._bindToCollection,l=(h,v,b)=>{const C=o._bindToCollection==this,a=o._bindToInternalToExternalMap.get(v);if(C&&a)this._bindToExternalToInternalMap.set(v,a),this._bindToInternalToExternalMap.set(a,v);else{const c=i(v);if(!c)return void this._skippedIndexesFromExternal.push(b);let u=b;for(const p of this._skippedIndexesFromExternal)b>p&&u--;for(const p of o._skippedIndexesFromExternal)u>=p&&u++;this._bindToExternalToInternalMap.set(v,c),this._bindToInternalToExternalMap.set(c,v),this.add(c,u);for(let p=0;p<o._skippedIndexesFromExternal.length;p++)u<=o._skippedIndexesFromExternal[p]&&o._skippedIndexesFromExternal[p]++}};for(const h of o)l(0,h,o.getIndex(h));this.listenTo(o,"add",l),this.listenTo(o,"remove",(h,v,b)=>{const C=this._bindToExternalToInternalMap.get(v);C&&this.remove(C),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((a,c)=>(b<c&&a.push(c-1),b>c&&a.push(c),a),[])})}_getItemIdBeforeAdding(i){const o=this._idProperty;let l;if(o in i){if(l=i[o],"string"!=typeof l)throw new q("collection-add-invalid-id",this);if(this.get(l))throw new q("collection-add-item-already-exists",this)}else i[o]=l=Ge();return l}_remove(i){let o,l,h,v=!1;const b=this._idProperty;if("string"==typeof i?(l=i,h=this._itemMap.get(l),v=!h,h&&(o=this._items.indexOf(h))):"number"==typeof i?(o=i,h=this._items[o],v=!h,h&&(l=h[b])):(h=i,l=h[b],o=this._items.indexOf(h),v=-1==o||!this._itemMap.get(l)),v)throw new q("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(l);const C=this._bindToInternalToExternalMap.get(h);return this._bindToInternalToExternalMap.delete(h),this._bindToExternalToInternalMap.delete(C),this.fire("remove",h,o),[h,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function gi(f){const i=f.next();return i.done?null:i.value}class zr extends(E1(Gt())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(i){if(this._elements.has(i))throw new q("focustracker-add-element-already-exist",this);this.listenTo(i,"focus",()=>this._focus(i),{useCapture:!0}),this.listenTo(i,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(i)}remove(i){i===this.focusedElement&&this._blur(),this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i))}destroy(){this.stopListening()}_focus(i){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=i,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class vi{constructor(){this._listener=new(E1())}listenTo(i){this._listener.listenTo(i,"keydown",(o,l)=>{this._listener.fire("_keydown:"+Vs(l),l)})}set(i,o,l={}){const h=b2(i);this._listener.listenTo(this._listener,"_keydown:"+h,(b,C)=>{o(C,()=>{C.preventDefault(),C.stopPropagation(),b.stop()}),b.return=!0},{priority:l.priority})}press(i){return!!this._listener.fire("_keydown:"+Vs(i),i)}destroy(){this._listener.stopListening()}}function Zr(f){return _i(f)?new Map(f):function(i){const o=new Map;for(const l in i)o.set(l,i[l]);return o}(f)}function Yr(f,i){return!!(o=f.charAt(i-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&!!(l=f.charAt(i))&&1==l.length&&/[\udc00-\udfff]/.test(l);var l,o}function Kr(f,i){return!!(o=f.charAt(i))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}const Mi=function(){const f=/\p{Regional_Indicator}{2}/u.source,i="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(o=>o.source).join("|")+")";return new RegExp(`${f}|${i}(?:\u200d${i})*`,"ug")}();function zu(f,i){const o=String(f).matchAll(Mi);return Array.from(o).some(l=>l.index<i&&i<l.index+l[0].length)}class Hs extends Wr{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",(o,l,h)=>{this._renderViewIntoCollectionParent(l,h)}),this.on("remove",(o,l)=>{l.element&&this._parentElement&&l.element.remove()}),this._parentElement=null}destroy(){this.map(i=>i.destroy())}setParent(i){this._parentElement=i;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...i){if(!i.length||!i.every(o=>"string"==typeof o))throw new q("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const l of this)for(const h of i)l.delegate(h).to(o);this.on("add",(l,h)=>{for(const v of i)h.delegate(v).to(o)}),this.on("remove",(l,h)=>{for(const v of i)h.stopDelegating(v,o)})}}}_renderViewIntoCollectionParent(i,o){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[o])}}var Hi=se(6062),Et=se.n(Hi),Ll=se(4793);Et()(Ll.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class un extends(E1(Gt())){constructor(i){super(),this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new Wr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,l)=>{l.locale=i,l.t=i&&i.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Qr.bind(this,this)}createCollection(i){const o=new Hs(i);return this._viewCollections.add(o),o}registerChild(i){_i(i)||(i=[i]);for(const o of i)this._unboundChildren.add(o)}deregisterChild(i){_i(i)||(i=[i]);for(const o of i)this._unboundChildren.remove(o)}setTemplate(i){this.template=new Qr(i)}extendTemplate(i){Qr.extend(this.template,i)}render(){if(this.isRendered)throw new q("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(i=>i.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Qr extends(pe()){constructor(i){super(),Object.assign(this,Nl(mc(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,intoFragment:!1,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new q("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*function*i(o){if(o.children)for(const l of o.children)y2(l)?yield l:Hl(l)&&(yield*i(l))}(this)}static bind(i,o){return{to:(l,h)=>new M3({eventNameOrFunction:l,attribute:l,observable:i,emitter:o,callback:h}),if:(l,h,v)=>new x3({observable:i,emitter:o,attribute:l,valueIfTrue:h,callback:v})}}static extend(i,o){if(i._isRendered)throw new q("template-extend-render",[this,i]);Vl(i,Nl(mc(o)))}_renderNode(i){let o;if(o=i.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new q("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let o=i.node;return o||(o=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),o}_renderText(i){let o=i.node;return o?i.revertData.text=o.textContent:o=i.node=document.createTextNode(""),pa(this.text)?this._bindToObservable({schema:this.text,updater:I1(o),data:i}):o.textContent=this.text.join(""),o}_renderAttributes(i){if(!this.attributes)return;const o=i.node,l=i.revertData;for(const h in this.attributes){const v=o.getAttribute(h),b=this.attributes[h];l&&(l.attributes[h]=v);const C=S3(b)?b[0].ns:null;if(pa(b)){const a=S3(b)?b[0].value:b;l&&Tu(h)&&a.unshift(v),this._bindToObservable({schema:a,updater:a1(o,h,C),data:i})}else if("style"==h&&"string"!=typeof b[0])this._renderStyleAttribute(b[0],i);else{l&&v&&Tu(h)&&b.unshift(v);const a=b.map(c=>c&&c.value||c).reduce((c,u)=>c.concat(u),[]).reduce(ga,"");va(a)||o.setAttributeNS(C,h,a)}}}_renderStyleAttribute(i,o){const l=o.node;for(const h in i){const v=i[h];pa(v)?this._bindToObservable({schema:[v],updater:E5(l,h),data:o}):l.style[h]=v}}_renderElementChildren(i){const o=i.node,l=i.intoFragment?document.createDocumentFragment():o,h=i.isApplying;let v=0;for(const b of this.children)if(Pl(b)){if(!h){b.setParent(o);for(const C of b)l.appendChild(C.element)}}else if(y2(b))h||(b.isRendered||b.render(),l.appendChild(b.element));else if(No(b))l.appendChild(b);else if(h){const C={children:[],bindings:[],attributes:{}};i.revertData.children.push(C),b._renderNode({intoFragment:!1,node:l.childNodes[v++],isApplying:!0,revertData:C})}else l.appendChild(b.render());i.intoFragment&&o.appendChild(l)}_setUpListeners(i){if(this.eventListeners)for(const o in this.eventListeners){const l=this.eventListeners[o].map(h=>{const[v,b]=o.split("@");return h.activateDomEventListener(v,b,i)});i.revertData&&i.revertData.bindings.push(l)}}_bindToObservable({schema:i,updater:o,data:l}){const h=l.revertData;s1(i,o,l);const v=i.filter(b=>!va(b)).filter(b=>b.observable).map(b=>b.activateAttributeListener(i,o,l));h&&h.bindings.push(v)}_revertTemplateFromNode(i,o){for(const h of o.bindings)for(const v of h)v();if(o.text)return void(i.textContent=o.text);const l=i;for(const h in o.attributes){const v=o.attributes[h];null===v?l.removeAttribute(h):l.setAttribute(h,v)}for(let h=0;h<o.children.length;++h)this._revertTemplateFromNode(l.childNodes[h],o.children[h])}}class z1{constructor(i){this.attribute=i.attribute,this.observable=i.observable,this.emitter=i.emitter,this.callback=i.callback}getValue(i){const o=this.observable[this.attribute];return this.callback?this.callback(o,i):o}activateAttributeListener(i,o,l){const h=()=>s1(i,o,l);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,h),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,h)}}}class M3 extends z1{constructor(i){super(i),this.eventNameOrFunction=i.eventNameOrFunction}activateDomEventListener(i,o,l){const h=(v,b)=>{o&&!b.target.matches(o)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(b):this.observable.fire(this.eventNameOrFunction,b))};return this.emitter.listenTo(l.node,i,h),()=>{this.emitter.stopListening(l.node,i,h)}}}class x3 extends z1{constructor(i){super(i),this.valueIfTrue=i.valueIfTrue}getValue(i){return!va(super.getValue(i))&&(this.valueIfTrue||!0)}}function pa(f){return!!f&&(f.value&&(f=f.value),Array.isArray(f)?f.some(pa):f instanceof z1)}function s1(f,i,{node:o}){const l=(b=o,f.map(C=>C instanceof z1?C.getValue(b):C));var b;let h;h=1==f.length&&f[0]instanceof x3?l[0]:l.reduce(ga,""),va(h)?i.remove():i.set(h)}function I1(f){return{set(i){f.textContent=i},remove(){f.textContent=""}}}function a1(f,i,o){return{set(l){f.setAttributeNS(o,i,l)},remove(){f.removeAttributeNS(o,i)}}}function E5(f,i){return{set(o){f.style[i]=o},remove(){f.style[i]=null}}}function mc(f){return S1(f,i=>{if(i&&(i instanceof z1||Hl(i)||y2(i)||Pl(i)))return i})}function Nl(f){if("string"==typeof f?f={text:[f]}:f.text&&function(i){i.text=$n(i.text)}(f),f.on&&(f.eventListeners=function(i){for(const o in i)T1(i,o);return i}(f.on),delete f.on),!f.text){f.attributes&&function(o){for(const l in o)o[l].value&&(o[l].value=$n(o[l].value)),T1(o,l)}(f.attributes);const i=[];if(f.children)if(Pl(f.children))i.push(f.children);else for(const o of f.children)Hl(o)||y2(o)||No(o)?i.push(o):i.push(new Qr(o));f.children=i}return f}function T1(f,i){f[i]=$n(f[i])}function ga(f,i){return va(i)?f:va(f)?i:`${f} ${i}`}function Iu(f,i){for(const o in i)f[o]?f[o].push(...i[o]):f[o]=i[o]}function Vl(f,i){if(i.attributes&&(f.attributes||(f.attributes={}),Iu(f.attributes,i.attributes)),i.eventListeners&&(f.eventListeners||(f.eventListeners={}),Iu(f.eventListeners,i.eventListeners)),i.text&&f.text.push(...i.text),i.children&&i.children.length){if(f.children.length!=i.children.length)throw new q("ui-template-extend-children-mismatch",f);let o=0;for(const l of i.children)Vl(f.children[o++],l)}}function va(f){return!f&&0!==f}function y2(f){return f instanceof un}function Hl(f){return f instanceof Qr}function Pl(f){return f instanceof Hs}function S3(f){return $t(f[0])&&f[0].ns}function Tu(f){return"class"==f||"style"==f}class E3 extends Hs{constructor(i,o=[]){super(o),this.locale=i}attachToDom(){this._bodyCollectionContainer=new Qr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=ni(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&0==i.childElementCount&&i.remove()}}var pc=se(6574);Et()(pc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});let D3=(()=>{class f extends un{constructor(){super();const o=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",o.if("isColorInherited","ck-icon_inherit-color")],viewBox:o.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const o=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),l=o.getAttribute("viewBox");l&&(this.viewBox=l);for(const{name:h,value:v}of Array.from(o.attributes))f.presentationalAttributeNames.includes(h)&&this.element.setAttribute(h,v);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;o.childNodes.length>0;)this.element.appendChild(o.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(o=>{o.style.fill=this.fillColor})}}return f.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"],f})();var Rl=se(4906);Et()(Rl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Wn extends un{constructor(i){super(i);const o=this.bindTemplate,l=Ge();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(l),this.iconView=new D3,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",v=>!v),o.if("isVisible","ck-hidden",v=>!v),o.to("isOn",v=>v?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],type:o.to("type",v=>v||"button"),tabindex:o.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${l}`,"aria-disabled":o.if("isEnabled",!0,v=>!v),"aria-pressed":o.to("isOn",v=>!!this.isToggleable&&String(!!v)),"data-cke-tooltip-text":o.to("_tooltipString"),"data-cke-tooltip-position":o.to("tooltipPosition")},children:this.children,on:{click:o.to(v=>{this.isEnabled?this.fire("execute"):v.preventDefault()})}};U.isSafari&&(h.on.mousedown=o.to(v=>{this.focus(),v.preventDefault()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(i){const o=new un;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${i}`},children:[{text:this.bindTemplate.to("label")}]}),o}_createKeystrokeView(){const i=new un;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>k3(o))}]}),i}_getTooltipString(i,o,l){return i?"string"==typeof i?i:(l&&(l=k3(l)),i instanceof Function?i(o,l):`${o}${l?` (${l})`:""}`):""}}var gc=se(5332);Et()(gc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class c1 extends Wn{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new un;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}var vc=se(6781);Et()(vc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class C2{constructor(i){this.editor=i,this._components=new Map}*names(){for(const i of this._components.values())yield i.originalName}add(i,o){this._components.set(_c(i),{callback:o,originalName:i})}create(i){if(!this.has(i))throw new q("componentfactory-item-missing",this,{name:i});return this._components.get(_c(i)).callback(this.editor.locale)}has(i){return this._components.has(_c(i))}}function _c(f){return String(f).toLowerCase()}var z3=se(5485);Et()(z3.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bc extends un{constructor(i,o,l){super(i);const h=this.bindTemplate;this.buttonView=o,this.panelView=l,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new vi,this.focusTracker=new zr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",h.to("class"),h.if("isEnabled","ck-disabled",v=>!v)],id:h.to("id"),"aria-describedby":h.to("ariaDescribedById")},children:[o,l]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":h.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(o,l,h)=>{h&&(this.panelView.position="auto"===this.panelPosition?bc._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const i=(o,l)=>{this.isOpen&&(this.isOpen=!1,l())};this.keystrokes.set("arrowdown",(o,l)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,l())}),this.keystrokes.set("arrowright",(o,l)=>{this.isOpen&&l()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:i,north:o,southEast:l,southWest:h,northEast:v,northWest:b,southMiddleEast:C,southMiddleWest:a,northMiddleEast:c,northMiddleWest:u}=bc.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[l,h,C,a,i,v,b,c,u,o]:[h,l,a,C,i,b,v,u,c,o]}}bc.defaultPanelPositions={south:(f,i)=>({top:f.bottom,left:f.left-(i.width-f.width)/2,name:"s"}),southEast:f=>({top:f.bottom,left:f.left,name:"se"}),southWest:(f,i)=>({top:f.bottom,left:f.left-i.width+f.width,name:"sw"}),southMiddleEast:(f,i)=>({top:f.bottom,left:f.left-(i.width-f.width)/4,name:"sme"}),southMiddleWest:(f,i)=>({top:f.bottom,left:f.left-3*(i.width-f.width)/4,name:"smw"}),north:(f,i)=>({top:f.top-i.height,left:f.left-(i.width-f.width)/2,name:"n"}),northEast:(f,i)=>({top:f.top-i.height,left:f.left,name:"ne"}),northWest:(f,i)=>({top:f.top-i.height,left:f.left-i.width+f.width,name:"nw"}),northMiddleEast:(f,i)=>({top:f.top-i.height,left:f.left-(i.width-f.width)/4,name:"nme"}),northMiddleWest:(f,i)=>({top:f.top-i.height,left:f.left-3*(i.width-f.width)/4,name:"nmw"})},bc._getOptimalPosition=Tl;const v0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class D5 extends Wn{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",o=>String(o))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new D3;return i.content=v0,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}var Fl=se(7686);Et()(Fl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ps extends un{constructor(i){super(i);const o=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new vi,this.focusTracker=new zr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(i,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(i,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const i=new Wn;return i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const i=new Wn,o=i.bindTemplate;return i.icon=v0,i.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":o.to("isOn"),"aria-haspopup":!0,"aria-expanded":o.to("isOn",l=>String(l))}}),i.bind("isEnabled").to(this),i.bind("label").to(this),i.bind("tooltip").to(this),i.delegate("execute").to(this,"open"),i}}class _0 extends un{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",l=>`ck-dropdown__panel_${l}`),o.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:o.to(l=>l.preventDefault())}})}focus(){if(this.children.length){const i=this.children.first;"function"==typeof i.focus?i.focus():Fe("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const i=this.children.last;"function"==typeof i.focusLast?i.focusLast():i.focus()}}}class _a{constructor(i){if(this.focusables=i.focusables,this.focusTracker=i.focusTracker,this.keystrokeHandler=i.keystrokeHandler,this.actions=i.actions,i.actions&&i.keystrokeHandler)for(const o in i.actions){let l=i.actions[o];"string"==typeof l&&(l=[l]);for(const h of l)i.keystrokeHandler.set(h,(v,b)=>{this[o](),b()})}}get first(){return this.focusables.find(Ho)||null}get last(){return this.focusables.filter(Ho).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let i=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((o,l)=>{const h=o.element===this.focusTracker.focusedElement;return h&&(i=l),h}),i)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(i){i&&i.focus()}_getFocusableItem(i){const o=this.current,l=this.focusables.length;if(!l)return null;if(null===o)return this[1===i?"first":"last"];let h=(o+l+i)%l;do{const v=this.focusables.get(h);if(Ho(v))return v;h=(h+l+i)%l}while(h!==o);return null}}function Ho(f){return!(!f.focus||!ts(f.element))}class L1 extends un{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class w2 extends un{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Jr(f){return Array.isArray(f)?{items:f,removeItems:[]}:f?Object.assign({items:[],removeItems:[]},f):{items:[],removeItems:[]}}class Xe extends(Gt()){constructor(i){super(),this.editor=i,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",yc,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",yc),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function yc(f){f.return=!1,f.stop()}class on extends(Gt()){constructor(i){super(),this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"}),this.listenTo(i,"change:isReadOnly",(o,l,h)=>{h&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(i){this._affectsData=i}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",I3,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",I3),this.refresh())}execute(...i){}destroy(){this.stopListening()}}function I3(f){f.return=!1,f.stop()}class uo extends on{constructor(i){super(i),this._childCommandsDefinitions=[]}refresh(){}execute(...i){const o=this._getFirstEnabledCommand();return!!o&&o.execute(i)}registerChildCommand(i,o={}){be(this._childCommandsDefinitions,{command:i,priority:o.priority||"normal"}),i.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const i=this._childCommandsDefinitions.find(({command:o})=>o.isEnabled);return i&&i.command}}class jl extends(pe()){constructor(i,o=[],l=[]){super(),this._context=i,this._plugins=new Map,this._availablePlugins=new Map;for(const h of o)h.pluginName&&this._availablePlugins.set(h.pluginName,h);this._contextPlugins=new Map;for(const[h,v]of l)this._contextPlugins.set(h,v),this._contextPlugins.set(v,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}*[Symbol.iterator](){for(const i of this._plugins)"function"==typeof i[0]&&(yield i)}get(i){const o=this._plugins.get(i);if(!o){let l=i;throw"function"==typeof i&&(l=i.pluginName||i.name),new q("plugincollection-plugin-not-loaded",this._context,{plugin:l})}return o}has(i){return this._plugins.has(i)}init(i,o=[],l=[]){const h=this,v=this._context;(function A(S,E=new Set){S.forEach(T=>{a(T)&&(E.has(T)||(E.add(T),T.pluginName&&!h._availablePlugins.has(T.pluginName)&&h._availablePlugins.set(T.pluginName,T),T.requires&&A(T.requires,E)))})})(i),_(i);const b=[...function A(S,E=new Set){return S.map(T=>a(T)?T:h._availablePlugins.get(T)).reduce((T,V)=>E.has(V)?T:(E.add(V),V.requires&&(_(V.requires,V),A(V.requires,E).forEach(B=>T.add(B))),T.add(V)),new Set)}(i.filter(A=>!u(A,o)))];!function(A,S){for(const E of S){if("function"!=typeof E)throw new q("plugincollection-replace-plugin-invalid-type",null,{pluginItem:E});const T=E.pluginName;if(!T)throw new q("plugincollection-replace-plugin-missing-name",null,{pluginItem:E});if(E.requires&&E.requires.length)throw new q("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:T});const V=h._availablePlugins.get(T);if(!V)throw new q("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:T});const B=A.indexOf(V);if(-1===B){if(h._contextPlugins.has(V))return;throw new q("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:T})}if(V.requires&&V.requires.length)throw new q("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:T});A.splice(B,1,E),h._availablePlugins.set(T,E)}}(b,l);const C=b.map(S=>{let E=h._contextPlugins.get(S);return E=E||new S(v),h._add(S,E),E});return y(C,"init").then(()=>y(C,"afterInit")).then(()=>C);function a(A){return"function"==typeof A}function c(A){return a(A)&&A.isContextPlugin}function u(A,S){return S.some(E=>E===A||p(A)===E||p(E)===A)}function p(A){return a(A)?A.pluginName||A.name:A}function _(A,S=null){A.map(E=>a(E)?E:h._availablePlugins.get(E)||E).forEach(E=>{(function(T,V){if(!a(T))throw V?new q("plugincollection-soft-required",v,{missingPlugin:T,requiredBy:p(V)}):new q("plugincollection-plugin-not-found",v,{plugin:T})})(E,S),function(T,V){if(c(V)&&!c(T))throw new q("plugincollection-context-required",v,{plugin:p(T),requiredBy:p(V)})}(E,S),function(T,V){if(V&&u(T,o))throw new q("plugincollection-required",v,{plugin:p(T),requiredBy:p(V)})}(E,S)})}function y(A,S){return A.reduce((E,T)=>T[S]?h._contextPlugins.has(T)?E:E.then(T[S].bind(T)):E,Promise.resolve())}}destroy(){const i=[];for(const[,o]of this)"function"!=typeof o.destroy||this._contextPlugins.has(o)||i.push(o.destroy());return Promise.all(i)}_add(i,o){this._plugins.set(i,o);const l=i.pluginName;if(l){if(this._plugins.has(l))throw new q("plugincollection-plugin-name-conflict",null,{pluginName:l,plugin1:this._plugins.get(l).constructor,plugin2:i});this._plugins.set(l,o)}}}class L{constructor(i){this.config=new Ls(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new jl(this,o);const l=this.config.get("language")||{};this.locale=new A3({uiLanguage:"string"==typeof l?l:l.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Wr,this._contextOwner=null}initPlugins(){const i=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const l of i.concat(o)){if("function"!=typeof l)throw new q("context-initplugins-constructor-only",null,{Plugin:l});if(!0!==l.isContextPlugin)throw new q("context-initplugins-invalid-plugin",null,{Plugin:l})}return this.plugins.init(i,[],o)}destroy(){return Promise.all(Array.from(this.editors,i=>i.destroy())).then(()=>this.plugins.destroy())}_addEditor(i,o){if(this._contextOwner)throw new q("context-addeditor-private-context");this.editors.add(i),o&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(i[o]=this.config.get(o));return i}static create(i){return new Promise(o=>{const l=new this(i);o(l.initPlugins().then(()=>l))})}}class H extends(Gt()){constructor(i){super(),this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var O=se(4717);Et()(O.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const ae=new WeakMap;function he(f){const{view:i,element:o,text:l,isDirectHost:h=!0,keepOnFocus:v=!1}=f,b=i.document;ae.has(b)||(ae.set(b,new Map),b.registerPostFixer(C=>ot(b,C)),b.on("change:isComposing",()=>{i.change(C=>ot(b,C))},{priority:"high"})),ae.get(b).set(o,{text:l,isDirectHost:h,keepOnFocus:v,hostElement:h?o:null}),i.change(C=>ot(b,C))}function ot(f,i){const o=ae.get(f),l=[];let h=!1;for(const[v,b]of o)b.isDirectHost&&(l.push(v),at(i,v,b)&&(h=!0));for(const[v,b]of o){if(b.isDirectHost)continue;const C=Mt(v);C&&(l.includes(C)||(b.hostElement=C,at(i,v,b)&&(h=!0)))}return h}function at(f,i,o){const{text:l,isDirectHost:h,hostElement:v}=o;let b=!1;return v.getAttribute("data-placeholder")!==l&&(f.setAttribute("data-placeholder",l,v),b=!0),(h||1==i.childCount)&&function(C,a){if(!C.isAttached()||Array.from(C.getChildren()).some(_=>!_.is("uiElement")))return!1;const u=C.document,p=u.selection.anchor;return!(u.isComposing&&p&&p.parent===C||!a&&u.isFocused&&(!p||p.parent===C))}(v,o.keepOnFocus)?(C=f,!(a=v).hasClass("ck-placeholder")&&(C.addClass("ck-placeholder",a),!0)&&(b=!0)):function Ce(f,i){return!!i.hasClass("ck-placeholder")&&(f.removeClass("ck-placeholder",i),!0)}(f,v)&&(b=!0),b;var C,a}function Mt(f){if(f.childCount){const i=f.getChild(0);if(i.is("element")&&!i.is("uiElement")&&!i.is("attributeElement"))return i}return null}class Rt{is(){throw new Error("is() method is abstract")}}const ho=function(f){return zl(f,4)};class ii extends(pe(Rt)){constructor(i){super(),this.document=i,this.parent=null}get index(){let i;if(!this.parent)return null;if(-1==(i=this.parent.getChildIndex(this)))throw new q("view-node-not-found-in-parent",this);return i}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.index),o=o.parent;return i}getAncestors(i={}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}getCommonAncestor(i,o={}){const l=this.getAncestors(o),h=i.getAncestors(o);let v=0;for(;l[v]==h[v]&&l[v];)v++;return 0===v?null:l[v-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),l=i.getPath(),h=Hn(o,l);switch(h){case"prefix":return!0;case"extension":return!1;default:return o[h]<l[h]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,o){this.fire(`change:${i}`,o),this.parent&&this.parent._fireChange(i,o)}toJSON(){const i=ho(this);return delete i.parent,i}}ii.prototype.is=function(f){return"node"===f||"view:node"===f};class wn extends ii{constructor(i,o){super(i),this._textData=o}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof wn&&(this===i||this.data===i.data)}_clone(){return new wn(this.document,this.data)}}wn.prototype.is=function(f){return"$text"===f||"view:$text"===f||"text"===f||"view:text"===f||"node"===f||"view:node"===f};class Xr extends Rt{constructor(i,o,l){if(super(),this.textNode=i,o<0||o>i.data.length)throw new q("view-textproxy-wrong-offsetintext",this);if(l<0||o+l>i.data.length)throw new q("view-textproxy-wrong-length",this);this.data=i.data.substring(o,o+l),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(i={}){const o=[];let l=i.includeSelf?this.textNode:this.parent;for(;null!==l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}}Xr.prototype.is=function(f){return"$textProxy"===f||"view:$textProxy"===f||"textProxy"===f||"view:textProxy"===f};class Ir{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let o of i)("string"==typeof o||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...i){for(const o of i)for(const l of this._patterns){const h=Po(o,l);if(h)return{element:o,pattern:l,match:h}}return null}matchAll(...i){const o=[];for(const l of i)for(const h of this._patterns){const v=Po(l,h);v&&o.push({element:l,pattern:h,match:v})}return o.length>0?o:null}getElementName(){if(1!==this._patterns.length)return null;const i=this._patterns[0],o=i.name;return"function"==typeof i||!o||o instanceof RegExp?null:o}}function Po(f,i){if("function"==typeof i)return i(f);const o={};return i.name&&(o.name=(h=f.name,(l=i.name)instanceof RegExp?!!h.match(l):l===h),!o.name)||i.attributes&&(o.attributes=function(l,h){const v=new Set(h.getAttributeKeys());return At(l)?(void 0!==l.style&&Fe("matcher-pattern-deprecated-attributes-style-key",l),void 0!==l.class&&Fe("matcher-pattern-deprecated-attributes-class-key",l)):(v.delete("style"),v.delete("class")),Ro(l,v,b=>h.getAttribute(b))}(i.attributes,f),!o.attributes)||i.classes&&(o.classes=function(l,h){return Ro(l,h.getClassNames(),()=>{})}(i.classes,f),!o.classes)||i.styles&&(o.styles=function(l,h){return Ro(l,h.getStyleNames(!0),v=>h.getStyle(v))}(i.styles,f),!o.styles)?null:o;var l,h}function Ro(f,i,o){const l=(b=f,Array.isArray(b)?b.map(C=>At(C)?(void 0!==C.key&&void 0!==C.value||Fe("matcher-pattern-missing-key-or-value",C),[C.key,C.value]):[C,!0]):At(b)?Object.entries(b):[[b,!0]]),h=Array.from(i),v=[];var b;if(l.forEach(([b,C])=>{h.forEach(a=>{var c,u;u=a,(!0===(c=b)||c===u||c instanceof RegExp&&u.match(c))&&function(c,u,p){if(!0===c)return!0;const _=p(u);return c===_||c instanceof RegExp&&!!String(_).match(c)}(C,a,o)&&v.push(a)})}),l.length&&!(v.length<l.length))return v}const ba=function(f){return"symbol"==typeof f||Mn(f)&&"[object Symbol]"==fn(f)};var A2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nu=/^\w*$/,T3="Expected a function";function fo(f,i){if("function"!=typeof f||null!=i&&"function"!=typeof i)throw new TypeError(T3);var o=function(){var l=arguments,h=i?i.apply(this,l):l[0],v=o.cache;if(v.has(h))return v.get(h);var b=f.apply(this,l);return o.cache=v.set(h,b)||v,b};return o.cache=new(fo.Cache||hr),o}fo.Cache=hr;var i,o,Vu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L3=/\\(\\)?/g,z5=(i=fo(function(f){var i=[];return 46===f.charCodeAt(0)&&i.push(""),f.replace(Vu,function(o,l,h,v){i.push(h?v.replace(L3,"$1"):l||o)}),i},function(l){return 500===o.size&&o.clear(),l}),o=i.cache,i);const Hu=z5;var Pu=Vt?Vt.prototype:void 0,T5=Pu?Pu.toString:void 0;const mo=function f(i){if("string"==typeof i)return i;if(Kn(i))return function(f,i){for(var o=-1,l=null==f?0:f.length,h=Array(l);++o<l;)h[o]=i(f[o],o,f);return h}(i,f)+"";if(ba(i))return T5?T5.call(i):"";var o=i+"";return"0"==o&&1/i==-1/0?"-0":o},Ca=function(f){return null==f?"":mo(f)},M2=function(f,i){return Kn(f)?f:function(f,i){if(Kn(f))return!1;var o=typeof f;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=f&&!ba(f))||Nu.test(f)||!A2.test(f)||null!=i&&f in Object(i)}(f,i)?[f]:Hu(Ca(f))},x2=function(f){if("string"==typeof f||ba(f))return f;var i=f+"";return"0"==i&&1/f==-1/0?"-0":i},N3=function(f,i){for(var o=0,l=(i=M2(i,f)).length;null!=f&&o<l;)f=f[x2(i[o++])];return o&&o==l?f:void 0},ql=function(f,i,o){var l=-1,h=f.length;i<0&&(i=-i>h?0:h+i),(o=o>h?h:o)<0&&(o+=h),h=i>o?0:o-i>>>0,i>>>=0;for(var v=Array(h);++l<h;)v[l]=f[l+i];return v},wc=function(f,i,o){var l=null==f?void 0:N3(f,i);return void 0===l?o:l},k0=function(f,i,o){(void 0!==o&&!ai(f[i],o)||void 0===o&&!(i in f))&&To(f,i,o)},wa=function(f,i){if(("constructor"!==i||"function"!=typeof f[i])&&"__proto__"!=i)return f[i]},M0=function f(i,o,l,h,v){i!==o&&function(i,o,l){for(var h=-1,v=Object(i),b=l(i),C=b.length;C--;){var a=b[++h];if(!1===o(v[a],a,v))break}}(o,function(b,C){if(v||(v=new ea),$t(b))!function(f,i,o,l,h,v,b){var C=wa(f,o),a=wa(i,o),c=b.get(a);if(c)k0(f,o,c);else{var u=v?v(C,a,o+"",f,i,b):void 0,p=void 0===u;if(p){var _=Kn(a),y=!_&&Ya(a),A=!_&&!y&&Xa(a);u=a,_||y||A?Kn(C)?u=C:function(f){return Mn(f)&&Li(f)}(C)?u=Al(C):y?(p=!1,u=n2(a,!0)):A?(p=!1,u=Ml(a,!0)):u=[]:At(a)||e3(a)?(u=C,e3(C)?u=function(f){return co(f,lo(f))}(C):$t(C)&&!hi(C)||(u=cc(a))):p=!1}p&&(b.set(a,u),h(u,a,l,v,b),b.delete(a)),k0(f,o,u)}}(i,o,C,l,f,h,v);else{var a=h?h(wa(i,C),b,C+"",i,o,v):void 0;void 0===a&&(a=b),k0(i,C,a)}},lo)},S2=function(f){return f},L5=function(f,i,o){switch(o.length){case 0:return f.call(i);case 1:return f.call(i,o[0]);case 2:return f.call(i,o[0],o[1]);case 3:return f.call(i,o[0],o[1],o[2])}return f.apply(i,o)};var x0=Math.max;const S0=function(f){return function(){return f}},N5=ta?function(f,i){return ta(f,"toString",{configurable:!0,enumerable:!1,value:S0(i),writable:!0})}:S2;var V3=800,H3=16,P3=Date.now;const Ou=function(f){var i=0,o=0;return function(){var l=P3(),h=H3-(l-o);if(o=l,h>0){if(++i>=V3)return arguments[0]}else i=0;return f.apply(void 0,arguments)}}(N5),Bu=function(f){return function(f,i){return Ou(function(f,i,o){return i=x0(void 0===i?f.length-1:i,0),function(){for(var l=arguments,h=-1,v=x0(l.length-i,0),b=Array(v);++h<v;)b[h]=l[i+h];h=-1;for(var C=Array(i+1);++h<i;)C[h]=l[h];return C[i]=o(b),L5(f,this,C)}}(f,i,S2),f+"")}(function(i,o){var l=-1,h=o.length,v=h>1?o[h-1]:void 0,b=h>2?o[2]:void 0;for(v=f.length>3&&"function"==typeof v?(h--,v):void 0,b&&function(f,i,o){if(!$t(o))return!1;var l=typeof i;return!!("number"==l?Li(o)&&t3(i,o.length):"string"==l&&i in o)&&ai(o[i],f)}(o[0],o[1],b)&&(v=h<3?void 0:v,h=1),i=Object(i);++l<h;){var C=o[l];C&&f(i,C,l,v)}return i})},H5=Bu(function(f,i,o){M0(f,i,o)}),P5=function(f,i,o){return null==f?f:function(f,i,o,l){if(!$t(f))return f;for(var h=-1,v=(i=M2(i,f)).length,b=v-1,C=f;null!=C&&++h<v;){var a=x2(i[h]),c=o;if("__proto__"===a||"constructor"===a||"prototype"===a)return f;if(h!=b){var u=C[a];void 0===(c=void 0)&&(c=$t(u)?u:t3(i[h+1])?[]:{})}_l(C,a,c),C=C[a]}return f}(f,i,o)};class Wl{constructor(i){this._styles={},this._styleProcessor=i}get isEmpty(){const i=Object.entries(this._styles);return!Array.from(i).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const o=Array.from(function(l){let h=null,v=0,b=0,C=null;const a=new Map;if(""===l)return a;";"!=l.charAt(l.length-1)&&(l+=";");for(let c=0;c<l.length;c++){const u=l.charAt(c);if(null===h)switch(u){case":":C||(C=l.substr(v,c-v),b=c+1);break;case'"':case"'":h=u;break;case";":{const p=l.substr(b,c-b);C&&a.set(C.trim(),p.trim()),C=null,v=c+1;break}}else u===h&&(h=null)}return a}(i).entries());for(const[l,h]of o)this._styleProcessor.toNormalizedForm(l,h,this._styles)}has(i){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(i,this._styles).find(([l])=>l===i);return Array.isArray(o)}set(i,o){if($t(i))for(const[l,h]of Object.entries(i))this._styleProcessor.toNormalizedForm(l,h,this._styles);else this._styleProcessor.toNormalizedForm(i,o,this._styles)}remove(i){const o=E2(i);(function(f,i){null==f||function(f,i){null==(f=function(f,i){return i.length<2?f:N3(f,ql(i,0,-1))}(f,i=M2(i,f)))||delete f[x2(function(f){var i=null==f?0:f.length;return i?f[i-1]:void 0}(i))]}(f,i)})(this._styles,o),delete this._styles[i],this._cleanEmptyObjectsOnPath(o)}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(i=>i.join(":")).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!$t(this._styles[i]))return this._styles[i];const o=this._styleProcessor.getReducedForm(i,this._styles).find(([l])=>l===i);return Array.isArray(o)?o[1]:void 0}getStyleNames(i=!1){return this.isEmpty?[]:i?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([o])=>o)}clear(){this._styles={}}_getStylesEntries(){const i=[],o=Object.keys(this._styles);for(const l of o)i.push(...this._styleProcessor.getReducedForm(l,this._styles));return i}_cleanEmptyObjectsOnPath(i){const o=i.split(".");if(!(o.length>1))return;const l=o.splice(0,o.length-1).join("."),h=wc(this._styles,l);h&&!Array.from(Object.keys(h)).length&&this.remove(l)}}class ju{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,o,l){if($t(o))Aa(l,E2(i),o);else if(this._normalizers.has(i)){const h=this._normalizers.get(i),{path:v,value:b}=h(o);Aa(l,v,b)}else Aa(l,i,o)}getNormalized(i,o){if(!i)return H5({},o);if(void 0!==o[i])return o[i];if(this._extractors.has(i)){const l=this._extractors.get(i);if("string"==typeof l)return wc(o,l);const h=l(i,o);if(h)return h}return wc(o,E2(i))}getReducedForm(i,o){const l=this.getNormalized(i,o);return void 0===l?[]:this._reducers.has(i)?this._reducers.get(i)(l):[[i,l]]}getStyleNames(i){const o=Array.from(this._consumables.keys()).filter(h=>{const v=this.getNormalized(h,i);return v&&"object"==typeof v?Object.keys(v).length:v}),l=new Set([...o,...Object.keys(i)]);return Array.from(l.values())}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,o){this._normalizers.set(i,o)}setExtractor(i,o){this._extractors.set(i,o)}setReducer(i,o){this._reducers.set(i,o)}setStyleRelation(i,o){this._mapStyleNames(i,o);for(const l of o)this._mapStyleNames(l,[i])}_mapStyleNames(i,o){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...o)}}function E2(f){return f.replace("-",".")}function Aa(f,i,o){let l=o;$t(o)&&(l=H5({},wc(f,i),o)),P5(f,i,l)}class Oo extends ii{constructor(i,o,l,h){if(super(i),this.name=o,this._attrs=function(v){const b=Zr(v);for(const[C,a]of b)null===a?b.delete(C):"string"!=typeof a&&b.set(C,String(a));return b}(l),this._children=[],h&&this._insertChild(0,h),this._classes=new Set,this._attrs.has("class")){const v=this._attrs.get("class");E0(this._classes,v),this._attrs.delete("class")}this._styles=new Wl(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(i){if("class"==i)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==i){const o=this._styles.toString();return""==o?void 0:o}return this._attrs.get(i)}hasAttribute(i){return"class"==i?this._classes.size>0:"style"==i?!this._styles.isEmpty:this._attrs.has(i)}isSimilar(i){if(!(i instanceof Oo))return!1;if(this===i)return!0;if(this.name!=i.name||this._attrs.size!==i._attrs.size||this._classes.size!==i._classes.size||this._styles.size!==i._styles.size)return!1;for(const[o,l]of this._attrs)if(!i._attrs.has(o)||i._attrs.get(o)!==l)return!1;for(const o of this._classes)if(!i._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!i._styles.has(o)||i._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...i){for(const o of i)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(i){return this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles.getNormalized(i)}getStyleNames(i){return this._styles.getStyleNames(i)}hasStyle(...i){for(const o of i)if(!this._styles.has(o))return!1;return!0}findAncestor(...i){const o=new Ir(...i);let l=this.parent;for(;l&&!l.is("documentFragment");){if(o.match(l))return l;l=l.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=Array.from(this._classes).sort().join(","),o=this._styles.toString(),l=Array.from(this._attrs).map(h=>`${h[0]}="${h[1]}"`).sort().join(" ");return this.name+(""==i?"":` class="${i}"`)+(o?` style="${o}"`:"")+(""==l?"":` ${l}`)}shouldRenderUnsafeAttribute(i){return this._unsafeAttributesToRender.includes(i)}_clone(i=!1){const o=[];if(i)for(const h of this.getChildren())o.push(h._clone(i));const l=new this.constructor(this.document,this.name,this._attrs,o);return l._classes=new Set(this._classes),l._styles.set(this._styles.getNormalized()),l._customProperties=new Map(this._customProperties),l.getFillerOffset=this.getFillerOffset,l._unsafeAttributesToRender=this._unsafeAttributesToRender,l}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,o){this._fireChange("children",this);let l=0;const h=(v=this.document,"string"==typeof(b=o)?[new wn(v,b)]:(_i(b)||(b=[b]),Array.from(b).map(C=>"string"==typeof C?new wn(v,C):C instanceof Xr?new wn(v,C.data):C)));var v,b;for(const v of h)null!==v.parent&&v._remove(),v.parent=this,v.document=this.document,this._children.splice(i,0,v),i++,l++;return l}_removeChildren(i,o=1){this._fireChange("children",this);for(let l=i;l<i+o;l++)this._children[l].parent=null;return this._children.splice(i,o)}_setAttribute(i,o){const l=String(o);this._fireChange("attributes",this),"class"==i?E0(this._classes,l):"style"==i?this._styles.setTo(l):this._attrs.set(i,l)}_removeAttribute(i){return this._fireChange("attributes",this),"class"==i?this._classes.size>0&&(this._classes.clear(),!0):"style"==i?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(i)}_addClass(i){this._fireChange("attributes",this);for(const o of $n(i))this._classes.add(o)}_removeClass(i){this._fireChange("attributes",this);for(const o of $n(i))this._classes.delete(o)}_setStyle(i,o){this._fireChange("attributes",this),At(i)?this._styles.set(i):this._styles.set(i,o)}_removeStyle(i){this._fireChange("attributes",this);for(const o of $n(i))this._styles.remove(o)}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}function E0(f,i){const o=i.split(/\s+/);f.clear(),o.forEach(l=>f.add(l))}Oo.prototype.is=function(f,i){return i?i===this.name&&("element"===f||"view:element"===f):"element"===f||"view:element"===f||"node"===f||"view:node"===f};class V1 extends Oo{constructor(...i){super(...i),this.getFillerOffset=O3}}function O3(){const f=[...this.getChildren()],i=f[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const o of f)if(!o.is("uiElement"))return null;return this.childCount}V1.prototype.is=function(f,i){return i?i===this.name&&("containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Zl extends(Gt(V1)){constructor(...i){super(...i);const o=i[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(o),this.bind("isFocused").to(o,"isFocused",l=>l&&o.selection.editableElement==this),this.listenTo(o.selection,"change",()=>{this.isFocused=o.isFocused&&o.selection.editableElement==this})}destroy(){this.stopListening()}}Zl.prototype.is=function(f,i){return i?i===this.name&&("editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};const Uu=Symbol("rootName");class kc extends Zl{constructor(i,o){super(i,o),this.rootName="main"}get rootName(){return this.getCustomProperty(Uu)}set rootName(i){this._setCustomProperty(Uu,i)}set _name(i){this.name=i}}kc.prototype.is=function(f,i){return i?i===this.name&&("rootElement"===f||"view:rootElement"===f||"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f):"rootElement"===f||"view:rootElement"===f||"editableElement"===f||"view:editableElement"===f||"containerElement"===f||"view:containerElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class Ma{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new q("view-tree-walker-no-start-position",null);if(i.direction&&"forward"!=i.direction&&"backward"!=i.direction)throw new q("view-tree-walker-unknown-direction",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,this.position=Qe._createAt(i.startPosition?i.startPosition:i.boundaries["backward"==i.direction?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(i){let o,l,h;do{h=this.position,({done:o,value:l}=this.next())}while(!o&&i(l));o||(this.position=h)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let i=this.position.clone();const o=this.position,l=i.parent;if(null===l.parent&&i.offset===l.childCount)return{done:!0,value:void 0};if(l===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let h;if(l instanceof wn){if(i.isAtEnd)return this.position=Qe._createAfter(l),this._next();h=l.data[i.offset]}else h=l.getChild(i.offset);if(h instanceof Oo)return this.shallow?i.offset++:i=new Qe(h,0),this.position=i,this._formatReturnValue("elementStart",h,o,i,1);if(h instanceof wn){if(this.singleCharacters)return i=new Qe(h,0),this.position=i,this._next();{let v,b=h.data.length;return h==this._boundaryEndParent?(b=this.boundaries.end.offset,v=new Xr(h,0,b),i=Qe._createAfter(v)):(v=new Xr(h,0,h.data.length),i.offset++),this.position=i,this._formatReturnValue("text",v,o,i,b)}}if("string"==typeof h){let v;v=this.singleCharacters?1:(l===this._boundaryEndParent?this.boundaries.end.offset:l.data.length)-i.offset;const b=new Xr(l,i.offset,v);return i.offset+=v,this.position=i,this._formatReturnValue("text",b,o,i,v)}return i=Qe._createAfter(l),this.position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",l,o,i)}_previous(){let i=this.position.clone();const o=this.position,l=i.parent;if(null===l.parent&&0===i.offset)return{done:!0,value:void 0};if(l==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let h;if(l instanceof wn){if(i.isAtStart)return this.position=Qe._createBefore(l),this._previous();h=l.data[i.offset-1]}else h=l.getChild(i.offset-1);if(h instanceof Oo)return this.shallow?(i.offset--,this.position=i,this._formatReturnValue("elementStart",h,o,i,1)):(i=new Qe(h,h.childCount),this.position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",h,o,i));if(h instanceof wn){if(this.singleCharacters)return i=new Qe(h,h.data.length),this.position=i,this._previous();{let v,b=h.data.length;if(h==this._boundaryStartParent){const C=this.boundaries.start.offset;v=new Xr(h,C,h.data.length-C),b=v.data.length,i=Qe._createBefore(v)}else v=new Xr(h,0,h.data.length),i.offset--;return this.position=i,this._formatReturnValue("text",v,o,i,b)}}if("string"==typeof h){let v;v=this.singleCharacters?1:i.offset-(l===this._boundaryStartParent?this.boundaries.start.offset:0),i.offset-=v;const b=new Xr(l,i.offset,v);return this.position=i,this._formatReturnValue("text",b,o,i,v)}return i=Qe._createBefore(l),this.position=i,this._formatReturnValue("elementStart",l,o,i,1)}_formatReturnValue(i,o,l,h,v){return o instanceof Xr&&(o.offsetInText+o.data.length==o.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?l=Qe._createAfter(o.textNode):(h=Qe._createAfter(o.textNode),this.position=h)),0===o.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?l=Qe._createBefore(o.textNode):(h=Qe._createBefore(o.textNode),this.position=h))),{done:!1,value:{type:i,item:o,previousPosition:l,nextPosition:h,length:v}}}}class Qe extends Rt{constructor(i,o){super(),this.parent=i,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const i=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof Zl);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const o=Qe._createAt(this),l=o.offset+i;return o.offset=l<0?0:l,o}getLastMatchingPosition(i,o={}){o.startPosition=this;const l=new Ma(o);return l.skip(i),l.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const o=this.getAncestors(),l=i.getAncestors();let h=0;for(;o[h]==l[h]&&o[h];)h++;return 0===h?null:o[h-1]}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return"before"==this.compareWith(i)}isAfter(i){return"after"==this.compareWith(i)}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const o=this.parent.is("node")?this.parent.getPath():[],l=i.parent.is("node")?i.parent.getPath():[];o.push(this.offset),l.push(i.offset);const h=Hn(o,l);switch(h){case"prefix":return"before";case"extension":return"after";default:return o[h]<l[h]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new Ma(i)}clone(){return new Qe(this.parent,this.offset)}static _createAt(i,o){if(i instanceof Qe)return new this(i.parent,i.offset);{const l=i;if("end"==o)o=l.is("$text")?l.data.length:l.childCount;else{if("before"==o)return this._createBefore(l);if("after"==o)return this._createAfter(l);if(0!==o&&!o)throw new q("view-createpositionat-offset-required",l)}return new Qe(l,o)}}static _createAfter(i){if(i.is("$textProxy"))return new Qe(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new q("view-position-after-root",i,{root:i});return new Qe(i.parent,i.index+1)}static _createBefore(i){if(i.is("$textProxy"))return new Qe(i.textNode,i.offsetInText);if(!i.parent)throw new q("view-position-before-root",i,{root:i});return new Qe(i.parent,i.index)}}Qe.prototype.is=function(f){return"position"===f||"view:position"===f};class Ot extends Rt{constructor(i,o=null){super(),this.start=i.clone(),this.end=o?o.clone():i.clone()}*[Symbol.iterator](){yield*new Ma({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(xa,{direction:"backward"}),o=this.end.getLastMatchingPosition(xa);return i.parent.is("$text")&&i.isAtStart&&(i=Qe._createBefore(i.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=Qe._createAfter(o.parent)),new Ot(i,o)}getTrimmed(){let i=this.start.getLastMatchingPosition(xa);if(i.isAfter(this.end)||i.isEqual(this.end))return new Ot(i,i);let o=this.end.getLastMatchingPosition(xa,{direction:"backward"});const l=i.nodeAfter,h=o.nodeBefore;return l&&l.is("$text")&&(i=new Qe(l,0)),h&&h.is("$text")&&(o=new Qe(h,h.data.length)),new Ot(i,o)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const l=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),h=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return l&&h}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Ot(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Ot(i.end,this.end))):o.push(this.clone()),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,l=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(l=i.end),new Ot(o,l)}return null}getWalker(i={}){return i.boundaries=this,new Ma(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let i=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(i=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),i&&i.is("element")&&i===o?i:null}clone(){return new Ot(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Ma(i);for(const l of o)yield l.item}*getPositions(i={}){i.boundaries=this;const o=new Ma(i);yield o.position;for(const l of o)yield l.nextPosition}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,o,l,h){return new this(new Qe(i,o),new Qe(l,h))}static _createFromPositionAndShift(i,o){const l=i,h=i.getShiftedBy(o);return o>0?new this(l,h):new this(h,l)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const o=i.is("$textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(Qe._createBefore(i),o)}}function xa(f){return!(!f.item.is("attributeElement")&&!f.item.is("uiElement"))}Ot.prototype.is=function(f){return"range"===f||"view:range"===f};class Tr extends(pe(Rt)){constructor(...i){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",i.length&&this.setTo(...i)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?i.clone():null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let l=!1;for(const h of i._ranges)if(o.isEqual(h)){l=!0;break}if(!l)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const o=Xi(this.getRanges());if(o!=Xi(i.getRanges()))return!1;if(0==o)return!0;for(let l of this.getRanges()){l=l.getTrimmed();let h=!1;for(let v of i.getRanges())if(v=v.getTrimmed(),l.start.isEqual(v.start)&&l.end.isEqual(v.end)){h=!0;break}if(!h)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...i){let[o,l,h]=i;if("object"==typeof l&&(h=l,l=void 0),null===o)this._setRanges([]),this._setFakeOptions(h);else if(o instanceof Tr||o instanceof D2)this._setRanges(o.getRanges(),o.isBackward),this._setFakeOptions({fake:o.isFake,label:o.fakeSelectionLabel});else if(o instanceof Ot)this._setRanges([o],h&&h.backward),this._setFakeOptions(h);else if(o instanceof Qe)this._setRanges([new Ot(o)]),this._setFakeOptions(h);else if(o instanceof ii){const v=!!h&&!!h.backward;let b;if(void 0===l)throw new q("view-selection-setto-required-second-parameter",this);b="in"==l?Ot._createIn(o):"on"==l?Ot._createOn(o):new Ot(Qe._createAt(o,l)),this._setRanges([b],v),this._setFakeOptions(h)}else{if(!_i(o))throw new q("view-selection-setto-not-selectable",this);this._setRanges(o,h&&h.backward),this._setFakeOptions(h)}this.fire("change")}setFocus(i,o){if(null===this.anchor)throw new q("view-selection-setfocus-no-ranges",this);const l=Qe._createAt(i,o);if("same"==l.compareWith(this.focus))return;const h=this.anchor;this._ranges.pop(),"before"==l.compareWith(h)?this._addRange(new Ot(l,h),!0):this._addRange(new Ot(h,l)),this.fire("change")}_setRanges(i,o=!1){i=Array.from(i),this._ranges=[];for(const l of i)this._addRange(l);this._lastRangeBackward=!!o}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,o=!1){if(!(i instanceof Ot))throw new q("view-selection-add-range-not-range",this);this._pushRange(i),this._lastRangeBackward=!!o}_pushRange(i){for(const o of this._ranges)if(i.isIntersecting(o))throw new q("view-selection-range-intersects",this,{addedRange:i,intersectingRange:o});this._ranges.push(new Ot(i.start,i.end))}}Tr.prototype.is=function(f){return"selection"===f||"view:selection"===f};class D2 extends(pe(Rt)){constructor(...i){super(),this._selection=new Tr,this._selection.delegate("change").to(this),i.length&&this._selection.setTo(...i)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}_setTo(...i){this._selection.setTo(...i)}_setFocus(i,o){this._selection.setFocus(i,o)}}D2.prototype.is=function(f){return"selection"===f||"documentSelection"==f||"view:selection"==f||"view:documentSelection"==f};class z2 extends je{constructor(i,o,l){super(i,o),this.startRange=l,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const D0=Symbol("bubbling contexts");function z0(f){return class extends f{fire(i,...o){try{const l=i instanceof je?i:new je(this,i),h=Gu(this);if(!h.size)return;if(I0(l,"capturing",this),xi(h,"$capture",l,...o))return l.return;const v=l.startRange||this.selection.getFirstRange(),b=v?v.getContainedElement():null,C=!!b&&Boolean(Ac(h,b));let a=b||function(c){if(!c)return null;const u=c.start.parent,p=c.end.parent,_=u.getPath(),y=p.getPath();return _.length>y.length?u:p}(v);if(I0(l,"atTarget",a),!C){if(xi(h,"$text",l,...o))return l.return;I0(l,"bubbling",a)}for(;a;){if(a.is("rootElement")){if(xi(h,"$root",l,...o))return l.return}else if(a.is("element")&&xi(h,a.name,l,...o))return l.return;if(xi(h,a,l,...o))return l.return;a=a.parent,I0(l,"bubbling",a)}return I0(l,"bubbling",this),xi(h,"$document",l,...o),l.return}catch(l){q.rethrowUnexpectedError(l,this)}}_addEventListener(i,o,l){const h=$n(l.context||"$document"),v=Gu(this);for(const b of h){let C=v.get(b);C||(C=new(pe()),v.set(b,C)),this.listenTo(C,i,o,l)}}_removeEventListener(i,o){const l=Gu(this);for(const h of l.values())this.stopListening(h,i,o)}}}{const f=z0(Object);["fire","_addEventListener","_removeEventListener"].forEach(i=>{z0[i]=f.prototype[i]})}function I0(f,i,o){f instanceof z2&&(f._eventPhase=i,f._currentTarget=o)}function xi(f,i,o,...l){const h="string"==typeof i?f.get(i):Ac(f,i);return!!h&&(h.fire(o,...l),o.stop.called)}function Ac(f,i){for(const[o,l]of f)if("function"==typeof o&&o(i))return l;return null}function Gu(f){return f[D0]||(f[D0]=new Map),f[D0]}class T0 extends(z0(Gt())){constructor(i){super(),this.selection=new D2,this.roots=new Wr({idProperty:"rootName"}),this.stylesProcessor=i,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.map(i=>i.destroy()),this.stopListening()}_callPostFixers(i){let o=!1;do{for(const l of this._postFixers)if(o=l(i),o)break}while(o)}}class I2 extends Oo{constructor(...i){super(...i),this.getFillerOffset=L0,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new q("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(i){return null!==this.id||null!==i.id?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i=!1){const o=super._clone(i);return o._priority=this._priority,o._id=this._id,o}}function L0(){if(eo(this))return null;let f=this.parent;for(;f&&f.is("attributeElement");){if(eo(f)>1)return null;f=f.parent}return!f||eo(f)>1?null:this.childCount}function eo(f){return Array.from(f.getChildren()).filter(i=>!i.is("uiElement")).length}I2.DEFAULT_PRIORITY=10,I2.prototype.is=function(f,i){return i?i===this.name&&("attributeElement"===f||"view:attributeElement"===f||"element"===f||"view:element"===f):"attributeElement"===f||"view:attributeElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class N0 extends Oo{constructor(i,o,l,h){super(i,o,l,h),this.getFillerOffset=V0}_insertChild(i,o){if(o&&(o instanceof ii||Array.from(o).length>0))throw new q("view-emptyelement-cannot-add",[this,o]);return 0}}function V0(){return null}N0.prototype.is=function(f,i){return i?i===this.name&&("emptyElement"===f||"view:emptyElement"===f||"element"===f||"view:element"===f):"emptyElement"===f||"view:emptyElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class H0 extends Oo{constructor(...i){super(...i),this.getFillerOffset=Yl}_insertChild(i,o){if(o&&(o instanceof ii||Array.from(o).length>0))throw new q("view-uielement-cannot-add",[this,o]);return 0}render(i,o){return this.toDomElement(i)}toDomElement(i){const o=i.createElement(this.name);for(const l of this.getAttributeKeys())o.setAttribute(l,this.getAttribute(l));return o}}function Yl(){return null}H0.prototype.is=function(f,i){return i?i===this.name&&("uiElement"===f||"view:uiElement"===f||"element"===f||"view:element"===f):"uiElement"===f||"view:uiElement"===f||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class P0 extends Oo{constructor(...i){super(...i),this.getFillerOffset=Kl}_insertChild(i,o){if(o&&(o instanceof ii||Array.from(o).length>0))throw new q("view-rawelement-cannot-add",[this,o]);return 0}render(){}}function Kl(){return null}P0.prototype.is=function(f,i){return i?i===this.name&&("rawElement"===f||"view:rawElement"===f||"element"===f||"view:element"===f):"rawElement"===f||"view:rawElement"===f||f===this.name||f==="view:"+this.name||"element"===f||"view:element"===f||"node"===f||"view:node"===f};class po extends(pe(Rt)){constructor(i,o){super(),this.document=i,this._children=[],o&&this._insertChild(0,o),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,o){this._fireChange("children",this);let l=0;const h=(v=this.document,"string"==typeof(b=o)?[new wn(v,b)]:(_i(b)||(b=[b]),Array.from(b).map(C=>"string"==typeof C?new wn(v,C):C instanceof Xr?new wn(v,C.data):C)));var v,b;for(const v of h)null!==v.parent&&v._remove(),v.parent=this,this._children.splice(i,0,v),i++,l++;return l}_removeChildren(i,o=1){this._fireChange("children",this);for(let l=i;l<i+o;l++)this._children[l].parent=null;return this._children.splice(i,o)}_fireChange(i,o){this.fire("change:"+i,o)}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}po.prototype.is=function(f){return"documentFragment"===f||"view:documentFragment"===f};class T2{constructor(i){this.document=i,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...i){this.document.selection._setTo(...i)}setSelectionFocus(...i){this.document.selection._setFocus(...i)}createDocumentFragment(i){return new po(this.document,i)}createText(i){return new wn(this.document,i)}createAttributeElement(i,o,l={}){const h=new I2(this.document,i,o);return"number"==typeof l.priority&&(h._priority=l.priority),l.id&&(h._id=l.id),l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createContainerElement(i,o,l={},h={}){let v=null;At(l)?h=l:v=l;const b=new V1(this.document,i,o,v);return h.renderUnsafeAttributes&&b._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),b}createEditableElement(i,o,l={}){const h=new Zl(this.document,i,o);return l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createEmptyElement(i,o,l={}){const h=new N0(this.document,i,o);return l.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),h}createUIElement(i,o,l){const h=new H0(this.document,i,o);return l&&(h.render=l),h}createRawElement(i,o,l,h={}){const v=new P0(this.document,i,o);return l&&(v.render=l),h.renderUnsafeAttributes&&v._unsafeAttributesToRender.push(...h.renderUnsafeAttributes),v}setAttribute(i,o,l){l._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,l){At(i)&&void 0===l?o._setStyle(i):l._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,l){l._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}breakAttributes(i){return i instanceof Qe?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const o=i.parent;if(!o.is("containerElement"))throw new q("view-writer-break-non-container-element",this.document);if(!o.parent)throw new q("view-writer-break-root",this.document);if(i.isAtStart)return Qe._createBefore(o);if(!i.isAtEnd){const l=o._clone(!1);this.insert(Qe._createAfter(o),l);const h=new Ot(i,Qe._createAt(o,"end")),v=new Qe(l,0);this.move(h,v)}return Qe._createAfter(o)}mergeAttributes(i){const o=i.offset,l=i.parent;if(l.is("$text"))return i;if(l.is("attributeElement")&&0===l.childCount){const b=l.parent,C=l.index;return l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new Qe(b,C))}const h=l.getChild(o-1),v=l.getChild(o);if(!h||!v)return i;if(h.is("$text")&&v.is("$text"))return D(h,v);if(h.is("attributeElement")&&v.is("attributeElement")&&h.isSimilar(v)){const b=h.childCount;return h._appendChild(v.getChildren()),v._remove(),this._removeFromClonedElementsGroup(v),this.mergeAttributes(new Qe(h,b))}return i}mergeContainers(i){const o=i.nodeBefore,l=i.nodeAfter;if(!(o&&l&&o.is("containerElement")&&l.is("containerElement")))throw new q("view-writer-merge-containers-invalid-position",this.document);const h=o.getChild(o.childCount-1),v=Qe._createAt(h instanceof wn?h:o,"end");return this.move(Ot._createIn(l),Qe._createAt(o,"end")),this.remove(Ot._createOn(l)),v}insert(i,o){M(o=_i(o)?[...o]:[o],this.document);const l=o.reduce((b,C)=>{const a=b[b.length-1],c=!C.is("uiElement");return a&&a.breakAttributes==c?a.nodes.push(C):b.push({breakAttributes:c,nodes:[C]}),b},[]);let h=null,v=i;for(const{nodes:b,breakAttributes:C}of l){const a=this._insertNodes(v,b,C);h||(h=a.start),v=a.end}return h?new Ot(h,v):new Ot(i)}remove(i){const o=i instanceof Ot?i:Ot._createOn(i);if(R(o,this.document),o.isCollapsed)return new po(this.document);const{start:l,end:h}=this._breakAttributesRange(o,!0),C=l.parent._removeChildren(l.offset,h.offset-l.offset);for(const c of C)this._removeFromClonedElementsGroup(c);const a=this.mergeAttributes(l);return o.start=a,o.end=a.clone(),new po(this.document,C)}clear(i,o){R(i,this.document);const l=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const h of l){const v=h.item;let b;if(v.is("element")&&o.isSimilar(v))b=Ot._createOn(v);else if(!h.nextPosition.isAfter(i.start)&&v.is("$textProxy")){const C=v.getAncestors().find(a=>a.is("element")&&o.isSimilar(a));C&&(b=Ot._createIn(C))}b&&(b.end.isAfter(i.end)&&(b.end=i.end),b.start.isBefore(i.start)&&(b.start=i.start),this.remove(b))}}move(i,o){let l;if(o.isAfter(i.end)){const h=(o=this._breakAttributes(o,!0)).parent,v=h.childCount;i=this._breakAttributesRange(i,!0),l=this.remove(i),o.offset+=h.childCount-v}else l=this.remove(i);return this.insert(o,l)}wrap(i,o){if(!(o instanceof I2))throw new q("view-writer-wrap-invalid-attribute",this.document);if(R(i,this.document),i.isCollapsed){let h=i.start;h.parent.is("element")&&!Array.from(h.parent.getChildren()).some(b=>!b.is("uiElement"))&&(h=h.getLastMatchingPosition(b=>b.item.is("uiElement"))),h=this._wrapPosition(h,o);const v=this.document.selection;return v.isCollapsed&&v.getFirstPosition().isEqual(i.start)&&this.setSelection(h),new Ot(h)}return this._wrapRange(i,o)}unwrap(i,o){if(!(o instanceof I2))throw new q("view-writer-unwrap-invalid-attribute",this.document);if(R(i,this.document),i.isCollapsed)return i;const{start:l,end:h}=this._breakAttributesRange(i,!0),b=this._unwrapChildren(l.parent,l.offset,h.offset,o),C=this.mergeAttributes(b.start);C.isEqual(b.start)||b.end.offset--;const a=this.mergeAttributes(b.end);return new Ot(C,a)}rename(i,o){const l=new V1(this.document,i,o.getAttributes());return this.insert(Qe._createAfter(o),l),this.move(Ot._createIn(o),Qe._createAt(l,0)),this.remove(Ot._createOn(o)),l}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,o){return Qe._createAt(i,o)}createPositionAfter(i){return Qe._createAfter(i)}createPositionBefore(i){return Qe._createBefore(i)}createRange(...i){return new Ot(...i)}createRangeOn(i){return Ot._createOn(i)}createRangeIn(i){return Ot._createIn(i)}createSelection(...i){return new Tr(...i)}createSlot(i){if(!this._slotFactory)throw new q("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,i)}_registerSlotFactory(i){this._slotFactory=i}_clearSlotFactory(){this._slotFactory=null}_insertNodes(i,o,l){let h,v;if(h=l?R0(i):i.parent.is("$text")?i.parent.parent:i.parent,!h)throw new q("view-writer-invalid-position-container",this.document);v=l?this._breakAttributes(i,!0):i.parent.is("$text")?O0(i):i;const b=h._insertChild(v.offset,o);for(const u of o)this._addToClonedElementsGroup(u);const C=v.getShiftedBy(b),a=this.mergeAttributes(v);a.isEqual(v)||C.offset--;const c=this.mergeAttributes(C);return new Ot(a,c)}_wrapChildren(i,o,l,h){let v=o;const b=[];for(;v<l;){const a=i.getChild(v),c=a.is("$text"),u=a.is("attributeElement");if(u&&this._wrapAttributeElement(h,a))b.push(new Qe(i,v));else if(c||!u||qu(h,a)){const p=h._clone();a._remove(),p._appendChild(a),i._insertChild(v,p),this._addToClonedElementsGroup(p),b.push(new Qe(i,v))}else this._wrapChildren(a,0,a.childCount,h);v++}let C=0;for(const a of b)a.offset-=C,a.offset!=o&&(this.mergeAttributes(a).isEqual(a)||(C++,l--));return Ot._createFromParentsAndOffsets(i,o,i,l)}_unwrapChildren(i,o,l,h){let v=o;const b=[];for(;v<l;){const a=i.getChild(v);if(a.is("attributeElement"))if(a.isSimilar(h)){const c=a.getChildren(),u=a.childCount;a._remove(),i._insertChild(v,c),this._removeFromClonedElementsGroup(a),b.push(new Qe(i,v),new Qe(i,v+u)),v+=u,l+=u-1}else this._unwrapAttributeElement(h,a)?(b.push(new Qe(i,v),new Qe(i,v+1)),v++):(this._unwrapChildren(a,0,a.childCount,h),v++);else v++}let C=0;for(const a of b)a.offset-=C,a.offset!=o&&a.offset!=l&&(this.mergeAttributes(a).isEqual(a)||(C++,l--));return Ot._createFromParentsAndOffsets(i,o,i,l)}_wrapRange(i,o){const{start:l,end:h}=this._breakAttributesRange(i,!0),b=this._wrapChildren(l.parent,l.offset,h.offset,o),C=this.mergeAttributes(b.start);C.isEqual(b.start)||b.end.offset--;const a=this.mergeAttributes(b.end);return new Ot(C,a)}_wrapPosition(i,o){if(o.isSimilar(i.parent))return $u(i.clone());i.parent.is("$text")&&(i=O0(i));const l=this.createAttributeElement("_wrapPosition-fake-element");l._priority=Number.POSITIVE_INFINITY,l.isSimilar=()=>!1,i.parent._insertChild(i.offset,l);const h=new Ot(i,i.getShiftedBy(1));this.wrap(h,o);const v=new Qe(l.parent,l.index);l._remove();const b=v.nodeBefore,C=v.nodeAfter;return b instanceof wn&&C instanceof wn?D(b,C):$u(v)}_wrapAttributeElement(i,o){if(!j(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const l of i.getAttributeKeys())if("class"!==l&&"style"!==l&&o.hasAttribute(l)&&o.getAttribute(l)!==i.getAttribute(l))return!1;for(const l of i.getStyleNames())if(o.hasStyle(l)&&o.getStyle(l)!==i.getStyle(l))return!1;for(const l of i.getAttributeKeys())"class"!==l&&"style"!==l&&(o.hasAttribute(l)||this.setAttribute(l,i.getAttribute(l),o));for(const l of i.getStyleNames())o.hasStyle(l)||this.setStyle(l,i.getStyle(l),o);for(const l of i.getClassNames())o.hasClass(l)||this.addClass(l,o);return!0}_unwrapAttributeElement(i,o){if(!j(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const l of i.getAttributeKeys())if("class"!==l&&"style"!==l&&(!o.hasAttribute(l)||o.getAttribute(l)!==i.getAttribute(l)))return!1;if(!o.hasClass(...i.getClassNames()))return!1;for(const l of i.getStyleNames())if(!o.hasStyle(l)||o.getStyle(l)!==i.getStyle(l))return!1;for(const l of i.getAttributeKeys())"class"!==l&&"style"!==l&&this.removeAttribute(l,o);return this.removeClass(Array.from(i.getClassNames()),o),this.removeStyle(Array.from(i.getStyleNames()),o),!0}_breakAttributesRange(i,o=!1){const l=i.start,h=i.end;if(R(i,this.document),i.isCollapsed){const a=this._breakAttributes(i.start,o);return new Ot(a,a)}const v=this._breakAttributes(h,o),b=v.parent.childCount,C=this._breakAttributes(l,o);return v.offset+=v.parent.childCount-b,new Ot(C,v)}_breakAttributes(i,o=!1){const l=i.offset,h=i.parent;if(i.parent.is("emptyElement"))throw new q("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new q("view-writer-cannot-break-ui-element",this.document);if(i.parent.is("rawElement"))throw new q("view-writer-cannot-break-raw-element",this.document);if(!o&&h.is("$text")&&I(h.parent)||I(h))return i.clone();if(h.is("$text"))return this._breakAttributes(O0(i),o);if(l==h.childCount){const v=new Qe(h.parent,h.index+1);return this._breakAttributes(v,o)}if(0===l){const v=new Qe(h.parent,h.index);return this._breakAttributes(v,o)}{const v=h.index+1,b=h._clone();h.parent._insertChild(v,b),this._addToClonedElementsGroup(b);const a=h._removeChildren(l,h.childCount-l);b._appendChild(a);const c=new Qe(h.parent,v);return this._breakAttributes(c,o)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const h of i.getChildren())this._addToClonedElementsGroup(h);const o=i.id;if(!o)return;let l=this._cloneGroups.get(o);l||(l=new Set,this._cloneGroups.set(o,l)),l.add(i),i._clonesGroup=l}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const h of i.getChildren())this._removeFromClonedElementsGroup(h);const o=i.id;if(!o)return;const l=this._cloneGroups.get(o);l&&l.delete(i)}}function R0(f){let i=f.parent;for(;!I(i);){if(!i)return;i=i.parent}return i}function qu(f,i){return f.priority<i.priority||!(f.priority>i.priority)&&f.getIdentity()<i.getIdentity()}function $u(f){const i=f.nodeBefore;if(i&&i.is("$text"))return new Qe(i,i.data.length);const o=f.nodeAfter;return o&&o.is("$text")?new Qe(o,0):f}function O0(f){if(f.offset==f.parent.data.length)return new Qe(f.parent.parent,f.parent.index+1);if(0===f.offset)return new Qe(f.parent.parent,f.parent.index);const i=f.parent.data.slice(f.offset);return f.parent._data=f.parent.data.slice(0,f.offset),f.parent.parent._insertChild(f.parent.index+1,new wn(f.root.document,i)),new Qe(f.parent.parent,f.parent.index+1)}function D(f,i){const o=f.data.length;return f._data+=i.data,i._remove(),new Qe(f,o)}const k=[wn,I2,V1,N0,P0,H0];function M(f,i){for(const o of f){if(!k.some(l=>o instanceof l))throw new q("view-writer-insert-invalid-node-type",i);o.is("$text")||M(o.getChildren(),i)}}function I(f){return f&&(f.is("containerElement")||f.is("documentFragment"))}function R(f,i){const o=R0(f.start),l=R0(f.end);if(!o||!l||o!==l)throw new q("view-writer-invalid-range-container",i)}function j(f,i){return null===f.id&&null===i.id}const re=f=>f.createTextNode("\xa0"),ge=f=>{const i=f.createElement("span");return i.dataset.ckeFiller="true",i.innerText="\xa0",i},qe=f=>{const i=f.createElement("br");return i.dataset.ckeFiller="true",i},et=7,_t="\u2060".repeat(et);function lt(f){return On(f)&&f.data.substr(0,et)===_t}function Tn(f){return f.data.length==et&&lt(f)}function vs(f){return lt(f)?f.data.slice(et):f.data}function F3(f,i){if(i.keyCode==Cn.arrowleft){const o=i.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){const l=o.getRangeAt(0).startContainer,h=o.getRangeAt(0).startOffset;lt(l)&&h<=et&&o.collapse(l,0)}}}var B3=se(9315);Et()(B3.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class F0 extends(Gt()){constructor(i,o){super(),this.domDocuments=new Set,this.domConverter=i,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),U.isBlink&&!U.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(i,o){if("text"===i)this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if("attributes"===i)this.markedAttributes.add(o);else{if("children"!==i)throw new q("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){if(this.isComposing&&!U.isAndroid)return;let i=null;const o=!(U.isBlink&&!U.isAndroid&&this.isSelecting);for(const l of this.markedChildren)this._updateChildrenMappings(l);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(i=this.domConverter.domPositionToView(this._inlineFiller),i&&i.parent.is("$text")&&(i=Qe._createBefore(i.parent)));for(const l of this.markedAttributes)this._updateAttrs(l);for(const l of this.markedChildren)this._updateChildren(l,{inlineFillerPosition:i});for(const l of this.markedTexts)!this.markedChildren.has(l.parent)&&this.domConverter.mapViewToDom(l.parent)&&this._updateText(l,{inlineFillerPosition:i});if(o)if(i){const l=this.domConverter.viewPositionToDom(i),h=l.parent.ownerDocument;this._inlineFiller=lt(l.parent)?l.parent:B0(h,l.parent,l.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){if(!this.domConverter.mapViewToDom(i))return;const o=Array.from(this.domConverter.mapViewToDom(i).childNodes),l=Array.from(this.domConverter.viewChildrenToDom(i,{withChildren:!1})),h=this._diffNodeLists(o,l),v=this._findReplaceActions(h,o,l);if(-1!==v.indexOf("replace")){const b={equal:0,insert:0,delete:0};for(const C of v)if("replace"===C){const a=b.equal+b.insert,c=b.equal+b.delete,u=i.getChild(a);!u||u.is("uiElement")||u.is("rawElement")||this._updateElementMappings(u,o[c]),h0(l[a]),b.equal++}else b[C]++}}_updateElementMappings(i,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("$text")?Qe._createBefore(i.parent):i}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(i);return!!(o&&On(o.parent)&&lt(o.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!lt(i))throw new q("view-renderer-filler-was-lost",this);Tn(i)?i.remove():i.data=i.data.substr(et),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=i.parent,l=i.offset;if(!this.domConverter.mapViewToDom(o.root)||!o.is("element")||!function(b){if("false"==b.getAttribute("contenteditable"))return!1;const C=b.findAncestor(a=>a.hasAttribute("contenteditable"));return!C||"true"==C.getAttribute("contenteditable")}(o)||l===o.getFillerOffset())return!1;const h=i.nodeBefore,v=i.nodeAfter;return!(h instanceof wn||v instanceof wn||U.isAndroid&&(h||v))}_updateText(i,o){const l=this.domConverter.findCorrespondingDomText(i);let h=this.domConverter.viewToDom(i).data;const v=o.inlineFillerPosition;v&&v.parent==i.parent&&v.offset==i.index&&(h=_t+h),j0(l,h)}_updateAttrs(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const l=Array.from(o.attributes).map(v=>v.name),h=i.getAttributeKeys();for(const v of h)this.domConverter.setDomElementAttribute(o,v,i.getAttribute(v),i);for(const v of l)i.hasAttribute(v)||this.domConverter.removeDomElementAttribute(o,v)}_updateChildren(i,o){const l=this.domConverter.mapViewToDom(i);if(!l)return;if(U.isAndroid){let p=null;for(const _ of Array.from(l.childNodes)){if(p&&On(p)&&On(_)){l.normalize();break}p=_}}const h=o.inlineFillerPosition,v=l.childNodes,b=Array.from(this.domConverter.viewChildrenToDom(i,{bind:!0}));h&&h.parent===i&&B0(l.ownerDocument,b,h.offset);const C=this._diffNodeLists(v,b),a=U.isAndroid?this._findReplaceActions(C,v,b,{replaceText:!0}):C;let c=0;const u=new Set;for(const p of a)"delete"===p?(u.add(v[c]),h0(v[c])):"equal"!==p&&"replace"!==p||c++;c=0;for(const p of a)"insert"===p?(n1(l,c,b[c]),c++):"replace"===p?(j0(v[c],b[c].data),c++):"equal"===p&&(this._markDescendantTextToSync(this.domConverter.domToView(b[c])),c++);for(const p of u)p.parentNode||this.domConverter.unbindDomElement(p)}_diffNodeLists(i,o){return ct(i=function(l,h){const v=Array.from(l);return 0==v.length||!h||v[v.length-1]==h&&v.pop(),v}(i,this._fakeSelectionContainer),o,Mc.bind(null,this.domConverter))}_findReplaceActions(i,o,l,h={}){if(-1===i.indexOf("insert")||-1===i.indexOf("delete"))return i;let v=[],b=[],C=[];const a={equal:0,insert:0,delete:0};for(const c of i)"insert"===c?C.push(l[a.equal+a.insert]):"delete"===c?b.push(o[a.equal+a.delete]):(v=v.concat(ct(b,C,h.replaceText?Fo:j3).map(u=>"equal"===u?"replace":u)),v.push("equal"),b=[],C=[]),a[c]++;return v.concat(ct(b,C,h.replaceText?Fo:j3).map(c=>"equal"===c?"replace":c))}_markDescendantTextToSync(i){if(i)if(i.is("$text"))this.markedTexts.add(i);else if(i.is("element"))for(const o of i.getChildren())this._markDescendantTextToSync(o)}_updateSelection(){if(U.isBlink&&!U.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(i)):this.isComposing&&U.isAndroid||this._updateDomSelection(i))}_updateFakeSelection(i){const o=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(b){const C=b.createElement("div");return C.className="ck-fake-selection-container",Object.assign(C.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),C.textContent="\xa0",C}(o));const l=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(l,this.selection),!this._fakeSelectionNeedsUpdate(i))return;l.parentElement&&l.parentElement==i||i.appendChild(l),l.textContent=this.selection.fakeSelectionLabel||"\xa0";const h=o.getSelection(),v=o.createRange();h.removeAllRanges(),v.selectNodeContents(l),h.addRange(v)}_updateDomSelection(i){const o=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const l=this.domConverter.viewPositionToDom(this.selection.anchor),h=this.domConverter.viewPositionToDom(this.selection.focus);o.collapse(l.parent,l.offset),o.extend(h.parent,h.offset),U.isGecko&&function(v,b){const C=v.parent;if(C.nodeType!=Node.ELEMENT_NODE||v.offset!=C.childNodes.length-1)return;const a=C.childNodes[v.offset];a&&"BR"==a.tagName&&b.addRange(b.getRangeAt(0))}(h,o)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const o=i&&this.domConverter.domSelectionToView(i);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(i){const o=this._fakeSelectionContainer,l=i.ownerDocument.getSelection();return!o||o.parentElement!==i||l.anchorNode!==o&&!o.contains(l.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments){const o=i.getSelection();if(o.rangeCount){const l=i.activeElement,h=this.domConverter.mapDomToView(l);l&&h&&o.removeAllRanges()}}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function B0(f,i,o){const l=i instanceof Array?i:i.childNodes,h=l[o];if(On(h))return h.data=_t+h.data,h;{const v=f.createTextNode(_t);return Array.isArray(i)?l.splice(o,0,v):n1(i,o,v),v}}function j3(f,i){return No(f)&&No(i)&&!On(f)&&!On(i)&&!es(f)&&!es(i)&&f.tagName.toLowerCase()===i.tagName.toLowerCase()}function Fo(f,i){return No(f)&&No(i)&&On(f)&&On(i)}function Mc(f,i,o){return i===o||(On(i)&&On(o)?i.data===o.data:!(!f.isBlockFiller(i)||!f.isBlockFiller(o)))}function j0(f,i){const o=f.data;if(o==i)return;const l=ce(o,i);for(const h of l)"insert"===h.type?f.insertData(h.index,h.values.join("")):f.deleteData(h.index,h.howMany)}const R5=qe(ln.document),O5=re(ln.document),U0=ge(ln.document),G0="data-ck-unsafe-attribute-",F5="data-ck-unsafe-element";class U3{constructor(i,o={}){this.document=i,this.renderingMode=o.renderingMode||"editing",this.blockFillerMode=o.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?ln.document:ln.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ir,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(i,o){this._fakeSelectionMapping.set(i,new Tr(o))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}unbindDomElement(i){const o=this._domToViewMapping.get(i);if(o){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(o);for(const l of Array.from(i.children))this.unbindDomElement(l)}}bindDocumentFragments(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}shouldRenderAttribute(i,o,l){return"data"===this.renderingMode||!(i=i.toLowerCase()).startsWith("on")&&("srcdoc"!==i||!o.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===l&&("src"===i||"srcset"===i)||"source"===l&&"srcset"===i||!o.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(i,o){if("data"===this.renderingMode)return void(i.innerHTML=o);const l=(new DOMParser).parseFromString(o,"text/html"),h=l.createDocumentFragment(),v=l.body.childNodes;for(;v.length>0;)h.appendChild(v[0]);const b=l.createTreeWalker(h,NodeFilter.SHOW_ELEMENT),C=[];let a;for(;a=b.nextNode();)C.push(a);for(const c of C){for(const p of c.getAttributeNames())this.setDomElementAttribute(c,p,c.getAttribute(p));const u=c.tagName.toLowerCase();this._shouldRenameElement(u)&&(M7(u),c.replaceWith(this._createReplacementDomElement(u,c)))}for(;i.firstChild;)i.firstChild.remove();i.append(h)}viewToDom(i,o={}){if(i.is("$text")){const l=this._processDataFromViewText(i);return this._domDocument.createTextNode(l)}{if(this.mapViewToDom(i))return this.mapViewToDom(i);let l;if(i.is("documentFragment"))l=this._domDocument.createDocumentFragment(),o.bind&&this.bindDocumentFragments(l,i);else{if(i.is("uiElement"))return l="$comment"===i.name?this._domDocument.createComment(i.getCustomProperty("$rawContent")):i.render(this._domDocument,this),o.bind&&this.bindElements(l,i),l;this._shouldRenameElement(i.name)?(M7(i.name),l=this._createReplacementDomElement(i.name)):l=i.hasAttribute("xmlns")?this._domDocument.createElementNS(i.getAttribute("xmlns"),i.name):this._domDocument.createElement(i.name),i.is("rawElement")&&i.render(l,this),o.bind&&this.bindElements(l,i);for(const h of i.getAttributeKeys())this.setDomElementAttribute(l,h,i.getAttribute(h),i)}if(!1!==o.withChildren)for(const h of this.viewChildrenToDom(i,o))l.appendChild(h);return l}}setDomElementAttribute(i,o,l,h){const v=this.shouldRenderAttribute(o,l,i.tagName.toLowerCase())||h&&h.shouldRenderUnsafeAttribute(o);v||Fe("domconverter-unsafe-attribute-detected",{domElement:i,key:o,value:l}),i.hasAttribute(o)&&!v?i.removeAttribute(o):i.hasAttribute(G0+o)&&v&&i.removeAttribute(G0+o),i.setAttribute(v?o:G0+o,l)}removeDomElementAttribute(i,o){o!=F5&&(i.removeAttribute(o),i.removeAttribute(G0+o))}*viewChildrenToDom(i,o={}){const l=i.getFillerOffset&&i.getFillerOffset();let h=0;for(const v of i.getChildren()){l===h&&(yield this._getBlockFiller());const b=v.is("element")&&!!v.getCustomProperty("dataPipeline:transparentRendering")&&!gi(v.getAttributes());b&&"data"==this.renderingMode?yield*this.viewChildrenToDom(v,o):(b&&Fe("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:v}),yield this.viewToDom(v,o)),h++}l===h&&(yield this._getBlockFiller())}viewRangeToDom(i){const o=this.viewPositionToDom(i.start),l=this.viewPositionToDom(i.end),h=this._domDocument.createRange();return h.setStart(o.parent,o.offset),h.setEnd(l.parent,l.offset),h}viewPositionToDom(i){const o=i.parent;if(o.is("$text")){const l=this.findCorrespondingDomText(o);if(!l)return null;let h=i.offset;return lt(l)&&(h+=et),{parent:l,offset:h}}{let l,h,v;if(0===i.offset){if(l=this.mapViewToDom(o),!l)return null;v=l.childNodes[0]}else{const b=i.nodeBefore;if(h=b.is("$text")?this.findCorrespondingDomText(b):this.mapViewToDom(b),!h)return null;l=h.parentNode,v=h.nextSibling}return On(v)&&lt(v)?{parent:v,offset:et}:{parent:l,offset:h?t1(h)+1:0}}}domToView(i,o={}){if(this.isBlockFiller(i))return null;const l=this.getHostViewElement(i);if(l)return l;if(es(i)&&o.skipComments)return null;if(On(i)){if(Tn(i))return null;{const h=this._processDataFromDomText(i);return""===h?null:new wn(this.document,h)}}{if(this.mapDomToView(i))return this.mapDomToView(i);let h;if(this.isDocumentFragment(i))h=new po(this.document),o.bind&&this.bindDocumentFragments(i,h);else{h=this._createViewElement(i,o),o.bind&&this.bindElements(i,h);const v=i.attributes;if(v)for(let b=v.length,C=0;C<b;C++)h._setAttribute(v[C].name,v[C].value);if(this._isViewElementWithRawContent(h,o)||es(i)){const b=es(i)?i.data:i.innerHTML;return h._setCustomProperty("$rawContent",b),this._encounteredRawContentDomNodes.add(i),h}}if(!1!==o.withChildren)for(const v of this.domChildrenToView(i,o))h._appendChild(v);return h}}*domChildrenToView(i,o){for(let l=0;l<i.childNodes.length;l++){const v=this.domToView(i.childNodes[l],o);null!==v&&(yield v)}}domSelectionToView(i){if(1===i.rangeCount){let h=i.getRangeAt(0).startContainer;On(h)&&(h=h.parentNode);const v=this.fakeSelectionToView(h);if(v)return v}const o=this.isDomSelectionBackward(i),l=[];for(let h=0;h<i.rangeCount;h++){const v=i.getRangeAt(h),b=this.domRangeToView(v);b&&l.push(b)}return new Tr(l,{backward:o})}domRangeToView(i){const o=this.domPositionToView(i.startContainer,i.startOffset),l=this.domPositionToView(i.endContainer,i.endOffset);return o&&l?new Ot(o,l):null}domPositionToView(i,o=0){if(this.isBlockFiller(i))return this.domPositionToView(i.parentNode,t1(i));const l=this.mapDomToView(i);if(l&&(l.is("uiElement")||l.is("rawElement")))return Qe._createBefore(l);if(On(i)){if(Tn(i))return this.domPositionToView(i.parentNode,t1(i));const h=this.findCorrespondingViewText(i);let v=o;return h?(lt(i)&&(v-=et,v=v<0?0:v),new Qe(h,v)):null}if(0===o){const h=this.mapDomToView(i);if(h)return new Qe(h,0)}else{const h=i.childNodes[o-1];if(On(h)&&Tn(h))return this.domPositionToView(h.parentNode,t1(h));const v=On(h)?this.findCorrespondingViewText(h):this.mapDomToView(h);if(v&&v.parent)return new Qe(v.parent,v.index+1)}return null}mapDomToView(i){return this.getHostViewElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if(Tn(i))return null;const o=this.getHostViewElement(i);if(o)return o;const l=i.previousSibling;if(l){if(!this.isElement(l))return null;const h=this.mapDomToView(l);if(h){const v=h.nextSibling;return v instanceof wn?v:null}}else{const h=this.mapDomToView(i.parentNode);if(h){const v=h.getChild(0);return v instanceof wn?v:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const o=i.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const o=this.mapViewToDom(i);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:l,scrollY:h}=ln.window,v=[];B5(o,b=>{const{scrollLeft:C,scrollTop:a}=b;v.push([C,a])}),o.focus(),B5(o,b=>{const[C,a]=v.shift();b.scrollLeft=C,b.scrollTop=a}),ln.window.scrollTo(l,h)}}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(i){return"br"==this.blockFillerMode?i.isEqualNode(R5):!("BR"!==i.tagName||!Wu(i,this.blockElements)||1!==i.parentNode.childNodes.length)||i.isEqualNode(U0)||function(o,l){return o.isEqualNode(O5)&&Wu(o,l)&&1===o.parentNode.childNodes.length}(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const o=this._domDocument.createRange();try{o.setStart(i.anchorNode,i.anchorOffset),o.setEnd(i.focusNode,i.focusOffset)}catch{return!1}const l=o.collapsed;return o.detach(),l}getHostViewElement(i){const o=Gi(i);for(o.pop();o.length;){const l=o.pop(),h=this._domToViewMapping.get(l);if(h&&(h.is("uiElement")||h.is("rawElement")))return h}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}registerRawContentMatcher(i){this._rawContentElementMatcher.add(i)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return re(this._domDocument);case"markedNbsp":return ge(this._domDocument);case"br":return qe(this._domDocument)}}_isDomSelectionPositionCorrect(i,o){if(On(i)&&lt(i)&&o<et||this.isElement(i)&&lt(i.childNodes[o]))return!1;const l=this.mapDomToView(i);return!l||!l.is("uiElement")&&!l.is("rawElement")}_processDataFromViewText(i){let o=i.data;if(i.getAncestors().some(l=>this.preElements.includes(l.name)))return o;if(" "==o.charAt(0)){const l=this._getTouchingInlineViewNode(i,!1);!(l&&l.is("$textProxy")&&this._nodeEndsWithSpace(l))&&l||(o="\xa0"+o.substr(1))}if(" "==o.charAt(o.length-1)){const l=this._getTouchingInlineViewNode(i,!0),h=l&&l.is("$textProxy")&&" "==l.data.charAt(0);" "!=o.charAt(o.length-2)&&l&&!h||(o=o.substr(0,o.length-1)+"\xa0")}return o.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(i){if(i.getAncestors().some(l=>this.preElements.includes(l.name)))return!1;const o=this._processDataFromViewText(i);return" "==o.charAt(o.length-1)}_processDataFromDomText(i){let o=i.data;if(u=this.preElements,Gi(i).some(_=>_.tagName&&u.includes(_.tagName.toLowerCase())))return vs(i);var u;o=o.replace(/[ \n\t\r]{1,}/g," ");const l=this._getTouchingInlineDomNode(i,!1),h=this._getTouchingInlineDomNode(i,!0),v=this._checkShouldLeftTrimDomText(i,l),b=this._checkShouldRightTrimDomText(i,h);v&&(o=o.replace(/^ /,"")),b&&(o=o.replace(/ $/,"")),o=vs(new Text(o)),o=o.replace(/ \u00A0/g,"  ");const C=h&&this.isElement(h)&&"BR"!=h.tagName,a=h&&On(h)&&" "==h.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(o)||!h||C||a)&&(o=o.replace(/\u00A0$/," ")),(v||l&&this.isElement(l)&&"BR"!=l.tagName)&&(o=o.replace(/^\u00A0/," ")),o}_checkShouldLeftTrimDomText(i,o){return!o||(this.isElement(o)?"BR"===o.tagName:!this._encounteredRawContentDomNodes.has(i.previousSibling)&&/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))}_checkShouldRightTrimDomText(i,o){return!o&&!lt(i)}_getTouchingInlineViewNode(i,o){const l=new Ma({startPosition:o?Qe._createAfter(i):Qe._createBefore(i),direction:o?"forward":"backward"});for(const h of l){if(h.item.is("element")&&this.inlineObjectElements.includes(h.item.name))return h.item;if(h.item.is("containerElement")||h.item.is("element","br"))return null;if(h.item.is("$textProxy"))return h.item}return null}_getTouchingInlineDomNode(i,o){if(!i.parentNode)return null;const l=o?"firstChild":"lastChild",h=o?"nextSibling":"previousSibling";let v=!0,b=i;do{if(!v&&b[l]?b=b[l]:b[h]?(b=b[h],v=!1):(b=b.parentNode,v=!0),!b||this._isBlockElement(b))return null}while(!On(b)&&"BR"!=b.tagName&&!this._isInlineObjectElement(b));return b}_isBlockElement(i){return this.isElement(i)&&this.blockElements.includes(i.tagName.toLowerCase())}_isInlineObjectElement(i){return this.isElement(i)&&this.inlineObjectElements.includes(i.tagName.toLowerCase())}_createViewElement(i,o){if(es(i))return new H0(this.document,"$comment");const l=o.keepOriginalCase?i.tagName:i.tagName.toLowerCase();return new Oo(this.document,l)}_isViewElementWithRawContent(i,o){return!1!==o.withChildren&&!!this._rawContentElementMatcher.match(i)}_shouldRenameElement(i){const o=i.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(o)}_createReplacementDomElement(i,o){const l=this._domDocument.createElement("span");if(l.setAttribute(F5,i),o){for(;o.firstChild;)l.appendChild(o.firstChild);for(const h of o.getAttributeNames())l.setAttribute(h,o.getAttribute(h))}return l}}function B5(f,i){let o=f;for(;o;)i(o),o=o.parentElement}function Wu(f,i){const o=f.parentNode;return!!o&&!!o.tagName&&i.includes(o.tagName.toLowerCase())}function M7(f){"script"===f&&Fe("domconverter-unsafe-script-element-detected"),"style"===f&&Fe("domconverter-unsafe-style-element-detected")}class H1 extends(E1()){constructor(i){super(),this.view=i,this.document=i.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(i){return i&&3===i.nodeType&&(i=i.parentNode),!(!i||1!==i.nodeType)&&i.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const km=Bu(function(f,i){co(i,lo(i),f)});class q0{constructor(i,o,l){this.view=i,this.document=i.document,this.domEvent=o,this.domTarget=o.target,km(this,l)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class xc extends H1{constructor(i){super(i),this.useCapture=!1}observe(i){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(i,o,(l,h)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(h.target)&&this.onDomEvent(h)},{useCapture:this.useCapture})})}fire(i,o,l){this.isEnabled&&this.document.fire(i,new q0(this.view,o,l))}}class Am extends xc{constructor(i){super(i),this.domEventType=["keydown","keyup"]}onDomEvent(i){this.fire(i.type,i,{keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey,get keystroke(){return Vs(this)}})}}const $0=function(){return ht.Date.now()};var x7=/\s/,Dv=/^\s+/,Mm=/^[-+]0x[0-9a-f]+$/i,Ql=/^0b[01]+$/i,zv=/^0o[0-7]+$/i,E7=parseInt;const Zu=function(f){if("number"==typeof f)return f;if(ba(f))return NaN;if($t(f)){var i="function"==typeof f.valueOf?f.valueOf():f;f=$t(i)?i+"":i}if("string"!=typeof f)return 0===f?f:+f;f=function(f){return f&&f.slice(0,function(f){for(var i=f.length;i--&&x7.test(f.charAt(i)););return i}(f)+1).replace(Dv,"")}(f);var o=Ql.test(f);return o||zv.test(f)?E7(f.slice(2),o?2:8):Mm.test(f)?NaN:+f};var Yu=Math.max,Ku=Math.min;const Ea=function(f,i,o){var l,h,v,b,C,a,c=0,u=!1,p=!1,_=!0;if("function"!=typeof f)throw new TypeError("Expected a function");function y(V){var B=l,X=h;return l=h=void 0,c=V,b=f.apply(X,B)}function A(V){var B=V-a;return void 0===a||B>=i||B<0||p&&V-c>=v}function S(){var B,X,V=$0();if(A(V))return E(V);C=setTimeout(S,(X=i-((B=V)-a),p?Ku(X,v-(B-c)):X))}function E(V){return C=void 0,_&&l?y(V):(l=h=void 0,b)}function T(){var X,V=$0(),B=A(V);if(l=arguments,h=this,a=V,B){if(void 0===C)return c=X=a,C=setTimeout(S,i),u?y(X):b;if(p)return clearTimeout(C),C=setTimeout(S,i),y(a)}return void 0===C&&(C=setTimeout(S,i)),b}return i=Zu(i)||0,$t(o)&&(u=!!o.leading,v=(p="maxWait"in o)?Yu(Zu(o.maxWait)||0,i):v,_="trailing"in o?!!o.trailing:_),T.cancel=function(){void 0!==C&&clearTimeout(C),c=0,l=a=h=C=void 0},T.flush=function(){return void 0===C?b:E($0())},T};class Iv extends H1{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=Ea(o=>{this.document.fire("selectionChangeDone",o)},200)}observe(){const i=this.document;i.on("arrowKey",(o,l)=>{i.selection.isFake&&this.isEnabled&&l.preventDefault()},{context:"$capture"}),i.on("arrowKey",(o,l)=>{i.selection.isFake&&this.isEnabled&&this._handleSelectionMove(l.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const o=this.document.selection,l=new Tr(o.getRanges(),{backward:o.isBackward,fake:!1});i!=Cn.arrowleft&&i!=Cn.arrowup||l.setTo(l.getFirstPosition()),i!=Cn.arrowright&&i!=Cn.arrowdown||l.setTo(l.getLastPosition());const h={oldSelection:o,newSelection:l,domSelection:null};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}function ri(f){var i=-1,o=null==f?0:f.length;for(this.__data__=new hr;++i<o;)this.add(f[i])}ri.prototype.add=ri.prototype.push=function(f){return this.__data__.set(f,"__lodash_hash_undefined__"),this},ri.prototype.has=function(f){return this.__data__.has(f)};const yt=ri,Xl=function(f,i){for(var o=-1,l=null==f?0:f.length;++o<l;)if(i(f[o],o,f))return!0;return!1},Lr=function(f,i){return f.has(i)},nn=function(f,i,o,l,h,v){var b=1&o,C=f.length,a=i.length;if(C!=a&&!(b&&a>C))return!1;var c=v.get(f),u=v.get(i);if(c&&u)return c==i&&u==f;var p=-1,_=!0,y=2&o?new yt:void 0;for(v.set(f,i),v.set(i,f);++p<C;){var A=f[p],S=i[p];if(l)var E=b?l(S,A,p,i,f,v):l(A,S,p,f,i,v);if(void 0!==E){if(E)continue;_=!1;break}if(y){if(!Xl(i,function(T,V){if(!Lr(y,V)&&(A===T||h(A,T,o,l,v)))return y.push(V)})){_=!1;break}}else if(A!==S&&!h(A,S,o,l,v)){_=!1;break}}return v.delete(f),v.delete(i),_},_s=function(f){var i=-1,o=Array(f.size);return f.forEach(function(l,h){o[++i]=[h,l]}),o},to=function(f){var i=-1,o=Array(f.size);return f.forEach(function(l){o[++i]=l}),o};var G5=Vt?Vt.prototype:void 0,ed=G5?G5.valueOf:void 0,P1=Object.prototype.hasOwnProperty,vo="[object Arguments]",R1="[object Array]",td="[object Object]",Y0=Object.prototype.hasOwnProperty;const Nv=function f(i,o,l,h,v){return i===o||(null==i||null==o||!Mn(i)&&!Mn(o)?i!=i&&o!=o:function(f,i,o,l,h,v){var b=Kn(f),C=Kn(i),a=b?R1:s3(f),c=C?R1:s3(i),u=(a=a==vo?td:a)==td,p=(c=c==vo?td:c)==td,_=a==c;if(_&&Ya(f)){if(!Ya(i))return!1;b=!0,u=!1}if(_&&!u)return v||(v=new ea),b||Xa(f)?nn(f,i,o,l,h,v):function(f,i,o,l,h,v,b){switch(o){case"[object DataView]":if(f.byteLength!=i.byteLength||f.byteOffset!=i.byteOffset)return!1;f=f.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=i.byteLength||!v(new l2(f),new l2(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ai(+f,+i);case"[object Error]":return f.name==i.name&&f.message==i.message;case"[object RegExp]":case"[object String]":return f==i+"";case"[object Map]":var C=_s;case"[object Set]":if(C||(C=to),f.size!=i.size&&!(1&l))return!1;var c=b.get(f);if(c)return c==i;l|=2,b.set(f,i);var u=nn(C(f),C(i),l,h,v,b);return b.delete(f),u;case"[object Symbol]":if(ed)return ed.call(f)==ed.call(i)}return!1}(f,i,a,o,l,h,v);if(!(1&o)){var y=u&&Y0.call(f,"__wrapped__"),A=p&&Y0.call(i,"__wrapped__");if(y||A){var S=y?f.value():f,E=A?i.value():i;return v||(v=new ea),h(S,E,o,l,v)}}return!!_&&(v||(v=new ea),function(f,i,o,l,h,v){var b=1&o,C=Ni(f),a=C.length;if(a!=Ni(i).length&&!b)return!1;for(var c=a;c--;){var u=C[c];if(!(b?u in i:P1.call(i,u)))return!1}var p=v.get(f),_=v.get(i);if(p&&_)return p==i&&_==f;var y=!0;v.set(f,i),v.set(i,f);for(var A=b;++c<a;){var S=f[u=C[c]],E=i[u];if(l)var T=b?l(E,S,u,i,f,v):l(S,E,u,f,i,v);if(!(void 0===T?S===E||h(S,E,o,l,v):T)){y=!1;break}A||(A="constructor"==u)}if(y&&!A){var V=f.constructor,B=i.constructor;V==B||!("constructor"in f)||!("constructor"in i)||"function"==typeof V&&V instanceof V&&"function"==typeof B&&B instanceof B||(y=!1)}return v.delete(f),v.delete(i),y}(f,i,o,l,h,v))}(i,o,l,h,f,v))},K0=function(f,i,o){var l=(o="function"==typeof o?o:void 0)?o(f,i):void 0;return void 0===l?Nv(f,i,void 0,o):!!l};class O1 extends H1{constructor(i){super(i),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=i.domConverter,this.renderer=i._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.push(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(0===i.length)return;const o=this.domConverter,l=new Set,h=new Set;for(const b of i){const C=o.mapDomToView(b.target);C&&(C.is("uiElement")||C.is("rawElement")||"childList"!==b.type||this._isBogusBrMutation(b)||h.add(C))}for(const b of i){const C=o.mapDomToView(b.target);if((!C||!C.is("uiElement")&&!C.is("rawElement"))&&"characterData"===b.type){const a=o.findCorrespondingViewText(b.target);a&&!h.has(a.parent)?l.add(a):!a&&lt(b.target)&&h.add(o.mapDomToView(b.target.parentNode))}}let v=!1;for(const b of l)v=!0,this.renderer.markToSync("text",b);for(const b of h){const C=o.mapViewToDom(b),a=Array.from(b.getChildren()),c=Array.from(o.domChildrenToView(C,{withChildren:!1}));K0(a,c,Dy)||(v=!0,this.renderer.markToSync("children",b))}v&&this.view.forceRender()}_isBogusBrMutation(i){let o=null;return null===i.nextSibling&&0===i.removedNodes.length&&1==i.addedNodes.length&&(o=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}function Dy(f,i){if(!Array.isArray(f))return f===i||!(!f.is("$text")||!i.is("$text"))&&f.data===i.data}class Dm extends xc{constructor(i){super(i),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),i.change(()=>{})},50)}),o.on("blur",(l,h)=>{const v=o.selection.editableElement;null!==v&&v!==h.target||(o.isFocused=!1,this._isFocusChanging=!1,i.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(i){this.fire(i.type,i)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class zy extends H1{constructor(i){super(i),this.mutationObserver=i.getObserver(O1),this.focusObserver=i.getObserver(Dm),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ea(o=>{this.document.fire("selectionChangeDone",o)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ea(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(i){const o=i.ownerDocument,l=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,o),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(i,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(i,"keydown",l,{priority:"highest",useCapture:!0}),this.listenTo(i,"keyup",l,{priority:"highest",useCapture:!0}),this._documents.has(o)||(this.listenTo(o,"mouseup",l,{priority:"highest",useCapture:!0}),this.listenTo(o,"selectionchange",(h,v)=>{this.document.isComposing&&!U.isAndroid||(this._handleSelectionChange(v,o),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(o))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(i,o){if(!this.isEnabled)return;const l=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(l.anchorNode))return;this.mutationObserver.flush();const h=this.domConverter.domSelectionToView(l);if(0!=h.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(h)&&this.domConverter.isDomSelectionCorrect(l)||++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(h))this.view.forceRender();else{const v={oldSelection:this.selection,newSelection:h,domSelection:l};this.document.fire("selectionChange",v),this._fireSelectionChangeDoneDebounced(v)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Iy extends xc{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0},{priority:"low"}),o.on("compositionend",()=>{o.isComposing=!1},{priority:"low"})}onDomEvent(i){this.fire(i.type,i,{data:i.data})}}class zm{constructor(i,o={}){this._files=o.cacheFiles?Ty(i):null,this._native=i}get files(){return this._files||(this._files=Ty(this._native)),this._files}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,o){this._native.setData(i,o)}set effectAllowed(i){this._native.effectAllowed=i}get effectAllowed(){return this._native.effectAllowed}set dropEffect(i){this._native.dropEffect=i}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function Ty(f){const i=Array.from(f.files||[]),o=Array.from(f.items||[]);return i.length?i:o.filter(l=>"file"===l.kind).map(l=>l.getAsFile())}class Vv extends xc{constructor(i){super(i),this.domEventType=["beforeinput"]}onDomEvent(i){const o=i.getTargetRanges(),l=this.view,h=l.document;let v=null,b=null,C=[];if(i.dataTransfer&&(v=new zm(i.dataTransfer)),null!==i.data?b=i.data:v&&(b=v.getData("text/plain")),h.selection.isFake)C=Array.from(h.selection.getRanges());else if(o.length)C=o.map(a=>l.domConverter.domRangeToView(a));else if(U.isAndroid){const a=i.target.ownerDocument.defaultView.getSelection();C=Array.from(l.domConverter.domSelectionToView(a).getRanges())}if(U.isAndroid&&"insertCompositionText"==i.inputType&&b&&b.endsWith("\n"))this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:[l.createRange(C[0].end)]});else if("insertText"==i.inputType&&b&&b.includes("\n")){const a=b.split(/\n{1,2}/g);let c=C;for(let u=0;u<a.length;u++){const p=a[u];""!=p&&(this.fire(i.type,i,{data:p,dataTransfer:v,targetRanges:c,inputType:i.inputType,isComposing:i.isComposing}),c=[h.selection.getFirstRange()]),u+1<a.length&&(this.fire(i.type,i,{inputType:"insertParagraph",targetRanges:c}),c=[h.selection.getFirstRange()])}}else this.fire(i.type,i,{data:b,dataTransfer:v,targetRanges:C,inputType:i.inputType,isComposing:i.isComposing})}}class Hv extends H1{constructor(i){super(i),this.document.on("keydown",(o,l)=>{if(this.isEnabled&&((h=l.keyCode)==Cn.arrowright||h==Cn.arrowleft||h==Cn.arrowup||h==Cn.arrowdown)){const v=new z2(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(v,l),v.stop.called&&o.stop()}var h})}observe(){}}class Ly extends H1{constructor(i){super(i);const o=this.document;o.on("keydown",(l,h)=>{if(!this.isEnabled||h.keyCode!=Cn.tab||h.ctrlKey)return;const v=new z2(o,"tab",o.selection.getFirstRange());o.fire(v,h),v.stop.called&&l.stop()})}observe(){}}class Pv extends(Gt()){constructor(i){super(),this.document=new T0(i),this.domConverter=new U3(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new F0(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new T2(this.document),this.addObserver(O1),this.addObserver(Dm),this.addObserver(zy),this.addObserver(Am),this.addObserver(Iv),this.addObserver(Iy),this.addObserver(Hv),this.addObserver(Vv),this.addObserver(Ly),this.document.on("arrowKey",F3,{priority:"low"}),function Sa(f){f.document.on("arrowKey",(i,o)=>function(l,h,v){if(h.keyCode==Cn.arrowright){const b=h.domTarget.ownerDocument.defaultView.getSelection(),C=1==b.rangeCount&&b.getRangeAt(0).collapsed;if(C||h.shiftKey){const u=v.domPositionToView(b.focusNode,b.focusOffset);if(null===u)return;let p=!1;const _=u.getLastMatchingPosition(y=>(y.item.is("uiElement")&&(p=!0),!(!y.item.is("uiElement")&&!y.item.is("attributeElement"))));if(p){const y=v.viewPositionToDom(_);C?b.collapse(y.parent,y.offset):b.extend(y.parent,y.offset)}}}}(0,o,f.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(i,o="main"){const l=this.document.getRoot(o);l._name=i.tagName.toLowerCase();const h={};for(const{name:b,value:C}of Array.from(i.attributes))h[b]=C,"class"===b?this._writer.addClass(C.split(" "),l):this._writer.setAttribute(b,C,l);this._initialDomRootAttributes.set(i,h);const v=()=>{this._writer.setAttribute("contenteditable",(!l.isReadOnly).toString(),l),l.isReadOnly?this._writer.addClass("ck-read-only",l):this._writer.removeClass("ck-read-only",l)};v(),this.domRoots.set(o,i),this.domConverter.bindElements(i,l),this._renderer.markToSync("children",l),this._renderer.markToSync("attributes",l),this._renderer.domDocuments.add(i.ownerDocument),l.on("change:children",(b,C)=>this._renderer.markToSync("children",C)),l.on("change:attributes",(b,C)=>this._renderer.markToSync("attributes",C)),l.on("change:text",(b,C)=>this._renderer.markToSync("text",C)),l.on("change:isReadOnly",()=>this.change(v)),l.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const b of this._observers.values())b.observe(i,o)}detachDomRoot(i){const o=this.domRoots.get(i);Array.from(o.attributes).forEach(({name:h})=>o.removeAttribute(h));const l=this._initialDomRootAttributes.get(o);for(const h in l)o.setAttribute(h,l[h]);this.domRoots.delete(i),this.domConverter.unbindDomElement(o)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let o=this._observers.get(i);if(o)return o;o=new i(this),this._observers.set(i,o);for(const[l,h]of this.domRoots)o.observe(h,l);return o.enable(),o}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection(){const i=this.document.selection.getFirstRange();i&&function({target:o,viewportOffset:l=0}){const h=Su(o);let v=h,b=null;for(;v;){let C;C=Eu(v==h?o:b),vn(C,()=>S5(o,v));const a=S5(o,v);if(f0(v,a,l),v.parent!=v){if(b=v.frameElement,v=v.parent,!b)return}else v=null}}({target:this.domConverter.viewRangeToDom(i),viewportOffset:20})}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new q("cannot-change-view-tree",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const o=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){q.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Dm).flush(),this.change(()=>{})}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,o){return Qe._createAt(i,o)}createPositionAfter(i){return Qe._createAfter(i)}createPositionBefore(i){return Qe._createBefore(i)}createRange(...i){return new Ot(...i)}createRangeOn(i){return Ot._createOn(i)}createRangeIn(i){return Ot._createIn(i)}createSelection(...i){return new Tr(...i)}_disableRendering(i){this._renderingDisabled=i,0==i&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class i4{is(){throw new Error("is() method is abstract")}}class nd extends i4{constructor(i){super(),this.parent=null,this._attrs=Zr(i)}get document(){return null}get index(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildIndex(this)))throw new q("model-node-not-found-in-parent",this);return i}get startOffset(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildStartOffset(this)))throw new q("model-node-not-found-in-parent",this);return i}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.startOffset),o=o.parent;return i}getAncestors(i={}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}getCommonAncestor(i,o={}){const l=this.getAncestors(o),h=i.getAncestors(o);let v=0;for(;l[v]==h[v]&&l[v];)v++;return 0===v?null:l[v-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),l=i.getPath(),h=Hn(o,l);switch(h){case"prefix":return!0;case"extension":return!1;default:return o[h]<l[h]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce((o,l)=>(o[l[0]]=l[1],o),{})),i}_clone(i){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,o){this._attrs.set(i,o)}_setAttributesTo(i){this._attrs=Zr(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}nd.prototype.is=function(f){return"node"===f||"model:node"===f};class De{constructor(i){this._nodes=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((i,o)=>i+o.offsetSize,0)}getNode(i){return this._nodes[i]||null}getNodeIndex(i){const o=this._nodes.indexOf(i);return-1==o?null:o}getNodeStartOffset(i){const o=this.getNodeIndex(i);return null===o?null:this._nodes.slice(0,o).reduce((l,h)=>l+h.offsetSize,0)}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const o=this._nodes[i];if(!o)throw new q("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(i){let o=0;for(const l of this._nodes){if(i>=o&&i<o+l.offsetSize)return this.getNodeIndex(l);o+=l.offsetSize}if(o!=i)throw new q("model-nodelist-offset-out-of-bounds",this,{offset:i,nodeList:this});return this.length}_insertNodes(i,o){for(const l of o)if(!(l instanceof nd))throw new q("model-nodelist-insertnodes-not-node",this);this._nodes=function(l,h,v,b){if(Math.max(h.length,l.length)>1e4)return l.slice(0,v).concat(h).concat(l.slice(v+0,l.length));{const C=Array.from(l);return C.splice(v,0,...h),C}}(this._nodes,Array.from(o),i)}_removeNodes(i,o=1){return this._nodes.splice(i,o)}toJSON(){return this._nodes.map(i=>i.toJSON())}}class Ln extends nd{constructor(i,o){super(o),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new Ln(this.data,this.getAttributes())}static fromJSON(i){return new Ln(i.data,i.attributes)}}Ln.prototype.is=function(f){return"$text"===f||"model:$text"===f||"text"===f||"model:text"===f||"node"===f||"model:node"===f};class bs extends i4{constructor(i,o,l){if(super(),this.textNode=i,o<0||o>i.offsetSize)throw new q("model-textproxy-wrong-offsetintext",this);if(l<0||o+l>i.offsetSize)throw new q("model-textproxy-wrong-length",this);this.data=i.data.substring(o,o+l),this.offsetInText=o}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}bs.prototype.is=function(f){return"$textProxy"===f||"model:$textProxy"===f||"textProxy"===f||"model:textProxy"===f};class Nt extends nd{constructor(i,o,l){super(o),this._children=new De,this.name=i,l&&this._insertChild(0,l)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let o=this;for(const l of i)o=o.getChild(o.offsetToIndex(l));return o}findAncestor(i,o={}){let l=o.includeSelf?this:this.parent;for(;l;){if(l.name===i)return l;l=l.parent}return null}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const o of this._children)i.children.push(o.toJSON())}return i}_clone(i=!1){const o=i?Array.from(this._children).map(l=>l._clone(!0)):void 0;return new Nt(this.name,this.getAttributes(),o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const l="string"==typeof(h=o)?[new Ln(h)]:(_i(h)||(h=[h]),Array.from(h).map(v=>"string"==typeof v?new Ln(v):v instanceof bs?new Ln(v.data,v.getAttributes()):v));var h;for(const h of l)null!==h.parent&&h._remove(),h.parent=this;this._children._insertNodes(i,l)}_removeChildren(i,o=1){const l=this._children._removeNodes(i,o);for(const h of l)h.parent=null;return l}static fromJSON(i){let o;if(i.children){o=[];for(const l of i.children)o.push(l.name?Nt.fromJSON(l):Ln.fromJSON(l))}return new Nt(i.name,i.attributes,o)}}Nt.prototype.is=function(f,i){return i?i===this.name&&("element"===f||"model:element"===f):"element"===f||"model:element"===f||"node"===f||"model:node"===f};class Bo{constructor(i){if(!i||!i.boundaries&&!i.startPosition)throw new q("model-tree-walker-no-start-position",null);const o=i.direction||"forward";if("forward"!=o&&"backward"!=o)throw new q("model-tree-walker-unknown-direction",i,{direction:o});this.direction=o,this.boundaries=i.boundaries||null,this.position=i.startPosition?i.startPosition.clone():Ye._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(i){let o,l,h,v;do{h=this.position,v=this._visitedParent,({done:o,value:l}=this.next())}while(!o&&i(l));o||(this.position=h,this._visitedParent=v)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const i=this.position,o=this.position.clone(),l=this._visitedParent;if(null===l.parent&&o.offset===l.maxOffset)return{done:!0,value:void 0};if(l===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const h=Q0(o,l),v=h||qi(o,l,h);if(v instanceof Nt)return this.shallow?o.offset++:(o.path.push(0),this._visitedParent=v),this.position=o,Sc("elementStart",v,i,o,1);if(v instanceof Ln){let b;if(this.singleCharacters)b=1;else{let c=v.endOffset;this._boundaryEndParent==l&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),b=c-o.offset}const a=new bs(v,o.offset-v.startOffset,b);return o.offset+=b,this.position=o,Sc("text",a,i,o,b)}return o.path.pop(),o.offset++,this.position=o,this._visitedParent=l.parent,this.ignoreElementEnd?this._next():Sc("elementEnd",l,i,o)}_previous(){const i=this.position,o=this.position.clone(),l=this._visitedParent;if(null===l.parent&&0===o.offset)return{done:!0,value:void 0};if(l==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const h=o.parent,v=Q0(o,h),b=v||Im(o,h,v);if(b instanceof Nt)return o.offset--,this.shallow?(this.position=o,Sc("elementStart",b,i,o,1)):(o.path.push(b.maxOffset),this.position=o,this._visitedParent=b,this.ignoreElementEnd?this._previous():Sc("elementEnd",b,i,o));if(b instanceof Ln){let C;if(this.singleCharacters)C=1;else{let u=b.startOffset;this._boundaryStartParent==l&&this.boundaries.start.offset>u&&(u=this.boundaries.start.offset),C=o.offset-u}const c=new bs(b,o.offset-b.startOffset-C,C);return o.offset-=C,this.position=o,Sc("text",c,i,o,C)}return o.path.pop(),this.position=o,this._visitedParent=l.parent,Sc("elementStart",l,i,o,1)}}function Sc(f,i,o,l,h){return{done:!1,value:{type:f,item:i,previousPosition:o,nextPosition:l,length:h}}}class Ye extends i4{constructor(i,o,l="toNone"){if(super(),!i.is("element")&&!i.is("documentFragment"))throw new q("model-position-root-invalid",i);if(!(o instanceof Array)||0===o.length)throw new q("model-position-path-incorrect-format",i,{path:o});i.is("rootElement")?o=o.slice():(o=[...i.getPath(),...o],i=i.root),this.root=i,this.path=o,this.stickiness=l}get offset(){return this.path[this.path.length-1]}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChild(i.offsetToIndex(this.path[o])),!i)throw new q("model-position-path-incorrect",this,{position:this});if(i.is("$text"))throw new q("model-position-path-incorrect",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Q0(this,this.parent)}get nodeAfter(){const i=this.parent;return qi(this,i,Q0(this,i))}get nodeBefore(){const i=this.parent;return Im(this,i,Q0(this,i))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const o=Hn(this.path,i.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<i.path[o]?"before":"after"}}getLastMatchingPosition(i,o={}){o.startPosition=this;const l=new Bo(o);return l.skip(i),l.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const i=this.parent;return i.is("documentFragment")?[i]:i.getAncestors({includeSelf:!0})}findAncestor(i){const o=this.parent;return o.is("element")?o.findAncestor(i,{includeSelf:!0}):null}getCommonPath(i){if(this.root!=i.root)return[];const o=Hn(this.path,i.path),l="string"==typeof o?Math.min(this.path.length,i.path.length):o;return this.path.slice(0,l)}getCommonAncestor(i){const o=this.getAncestors(),l=i.getAncestors();let h=0;for(;o[h]==l[h]&&o[h];)h++;return 0===h?null:o[h-1]}getShiftedBy(i){const o=this.clone(),l=o.offset+i;return o.offset=l<0?0:l,o}isAfter(i){return"after"==this.compareWith(i)}isBefore(i){return"before"==this.compareWith(i)}isEqual(i){return"same"==this.compareWith(i)}isTouching(i){if(this.root!==i.root)return!1;const o=Math.min(this.path.length,i.path.length);for(let l=0;l<o;l++){const h=this.path[l]-i.path[l];if(h<-1||h>1)return!1;if(1===h)return id(i,this,l);if(-1===h)return id(this,i,l)}return this.path.length===i.path.length||tn(this.path.length>i.path.length?this.path:i.path,o)}hasSameParentAs(i){return this.root===i.root&&"same"==Hn(this.getParentPath(),i.getParentPath())}getTransformedByOperation(i){let o;switch(i.type){case"insert":o=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(i);break;case"split":o=this._getTransformedBySplitOperation(i);break;case"merge":o=this._getTransformedByMergeOperation(i);break;default:o=Ye._createAt(this)}return o}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const o=i.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const o=i.movedRange;let l;return o.containsPosition(this)||o.start.isEqual(this)?(l=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(l=l._getTransformedByDeletion(i.deletionPosition,1))):l=this.isEqual(i.deletionPosition)?Ye._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),l}_getTransformedByDeletion(i,o){const l=Ye._createAt(this);if(this.root!=i.root)return l;if("same"==Hn(i.getParentPath(),this.getParentPath())){if(i.offset<this.offset){if(i.offset+o>this.offset)return null;l.offset-=o}}else if("prefix"==Hn(i.getParentPath(),this.getParentPath())){const h=i.path.length-1;if(i.offset<=this.path[h]){if(i.offset+o>this.path[h])return null;l.path[h]-=o}}return l}_getTransformedByInsertion(i,o){const l=Ye._createAt(this);if(this.root!=i.root)return l;if("same"==Hn(i.getParentPath(),this.getParentPath()))(i.offset<this.offset||i.offset==this.offset&&"toPrevious"!=this.stickiness)&&(l.offset+=o);else if("prefix"==Hn(i.getParentPath(),this.getParentPath())){const h=i.path.length-1;i.offset<=this.path[h]&&(l.path[h]+=o)}return l}_getTransformedByMove(i,o,l){if(o=o._getTransformedByDeletion(i,l),i.isEqual(o))return Ye._createAt(this);const h=this._getTransformedByDeletion(i,l);return null===h||i.isEqual(this)&&"toNext"==this.stickiness||i.getShiftedBy(l).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(i,o):h._getTransformedByInsertion(o,l)}_getCombined(i,o){const l=i.path.length-1,h=Ye._createAt(o);return h.stickiness=this.stickiness,h.offset=h.offset+this.path[l]-i.offset,h.path=[...h.path,...this.path.slice(l+1)],h}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,o,l="toNone"){if(i instanceof Ye)return new Ye(i.root,i.path,i.stickiness);{const h=i;if("end"==o)o=h.maxOffset;else{if("before"==o)return this._createBefore(h,l);if("after"==o)return this._createAfter(h,l);if(0!==o&&!o)throw new q("model-createpositionat-offset-required",[this,i])}if(!h.is("element")&&!h.is("documentFragment"))throw new q("model-position-parent-incorrect",[this,i]);const v=h.getPath();return v.push(o),new this(h.root,v,l)}}static _createAfter(i,o){if(!i.parent)throw new q("model-position-after-root",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,o)}static _createBefore(i,o){if(!i.parent)throw new q("model-position-before-root",i,{root:i});return this._createAt(i.parent,i.startOffset,o)}static fromJSON(i,o){if("$graveyard"===i.root){const l=new Ye(o.graveyard,i.path);return l.stickiness=i.stickiness,l}if(!o.getRoot(i.root))throw new q("model-position-fromjson-no-root",o,{rootName:i.root});return new Ye(o.getRoot(i.root),i.path,i.stickiness)}}function Q0(f,i){const o=i.getChild(i.offsetToIndex(f.offset));return o&&o.is("$text")&&o.startOffset<f.offset?o:null}function qi(f,i,o){return null!==o?null:i.getChild(i.offsetToIndex(f.offset))}function Im(f,i,o){return null!==o?null:i.getChild(i.offsetToIndex(f.offset)-1)}function id(f,i,o){return o+1!==f.path.length&&!!tn(i.path,o+1)&&!!function(l,h){let v=l.parent,b=l.path.length-1,C=0;for(;b>=h;){if(l.path[b]+C!==v.maxOffset)return!1;C=1,b--,v=v.parent}return!0}(f,o+1)}function tn(f,i){for(;i<f.length;){if(0!==f[i])return!1;i++}return!0}Ye.prototype.is=function(f){return"position"===f||"model:position"===f};class Ie extends i4{constructor(i,o){super(),this.start=Ye._createAt(i),this.end=Ye._createAt(o||i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Bo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Hn(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const l=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),h=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return l&&h}containsItem(i){const o=Ye._createBefore(i);return this.containsPosition(o)||this.start.isEqual(o)}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Ie(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Ie(i.end,this.end))):o.push(new Ie(this.start,this.end)),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,l=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(l=i.end),new Ie(o,l)}return null}getJoined(i,o=!1){let l=this.isIntersecting(i);if(l||(l=this.start.isBefore(i.start)?o?this.end.isTouching(i.start):this.end.isEqual(i.start):o?i.end.isTouching(this.start):i.end.isEqual(this.start)),!l)return null;let h=this.start,v=this.end;return i.start.isBefore(h)&&(h=i.start),i.end.isAfter(v)&&(v=i.end),new Ie(h,v)}getMinimalFlatRanges(){const i=[],o=this.start.getCommonPath(this.end).length,l=Ye._createAt(this.start);let h=l.parent;for(;l.path.length>o+1;){const v=h.maxOffset-l.offset;0!==v&&i.push(new Ie(l,l.getShiftedBy(v))),l.path=l.path.slice(0,-1),l.offset++,h=h.parent}for(;l.path.length<=this.end.path.length;){const v=this.end.path[l.path.length-1],b=v-l.offset;0!==b&&i.push(new Ie(l,l.getShiftedBy(b))),l.offset=v,l.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new Bo(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Bo(i);for(const l of o)yield l.item}*getPositions(i={}){i.boundaries=this;const o=new Bo(i);yield o.position;for(const l of o)yield l.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new Ie(this.start,this.end)]}getTransformedByOperations(i){const o=[new Ie(this.start,this.end)];for(const l of i)for(let h=0;h<o.length;h++){const v=o[h].getTransformedByOperation(l);o.splice(h,1,...v),h+=v.length-1}for(let l=0;l<o.length;l++){const h=o[l];for(let v=l+1;v<o.length;v++){const b=o[v];(h.containsRange(b)||b.containsRange(h)||h.isEqual(b))&&o.splice(v,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const i=this.start.nodeAfter,o=this.end.nodeBefore;return i&&i.is("element")&&i===o?i:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,o=!1){return this._getTransformedByInsertion(i.position,i.howMany,o)}_getTransformedByMoveOperation(i,o=!1){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,o)}_getTransformedBySplitOperation(i){const o=this.start._getTransformedBySplitOperation(i);let l=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(l=this.end.getShiftedBy(1)),o.root!=l.root&&(l=this.end.getShiftedBy(-1)),new Ie(o,l)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new Ie(this.start);let o=this.start._getTransformedByMergeOperation(i),l=this.end._getTransformedByMergeOperation(i);return o.root!=l.root&&(l=this.end.getShiftedBy(-1)),o.isAfter(l)?(i.sourcePosition.isBefore(i.targetPosition)?(o=Ye._createAt(l),o.offset=0):(i.deletionPosition.isEqual(o)||(l=i.deletionPosition),o=i.targetPosition),new Ie(o,l)):new Ie(o,l)}_getTransformedByInsertion(i,o,l=!1){if(l&&this.containsPosition(i))return[new Ie(this.start,i),new Ie(i.getShiftedBy(o),this.end._getTransformedByInsertion(i,o))];{const h=new Ie(this.start,this.end);return h.start=h.start._getTransformedByInsertion(i,o),h.end=h.end._getTransformedByInsertion(i,o),[h]}}_getTransformedByMove(i,o,l,h=!1){if(this.isCollapsed){const p=this.start._getTransformedByMove(i,o,l);return[new Ie(p)]}const v=Ie._createFromPositionAndShift(i,l),b=o._getTransformedByDeletion(i,l);if(this.containsPosition(o)&&!h&&(v.containsPosition(this.start)||v.containsPosition(this.end))){const p=this.start._getTransformedByMove(i,o,l),_=this.end._getTransformedByMove(i,o,l);return[new Ie(p,_)]}let C;const a=this.getDifference(v);let c=null;const u=this.getIntersection(v);if(1==a.length?c=new Ie(a[0].start._getTransformedByDeletion(i,l),a[0].end._getTransformedByDeletion(i,l)):2==a.length&&(c=new Ie(this.start,this.end._getTransformedByDeletion(i,l))),C=c?c._getTransformedByInsertion(b,l,null!==u||h):[],u){const p=new Ie(u.start._getCombined(v.start,b),u.end._getCombined(v.start,b));2==C.length?C.splice(1,0,p):C.push(p)}return C}_getTransformedByDeletion(i,o){let l=this.start._getTransformedByDeletion(i,o),h=this.end._getTransformedByDeletion(i,o);return null==l&&null==h?null:(null==l&&(l=i),null==h&&(h=i),new Ie(l,h))}static _createFromPositionAndShift(i,o){const l=i,h=i.getShiftedBy(o);return o>0?new this(l,h):new this(h,l)}static _createIn(i){return new this(Ye._createAt(i,0),Ye._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(Ye._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(0===i.length)throw new q("range-create-from-ranges-empty-array",null);if(1==i.length)return i[0].clone();const o=i[0];i.sort((v,b)=>v.start.isAfter(b.start)?1:-1);const l=i.indexOf(o),h=new this(o.start,o.end);if(l>0)for(let v=l-1;i[v].end.isEqual(h.start);v++)h.start=Ye._createAt(i[v].start);for(let v=l+1;v<i.length&&i[v].start.isEqual(h.end);v++)h.end=Ye._createAt(i[v].end);return h}static fromJSON(i,o){return new this(Ye.fromJSON(i.start,o),Ye.fromJSON(i.end,o))}}Ie.prototype.is=function(f){return"range"===f||"model:range"===f};class I7 extends(pe()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(i,o)=>{if(o.viewPosition)return;const l=this._modelToViewMapping.get(o.modelPosition.parent);if(!l)throw new q("mapping-model-position-view-parent-not-found",this,{modelPosition:o.modelPosition});o.viewPosition=this.findPositionIn(l,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(i,o)=>{if(o.modelPosition)return;const l=this.findMappedViewAncestor(o.viewPosition),h=this._viewToModelMapping.get(l),v=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,l);o.modelPosition=Ye._createAt(h,v)},{priority:"low"})}bindElements(i,o){this._modelToViewMapping.set(i,o),this._viewToModelMapping.set(o,i)}unbindViewElement(i,o={}){const l=this.toModelElement(i);if(this._elementToMarkerNames.has(i))for(const h of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(h);o.defer?this._deferredBindingRemovals.set(i,i.root):(this._viewToModelMapping.delete(i),this._modelToViewMapping.get(l)==i&&this._modelToViewMapping.delete(l))}unbindModelElement(i){const o=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(o)==i&&this._viewToModelMapping.delete(o)}bindElementToMarker(i,o){const l=this._markerNameToElements.get(o)||new Set;l.add(i);const h=this._elementToMarkerNames.get(i)||new Set;h.add(o),this._markerNameToElements.set(o,l),this._elementToMarkerNames.set(i,h)}unbindElementFromMarkerName(i,o){const l=this._markerNameToElements.get(o);l&&(l.delete(i),0==l.size&&this._markerNameToElements.delete(o));const h=this._elementToMarkerNames.get(i);h&&(h.delete(o),0==h.size&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}flushDeferredBindings(){for(const[i,o]of this._deferredBindingRemovals)i.root==o&&this.unbindViewElement(i);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new Ie(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new Ot(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const o={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(i,o={}){const l={modelPosition:i,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",l),l.viewPosition}markerNameToElements(i){const o=this._markerNameToElements.get(i);if(!o)return null;const l=new Set;for(const h of o)if(h.is("attributeElement"))for(const v of h.getElementsWithSameId())l.add(v);else l.add(h);return l}registerViewToModelLength(i,o){this._viewToModelLengthCallbacks.set(i,o)}findMappedViewAncestor(i){let o=i.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(i,o,l){if(l!=i)return this._toModelOffset(i.parent,i.index,l)+this._toModelOffset(i,o,i);if(i.is("$text"))return o;let h=0;for(let v=0;v<o;v++)h+=this.getModelLength(i.getChild(v));return h}getModelLength(i){if(this._viewToModelLengthCallbacks.get(i.name))return this._viewToModelLengthCallbacks.get(i.name)(i);if(this._viewToModelMapping.has(i))return 1;if(i.is("$text"))return i.data.length;if(i.is("uiElement"))return 0;{let o=0;for(const l of i.getChildren())o+=this.getModelLength(l);return o}}findPositionIn(i,o){let l,h=0,v=0,b=0;if(i.is("$text"))return new Qe(i,o);for(;v<o;)l=i.getChild(b),h=this.getModelLength(l),v+=h,b++;return v==o?this._moveViewPositionToTextNode(new Qe(i,b)):this.findPositionIn(l,o-(v-h))}_moveViewPositionToTextNode(i){const o=i.nodeBefore,l=i.nodeAfter;return o instanceof wn?new Qe(o,o.data.length):l instanceof wn?new Qe(l,0):i}}class Tm{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,o){o=rd(o),i instanceof bs&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(o,!0)}consume(i,o){return o=rd(o),i instanceof bs&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,o)&&(this._consumable.get(i).set(o,!1),!0)}test(i,o){o=rd(o),i instanceof bs&&(i=this._getSymbolForTextProxy(i));const l=this._consumable.get(i);if(void 0===l)return null;const h=l.get(o);return void 0===h?null:h}revert(i,o){o=rd(o),i instanceof bs&&(i=this._getSymbolForTextProxy(i));const l=this.test(i,o);return!1===l?(this._consumable.get(i).set(o,!0),!0):!0!==l&&null}verifyAllConsumed(i){const o=[];for(const[l,h]of this._consumable)for(const[v,b]of h){const C=v.split(":")[0];b&&i==C&&o.push({event:v,item:l.name||l.description})}if(o.length)throw new q("conversion-model-consumable-not-consumed",null,{items:o})}_getSymbolForTextProxy(i){let o=null;const l=this._textProxyRegistry.get(i.startOffset);if(l){const h=l.get(i.endOffset);h&&(o=h.get(i.parent))}return o||(o=this._addSymbolForTextProxy(i)),o}_addSymbolForTextProxy(i){const o=i.startOffset,l=i.endOffset,h=i.parent,v=Symbol("$textProxy:"+i.data);let b,C;return b=this._textProxyRegistry.get(o),b||(b=new Map,this._textProxyRegistry.set(o,b)),C=b.get(l),C||(C=new Map,b.set(l,C)),C.set(h,v),v}}function rd(f){const i=f.split(":");return"insert"==i[0]?i[0]:"addMarker"==i[0]||"removeMarker"==i[0]?f:i.length>1?i[0]+":"+i[1]:i[0]}class Lm extends(pe()){constructor(i){super(),this._conversionApi={dispatcher:this,...i},this._firedEventsMap=new WeakMap}convertChanges(i,o,l){const h=this._createConversionApi(l,i.getRefreshedItems());for(const b of i.getMarkersToRemove())this._convertMarkerRemove(b.name,b.range,h);const v=this._reduceChanges(i.getChanges());for(const b of v)"insert"===b.type?this._convertInsert(Ie._createFromPositionAndShift(b.position,b.length),h):"reinsert"===b.type?this._convertReinsert(Ie._createFromPositionAndShift(b.position,b.length),h):"remove"===b.type?this._convertRemove(b.position,b.length,b.name,h):this._convertAttribute(b.range,b.attributeKey,b.attributeOldValue,b.attributeNewValue,h);for(const b of h.mapper.flushUnboundMarkerNames()){const C=o.get(b).getRange();this._convertMarkerRemove(b,C,h),this._convertMarkerAdd(b,C,h)}for(const b of i.getMarkersToAdd())this._convertMarkerAdd(b.name,b.range,h);h.mapper.flushDeferredBindings(),h.consumable.verifyAllConsumed("insert")}convert(i,o,l,h={}){const v=this._createConversionApi(l,void 0,h);this._convertInsert(i,v);for(const[b,C]of o)this._convertMarkerAdd(b,C,v);v.consumable.verifyAllConsumed("insert")}convertSelection(i,o,l){const h=Array.from(o.getMarkersAtPosition(i.getFirstPosition())),v=this._createConversionApi(l);if(this._addConsumablesForSelection(v.consumable,i,h),this.fire("selection",{selection:i},v),i.isCollapsed){for(const b of h){const C=b.getRange();if(!Nm(i.getFirstPosition(),b,v.mapper))continue;const a={item:i,markerName:b.name,markerRange:C};v.consumable.test(i,"addMarker:"+b.name)&&this.fire(`addMarker:${b.name}`,a,v)}for(const b of i.getAttributeKeys()){const C={item:i,range:i.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:i.getAttribute(b)};v.consumable.test(i,"attribute:"+C.attributeKey)&&this.fire(`attribute:${C.attributeKey}:$text`,C,v)}}}_convertInsert(i,o,l={}){l.doNotAddConsumables||this._addConsumablesForInsert(o.consumable,Array.from(i));for(const h of Array.from(i.getWalker({shallow:!0})).map(Vm))this._testAndFire("insert",h,o)}_convertRemove(i,o,l,h){this.fire(`remove:${l}`,{position:i,length:o},h)}_convertAttribute(i,o,l,h,v){this._addConsumablesForRange(v.consumable,i,`attribute:${o}`);for(const b of i){const C={item:b.item,range:Ie._createFromPositionAndShift(b.previousPosition,b.length),attributeKey:o,attributeOldValue:l,attributeNewValue:h};this._testAndFire(`attribute:${o}`,C,v)}}_convertReinsert(i,o){const l=Array.from(i.getWalker({shallow:!0}));this._addConsumablesForInsert(o.consumable,l);for(const h of l.map(Vm))this._testAndFire("insert",{...h,reconversion:!0},o)}_convertMarkerAdd(i,o,l){if("$graveyard"==o.root.rootName)return;const h=`addMarker:${i}`;if(l.consumable.add(o,h),this.fire(h,{markerName:i,markerRange:o},l),l.consumable.consume(o,h)){this._addConsumablesForRange(l.consumable,o,h);for(const v of o.getItems()){if(!l.consumable.test(v,h))continue;const b={item:v,range:Ie._createOn(v),markerName:i,markerRange:o};this.fire(h,b,l)}}}_convertMarkerRemove(i,o,l){"$graveyard"!=o.root.rootName&&this.fire(`removeMarker:${i}`,{markerName:i,markerRange:o},l)}_reduceChanges(i){const o={changes:i};return this.fire("reduceChanges",o),o.changes}_addConsumablesForInsert(i,o){for(const l of o){const h=l.item;if(null===i.test(h,"insert")){i.add(h,"insert");for(const v of h.getAttributeKeys())i.add(h,"attribute:"+v)}}return i}_addConsumablesForRange(i,o,l){for(const h of o.getItems())i.add(h,l);return i}_addConsumablesForSelection(i,o,l){i.add(o,"selection");for(const h of l)i.add(o,"addMarker:"+h.name);for(const h of o.getAttributeKeys())i.add(o,"attribute:"+h);return i}_testAndFire(i,o,l){const h=`${i}:${(c=o).item.is("element")?c.item.name:"$text"}`,v=o.item.is("$textProxy")?l.consumable._getSymbolForTextProxy(o.item):o.item,b=this._firedEventsMap.get(l),C=b.get(v);var c;if(C){if(C.has(h))return;C.add(h)}else b.set(v,new Set([h]));this.fire(h,o,l)}_testAndFireAddAttributes(i,o){const l={item:i,range:Ie._createOn(i)};for(const h of l.item.getAttributeKeys())l.attributeKey=h,l.attributeOldValue=null,l.attributeNewValue=l.item.getAttribute(h),this._testAndFire(`attribute:${h}`,l,o)}_createConversionApi(i,o=new Set,l={}){const h={...this._conversionApi,consumable:new Tm,writer:i,options:l,convertItem:v=>this._convertInsert(Ie._createOn(v),h),convertChildren:v=>this._convertInsert(Ie._createIn(v),h,{doNotAddConsumables:!0}),convertAttributes:v=>this._testAndFireAddAttributes(v,h),canReuseView:v=>!o.has(h.mapper.toModelElement(v))};return this._firedEventsMap.set(h,new Map),h}}function Nm(f,i,o){const l=i.getRange(),h=Array.from(f.getAncestors());return h.shift(),h.reverse(),!h.some(v=>{if(l.containsItem(v))return!!o.toViewElement(v).getCustomProperty("addHighlight")})}function Vm(f){return{item:f.item,range:Ie._createFromPositionAndShift(f.previousPosition,f.length)}}class za extends(pe(i4)){constructor(...i){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],i.length&&this.setTo(...i)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let l=!1;for(const h of i._ranges)if(o.isEqual(h)){l=!0;break}if(!l)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new Ie(i.start,i.end)}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?new Ie(i.start,i.end):null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?new Ie(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(...i){let[o,l,h]=i;if("object"==typeof l&&(h=l,l=void 0),null===o)this._setRanges([]);else if(o instanceof za)this._setRanges(o.getRanges(),o.isBackward);else if(o&&"function"==typeof o.getRanges)this._setRanges(o.getRanges(),o.isBackward);else if(o instanceof Ie)this._setRanges([o],!!h&&!!h.backward);else if(o instanceof Ye)this._setRanges([new Ie(o)]);else if(o instanceof nd){const v=!!h&&!!h.backward;let b;if("in"==l)b=Ie._createIn(o);else if("on"==l)b=Ie._createOn(o);else{if(void 0===l)throw new q("model-selection-setto-required-second-parameter",[this,o]);b=new Ie(Ye._createAt(o,l))}this._setRanges([b],v)}else{if(!_i(o))throw new q("model-selection-setto-not-selectable",[this,o]);this._setRanges(o,h&&!!h.backward)}}_setRanges(i,o=!1){const l=Array.from(i),h=l.some(v=>{if(!(v instanceof Ie))throw new q("model-selection-set-ranges-not-range",[this,i]);return this._ranges.every(b=>!b.isEqual(v))});(l.length!==this._ranges.length||h)&&(this._replaceAllRanges(l),this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0}))}setFocus(i,o){if(null===this.anchor)throw new q("model-selection-setfocus-no-ranges",[this,i]);const l=Ye._createAt(i,o);if("same"==l.compareWith(this.focus))return;const h=this.anchor;this._ranges.length&&this._popRange(),"before"==l.compareWith(h)?(this._pushRange(new Ie(l,h)),this._lastRangeBackward=!0):(this._pushRange(new Ie(h,l)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,o){this.getAttribute(i)!==o&&(this._attrs.set(i,o),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const i=new WeakSet;for(const o of this.getRanges()){const l=T7(o.start,i);l&&J0(l,o)&&(yield l);for(const v of o.getWalker()){const b=v.item;"elementEnd"==v.type&&q5(b,i,o)&&(yield b)}const h=T7(o.end,i);h&&!o.end.isTouching(Ye._createAt(h,0))&&J0(h,o)&&(yield h)}}containsEntireContent(i=this.anchor.root){const o=Ye._createAt(i,0),l=Ye._createAt(i,"end");return o.isTouching(this.getFirstPosition())&&l.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new Ie(i.start,i.end))}_checkRange(i){for(let o=0;o<this._ranges.length;o++)if(i.isIntersecting(this._ranges[o]))throw new q("model-selection-range-intersects",[this,i],{addedRange:i,intersectingRange:this._ranges[o]})}_replaceAllRanges(i){this._removeAllRanges();for(const o of i)this._pushRange(o)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function _o(f,i){return!i.has(f)&&(i.add(f),f.root.document.model.schema.isBlock(f)&&!!f.parent)}function q5(f,i,o){return _o(f,i)&&J0(f,o)}function T7(f,i){const o=f.parent.root.document.model.schema,l=f.parent.getAncestors({parentFirst:!0,includeSelf:!0});let h=!1;const v=l.find(b=>!h&&(h=o.isLimit(b),!h&&_o(b,i)));return l.forEach(b=>i.add(b)),v}function J0(f,i){const o=function(l){const h=l.root.document.model.schema;let v=l.parent;for(;v;){if(h.isBlock(v))return v;v=v.parent}}(f);return!o||!i.containsRange(Ie._createOn(o),!0)}za.prototype.is=function(f){return"selection"===f||"model:selection"===f};class ys extends(pe(Ie)){constructor(i,o){super(i,o),N2.call(this)}detach(){this.stopListening()}toRange(){return new Ie(this.start,this.end)}static fromRange(i){return new ys(i.start,i.end)}}function N2(){this.listenTo(this.root.document.model,"applyOperation",(f,i)=>{const o=i[0];o.isDocumentOperation&&L7.call(this,o)},{priority:"low"})}function L7(f){const i=this.getTransformedByOperation(f),o=Ie._createFromRanges(i),l=!o.isEqual(this),h=function(b,C){switch(C.type){case"insert":return b.containsPosition(C.position);case"move":case"remove":case"reinsert":case"merge":return b.containsPosition(C.sourcePosition)||b.start.isEqual(C.sourcePosition)||b.containsPosition(C.targetPosition);case"split":return b.containsPosition(C.splitPosition)||b.containsPosition(C.insertionPosition)}return!1}(this,f);let v=null;if(l){"$graveyard"==o.root.rootName&&(v="remove"==f.type?f.sourcePosition:f.deletionPosition);const b=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",b,{deletionPosition:v})}else h&&this.fire("change:content",this.toRange(),{deletionPosition:v})}ys.prototype.is=function(f){return"liveRange"===f||"model:liveRange"===f||"range"==f||"model:range"===f};const r4="selection:";class Ps extends(pe(i4)){constructor(i){super(),this._selection=new Hm(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(i){this._selection.observeMarkers(i)}_setFocus(i,o){this._selection.setFocus(i,o)}_setTo(...i){this._selection.setTo(...i)}_setAttribute(i,o){this._selection.setAttribute(i,o)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return r4+i}static _isStoreAttributeKey(i){return i.startsWith(r4)}}Ps.prototype.is=function(f){return"selection"===f||"model:selection"==f||"documentSelection"==f||"model:documentSelection"==f};class Hm extends za{constructor(i){super(),this.markers=new Wr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=i.model,this._document=i,this.listenTo(this._model,"applyOperation",(o,l)=>{const h=l[0];h.isDocumentOperation&&"marker"!=h.type&&"rename"!=h.type&&"noop"!=h.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(o,l,h,v)=>{this._updateMarker(l,v)}),this.listenTo(this._document,"change",(o,l)=>{!function(h,v){const b=h.document.differ;for(const C of b.getChanges()){if("insert"!=C.type)continue;const a=C.position.parent;C.length===a.maxOffset&&h.enqueueChange(v,c=>{const u=Array.from(a.getAttributeKeys()).filter(p=>p.startsWith(r4));for(const p of u)c.removeAttribute(p,a)})}}(this._model,l)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...i){super.setTo(...i),this._updateAttributes(!0),this.updateMarkers()}setFocus(i,o){super.setFocus(i,o),this._updateAttributes(!0),this.updateMarkers()}setAttribute(i,o){this._setAttribute(i,o)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}removeAttribute(i){this._removeAttribute(i)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}overrideGravity(){const i=Ge();return this._overriddenGravityRegister.add(i),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new q("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(i){this._observedMarkers.add(i),this.updateMarkers()}_replaceAllRanges(i){this._validateSelectionRanges(i),super._replaceAllRanges(i)}_popRange(){this._ranges.pop().detach()}_pushRange(i){const o=this._prepareRange(i);o&&this._ranges.push(o)}_validateSelectionRanges(i){for(const o of i)if(!this._document._validateSelectionRange(o))throw new q("document-selection-wrong-position",this,{range:o})}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const o=ys.fromRange(i);return o.on("change:range",(l,h,v)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=v.deletionPosition;const b=this._ranges.indexOf(o);this._ranges.splice(b,1),o.detach()}}),o}updateMarkers(){if(!this._observedMarkers.size)return;const i=[];let o=!1;for(const h of this._model.markers){const v=h.name.split(":",1)[0];if(!this._observedMarkers.has(v))continue;const b=h.getRange();for(const C of this.getRanges())b.containsRange(C,!C.isCollapsed)&&i.push(h)}const l=Array.from(this.markers);for(const h of i)this.markers.has(h)||(this.markers.add(h),o=!0);for(const h of Array.from(this.markers))i.includes(h)||(this.markers.remove(h),o=!0);o&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateMarker(i,o){const l=i.name.split(":",1)[0];if(!this._observedMarkers.has(l))return;let h=!1;const v=Array.from(this.markers),b=this.markers.has(i);if(o){let C=!1;for(const a of this.getRanges())if(o.containsRange(a,!a.isCollapsed)){C=!0;break}C&&!b?(this.markers.add(i),h=!0):!C&&b&&(this.markers.remove(i),h=!0)}else b&&(this.markers.remove(i),h=!0);h&&this.fire("change:marker",{oldMarkers:v,directChange:!1})}_updateAttributes(i){const o=Zr(this._getSurroundingAttributes()),l=Zr(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[v,b]of this._attributePriority)"low"==b&&(this._attrs.delete(v),this._attributePriority.delete(v));this._setAttributesTo(o);const h=[];for(const[v,b]of this.getAttributes())l.has(v)&&l.get(v)===b||h.push(v);for(const[v]of l)this.hasAttribute(v)||h.push(v);h.length>0&&this.fire("change:attribute",{attributeKeys:h,directChange:!1})}_setAttribute(i,o,l=!0){const h=l?"normal":"low";return("low"!=h||"normal"!=this._attributePriority.get(i))&&super.getAttribute(i)!==o&&(this._attrs.set(i,o),this._attributePriority.set(i,h),!0)}_removeAttribute(i,o=!0){const l=o?"normal":"low";return!("low"==l&&"normal"==this._attributePriority.get(i)||(this._attributePriority.set(i,l),!super.hasAttribute(i)||(this._attrs.delete(i),0)))}_setAttributesTo(i){const o=new Set;for(const[l,h]of this.getAttributes())i.get(l)!==h&&this._removeAttribute(l,!1);for(const[l,h]of i)this._setAttribute(l,h,!1)&&o.add(l);return o}*getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const o of i.getAttributeKeys())o.startsWith(r4)&&(yield[o.substr(r4.length),i.getAttribute(o)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),o=this._model.schema;let l=null;if(this.isCollapsed){const h=i.textNode?i.textNode:i.nodeBefore,v=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(l=N7(h)),l||(l=N7(v)),!this.isGravityOverridden&&!l){let b=h;for(;b&&!o.isInline(b)&&!l;)b=b.previousSibling,l=N7(b)}if(!l){let b=v;for(;b&&!o.isInline(b)&&!l;)b=b.nextSibling,l=N7(b)}l||(l=this.getStoredAttributes())}else{const h=this.getFirstRange();for(const v of h){if(v.item.is("element")&&o.isObject(v.item))break;if("text"==v.type){l=v.item.getAttributes();break}}}return l}_fixGraveyardSelection(i){const o=this._model.schema.getNearestSelectionRange(i);o&&this._pushRange(o)}}function N7(f){return f instanceof bs||f instanceof Ln?f.getAttributes():null}class Rv{constructor(i){this._dispatchers=i}add(i){for(const o of this._dispatchers)i(o);return this}}const Ia=function(f){return zl(f,5)};class Ov extends Rv{elementToElement(i){return this.add(function(o){const l=Om(o.model),h=X0(o.view,"container");return l.attributes.length&&(l.children=!0),v=>{v.on(`insert:${l.name}`,function(b,C=H7){return(a,c,u)=>{if(!C(c.item,u.consumable,{preflight:!0}))return;const p=b(c.item,u,c);if(!p)return;C(c.item,u.consumable);const _=u.mapper.toViewPosition(c.range.start);u.mapper.bindElements(c.item,p),u.writer.insert(_,p),u.convertAttributes(c.item),t6(p,c.item.getChildren(),u,{reconversion:c.reconversion})}}(h,V7(l)),{priority:o.converterPriority||"normal"}),(l.children||l.attributes.length)&&v.on("reduceChanges",Z5(l),{priority:"low"})}}(i))}elementToStructure(i){return this.add(function(o){const l=Om(o.model),h=X0(o.view,"container");return l.children=!0,v=>{if(v._conversionApi.schema.checkChild(l.name,"$text"))throw new q("conversion-element-to-structure-disallowed-text",v,{elementName:l.name});var b,C;v.on(`insert:${l.name}`,(b=h,C=V7(l),(a,c,u)=>{if(!C(c.item,u.consumable,{preflight:!0}))return;const p=new Map;var A,S,E;u.writer._registerSlotFactory((A=c.item,S=p,E=u,(T,V="children")=>{const B=T.createContainerElement("$slot");let X=null;if("children"===V)X=Array.from(A.getChildren());else{if("function"!=typeof V)throw new q("conversion-slot-mode-unknown",E.dispatcher,{modeOrFilter:V});X=Array.from(A.getChildren()).filter(le=>V(le))}return S.set(B,X),B}));const _=b(c.item,u,c);if(u.writer._clearSlotFactory(),!_)return;(function(A,S,E){const T=Array.from(S.values()).flat(),V=new Set(T);if(V.size!=T.length)throw new q("conversion-slot-filter-overlap",E.dispatcher,{element:A});if(V.size!=A.childCount)throw new q("conversion-slot-filter-incomplete",E.dispatcher,{element:A})})(c.item,p,u),C(c.item,u.consumable);const y=u.mapper.toViewPosition(c.range.start);u.mapper.bindElements(c.item,_),u.writer.insert(y,_),u.convertAttributes(c.item),function(A,S,E,T){E.mapper.on("modelToViewPosition",X,{priority:"highest"});let V=null,B=null;for([V,B]of S)t6(A,B,E,T),E.writer.move(E.writer.createRangeIn(V),E.writer.createPositionBefore(V)),E.writer.remove(V);function X(le,ke){const rt=B.indexOf(ke.modelPosition.nodeAfter);rt<0||(ke.viewPosition=ke.mapper.findPositionIn(V,rt))}E.mapper.off("modelToViewPosition",X)}(_,p,u,{reconversion:c.reconversion})}),{priority:o.converterPriority||"normal"}),v.on("reduceChanges",Z5(l),{priority:"low"})}}(i))}attributeToElement(i){return this.add(function(o){let l=(o=Ia(o)).model;"string"==typeof l&&(l={key:l});let h=`attribute:${l.key}`;if(l.name&&(h+=":"+l.name),l.values)for(const b of l.values)o.view[b]=X0(o.view[b],"attribute");else o.view=X0(o.view,"attribute");const v=e6(o);return b=>{var C;b.on(h,(C=v,(a,c,u)=>{if(!u.consumable.test(c.item,a.name))return;const p=C(c.attributeOldValue,u,c),_=C(c.attributeNewValue,u,c);if(!p&&!_)return;u.consumable.consume(c.item,a.name);const y=u.writer;if(c.item instanceof za||c.item instanceof Ps)y.wrap(y.document.selection.getFirstRange(),_);else{let S=u.mapper.toViewRange(c.range);null!==c.attributeOldValue&&p&&(S=y.unwrap(S,p)),null!==c.attributeNewValue&&_&&y.wrap(S,_)}}),{priority:o.converterPriority||"normal"})}}(i))}attributeToAttribute(i){return this.add(function(o){let l=(o=Ia(o)).model;"string"==typeof l&&(l={key:l});let h=`attribute:${l.key}`;if(l.name&&(h+=":"+l.name),l.values)for(const b of l.values)o.view[b]=W5(o.view[b]);else o.view=W5(o.view);const v=e6(o);return b=>{var C;b.on(h,(C=v,(a,c,u)=>{if(!u.consumable.test(c.item,a.name))return;const p=C(c.attributeOldValue,u,c),_=C(c.attributeNewValue,u,c);if(!p&&!_)return;u.consumable.consume(c.item,a.name);const y=u.mapper.toViewElement(c.item),A=u.writer;if(!y)throw new q("conversion-attribute-to-attribute-on-text",u.dispatcher,c);if(null!==c.attributeOldValue&&p)if("class"==p.key){const S=$n(p.value);for(const E of S)A.removeClass(E,y)}else if("style"==p.key){const S=Object.keys(p.value);for(const E of S)A.removeStyle(E,y)}else A.removeAttribute(p.key,y);if(null!==c.attributeNewValue&&_)if("class"==_.key){const S=$n(_.value);for(const E of S)A.addClass(E,y)}else if("style"==_.key){const S=Object.keys(_.value);for(const E of S)A.setStyle(E,_.value[E],y)}else A.setAttribute(_.key,_.value,y)}),{priority:o.converterPriority||"normal"})}}(i))}markerToElement(i){return this.add(function(o){const l=X0(o.view,"ui");return h=>{var v;h.on(`addMarker:${o.model}`,(v=l,(b,C,a)=>{C.isOpening=!0;const c=v(C,a);C.isOpening=!1;const u=v(C,a);if(!c||!u)return;const p=C.markerRange;if(p.isCollapsed&&!a.consumable.consume(p,b.name))return;for(const A of p)if(!a.consumable.consume(A.item,b.name))return;const _=a.mapper,y=a.writer;y.insert(_.toViewPosition(p.start),c),a.mapper.bindElementToMarker(c,C.markerName),p.isCollapsed||(y.insert(_.toViewPosition(p.end),u),a.mapper.bindElementToMarker(u,C.markerName)),b.stop()}),{priority:o.converterPriority||"normal"}),h.on(`removeMarker:${o.model}`,(b,C,a)=>{const c=a.mapper.markerNameToElements(C.markerName);if(c){for(const u of c)a.mapper.unbindElementFromMarkerName(u,C.markerName),a.writer.clear(a.writer.createRangeOn(u),u);a.writer.clearClonedElementsGroup(C.markerName),b.stop()}},{priority:o.converterPriority||"normal"})}}(i))}markerToHighlight(i){return this.add(function(o){return l=>{var h,v;l.on(`addMarker:${o.model}`,(h=o.view,(v,b,C)=>{if(!b.item||!(b.item instanceof za||b.item instanceof Ps||b.item.is("$textProxy")))return;const a=od(h,b,C);if(!a||!C.consumable.consume(b.item,v.name))return;const c=C.writer,u=Rm(c,a);if(b.item instanceof za||b.item instanceof Ps)c.wrap(c.document.selection.getFirstRange(),u);else{const _=C.mapper.toViewRange(b.range),y=c.wrap(_,u);for(const A of y.getItems())if(A.is("attributeElement")&&A.isSimilar(u)){C.mapper.bindElementToMarker(A,b.markerName);break}}}),{priority:o.converterPriority||"normal"}),l.on(`addMarker:${o.model}`,(v=o.view,(b,C,a)=>{if(!(C.item&&C.item instanceof Nt))return;const c=od(v,C,a);if(!c||!a.consumable.test(C.item,b.name))return;const u=a.mapper.toViewElement(C.item);if(u&&u.getCustomProperty("addHighlight")){a.consumable.consume(C.item,b.name);for(const p of Ie._createIn(C.item))a.consumable.consume(p.item,b.name);u.getCustomProperty("addHighlight")(u,c,a.writer),a.mapper.bindElementToMarker(u,C.markerName)}}),{priority:o.converterPriority||"normal"}),l.on(`removeMarker:${o.model}`,function(v){return(b,C,a)=>{if(C.markerRange.isCollapsed)return;const c=od(v,C,a);if(!c)return;const u=Rm(a.writer,c),p=a.mapper.markerNameToElements(C.markerName);if(p){for(const _ of p)a.mapper.unbindElementFromMarkerName(_,C.markerName),_.is("attributeElement")?a.writer.unwrap(a.writer.createRangeOn(_),u):_.getCustomProperty("removeHighlight")(_,c.id,a.writer);a.writer.clearClonedElementsGroup(C.markerName),b.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(i))}markerToData(i){return this.add(function(o){const l=(o=Ia(o)).model;let h=o.view;return h||(h=v=>({group:l,name:v.substr(o.model.length+1)})),v=>{var b,C;v.on(`addMarker:${l}`,(b=h,(C,a,c)=>{const u=b(a.markerName,c);if(!u)return;const p=a.markerRange;c.consumable.consume(p,C.name)&&(o4(p,!1,c,a,u),o4(p,!0,c,a,u),C.stop())}),{priority:o.converterPriority||"normal"}),v.on(`removeMarker:${l}`,(C=h,(a,c,u)=>{const p=C(c.markerName,u);if(!p)return;const _=u.mapper.markerNameToElements(c.markerName);if(_){for(const A of _)u.mapper.unbindElementFromMarkerName(A,c.markerName),A.is("containerElement")?(y(`data-${p.group}-start-before`,A),y(`data-${p.group}-start-after`,A),y(`data-${p.group}-end-before`,A),y(`data-${p.group}-end-after`,A)):u.writer.clear(u.writer.createRangeOn(A),A);u.writer.clearClonedElementsGroup(c.markerName),a.stop()}function y(A,S){if(S.hasAttribute(A)){const E=new Set(S.getAttribute(A).split(","));E.delete(p.name),0==E.size?u.writer.removeAttribute(A,S):u.writer.setAttribute(A,Array.from(E).join(","),S)}}}),{priority:o.converterPriority||"normal"})}}(i))}}function Rm(f,i){const o=f.createAttributeElement("span",i.attributes);return i.classes&&o._addClass(i.classes),"number"==typeof i.priority&&(o._priority=i.priority),o._id=i.id,o}function o4(f,i,o,l,h){const v=i?f.start:f.end,b=v.nodeAfter&&v.nodeAfter.is("element")?v.nodeAfter:null,C=v.nodeBefore&&v.nodeBefore.is("element")?v.nodeBefore:null;if(b||C){let a,c;i&&b||!i&&!C?(a=b,c=!0):(a=C,c=!1);const u=o.mapper.toViewElement(a);if(u)return void function(p,_,y,A,S,E){const T=`data-${E.group}-${_?"start":"end"}-${y?"before":"after"}`,V=p.hasAttribute(T)?p.getAttribute(T).split(","):[];V.unshift(E.name),A.writer.setAttribute(T,V.join(","),p),A.mapper.bindElementToMarker(p,S.markerName)}(u,i,c,o,l,h)}!function(a,c,u,p,_){const S=u.writer.createUIElement(`${_.group}-${c?"start":"end"}`,_.name?{name:_.name}:null);u.writer.insert(a,S),u.mapper.bindElementToMarker(S,p.markerName)}(o.mapper.toViewPosition(v),i,o,l,h)}function Om(f){return"string"==typeof f&&(f={name:f}),f.attributes?Array.isArray(f.attributes)||(f.attributes=[f.attributes]):f.attributes=[],f.children=!!f.children,f}function X0(f,i){return"function"==typeof f?f:(o,l)=>function(h,v,b){let C;"string"==typeof h&&(h={name:h});const a=v.writer,c=Object.assign({},h.attributes);if(C="container"==b?a.createContainerElement(h.name,c):"attribute"==b?a.createAttributeElement(h.name,c,{priority:h.priority||I2.DEFAULT_PRIORITY}):a.createUIElement(h.name,c),h.styles){const u=Object.keys(h.styles);for(const p of u)a.setStyle(p,h.styles[p],C)}if(h.classes){const u=h.classes;if("string"==typeof u)a.addClass(u,C);else for(const p of u)a.addClass(p,C)}return C}(f,l,i)}function e6(f){return f.model.values?(i,o,l)=>{const h=f.view[i];return h?h(i,o,l):null}:f.view}function W5(f){return"string"==typeof f?i=>({key:f,value:i}):"object"==typeof f?f.value?()=>f:i=>({key:f.key,value:i}):f}function od(f,i,o){const l="function"==typeof f?f(i,o):f;return l?(l.priority||(l.priority=10),l.id||(l.id=i.markerName),l):null}function Z5(f){const i=function(o){return(l,h)=>{if(!l.is("element",o.name))return!1;if("attribute"==h.type){if(o.attributes.includes(h.attributeKey))return!0}else if(o.children)return!0;return!1}}(f);return(o,l)=>{const h=[];l.reconvertedElements||(l.reconvertedElements=new Set);for(const v of l.changes){const b="attribute"==v.type?v.range.start.nodeAfter:v.position.parent;if(b&&i(b,v)){if(!l.reconvertedElements.has(b)){l.reconvertedElements.add(b);const C=Ye._createBefore(b);h.push({type:"remove",name:b.name,position:C,length:1},{type:"reinsert",name:b.name,position:C,length:1})}}else h.push(v)}l.changes=h}}function V7(f){return(i,o,l={})=>{const h=["insert"];for(const v of f.attributes)i.hasAttribute(v)&&h.push(`attribute:${v}`);return!!h.every(v=>o.test(i,v))&&(l.preflight||h.forEach(v=>o.consume(i,v)),!0)}}function t6(f,i,o,l){for(const h of i)Fv(f.root,h,o,l)||o.convertItem(h)}function Fv(f,i,o,l){const{writer:h,mapper:v}=o;if(!l.reconversion)return!1;const b=v.toViewElement(i);return!(!b||b.root==f||!o.canReuseView(b)||(h.move(h.createRangeOn(b),v.toViewPosition(Ye._createBefore(i))),0))}function H7(f,i,{preflight:o}={}){return o?i.test(f,"insert"):i.consume(f,"insert")}function sd(f){const{schema:i,document:o}=f.model;for(const l of o.getRootNames()){const h=o.getRoot(l);if(h.isEmpty&&!i.checkChild(h,"$text")&&i.checkChild(h,"paragraph"))return f.insertElement("paragraph",h),!0}return!1}function Fm(f,i,o){const l=o.createContext(f);return!!o.checkChild(l,"paragraph")&&!!o.checkChild(l.push("paragraph"),i)}function ad(f,i){const o=i.createElement("paragraph");return i.insert(o,f),i.createPositionAt(o,0)}class Y5 extends Rv{elementToElement(i){return this.add(n6(i))}elementToAttribute(i){return this.add(function(o){Bm(o=Ia(o));const l=Bv(o,!1),h=K5(o.view),v=h?`element:${h}`:"element";return b=>{b.on(v,l,{priority:o.converterPriority||"low"})}}(i))}attributeToAttribute(i){return this.add(function(o){let l=null;("string"==typeof(o=Ia(o)).view||o.view.key)&&(l=function(v){"string"==typeof v.view&&(v.view={key:v.view});const b=v.view.key;let C;return C="class"==b||"style"==b?{["class"==b?"classes":"styles"]:v.view.value}:{attributes:{[b]:void 0===v.view.value?/[\s\S]*/:v.view.value}},v.view.name&&(C.name=v.view.name),v.view=C,b}(o)),Bm(o,l);const h=Bv(o,!0);return v=>{v.on("element",h,{priority:o.converterPriority||"low"})}}(i))}elementToMarker(i){return this.add(function(o){const l=(h=o.model,(v,b)=>{const C="string"==typeof h?h:h(v,b);return b.writer.createElement("$marker",{"data-name":C})});var h;return n6({...o,model:l})}(i))}dataToMarker(i){return this.add(function(o){(o=Ia(o)).model||(o.model=b=>b?o.view+":"+b:o.view);const l={view:o.view,model:o.model},h=cd(V2(l,"start")),v=cd(V2(l,"end"));return b=>{b.on(`element:${o.view}-start`,h,{priority:o.converterPriority||"normal"}),b.on(`element:${o.view}-end`,v,{priority:o.converterPriority||"normal"});const C=Le.get("low"),a=Le.get("highest"),c=Le.get(o.converterPriority)/a;var u;b.on("element",(u=l,(p,_,y)=>{const A=`data-${u.view}`;function S(E,T){for(const V of T){const B=u.model(V,y),X=y.writer.createElement("$marker",{"data-name":B});y.writer.insert(X,E),_.modelCursor=_.modelCursor.isEqual(E)?_.modelCursor.getShiftedBy(1):_.modelCursor._getTransformedByInsertion(E,1),_.modelRange=_.modelRange._getTransformedByInsertion(E,1)[0]}}(y.consumable.test(_.viewItem,{attributes:A+"-end-after"})||y.consumable.test(_.viewItem,{attributes:A+"-start-after"})||y.consumable.test(_.viewItem,{attributes:A+"-end-before"})||y.consumable.test(_.viewItem,{attributes:A+"-start-before"}))&&(_.modelRange||Object.assign(_,y.convertChildren(_.viewItem,_.modelCursor)),y.consumable.consume(_.viewItem,{attributes:A+"-end-after"})&&S(_.modelRange.end,_.viewItem.getAttribute(A+"-end-after").split(",")),y.consumable.consume(_.viewItem,{attributes:A+"-start-after"})&&S(_.modelRange.end,_.viewItem.getAttribute(A+"-start-after").split(",")),y.consumable.consume(_.viewItem,{attributes:A+"-end-before"})&&S(_.modelRange.start,_.viewItem.getAttribute(A+"-end-before").split(",")),y.consumable.consume(_.viewItem,{attributes:A+"-start-before"})&&S(_.modelRange.start,_.viewItem.getAttribute(A+"-start-before").split(",")))}),{priority:C+c})}}(i))}}function n6(f){const i=cd(f=Ia(f)),o=K5(f.view),l=o?`element:${o}`:"element";return h=>{h.on(l,i,{priority:f.converterPriority||"normal"})}}function K5(f){return"string"==typeof f?f:"object"==typeof f&&"string"==typeof f.name?f.name:null}function cd(f){const i=new Ir(f.view);return(o,l,h)=>{const v=i.match(l.viewItem);if(!v)return;const b=v.match;if(b.name=!0,!h.consumable.test(l.viewItem,b))return;const C=(u=h,(a=f.model)instanceof Function?a(l.viewItem,u):u.writer.createElement(a));var a,u;C&&h.safeInsert(C,l.modelCursor)&&(h.consumable.consume(l.viewItem,b),h.convertChildren(l.viewItem,C),h.updateConversionResult(C,l))}}function Bm(f,i=null){f.model={key:"object"!=typeof f.model?f.model:f.model.key,value:"object"!=typeof f.model||void 0===f.model.value?null===i||(v=>v.getAttribute(i)):f.model.value}}function Bv(f,i){const o=new Ir(f.view);return(l,h,v)=>{if(!h.modelRange&&i)return;const b=o.match(h.viewItem);if(!b||(function(u,p){const _="function"==typeof u?u(p):u;return!("object"==typeof _&&!K5(_)||_.classes||_.attributes||_.styles)}(f.view,h.viewItem)?b.match.name=!0:delete b.match.name,!v.consumable.test(h.viewItem,b.match)))return;const C=f.model.key,a="function"==typeof f.model.value?f.model.value(h.viewItem,v):f.model.value;null!==a&&(h.modelRange||Object.assign(h,v.convertChildren(h.viewItem,h.modelCursor)),function(u,p,_,y){let A=!1;for(const S of Array.from(u.getItems({shallow:_})))y.schema.checkAttribute(S,p.key)&&(A=!0,S.hasAttribute(p.key)||y.writer.setAttribute(p.key,p.value,S));return A}(h.modelRange,{key:C,value:a},i,v)&&(v.consumable.test(h.viewItem,{name:!0})&&(b.match.name=!0),v.consumable.consume(h.viewItem,b.match)))}}function V2(f,i){return{view:`${f.view}-${i}`,model:(o,l)=>{const h=o.getAttribute("name"),v=f.model(h,l);return l.writer.createElement("$marker",{"data-name":v})}}}class Q5 extends(Gt()){constructor(i,o){super(),this.model=i,this.view=new Pv(o),this.mapper=new I7,this.downcastDispatcher=new Lm({mapper:this.mapper,schema:i.schema});const l=this.model.document,h=l.selection,v=this.model.markers;var b,C;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(l,"change",()=>{this.view.change(b=>{this.downcastDispatcher.convertChanges(l.differ,v,b),this.downcastDispatcher.convertSelection(h,v,b)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(b=this.model,C=this.mapper,(a,c)=>{const u=c.newSelection,p=[];for(const y of u.getRanges())p.push(C.toModelRange(y));const _=b.createSelection(p,{backward:u.isBackward});_.isEqual(b.document.selection)||b.change(y=>{y.setSelection(_)})})),this.downcastDispatcher.on("insert:$text",(b,C,a)=>{if(!a.consumable.consume(C.item,b.name))return;const c=a.writer,u=a.mapper.toViewPosition(C.range.start),p=c.createText(C.item.data);c.insert(u,p)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(b,C,a)=>{a.convertAttributes(C.item),C.reconversion||!C.item.is("element")||C.item.isEmpty||a.convertChildren(C.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(b,C,a)=>{const c=a.mapper.toViewPosition(C.position),u=C.position.getShiftedBy(C.length),p=a.mapper.toViewPosition(u,{isPhantom:!0}),_=a.writer.createRange(c,p),y=a.writer.remove(_.getTrimmed());for(const A of a.writer.createRangeIn(y).getItems())a.mapper.unbindViewElement(A,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(b,C,a)=>{const c=a.writer,u=c.document.selection;for(const p of u.getRanges())p.isCollapsed&&p.end.parent.isAttached()&&a.writer.mergeAttributes(p.start);c.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(b,C,a)=>{const c=C.selection;if(c.isCollapsed||!a.consumable.consume(c,"selection"))return;const u=[];for(const p of c.getRanges())u.push(a.mapper.toViewRange(p));a.writer.setSelection(u,{backward:c.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(b,C,a)=>{const c=C.selection;if(!c.isCollapsed||!a.consumable.consume(c,"selection"))return;const u=a.writer,p=c.getFirstPosition(),_=a.mapper.toViewPosition(p),y=u.breakAttributes(_);u.setSelection(y)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(b=>{if("$graveyard"==b.rootName)return null;const C=new kc(this.view.document,b.name);return C.rootName=b.rootName,this.mapper.bindElements(b,C),C})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(i){const o="string"==typeof i?i:i.name,l=this.model.markers.get(o);if(!l)throw new q("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:o});this.model.change(()=>{this.model.markers._refresh(l)})}reconvertItem(i){this.model.change(()=>{this.model.document.differ._refreshItem(i)})}}class i6{constructor(){this._consumables=new Map}add(i,o){let l;i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?l=this._consumables.get(i):(l=new P7(i),this._consumables.set(i,l)),l.add(o))}test(i,o){const l=this._consumables.get(i);return void 0===l?null:i.is("$text")||i.is("documentFragment")?l:l.test(o)}consume(i,o){return!!this.test(i,o)&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!1):this._consumables.get(i).consume(o),!0)}revert(i,o){const l=this._consumables.get(i);void 0!==l&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):l.revert(o))}static consumablesFromElement(i){const o={element:i,name:!0,attributes:[],classes:[],styles:[]},l=i.getAttributeKeys();for(const b of l)"style"!=b&&"class"!=b&&o.attributes.push(b);const h=i.getClassNames();for(const b of h)o.classes.push(b);const v=i.getStyleNames();for(const b of v)o.styles.push(b);return o}static createFrom(i,o){if(o||(o=new i6),i.is("$text"))return o.add(i),o;i.is("element")&&o.add(i,i6.consumablesFromElement(i)),i.is("documentFragment")&&o.add(i);for(const l of i.getChildren())o=i6.createFrom(l,o);return o}}const s4=["attributes","classes","styles"];class P7{constructor(i){this.element=i,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(i){i.name&&(this._canConsumeName=!0);for(const o of s4)o in i&&this._add(o,i[o])}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const o of s4)if(o in i){const l=this._test(o,i[o]);if(!0!==l)return l}return!0}consume(i){i.name&&(this._canConsumeName=!1);for(const o of s4)o in i&&this._consume(o,i[o])}revert(i){i.name&&(this._canConsumeName=!0);for(const o of s4)o in i&&this._revert(o,i[o])}_add(i,o){const l=Kn(o)?o:[o],h=this._consumables[i];for(const v of l){if("attributes"===i&&("class"===v||"style"===v))throw new q("viewconsumable-invalid-attribute",this);if(h.set(v,!0),"styles"===i)for(const b of this.element.document.stylesProcessor.getRelatedStyles(v))h.set(b,!0)}}_test(i,o){const l=Kn(o)?o:[o],h=this._consumables[i];for(const v of l)if("attributes"!==i||"class"!==v&&"style"!==v){const b=h.get(v);if(void 0===b)return null;if(!b)return!1}else{const b="class"==v?"classes":"styles",C=this._test(b,[...this._consumables[b].keys()]);if(!0!==C)return C}return!0}_consume(i,o){const l=Kn(o)?o:[o],h=this._consumables[i];for(const v of l)if("attributes"!==i||"class"!==v&&"style"!==v){if(h.set(v,!1),"styles"==i)for(const b of this.element.document.stylesProcessor.getRelatedStyles(v))h.set(b,!1)}else{const b="class"==v?"classes":"styles";this._consume(b,[...this._consumables[b].keys()])}}_revert(i,o){const l=Kn(o)?o:[o],h=this._consumables[i];for(const v of l)if("attributes"!==i||"class"!==v&&"style"!==v)!1===h.get(v)&&h.set(v,!0);else{const b="class"==v?"classes":"styles";this._revert(b,[...this._consumables[b].keys()])}}}class R7 extends(Gt()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(i,o)=>{o[0]=new Ta(o[0])},{priority:"highest"}),this.on("checkChild",(i,o)=>{o[0]=new Ta(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(i,o){if(this._sourceDefinitions[i])throw new q("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},o)],this._clearCache()}extend(i,o){if(!this._sourceDefinitions[i])throw new q("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let o;return o="string"==typeof i?i:"is"in i&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[o]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const o=this.getDefinition(i);return!(!o||!o.isBlock)}isLimit(i){const o=this.getDefinition(i);return!(!o||!o.isLimit&&!o.isObject)}isObject(i){const o=this.getDefinition(i);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(i){const o=this.getDefinition(i);return!(!o||!o.isInline)}isSelectable(i){const o=this.getDefinition(i);return!(!o||!o.isSelectable&&!o.isObject)}isContent(i){const o=this.getDefinition(i);return!(!o||!o.isContent&&!o.isObject)}checkChild(i,o){return!!o&&this._checkContextMatch(o,i)}checkAttribute(i,o){const l=this.getDefinition(i.last);return!!l&&l.allowAttributes.includes(o)}checkMerge(i,o){if(i instanceof Ye){const l=i.nodeBefore,h=i.nodeAfter;if(!(l instanceof Nt))throw new q("schema-check-merge-no-element-before",this);if(!(h instanceof Nt))throw new q("schema-check-merge-no-element-after",this);return this.checkMerge(l,h)}for(const l of o.getChildren())if(!this.checkChild(i,l))return!1;return!0}addChildCheck(i){this.on("checkChild",(o,[l,h])=>{if(!h)return;const v=i(l,h);"boolean"==typeof v&&(o.stop(),o.return=v)},{priority:"high"})}addAttributeCheck(i){this.on("checkAttribute",(o,[l,h])=>{const v=i(l,h);"boolean"==typeof v&&(o.stop(),o.return=v)},{priority:"high"})}setAttributeProperties(i,o){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),o)}getAttributeProperties(i){return this._attributeProperties[i]||{}}getLimitElement(i){let o;for(o=i instanceof Ye?i.parent:(i instanceof Ie?[i]:Array.from(i.getRanges())).reduce((l,h)=>{const v=h.getCommonAncestor();return l?l.getCommonAncestor(v,{includeSelf:!0}):v},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(i,o){if(i.isCollapsed){const l=[...i.getFirstPosition().getAncestors(),new Ln("",i.getAttributes())];return this.checkAttribute(l,o)}{const l=i.getRanges();for(const h of l)for(const v of h)if(this.checkAttribute(v.item,o))return!0}return!1}*getValidRanges(i,o){i=function*(l){for(const h of l)yield*h.getMinimalFlatRanges()}(i);for(const l of i)yield*this._getValidRangesForRange(l,o)}getNearestSelectionRange(i,o="both"){if(this.checkChild(i,"$text"))return new Ie(i);let l,h;const v=i.getAncestors().reverse().find(b=>this.isLimit(b))||i.root;"both"!=o&&"backward"!=o||(l=new Bo({boundaries:Ie._createIn(v),startPosition:i,direction:"backward"})),"both"!=o&&"forward"!=o||(h=new Bo({boundaries:Ie._createIn(v),startPosition:i}));for(const b of function*(C,a){let c=!1;for(;!c;){if(c=!0,C){const u=C.next();u.done||(c=!1,yield{walker:C,value:u.value})}if(a){const u=a.next();u.done||(c=!1,yield{walker:a,value:u.value})}}}(l,h)){const a=b.value;if(a.type==(b.walker==l?"elementEnd":"elementStart")&&this.isObject(a.item))return Ie._createOn(a.item);if(this.checkChild(a.nextPosition,"$text"))return new Ie(a.nextPosition)}return null}findAllowedParent(i,o){let l=i.parent;for(;l;){if(this.checkChild(l,o))return l;if(this.isLimit(l))return null;l=l.parent}return null}setAllowedAttributes(i,o,l){const h=l.model;for(const[v,b]of Object.entries(o))h.schema.checkAttribute(i,v)&&l.setAttribute(v,b,i)}removeDisallowedAttributes(i,o){for(const l of i)if(l.is("$text"))Um(this,l,o);else{const h=Ie._createIn(l).getPositions();for(const v of h)Um(this,v.nodeBefore||v.parent,o)}}getAttributesWithProperty(i,o,l){const h={};for(const[v,b]of i.getAttributes()){const C=this.getAttributeProperties(v);void 0!==C[o]&&(void 0!==l&&l!==C[o]||(h[v]=b))}return h}createContext(i){return new Ta(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},o=this._sourceDefinitions,l=Object.keys(o);for(const h of l)i[h]=r6(o[h],h);for(const h of l)J5(i,h);for(const h of l)H2(i,h);for(const h of l)X5(i,h);for(const h of l)e8(i,h),jm(i,h);for(const h of l)O7(i,h),F7(i,h),B7(i,h);this._compiledDefinitions=i}_checkContextMatch(i,o,l=o.length-1){const h=o.getItem(l);if(i.allowIn.includes(h.name)){if(0==l)return!0;{const v=this.getDefinition(h);return this._checkContextMatch(v,o,l-1)}}return!1}*_getValidRangesForRange(i,o){let l=i.start,h=i.start;for(const v of i.getItems({shallow:!0}))v.is("element")&&(yield*this._getValidRangesForRange(Ie._createIn(v),o)),this.checkAttribute(v,o)||(l.isEqual(h)||(yield new Ie(l,h)),l=Ye._createAfter(v)),h=Ye._createAfter(v);l.isEqual(h)||(yield new Ie(l,h))}}class Ta{constructor(i){if(i instanceof Ta)return i;let o;o="string"==typeof i?[i]:Array.isArray(i)?i:i.getAncestors({includeSelf:!0}),this._items=o.map(jv)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const o=new Ta([i]);return o._items=[...this._items,...o._items],o}getItem(i){return this._items[i]}*getNames(){yield*this._items.map(i=>i.name)}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function r6(f,i){const o={name:i,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(l,h){for(const v of l){const b=Object.keys(v).filter(C=>C.startsWith("is"));for(const C of b)h[C]=!!v[C]}}(f,o),G3(f,o,"allowIn"),G3(f,o,"allowContentOf"),G3(f,o,"allowWhere"),G3(f,o,"allowAttributes"),G3(f,o,"allowAttributesOf"),G3(f,o,"allowChildren"),G3(f,o,"inheritTypesFrom"),function(l,h){for(const v of l){const b=v.inheritAllFrom;b&&(h.allowContentOf.push(b),h.allowWhere.push(b),h.allowAttributesOf.push(b),h.inheritTypesFrom.push(b))}}(f,o),o}function J5(f,i){const o=f[i];for(const l of o.allowChildren){const h=f[l];h&&h.allowIn.push(i)}o.allowChildren.length=0}function H2(f,i){for(const o of f[i].allowContentOf)f[o]&&j7(f,o).forEach(l=>{l.allowIn.push(i)});delete f[i].allowContentOf}function X5(f,i){for(const o of f[i].allowWhere){const l=f[o];l&&f[i].allowIn.push(...l.allowIn)}delete f[i].allowWhere}function e8(f,i){for(const o of f[i].allowAttributesOf){const l=f[o];l&&f[i].allowAttributes.push(...l.allowAttributes)}delete f[i].allowAttributesOf}function jm(f,i){const o=f[i];for(const l of o.inheritTypesFrom){const h=f[l];if(h){const v=Object.keys(h).filter(b=>b.startsWith("is"));for(const b of v)b in o||(o[b]=h[b])}}delete o.inheritTypesFrom}function O7(f,i){const o=f[i],l=o.allowIn.filter(h=>f[h]);o.allowIn=Array.from(new Set(l))}function F7(f,i){const o=f[i];for(const l of o.allowIn)f[l].allowChildren.push(i)}function B7(f,i){const o=f[i];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function G3(f,i,o){for(const l of f){const h=l[o];"string"==typeof h?i[o].push(h):Array.isArray(h)&&i[o].push(...h)}}function j7(f,i){const o=f[i];return(l=f,Object.keys(l).map(h=>l[h])).filter(h=>h.allowIn.includes(o.name));var l}function jv(f){return"string"==typeof f||f.is("documentFragment")?{name:"string"==typeof f?f:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:f.is("element")?f.name:"$text",*getAttributeKeys(){yield*f.getAttributeKeys()},getAttribute:i=>f.getAttribute(i)}}function Um(f,i,o){for(const l of i.getAttributeKeys())f.checkAttribute(i,l)||o.removeAttribute(l,i)}class ld extends(pe()){constructor(i){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...i,consumable:null,writer:null,store:null,convertItem:(o,l)=>this._convertItem(o,l),convertChildren:(o,l)=>this._convertChildren(o,l),safeInsert:(o,l)=>this._safeInsert(o,l),updateConversionResult:(o,l)=>this._updateConversionResult(o,l),splitToAllowedParent:(o,l)=>this._splitToAllowedParent(o,l),getSplitParts:o=>this._getSplitParts(o),keepEmptyElement:o=>this._keepEmptyElement(o)}}convert(i,o,l=["$root"]){this.fire("viewCleanup",i),this._modelCursor=function(b,C){let a;for(const c of new Ta(b)){const u={};for(const _ of c.getAttributeKeys())u[_]=c.getAttribute(_);const p=C.createElement(c.name,u);a&&C.insert(p,a),a=Ye._createAt(p,0)}return a}(l,o),this.conversionApi.writer=o,this.conversionApi.consumable=i6.createFrom(i),this.conversionApi.store={};const{modelRange:h}=this._convertItem(i,this._modelCursor),v=o.createDocumentFragment();if(h){this._removeEmptyElements();for(const b of Array.from(this._modelCursor.parent.getChildren()))o.append(b,v);v.markers=function(b,C){const a=new Set,c=new Map,u=Ie._createIn(b).getItems();for(const p of u)p.is("element","$marker")&&a.add(p);for(const p of a){const _=p.getAttribute("data-name"),y=C.createPositionBefore(p);c.has(_)?c.get(_).end=y.clone():c.set(_,new Ie(y.clone())),C.remove(p)}return c}(v,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,v}_convertItem(i,o){const l={viewItem:i,modelCursor:o,modelRange:null};if(i.is("element")?this.fire(`element:${i.name}`,l,this.conversionApi):i.is("$text")?this.fire("text",l,this.conversionApi):this.fire("documentFragment",l,this.conversionApi),l.modelRange&&!(l.modelRange instanceof Ie))throw new q("view-conversion-dispatcher-incorrect-result",this);return{modelRange:l.modelRange,modelCursor:l.modelCursor}}_convertChildren(i,o){let l=o.is("position")?o:Ye._createAt(o,0);const h=new Ie(l);for(const v of Array.from(i.getChildren())){const b=this._convertItem(v,l);b.modelRange instanceof Ie&&(h.end=b.modelRange.end,l=b.modelCursor)}return{modelRange:h,modelCursor:l}}_safeInsert(i,o){const l=this._splitToAllowedParent(i,o);return!!l&&(this.conversionApi.writer.insert(i,l.position),!0)}_updateConversionResult(i,o){const l=this._getSplitParts(i),h=this.conversionApi.writer;o.modelRange||(o.modelRange=h.createRange(h.createPositionBefore(i),h.createPositionAfter(l[l.length-1])));const v=this._cursorParents.get(i);o.modelCursor=v?h.createPositionAt(v,0):o.modelRange.end}_splitToAllowedParent(i,o){const{schema:l,writer:h}=this.conversionApi;let v=l.findAllowedParent(o,i);if(v){if(v===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(v)&&(v=null)}if(!v)return Fm(o,i,l)?{position:ad(o,h)}:null;const b=this.conversionApi.writer.split(o,v),C=[];for(const c of b.range.getWalker())if("elementEnd"==c.type)C.push(c.item);else{const u=C.pop();this._registerSplitPair(u,c.item)}const a=b.range.end.parent;return this._cursorParents.set(i,a),{position:b.position,cursorParent:a}}_registerSplitPair(i,o){this._splitParts.has(i)||this._splitParts.set(i,[i]);const l=this._splitParts.get(i);this._splitParts.set(o,l),l.push(o)}_getSplitParts(i){let o;return o=this._splitParts.has(i)?this._splitParts.get(i):[i],o}_keepEmptyElement(i){this._emptyElementsToKeep.add(i)}_removeEmptyElements(){let i=!1;for(const o of this._splitParts.keys())o.isEmpty&&!this._emptyElementsToKeep.has(o)&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),i=!0);i&&this._removeEmptyElements()}}class Gm{getHtml(i){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(i),o.innerHTML}}class U7{constructor(i){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new U3(i,{renderingMode:"data"}),this.htmlWriter=new Gm}toData(i){const o=this.domConverter.viewToDom(i);return this.htmlWriter.getHtml(o)}toView(i){const o=this._toDom(i);return this.domConverter.domToView(o,{skipComments:this.skipComments})}registerRawContentMatcher(i){this.domConverter.registerRawContentMatcher(i)}useFillerType(i){this.domConverter.blockFillerMode="marked"==i?"markedNbsp":"nbsp"}_toDom(i){i.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(i=`<body>${i}</body>`);const o=this.domParser.parseFromString(i,"text/html"),l=o.createDocumentFragment(),h=o.body.childNodes;for(;h.length>0;)l.appendChild(h[0]);return l}}class t8 extends(pe()){constructor(i,o){super(),this.model=i,this.mapper=new I7,this.downcastDispatcher=new Lm({mapper:this.mapper,schema:i.schema}),this.downcastDispatcher.on("insert:$text",(l,h,v)=>{if(!v.consumable.consume(h.item,l.name))return;const b=v.writer,C=v.mapper.toViewPosition(h.range.start),a=b.createText(h.item.data);b.insert(C,a)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(l,h,v)=>{v.convertAttributes(h.item),h.reconversion||!h.item.is("element")||h.item.isEmpty||v.convertChildren(h.item)},{priority:"lowest"}),this.upcastDispatcher=new ld({schema:i.schema}),this.viewDocument=new T0(o),this.stylesProcessor=o,this.htmlProcessor=new U7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new T2(this.viewDocument),this.upcastDispatcher.on("text",(l,h,{schema:v,consumable:b,writer:C})=>{let a=h.modelCursor;if(!b.test(h.viewItem))return;if(!v.checkChild(a,"$text")){if(!Fm(a,"$text",v)||0==h.viewItem.data.trim().length)return;const u=a.nodeBefore;a=ad(a,C),u&&u.is("element","$marker")&&(C.move(C.createRangeOn(u),a),a=C.createPositionAfter(u))}b.consume(h.viewItem);const c=C.createText(h.viewItem.data);C.insert(c,a),h.modelRange=C.createRange(a,a.getShiftedBy(c.offsetSize)),h.modelCursor=h.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(l,h,v)=>{if(!h.modelRange&&v.consumable.consume(h.viewItem,{name:!0})){const{modelRange:b,modelCursor:C}=v.convertChildren(h.viewItem,h.modelCursor);h.modelRange=b,h.modelCursor=C}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(l,h,v)=>{if(!h.modelRange&&v.consumable.consume(h.viewItem,{name:!0})){const{modelRange:b,modelCursor:C}=v.convertChildren(h.viewItem,h.modelCursor);h.modelRange=b,h.modelCursor=C}},{priority:"lowest"}),Gt().prototype.decorate.call(this,"init"),Gt().prototype.decorate.call(this,"set"),Gt().prototype.decorate.call(this,"get"),Gt().prototype.decorate.call(this,"toView"),Gt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},sd)},{priority:"lowest"})}get(i={}){const{rootName:o="main",trim:l="empty"}=i;if(!this._checkIfRootsExists([o]))throw new q("datacontroller-get-non-existent-root",this);const h=this.model.document.getRoot(o);return"empty"!==l||this.model.hasContent(h,{ignoreWhitespaces:!0})?this.stringify(h,i):""}stringify(i,o={}){const l=this.toView(i,o);return this.processor.toData(l)}toView(i,o={}){const l=this.viewDocument,h=this._viewWriter;this.mapper.clearBindings();const v=Ie._createIn(i),b=new po(l);this.mapper.bindElements(i,b);const C=i.is("documentFragment")?i.markers:function(a){const c=[],u=a.root.document;if(!u)return new Map;const p=Ie._createIn(a);for(const _ of u.model.markers){const y=_.getRange(),A=y.isCollapsed,S=y.start.isEqual(p.start)||y.end.isEqual(p.end);if(A&&S)c.push([_.name,y]);else{const E=p.getIntersection(y);E&&c.push([_.name,E])}}return c.sort(([_,y],[A,S])=>{if("after"!==y.end.compareWith(S.start))return 1;if("before"!==y.start.compareWith(S.end))return-1;switch(y.start.compareWith(S.start)){case"before":return 1;case"after":return-1;default:switch(y.end.compareWith(S.end)){case"before":return 1;case"after":return-1;default:return A.localeCompare(_)}}}),new Map(c)}(i);return this.downcastDispatcher.convert(v,C,h,o),b}init(i){if(this.model.document.version)throw new q("datacontroller-init-document-not-empty",this);let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new q("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},l=>{for(const h of Object.keys(o)){const v=this.model.document.getRoot(h);l.insert(this.parse(o[h],v),v,0)}}),Promise.resolve()}set(i,o={}){let l={};if("string"==typeof i?l.main=i:l=i,!this._checkIfRootsExists(Object.keys(l)))throw new q("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||{},h=>{h.setSelection(null),h.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const v of Object.keys(l)){const b=this.model.document.getRoot(v);h.remove(h.createRangeIn(b)),h.insert(this.parse(l[v],b),b,0)}})}parse(i,o="$root"){const l=this.processor.toView(i);return this.toModel(l,o)}toModel(i,o="$root"){return this.model.change(l=>this.upcastDispatcher.convert(i,l,o))}addStyleProcessorRules(i){i(this.stylesProcessor)}registerRawContentMatcher(i){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(i),this.htmlProcessor.registerRawContentMatcher(i)}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const o of i)if(!this.model.document.getRootNames().includes(o))return!1;return!0}}class Uv{constructor(i,o){this._helpers=new Map,this._downcast=$n(i),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=$n(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,o){const l=this._downcast.includes(o);if(!this._upcast.includes(o)&&!l)throw new q("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:i,dispatchers:[o],isDowncast:l})}for(i){if(!this._helpers.has(i))throw new q("conversion-for-unknown-group",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:o,view:l}of G7(i))this.for("upcast").elementToElement({model:o,view:l,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:o,view:l}of G7(i))this.for("upcast").elementToAttribute({view:l,model:o,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:o,view:l}of G7(i))this.for("upcast").attributeToAttribute({view:l,model:o})}_createConversionHelpers({name:i,dispatchers:o,isDowncast:l}){if(this._helpers.has(i))throw new q("conversion-group-exists",this);const h=l?new Ov(o):new Y5(o);this._helpers.set(i,h)}}function*G7(f){if(f.model.values)for(const i of f.model.values){const o={key:f.model.key,value:i},l=f.view[i],h=f.upcastAlso?f.upcastAlso[i]:void 0;yield*Rs(o,l,h)}else yield*Rs(f.model,f.view,f.upcastAlso)}function*Rs(f,i,o){if(yield{model:f,view:i},o)for(const l of $n(o))yield{model:f,view:l}}class l1{constructor(i){this.baseVersion=i,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i,o){return new this(i.baseVersion)}}function n8(f,i){const o=i8(i),l=o.reduce((b,C)=>b+C.offsetSize,0),h=f.parent;ud(f);const v=f.index;return h._insertChild(v,o),r8(h,v+o.length),r8(h,v),new Ie(f,f.getShiftedBy(l))}function qm(f){if(!f.isFlat)throw new q("operation-utils-remove-range-not-flat",this);const i=f.start.parent;ud(f.start),ud(f.end);const o=i._removeChildren(f.start.index,f.end.index-f.start.index);return r8(i,f.start.index),o}function q3(f,i){if(!f.isFlat)throw new q("operation-utils-move-range-not-flat",this);const o=qm(f);return n8(i=i._getTransformedByDeletion(f.start,f.end.offset-f.start.offset),o)}function i8(f){const i=[];!function o(l){if("string"==typeof l)i.push(new Ln(l));else if(l instanceof bs)i.push(new Ln(l.data,l.getAttributes()));else if(l instanceof nd)i.push(l);else if(_i(l))for(const h of l)o(h)}(f);for(let o=1;o<i.length;o++){const l=i[o],h=i[o-1];l instanceof Ln&&h instanceof Ln&&Gv(l,h)&&(i.splice(o-1,2,new Ln(h.data+l.data,h.getAttributes())),o--)}return i}function r8(f,i){const o=f.getChild(i-1),l=f.getChild(i);if(o&&l&&o.is("$text")&&l.is("$text")&&Gv(o,l)){const h=new Ln(o.data+l.data,o.getAttributes());f._removeChildren(i-1,2),f._insertChild(i-1,h)}}function ud(f){const i=f.textNode,o=f.parent;if(i){const l=f.offset-i.startOffset,h=i.index;o._removeChildren(h,1);const v=new Ln(i.data.substr(0,l),i.getAttributes()),b=new Ln(i.data.substr(l),i.getAttributes());o._insertChild(h,[v,b])}}function Gv(f,i){const o=f.getAttributes(),l=i.getAttributes();for(const h of o){if(h[1]!==i.getAttribute(h[0]))return!1;l.next()}return l.next().done}class Fn extends l1{constructor(i,o,l,h){super(h),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new Fn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Fn(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent,l=this.sourcePosition.offset,h=this.targetPosition.offset;if(l+this.howMany>i.maxOffset)throw new q("move-operation-nodes-do-not-exist",this);if(i===o&&l<h&&h<l+this.howMany)throw new q("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Hn(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const v=this.sourcePosition.path.length-1;if(this.targetPosition.path[v]>=l&&this.targetPosition.path[v]<l+this.howMany)throw new q("move-operation-node-into-itself",this)}}_execute(){q3(Ie._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,o){const l=Ye.fromJSON(i.sourcePosition,o),h=Ye.fromJSON(i.targetPosition,o);return new this(l,i.howMany,h,i.baseVersion)}}class Nr extends l1{constructor(i,o,l){super(l),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new De(i8(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const i=new De([...this.nodes].map(l=>l._clone(!0))),o=new Nr(this.position,i,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const o=new Ye(this.position.root.document.graveyard,[0]);return new Fn(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new q("insert-operation-position-invalid",this)}_execute(){const i=this.nodes;this.nodes=new De([...i].map(o=>o._clone(!0))),n8(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,o){const l=[];for(const v of i.nodes)l.push(v.name?Nt.fromJSON(v):Ln.fromJSON(v));const h=new Nr(Ye.fromJSON(i.position,o),l,i.baseVersion);return h.shouldReceiveAttributes=i.shouldReceiveAttributes,h}}class u1 extends l1{constructor(i,o,l,h,v,b){super(b),this.name=i,this.oldRange=o?o.clone():null,this.newRange=l?l.clone():null,this.affectsData=v,this._markers=h}get type(){return"marker"}clone(){return new u1(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new u1(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,o){return new u1(i.name,i.oldRange?Ie.fromJSON(i.oldRange,o):null,i.newRange?Ie.fromJSON(i.newRange,o):null,o.model.markers,i.affectsData,i.baseVersion)}}const q7=function(f,i){return Nv(f,i)};class pr extends l1{constructor(i,o,l,h,v){super(v),this.range=i.clone(),this.key=o,this.oldValue=void 0===l?null:l,this.newValue=void 0===h?null:h}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new pr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new pr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new q("attribute-operation-range-not-flat",this);for(const i of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!q7(i.getAttribute(this.key),this.oldValue))throw new q("attribute-operation-wrong-old-value",this,{item:i,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&i.hasAttribute(this.key))throw new q("attribute-operation-attribute-exists",this,{node:i,key:this.key})}}_execute(){q7(this.oldValue,this.newValue)||function(i,o,l){ud(i.start),ud(i.end);for(const h of i.getItems({shallow:!0})){const v=h.is("$textProxy")?h.textNode:h;null!==l?v._setAttribute(o,l):v._removeAttribute(o),r8(v.parent,v.index)}r8(i.end.parent,i.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,o){return new pr(Ie.fromJSON(i.range,o),i.key,i.oldValue,i.newValue,i.baseVersion)}}class no extends l1{get type(){return"noop"}clone(){return new no(this.baseVersion)}getReversed(){return new no(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Os extends l1{constructor(i,o,l,h){super(h),this.position=i,this.position.stickiness="toNext",this.oldName=o,this.newName=l}get type(){return"rename"}clone(){return new Os(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Os(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof Nt))throw new q("rename-operation-wrong-position",this);if(i.name!==this.oldName)throw new q("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,o){return new Os(Ye.fromJSON(i.position,o),i.oldName,i.newName,i.baseVersion)}}class P2 extends l1{constructor(i,o,l,h,v){super(v),this.root=i,this.key=o,this.oldValue=l,this.newValue=h}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new P2(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new P2(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new q("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new q("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new q("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,o){if(!o.getRoot(i.root))throw new q("rootattribute-operation-fromjson-no-root",this,{rootName:i.root});return new P2(o.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Pi extends l1{constructor(i,o,l,h,v){super(v),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=h.clone()}get type(){return"merge"}get deletionPosition(){return new Ye(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ie(this.sourcePosition,i)}clone(){return new Pi(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),l=new Ye(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new _n(i,this.howMany,l,this.graveyardPosition,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent;if(!i.parent)throw new q("merge-operation-source-position-invalid",this);if(!o.parent)throw new q("merge-operation-target-position-invalid",this);if(this.howMany!=i.maxOffset)throw new q("merge-operation-how-many-invalid",this)}_execute(){const i=this.sourcePosition.parent;q3(Ie._createIn(i),this.targetPosition),q3(Ie._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,o){const l=Ye.fromJSON(i.sourcePosition,o),h=Ye.fromJSON(i.targetPosition,o),v=Ye.fromJSON(i.graveyardPosition,o);return new this(l,i.howMany,h,v,i.baseVersion)}}class _n extends l1{constructor(i,o,l,h,v){super(v),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=l,this.graveyardPosition=h?h.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new Ye(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ie(this.splitPosition,i)}clone(){return new _n(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const o=new Ye(this.splitPosition.root.document.graveyard,[0]);return new Pi(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent;if(!i||i.maxOffset<this.splitPosition.offset)throw new q("split-operation-position-invalid",this);if(!i.parent)throw new q("split-operation-split-in-root",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new q("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new q("split-operation-graveyard-position-invalid",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)q3(Ie._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=i._clone();n8(this.insertionPosition,o)}q3(new Ie(Ye._createAt(i,this.splitPosition.offset),Ye._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const o=i.path.slice(0,-1);return o[o.length-1]++,new Ye(i.root,o,"toPrevious")}static fromJSON(i,o){const l=Ye.fromJSON(i.splitPosition,o),h=Ye.fromJSON(i.insertionPosition,o),v=i.graveyardPosition?Ye.fromJSON(i.graveyardPosition,o):null;return new this(l,i.howMany,h,v,i.baseVersion)}}const F1={};F1[pr.className]=pr,F1[Nr.className]=Nr,F1[u1.className]=u1,F1[Fn.className]=Fn,F1[no.className]=no,F1[l1.className]=l1,F1[Os.className]=Os,F1[P2.className]=P2,F1[_n.className]=_n,F1[Pi.className]=Pi;class $7{static fromJSON(i,o){return F1[i.__className].fromJSON(i,o)}}const $m=new Map;function Nn(f,i,o){let l=$m.get(f);l||(l=new Map,$m.set(f,l)),l.set(i,o)}function Ny(f){return[f]}function Wm(f,i,o={}){const l=function(h,v){const b=$m.get(h);return b&&b.has(v)?b.get(v):Ny}(f.constructor,i.constructor);try{return l(f=f.clone(),i,o)}catch(h){throw h}}function qv(f,i,o){f=f.slice(),i=i.slice();const l=new Zm(o.document,o.useRelations,o.forceWeakRemove);l.setOriginalOperations(f),l.setOriginalOperations(i);const h=l.originalOperations;if(0==f.length||0==i.length)return{operationsA:f,operationsB:i,originalOperations:h};const v=new WeakMap;for(const a of f)v.set(a,0);const b={nextBaseVersionA:f[f.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:f.length,originalOperationsBCount:i.length};let C=0;for(;C<f.length;){const a=f[C],c=v.get(a);if(c==i.length){C++;continue}const u=i[c],p=Wm(a,u,l.getContext(a,u,!0)),_=Wm(u,a,l.getContext(u,a,!1));l.updateRelation(a,u),l.setOriginalOperations(p,a),l.setOriginalOperations(_,u);for(const y of p)v.set(y,c+_.length);f.splice(C,1,...p),i.splice(c,1,..._)}if(o.padWithNoOps){const a=f.length-b.originalOperationsACount,c=i.length-b.originalOperationsBCount;Ym(f,c-a),Ym(i,a-c)}return $v(f,b.nextBaseVersionB),$v(i,b.nextBaseVersionA),{operationsA:f,operationsB:i,originalOperations:h}}class Zm{constructor(i,o,l=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=o,this._forceWeakRemove=!!l,this._relations=new Map}setOriginalOperations(i,o=null){const l=o?this.originalOperations.get(o):null;for(const h of i)this.originalOperations.set(h,l||h)}updateRelation(i,o){if(i instanceof Fn)o instanceof Pi?i.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,o,"insertAtSource"):i.targetPosition.isEqual(o.deletionPosition)?this._setRelation(i,o,"insertBetween"):i.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(i,o,"moveTargetAfter"):o instanceof Fn&&(i.targetPosition.isEqual(o.sourcePosition)||i.targetPosition.isBefore(o.sourcePosition)?this._setRelation(i,o,"insertBefore"):this._setRelation(i,o,"insertAfter"));else if(i instanceof _n){if(o instanceof Pi)i.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(i,o,"splitBefore");else if(o instanceof Fn)if(i.splitPosition.isEqual(o.sourcePosition)||i.splitPosition.isBefore(o.sourcePosition))this._setRelation(i,o,"splitBefore");else{const l=Ie._createFromPositionAndShift(o.sourcePosition,o.howMany);i.splitPosition.hasSameParentAs(o.sourcePosition)&&l.containsPosition(i.splitPosition)&&this._setRelation(i,o,{howMany:l.end.offset-i.splitPosition.offset,offset:i.splitPosition.offset-l.start.offset})}}else if(i instanceof Pi)o instanceof Pi?(i.targetPosition.isEqual(o.sourcePosition)||this._setRelation(i,o,"mergeTargetNotMoved"),i.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(i,o,"mergeSourceNotMoved"),i.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeSameElement")):o instanceof _n&&i.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(i,o,"splitAtSource");else if(i instanceof u1){const l=i.newRange;if(!l)return;if(o instanceof Fn){const h=Ie._createFromPositionAndShift(o.sourcePosition,o.howMany),v=h.containsPosition(l.start)||h.start.isEqual(l.start),b=h.containsPosition(l.end)||h.end.isEqual(l.end);!v&&!b||h.containsRange(l)||this._setRelation(i,o,{side:v?"left":"right",path:v?l.start.path.slice():l.end.path.slice()})}else if(o instanceof Pi){const h=l.start.isEqual(o.targetPosition),v=l.start.isEqual(o.deletionPosition),b=l.end.isEqual(o.deletionPosition),C=l.end.isEqual(o.sourcePosition);(h||v||b||C)&&this._setRelation(i,o,{wasInLeftElement:h,wasStartBeforeMergedElement:v,wasEndBeforeMergedElement:b,wasInRightElement:C})}}}getContext(i,o,l){return{aIsStrong:l,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(i,o):null,baRelation:this._useRelations?this._getRelation(o,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const o=this.originalOperations.get(i);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(i,o){const l=this.originalOperations.get(o),h=this._history.getUndoneOperation(l);if(!h)return null;const v=this.originalOperations.get(i),b=this._relations.get(v);return b&&b.get(h)||null}_setRelation(i,o,l){const h=this.originalOperations.get(i),v=this.originalOperations.get(o);let b=this._relations.get(h);b||(b=new Map,this._relations.set(h,b)),b.set(v,l)}}function $v(f,i){for(const o of f)o.baseVersion=i++}function Ym(f,i){for(let o=0;o<i;o++)f.push(new no(0))}function o8(f,i,o){const l=f.nodes.getNode(0).getAttribute(i);if(l==o)return null;const h=new Ie(f.position,f.position.getShiftedBy(f.howMany));return new pr(h,i,l,o,0)}function s8(f,i){return null===f.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)}function $3(f,i){const o=[];for(let l=0;l<f.length;l++){const h=f[l],v=new Fn(h.start,h.end.offset-h.start.offset,i,0);o.push(v);for(let b=l+1;b<f.length;b++)f[b]=f[b]._getTransformedByMove(v.sourcePosition,v.targetPosition,v.howMany)[0];i=i._getTransformedByMove(v.sourcePosition,v.targetPosition,v.howMany)}return o}Nn(pr,pr,(f,i,o)=>{if(f.key===i.key&&f.range.start.hasSameParentAs(i.range.start)){const l=f.range.getDifference(i.range).map(v=>new pr(v,f.key,f.oldValue,f.newValue,0)),h=f.range.getIntersection(i.range);return h&&o.aIsStrong&&l.push(new pr(h,i.key,i.newValue,f.newValue,0)),0==l.length?[new no(0)]:l}return[f]}),Nn(pr,Nr,(f,i)=>{if(f.range.start.hasSameParentAs(i.position)&&f.range.containsPosition(i.position)){const o=f.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map(l=>new pr(l,f.key,f.oldValue,f.newValue,f.baseVersion));if(i.shouldReceiveAttributes){const l=o8(i,f.key,f.oldValue);l&&o.unshift(l)}return o}return f.range=f.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[f]}),Nn(pr,Pi,(f,i)=>{const o=[];f.range.start.hasSameParentAs(i.deletionPosition)&&(f.range.containsPosition(i.deletionPosition)||f.range.start.isEqual(i.deletionPosition))&&o.push(Ie._createFromPositionAndShift(i.graveyardPosition,1));const l=f.range._getTransformedByMergeOperation(i);return l.isCollapsed||o.push(l),o.map(h=>new pr(h,f.key,f.oldValue,f.newValue,f.baseVersion))}),Nn(pr,Fn,(f,i)=>function(l,h){const v=Ie._createFromPositionAndShift(h.sourcePosition,h.howMany);let b=null,C=[];v.containsRange(l,!0)?b=l:l.start.hasSameParentAs(v.start)?(C=l.getDifference(v),b=l.getIntersection(v)):C=[l];const a=[];for(let c of C){c=c._getTransformedByDeletion(h.sourcePosition,h.howMany);const u=h.getMovedRangeStart(),p=c.start.hasSameParentAs(u),_=c._getTransformedByInsertion(u,h.howMany,p);a.push(..._)}return b&&a.push(b._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany,!1)[0]),a}(f.range,i).map(l=>new pr(l,f.key,f.oldValue,f.newValue,f.baseVersion))),Nn(pr,_n,(f,i)=>{if(f.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||f.range.end.offset++,[f];if(f.range.start.hasSameParentAs(i.splitPosition)&&f.range.containsPosition(i.splitPosition)){const o=f.clone();return o.range=new Ie(i.moveTargetPosition.clone(),f.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),f.range.end=i.splitPosition.clone(),f.range.end.stickiness="toPrevious",[f,o]}return f.range=f.range._getTransformedBySplitOperation(i),[f]}),Nn(Nr,pr,(f,i)=>{const o=[f];if(f.shouldReceiveAttributes&&f.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(f.position)){const l=o8(f,i.key,i.newValue);l&&o.push(l)}return o}),Nn(Nr,Nr,(f,i,o)=>(f.position.isEqual(i.position)&&o.aIsStrong||(f.position=f.position._getTransformedByInsertOperation(i)),[f])),Nn(Nr,Fn,(f,i)=>(f.position=f.position._getTransformedByMoveOperation(i),[f])),Nn(Nr,_n,(f,i)=>(f.position=f.position._getTransformedBySplitOperation(i),[f])),Nn(Nr,Pi,(f,i)=>(f.position=f.position._getTransformedByMergeOperation(i),[f])),Nn(u1,Nr,(f,i)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByInsertOperation(i)[0]),f.newRange&&(f.newRange=f.newRange._getTransformedByInsertOperation(i)[0]),[f])),Nn(u1,u1,(f,i,o)=>{if(f.name==i.name){if(!o.aIsStrong)return[new no(0)];f.oldRange=i.newRange?i.newRange.clone():null}return[f]}),Nn(u1,Pi,(f,i)=>(f.oldRange&&(f.oldRange=f.oldRange._getTransformedByMergeOperation(i)),f.newRange&&(f.newRange=f.newRange._getTransformedByMergeOperation(i)),[f])),Nn(u1,Fn,(f,i,o)=>{if(f.oldRange&&(f.oldRange=Ie._createFromRanges(f.oldRange._getTransformedByMoveOperation(i))),f.newRange){if(o.abRelation){const l=Ie._createFromRanges(f.newRange._getTransformedByMoveOperation(i));if("left"==o.abRelation.side&&i.targetPosition.isEqual(f.newRange.start))return f.newRange.end=l.end,f.newRange.start.path=o.abRelation.path,[f];if("right"==o.abRelation.side&&i.targetPosition.isEqual(f.newRange.end))return f.newRange.start=l.start,f.newRange.end.path=o.abRelation.path,[f]}f.newRange=Ie._createFromRanges(f.newRange._getTransformedByMoveOperation(i))}return[f]}),Nn(u1,_n,(f,i,o)=>{if(f.oldRange&&(f.oldRange=f.oldRange._getTransformedBySplitOperation(i)),f.newRange){if(o.abRelation){const l=f.newRange._getTransformedBySplitOperation(i);return f.newRange.start.isEqual(i.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?f.newRange.start=Ye._createAt(i.insertionPosition):f.newRange.start.isEqual(i.splitPosition)&&!o.abRelation.wasInLeftElement&&(f.newRange.start=Ye._createAt(i.moveTargetPosition)),f.newRange.end=f.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasInRightElement?Ye._createAt(i.moveTargetPosition):f.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?Ye._createAt(i.insertionPosition):l.end,[f]}f.newRange=f.newRange._getTransformedBySplitOperation(i)}return[f]}),Nn(Pi,Nr,(f,i)=>(f.sourcePosition.hasSameParentAs(i.position)&&(f.howMany+=i.howMany),f.sourcePosition=f.sourcePosition._getTransformedByInsertOperation(i),f.targetPosition=f.targetPosition._getTransformedByInsertOperation(i),[f])),Nn(Pi,Pi,(f,i,o)=>{if(f.sourcePosition.isEqual(i.sourcePosition)&&f.targetPosition.isEqual(i.targetPosition)){if(o.bWasUndone){const l=i.graveyardPosition.path.slice();return l.push(0),f.sourcePosition=new Ye(i.graveyardPosition.root,l),f.howMany=0,[f]}return[new no(0)]}if(f.sourcePosition.isEqual(i.sourcePosition)&&!f.targetPosition.isEqual(i.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const l="$graveyard"==f.targetPosition.root.rootName,h="$graveyard"==i.targetPosition.root.rootName;if(h&&!l||(!l||h)&&o.aIsStrong){const v=i.targetPosition._getTransformedByMergeOperation(i),b=f.targetPosition._getTransformedByMergeOperation(i);return[new Fn(v,f.howMany,b,0)]}return[new no(0)]}return f.sourcePosition.hasSameParentAs(i.targetPosition)&&(f.howMany+=i.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMergeOperation(i),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(i),f.graveyardPosition.isEqual(i.graveyardPosition)&&o.aIsStrong||(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(i)),[f]}),Nn(Pi,Fn,(f,i,o)=>{const l=Ie._createFromPositionAndShift(i.sourcePosition,i.howMany);return"remove"==i.type&&!o.bWasUndone&&!o.forceWeakRemove&&f.deletionPosition.hasSameParentAs(i.sourcePosition)&&l.containsPosition(f.sourcePosition)?[new no(0)]:(f.sourcePosition.hasSameParentAs(i.targetPosition)&&(f.howMany+=i.howMany),f.sourcePosition.hasSameParentAs(i.sourcePosition)&&(f.howMany-=i.howMany),f.sourcePosition=f.sourcePosition._getTransformedByMoveOperation(i),f.targetPosition=f.targetPosition._getTransformedByMoveOperation(i),f.graveyardPosition.isEqual(i.targetPosition)||(f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(i)),[f])}),Nn(Pi,_n,(f,i,o)=>{if(i.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),f.deletionPosition.isEqual(i.graveyardPosition)&&(f.howMany=i.howMany)),f.targetPosition.isEqual(i.splitPosition)){const l=0!=i.howMany,h=i.graveyardPosition&&f.deletionPosition.isEqual(i.graveyardPosition);if(l||h||"mergeTargetNotMoved"==o.abRelation)return f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(i),[f]}if(f.sourcePosition.isEqual(i.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return f.howMany=0,f.targetPosition=f.targetPosition._getTransformedBySplitOperation(i),[f];if("mergeSameElement"==o.abRelation||f.sourcePosition.offset>0)return f.sourcePosition=i.moveTargetPosition.clone(),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(i),[f]}return f.sourcePosition.hasSameParentAs(i.splitPosition)&&(f.howMany=i.splitPosition.offset),f.sourcePosition=f.sourcePosition._getTransformedBySplitOperation(i),f.targetPosition=f.targetPosition._getTransformedBySplitOperation(i),[f]}),Nn(Fn,Nr,(f,i)=>{const o=Ie._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByInsertOperation(i,!1)[0];return f.sourcePosition=o.start,f.howMany=o.end.offset-o.start.offset,f.targetPosition.isEqual(i.position)||(f.targetPosition=f.targetPosition._getTransformedByInsertOperation(i)),[f]}),Nn(Fn,Fn,(f,i,o)=>{const l=Ie._createFromPositionAndShift(f.sourcePosition,f.howMany),h=Ie._createFromPositionAndShift(i.sourcePosition,i.howMany);let v,b=o.aIsStrong,C=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?C=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(C=!1),v=f.targetPosition.isEqual(i.targetPosition)&&C?f.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):f.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),s8(f,i)&&s8(i,f))return[i.getReversed()];if(l.containsPosition(i.targetPosition)&&l.containsRange(h,!0))return l.start=l.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),l.end=l.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),$3([l],v);if(h.containsPosition(f.targetPosition)&&h.containsRange(l,!0))return l.start=l.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),l.end=l.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),$3([l],v);const a=Hn(f.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if("prefix"==a||"extension"==a)return l.start=l.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),l.end=l.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),$3([l],v);"remove"!=f.type||"remove"==i.type||o.aWasUndone||o.forceWeakRemove?"remove"==f.type||"remove"!=i.type||o.bWasUndone||o.forceWeakRemove||(b=!1):b=!0;const c=[],u=l.getDifference(h);for(const _ of u){_.start=_.start._getTransformedByDeletion(i.sourcePosition,i.howMany),_.end=_.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const y="same"==Hn(_.start.getParentPath(),i.getMovedRangeStart().getParentPath()),A=_._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,y);c.push(...A)}const p=l.getIntersection(h);return null!==p&&b&&(p.start=p.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),p.end=p.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),0===c.length?c.push(p):1==c.length?h.start.isBefore(l.start)||h.start.isEqual(l.start)?c.unshift(p):c.push(p):c.splice(1,0,p)),0===c.length?[new no(f.baseVersion)]:$3(c,v)}),Nn(Fn,_n,(f,i,o)=>{let l=f.targetPosition.clone();f.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(l=f.targetPosition._getTransformedBySplitOperation(i));const h=Ie._createFromPositionAndShift(f.sourcePosition,f.howMany);if(h.end.isEqual(i.insertionPosition))return i.graveyardPosition||f.howMany++,f.targetPosition=l,[f];if(h.start.hasSameParentAs(i.splitPosition)&&h.containsPosition(i.splitPosition)){let b=new Ie(i.splitPosition,h.end);return b=b._getTransformedBySplitOperation(i),$3([new Ie(h.start,i.splitPosition),b],l)}f.targetPosition.isEqual(i.splitPosition)&&"insertAtSource"==o.abRelation&&(l=i.moveTargetPosition),f.targetPosition.isEqual(i.insertionPosition)&&"insertBetween"==o.abRelation&&(l=f.targetPosition);const v=[h._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const b=h.start.isEqual(i.graveyardPosition)||h.containsPosition(i.graveyardPosition);f.howMany>1&&b&&!o.aWasUndone&&v.push(Ie._createFromPositionAndShift(i.insertionPosition,1))}return $3(v,l)}),Nn(Fn,Pi,(f,i,o)=>{const l=Ie._createFromPositionAndShift(f.sourcePosition,f.howMany);if(i.deletionPosition.hasSameParentAs(f.sourcePosition)&&l.containsPosition(i.sourcePosition))if("remove"!=f.type||o.forceWeakRemove){if(1==f.howMany)return o.bWasUndone?(f.sourcePosition=i.graveyardPosition.clone(),f.targetPosition=f.targetPosition._getTransformedByMergeOperation(i),[f]):[new no(0)]}else if(!o.aWasUndone){const v=[];let b=i.graveyardPosition.clone(),C=i.targetPosition._getTransformedByMergeOperation(i);f.howMany>1&&(v.push(new Fn(f.sourcePosition,f.howMany-1,f.targetPosition,0)),b=b._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1),C=C._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany-1));const a=i.deletionPosition._getCombined(f.sourcePosition,f.targetPosition),c=new Fn(b,1,a,0),u=c.getMovedRangeStart().path.slice();u.push(0);const p=new Ye(c.targetPosition.root,u);C=C._getTransformedByMove(b,a,1);const _=new Fn(C,i.howMany,p,0);return v.push(c),v.push(_),v}const h=Ie._createFromPositionAndShift(f.sourcePosition,f.howMany)._getTransformedByMergeOperation(i);return f.sourcePosition=h.start,f.howMany=h.end.offset-h.start.offset,f.targetPosition=f.targetPosition._getTransformedByMergeOperation(i),[f]}),Nn(Os,Nr,(f,i)=>(f.position=f.position._getTransformedByInsertOperation(i),[f])),Nn(Os,Pi,(f,i)=>f.position.isEqual(i.deletionPosition)?(f.position=i.graveyardPosition.clone(),f.position.stickiness="toNext",[f]):(f.position=f.position._getTransformedByMergeOperation(i),[f])),Nn(Os,Fn,(f,i)=>(f.position=f.position._getTransformedByMoveOperation(i),[f])),Nn(Os,Os,(f,i,o)=>{if(f.position.isEqual(i.position)){if(!o.aIsStrong)return[new no(0)];f.oldName=i.newName}return[f]}),Nn(Os,_n,(f,i)=>{if("same"==Hn(f.position.path,i.splitPosition.getParentPath())&&!i.graveyardPosition){const o=new Os(f.position.getShiftedBy(1),f.oldName,f.newName,0);return[f,o]}return f.position=f.position._getTransformedBySplitOperation(i),[f]}),Nn(P2,P2,(f,i,o)=>{if(f.root===i.root&&f.key===i.key){if(!o.aIsStrong||f.newValue===i.newValue)return[new no(0)];f.oldValue=i.newValue}return[f]}),Nn(_n,Nr,(f,i)=>(f.splitPosition.hasSameParentAs(i.position)&&f.splitPosition.offset<i.position.offset&&(f.howMany+=i.howMany),f.splitPosition=f.splitPosition._getTransformedByInsertOperation(i),f.insertionPosition=f.insertionPosition._getTransformedByInsertOperation(i),[f])),Nn(_n,Pi,(f,i,o)=>{if(!f.graveyardPosition&&!o.bWasUndone&&f.splitPosition.hasSameParentAs(i.sourcePosition)){const l=i.graveyardPosition.path.slice();l.push(0);const h=new Ye(i.graveyardPosition.root,l),v=_n.getInsertionPosition(new Ye(i.graveyardPosition.root,l)),b=new _n(h,0,v,null,0);return f.splitPosition=f.splitPosition._getTransformedByMergeOperation(i),f.insertionPosition=_n.getInsertionPosition(f.splitPosition),f.graveyardPosition=b.insertionPosition.clone(),f.graveyardPosition.stickiness="toNext",[b,f]}return f.splitPosition.hasSameParentAs(i.deletionPosition)&&!f.splitPosition.isAfter(i.deletionPosition)&&f.howMany--,f.splitPosition.hasSameParentAs(i.targetPosition)&&(f.howMany+=i.howMany),f.splitPosition=f.splitPosition._getTransformedByMergeOperation(i),f.insertionPosition=_n.getInsertionPosition(f.splitPosition),f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedByMergeOperation(i)),[f]}),Nn(_n,Fn,(f,i,o)=>{const l=Ie._createFromPositionAndShift(i.sourcePosition,i.howMany);if(f.graveyardPosition){const v=l.start.isEqual(f.graveyardPosition)||l.containsPosition(f.graveyardPosition);if(!o.bWasUndone&&v){const b=f.splitPosition._getTransformedByMoveOperation(i),C=f.graveyardPosition._getTransformedByMoveOperation(i),a=C.path.slice();a.push(0);const c=new Ye(C.root,a);return[new Fn(b,f.howMany,c,0)]}f.graveyardPosition=f.graveyardPosition._getTransformedByMoveOperation(i)}const h=f.splitPosition.isEqual(i.targetPosition);if(h&&("insertAtSource"==o.baRelation||"splitBefore"==o.abRelation))return f.howMany+=i.howMany,f.splitPosition=f.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),f.insertionPosition=_n.getInsertionPosition(f.splitPosition),[f];if(h&&o.abRelation&&o.abRelation.howMany){const{howMany:v,offset:b}=o.abRelation;return f.howMany+=v,f.splitPosition=f.splitPosition.getShiftedBy(b),[f]}return f.splitPosition.hasSameParentAs(i.sourcePosition)&&l.containsPosition(f.splitPosition)?(f.howMany-=i.howMany-(f.splitPosition.offset-i.sourcePosition.offset),f.splitPosition.hasSameParentAs(i.targetPosition)&&f.splitPosition.offset<i.targetPosition.offset&&(f.howMany+=i.howMany),f.splitPosition=i.sourcePosition.clone(),f.insertionPosition=_n.getInsertionPosition(f.splitPosition),[f]):(i.sourcePosition.isEqual(i.targetPosition)||(f.splitPosition.hasSameParentAs(i.sourcePosition)&&f.splitPosition.offset<=i.sourcePosition.offset&&(f.howMany-=i.howMany),f.splitPosition.hasSameParentAs(i.targetPosition)&&f.splitPosition.offset<i.targetPosition.offset&&(f.howMany+=i.howMany)),f.splitPosition.stickiness="toNone",f.splitPosition=f.splitPosition._getTransformedByMoveOperation(i),f.splitPosition.stickiness="toNext",f.insertionPosition=f.graveyardPosition?f.insertionPosition._getTransformedByMoveOperation(i):_n.getInsertionPosition(f.splitPosition),[f])}),Nn(_n,_n,(f,i,o)=>{if(f.splitPosition.isEqual(i.splitPosition)){if(!f.graveyardPosition&&!i.graveyardPosition)return[new no(0)];if(f.graveyardPosition&&i.graveyardPosition&&f.graveyardPosition.isEqual(i.graveyardPosition))return[new no(0)];if("splitBefore"==o.abRelation)return f.howMany=0,f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(i),[f]}if(f.graveyardPosition&&i.graveyardPosition&&f.graveyardPosition.isEqual(i.graveyardPosition)){const l="$graveyard"==f.splitPosition.root.rootName,h="$graveyard"==i.splitPosition.root.rootName;if(h&&!l||(!l||h)&&o.aIsStrong){const v=[];return i.howMany&&v.push(new Fn(i.moveTargetPosition,i.howMany,i.splitPosition,0)),f.howMany&&v.push(new Fn(f.splitPosition,f.howMany,f.moveTargetPosition,0)),v}return[new no(0)]}if(f.graveyardPosition&&(f.graveyardPosition=f.graveyardPosition._getTransformedBySplitOperation(i)),f.splitPosition.isEqual(i.insertionPosition)&&"splitBefore"==o.abRelation)return f.howMany++,[f];if(i.splitPosition.isEqual(f.insertionPosition)&&"splitBefore"==o.baRelation){const l=i.insertionPosition.path.slice();l.push(0);const h=new Ye(i.insertionPosition.root,l);return[f,new Fn(f.insertionPosition,1,h,0)]}return f.splitPosition.hasSameParentAs(i.splitPosition)&&f.splitPosition.offset<i.splitPosition.offset&&(f.howMany-=i.howMany),f.splitPosition=f.splitPosition._getTransformedBySplitOperation(i),f.insertionPosition=_n.getInsertionPosition(f.splitPosition),[f]});class Cs extends(pe(Ye)){constructor(i,o,l="toNone"){if(super(i,o,l),!this.root.is("rootElement"))throw new q("model-liveposition-root-not-rootelement",i);Km.call(this)}detach(){this.stopListening()}toPosition(){return new Ye(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,o){return new this(i.root,i.path.slice(),o||i.stickiness)}}function Km(){this.listenTo(this.root.document.model,"applyOperation",(f,i)=>{const o=i[0];o.isDocumentOperation&&Vy.call(this,o)},{priority:"low"})}function Vy(f){const i=this.getTransformedByOperation(f);if(!this.isEqual(i)){const o=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",o)}}Cs.prototype.is=function(f){return"livePosition"===f||"model:livePosition"===f||"position"==f||"model:position"===f};class a4{constructor(i={}){"string"==typeof i&&(i="transparent"===i?{isUndoable:!1}:{},Fe("batch-constructor-deprecated-string-type"));const{isUndoable:o=!0,isLocal:l=!0,isUndo:h=!1,isTyping:v=!1}=i;this.operations=[],this.isUndoable=o,this.isLocal=l,this.isUndo=h,this.isTyping=v}get type(){return Fe("batch-type-deprecated"),"default"}get baseVersion(){for(const i of this.operations)if(null!==i.baseVersion)return i.baseVersion;return null}addOperation(i){return i.batch=this,this.operations.push(i),i}}class W7{constructor(i){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=i}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(i){const o=i;switch(o.type){case"insert":if(this._isInInsertedElement(o.position.parent))return;this._markInsert(o.position.parent,o.position.offset,o.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const l of o.range.getItems({shallow:!0}))this._isInInsertedElement(l.parent)||this._markAttribute(l);break;case"remove":case"move":case"reinsert":{if(o.sourcePosition.isEqual(o.targetPosition)||o.sourcePosition.getShiftedBy(o.howMany).isEqual(o.targetPosition))return;const l=this._isInInsertedElement(o.sourcePosition.parent),h=this._isInInsertedElement(o.targetPosition.parent);l||this._markRemove(o.sourcePosition.parent,o.sourcePosition.offset,o.howMany),h||this._markInsert(o.targetPosition.parent,o.getMovedRangeStart().offset,o.howMany);break}case"rename":{if(this._isInInsertedElement(o.position.parent))return;this._markRemove(o.position.parent,o.position.offset,1),this._markInsert(o.position.parent,o.position.offset,1);const l=Ie._createFromPositionAndShift(o.position,1);for(const h of this._markerCollection.getMarkersIntersectingRange(l)){const v=h.getData();this.bufferMarkerChange(h.name,v,v)}break}case"split":{const l=o.splitPosition.parent;this._isInInsertedElement(l)||this._markRemove(l,o.splitPosition.offset,o.howMany),this._isInInsertedElement(o.insertionPosition.parent)||this._markInsert(o.insertionPosition.parent,o.insertionPosition.offset,1),o.graveyardPosition&&this._markRemove(o.graveyardPosition.parent,o.graveyardPosition.offset,1);break}case"merge":{const l=o.sourcePosition.parent;this._isInInsertedElement(l.parent)||this._markRemove(l.parent,l.startOffset,1),this._markInsert(o.graveyardPosition.parent,o.graveyardPosition.offset,1);const v=o.targetPosition.parent;this._isInInsertedElement(v)||this._markInsert(v,o.targetPosition.offset,l.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(i,o,l){const h=this._changedMarkers.get(i);h?(h.newMarkerData=l,null==h.oldMarkerData.range&&null==l.range&&this._changedMarkers.delete(i)):this._changedMarkers.set(i,{newMarkerData:l,oldMarkerData:o})}getMarkersToRemove(){const i=[];for(const[o,l]of this._changedMarkers)null!=l.oldMarkerData.range&&i.push({name:o,range:l.oldMarkerData.range});return i}getMarkersToAdd(){const i=[];for(const[o,l]of this._changedMarkers)null!=l.newMarkerData.range&&i.push({name:o,range:l.newMarkerData.range});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map(([i,o])=>({name:i,data:{oldRange:o.oldMarkerData.range,newRange:o.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:i,oldMarkerData:o}of this._changedMarkers.values()){if(i.affectsData!==o.affectsData)return!0;if(i.affectsData){const l=i.range&&!o.range,h=!i.range&&o.range,v=i.range&&o.range&&!i.range.isEqual(o.range);if(l||h||v)return!0}}return!1}getChanges(i={}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const l of this._changesInElement.keys()){const h=this._changesInElement.get(l).sort((u,p)=>u.offset===p.offset?u.type!=p.type?"remove"==u.type?-1:1:0:u.offset<p.offset?-1:1),v=this._elementSnapshots.get(l),b=a8(l.getChildren()),C=Z7(v.length,h);let a=0,c=0;for(const u of C)if("i"===u)o.push(this._getInsertDiff(l,a,b[a])),a++;else if("r"===u)o.push(this._getRemoveDiff(l,a,v[c])),c++;else if("a"===u){const p=b[a].attributes,_=v[c].attributes;let y;if("$text"==b[a].name)y=new Ie(Ye._createAt(l,a),Ye._createAt(l,a+1));else{const A=l.offsetToIndex(a);y=new Ie(Ye._createAt(l,a),Ye._createAt(l.getChild(A),0))}o.push(...this._getAttributesDiff(y,_,p)),a++,c++}else a++,c++}o.sort((l,h)=>l.position.root!=h.position.root?l.position.root.rootName<h.position.root.rootName?-1:1:l.position.isEqual(h.position)?l.changeCount-h.changeCount:l.position.isBefore(h.position)?-1:1);for(let l=1,h=0;l<o.length;l++){const v=o[h],b=o[l],C="remove"==v.type&&"remove"==b.type&&"$text"==v.name&&"$text"==b.name&&v.position.isEqual(b.position),c="attribute"==v.type&&"attribute"==b.type&&v.position.parent==b.position.parent&&v.range.isFlat&&b.range.isFlat&&v.position.offset+v.length==b.position.offset&&v.attributeKey==b.attributeKey&&v.attributeOldValue==b.attributeOldValue&&v.attributeNewValue==b.attributeNewValue;C||"insert"==v.type&&"insert"==b.type&&"$text"==v.name&&"$text"==b.name&&v.position.parent==b.position.parent&&v.position.offset+v.length==b.position.offset||c?(v.length++,c&&(v.range.end=v.range.end.getShiftedBy(1)),o[l]=null):h=l}o=o.filter(l=>l);for(const l of o)delete l.changeCount,"attribute"==l.type&&(delete l.position,delete l.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o,this._cachedChanges=o.filter(c8),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize),this._refreshedItems.add(i);const o=Ie._createOn(i);for(const l of this._markerCollection.getMarkersIntersectingRange(o)){const h=l.getData();this.bufferMarkerChange(l.name,h,h)}this._cachedChanges=null}_markInsert(i,o,l){const h={type:"insert",offset:o,howMany:l,count:this._changeCount++};this._markChange(i,h)}_markRemove(i,o,l){const h={type:"remove",offset:o,howMany:l,count:this._changeCount++};this._markChange(i,h),this._removeAllNestedChanges(i,o,l)}_markAttribute(i){const o={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,o)}_markChange(i,o){this._makeSnapshot(i);const l=this._getChangesForElement(i);this._handleChange(o,l),l.push(o);for(let h=0;h<l.length;h++)l[h].howMany<1&&(l.splice(h,1),h--)}_getChangesForElement(i){let o;return this._changesInElement.has(i)?o=this._changesInElement.get(i):(o=[],this._changesInElement.set(i,o)),o}_makeSnapshot(i){this._elementSnapshots.has(i)||this._elementSnapshots.set(i,a8(i.getChildren()))}_handleChange(i,o){i.nodesToHandle=i.howMany;for(const l of o){const h=i.offset+i.howMany,v=l.offset+l.howMany;if("insert"==i.type&&("insert"==l.type&&(i.offset<=l.offset?l.offset+=i.howMany:i.offset<v&&(l.howMany+=i.nodesToHandle,i.nodesToHandle=0)),"remove"==l.type&&i.offset<l.offset&&(l.offset+=i.howMany),"attribute"==l.type))if(i.offset<=l.offset)l.offset+=i.howMany;else if(i.offset<v){const b=l.howMany;l.howMany=i.offset-l.offset,o.unshift({type:"attribute",offset:h,howMany:b-l.howMany,count:this._changeCount++})}if("remove"==i.type){if("insert"==l.type)if(h<=l.offset)l.offset-=i.howMany;else if(h<=v)if(i.offset<l.offset){const b=h-l.offset;l.offset=i.offset,l.howMany-=b,i.nodesToHandle-=b}else l.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=l.offset)i.nodesToHandle-=l.howMany,l.howMany=0;else if(i.offset<v){const b=v-i.offset;l.howMany-=b,i.nodesToHandle-=b}if("remove"==l.type&&(h<=l.offset?l.offset-=i.howMany:i.offset<l.offset&&(i.nodesToHandle+=l.howMany,l.howMany=0)),"attribute"==l.type)if(h<=l.offset)l.offset-=i.howMany;else if(i.offset<l.offset){const b=h-l.offset;l.offset=i.offset,l.howMany-=b}else if(i.offset<v)if(h<=v){const b=l.howMany;l.howMany=i.offset-l.offset,o.unshift({type:"attribute",offset:i.offset,howMany:b-l.howMany-i.nodesToHandle,count:this._changeCount++})}else l.howMany-=v-i.offset}if("attribute"==i.type){if("insert"==l.type)if(i.offset<l.offset&&h>l.offset){if(h>v){const b={type:"attribute",offset:v,howMany:h-v,count:this._changeCount++};this._handleChange(b,o),o.push(b)}i.nodesToHandle=l.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=l.offset&&i.offset<v&&(h>v?(i.nodesToHandle=h-v,i.offset=v):i.nodesToHandle=0);if("remove"==l.type&&i.offset<l.offset&&h>l.offset){const b={type:"attribute",offset:l.offset,howMany:h-l.offset,count:this._changeCount++};this._handleChange(b,o),o.push(b),i.nodesToHandle=l.offset-i.offset,i.howMany=i.nodesToHandle}"attribute"==l.type&&(i.offset>=l.offset&&h<=v?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=l.offset&&h>=v&&(l.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,o,l){return{type:"insert",position:Ye._createAt(i,o),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(i,o,l){return{type:"remove",position:Ye._createAt(i,o),name:l.name,attributes:new Map(l.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(i,o,l){const h=[];l=new Map(l);for(const[v,b]of o){const C=l.has(v)?l.get(v):null;C!==b&&h.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:v,attributeOldValue:b,attributeNewValue:C,changeCount:this._changeCount++}),l.delete(v)}for(const[v,b]of l)h.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:v,attributeOldValue:null,attributeNewValue:b,changeCount:this._changeCount++});return h}_isInInsertedElement(i){const o=i.parent;if(!o)return!1;const l=this._changesInElement.get(o),h=i.startOffset;if(l)for(const v of l)if("insert"==v.type&&h>=v.offset&&h<v.offset+v.howMany)return!0;return this._isInInsertedElement(o)}_removeAllNestedChanges(i,o,l){const h=new Ie(Ye._createAt(i,o),Ye._createAt(i,o+l));for(const v of h.getItems({shallow:!0}))v.is("element")&&(this._elementSnapshots.delete(v),this._changesInElement.delete(v),this._removeAllNestedChanges(v,0,v.maxOffset))}}function a8(f){const i=[];for(const o of f)if(o.is("$text"))for(let l=0;l<o.data.length;l++)i.push({name:"$text",attributes:new Map(o.getAttributes())});else i.push({name:o.name,attributes:new Map(o.getAttributes())});return i}function Z7(f,i){const o=[];let l=0,h=0;for(const v of i){if(v.offset>l){for(let b=0;b<v.offset-l;b++)o.push("e");h+=v.offset-l}if("insert"==v.type){for(let b=0;b<v.howMany;b++)o.push("i");l=v.offset+v.howMany}else if("remove"==v.type){for(let b=0;b<v.howMany;b++)o.push("r");l=v.offset,h+=v.howMany}else o.push(..."a".repeat(v.howMany).split("")),l=v.offset+v.howMany,h+=v.howMany}if(h<f)for(let v=0;v<f-h-l;v++)o.push("e");return o}function c8(f){return!("position"in f&&"$graveyard"==f.position.root.rootName||"range"in f&&"$graveyard"==f.range.root.rootName)}class R2{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(i){this._operations.length&&i>this._version+1&&this._gaps.set(this._version,i),this._version=i}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(i){if(i.baseVersion!==this.version)throw new q("model-document-history-addoperation-incorrect-version",this,{operation:i,historyVersion:this.version});this._operations.push(i),this._version++,this._baseVersionToOperationIndex.set(i.baseVersion,this._operations.length-1)}getOperations(i,o=this.version){if(!this._operations.length)return[];const l=this._operations[0];void 0===i&&(i=l.baseVersion);let h=o-1;for(const[C,a]of this._gaps)i>C&&i<a&&(i=a),h>C&&h<a&&(h=C-1);if(h<l.baseVersion||i>this.lastOperation.baseVersion)return[];let v=this._baseVersionToOperationIndex.get(i);void 0===v&&(v=0);let b=this._baseVersionToOperationIndex.get(h);return void 0===b&&(b=this._operations.length-1),this._operations.slice(v,b+1)}getOperation(i){const o=this._baseVersionToOperationIndex.get(i);if(void 0!==o)return this._operations[o]}setOperationAsUndone(i,o){this._undoPairs.set(o,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class W3 extends Nt{constructor(i,o,l="main"){super(o),this._document=i,this.rootName=l}get document(){return this._document}toJSON(){return this.rootName}}W3.prototype.is=function(f,i){return i?i===this.name&&("rootElement"===f||"model:rootElement"===f||"element"===f||"model:element"===f):"rootElement"===f||"model:rootElement"===f||"element"===f||"model:element"===f||"node"===f||"model:node"===f};const c4="$graveyard";class l4 extends(pe()){constructor(i){super(),this.model=i,this.history=new R2,this.selection=new Ps(this),this.roots=new Wr({idProperty:"rootName"}),this.differ=new W7(i.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",c4),this.listenTo(i,"applyOperation",(o,l)=>{const h=l[0];h.isDocumentOperation&&this.differ.bufferOperation(h)},{priority:"high"}),this.listenTo(i,"applyOperation",(o,l)=>{const h=l[0];h.isDocumentOperation&&this.history.addOperation(h)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(i.markers,"update",(o,l,h,v,b)=>{const C={...l.getData(),range:v};this.differ.bufferMarkerChange(l.name,b,C),null===h&&l.on("change",(a,c)=>{const u=l.getData();this.differ.bufferMarkerChange(l.name,{...u,range:c},u)})})}get version(){return this.history.version}set version(i){this.history.version=i}get graveyard(){return this.getRoot(c4)}createRoot(i="$root",o="main"){if(this.roots.get(o))throw new q("model-document-createroot-name-exists",this,{name:o});const l=new W3(this,i,o);return this.roots.add(l),l}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(){return Array.from(this.roots,i=>i.rootName).filter(i=>i!=c4)}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=ho(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const i of this.roots)if(i!==this.graveyard)return i;return this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),o=this.model,l=o.schema,h=o.createPositionFromPath(i,[0]);return l.getNearestSelectionRange(h)||o.createRange(h)}_validateSelectionRange(i){return Wv(i.start)&&Wv(i.end)}_callPostFixers(i){let o=!1;do{for(const l of this._postFixers)if(this.selection.refresh(),o=l(i),o)break}while(o)}}function Wv(f){const i=f.textNode;if(i){const o=i.data,l=f.offset-i.startOffset;return!Yr(o,l)&&!Kr(o,l)}return!0}class Qm extends(pe()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){return this._markers.has(i instanceof u4?i.name:i)}get(i){return this._markers.get(i)||null}_set(i,o,l=!1,h=!1){const v=i instanceof u4?i.name:i;if(v.includes(","))throw new q("markercollection-incorrect-marker-name",this);const b=this._markers.get(v);if(b){const c=b.getData(),u=b.getRange();let p=!1;return u.isEqual(o)||(b._attachLiveRange(ys.fromRange(o)),p=!0),l!=b.managedUsingOperations&&(b._managedUsingOperations=l,p=!0),"boolean"==typeof h&&h!=b.affectsData&&(b._affectsData=h,p=!0),p&&this.fire(`update:${v}`,b,u,o,c),b}const C=ys.fromRange(o),a=new u4(v,C,l,h);return this._markers.set(v,a),this.fire(`update:${v}`,a,null,o,{...a.getData(),range:null}),a}_remove(i){const o=i instanceof u4?i.name:i,l=this._markers.get(o);return!!l&&(this._markers.delete(o),this.fire(`update:${o}`,l,l.getRange(),null,l.getData()),this._destroyMarker(l),!0)}_refresh(i){const o=i instanceof u4?i.name:i,l=this._markers.get(o);if(!l)throw new q("markercollection-refresh-marker-not-exists",this);const h=l.getRange();this.fire(`update:${o}`,l,h,h,l.getData())}*getMarkersAtPosition(i){for(const o of this)o.getRange().containsPosition(i)&&(yield o)}*getMarkersIntersectingRange(i){for(const o of this)null!==o.getRange().getIntersection(i)&&(yield o)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const o of this._markers.values())o.name.startsWith(i+":")&&(yield o)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}class u4 extends(pe(i4)){constructor(i,o,l,h){super(),this.name=i,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=l,this._affectsData=h}get managedUsingOperations(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new q("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}u4.prototype.is=function(f){return"marker"===f||"model:marker"===f};class Zv extends l1{constructor(i,o){super(null),this.sourcePosition=i.clone(),this.howMany=o}get type(){return"detach"}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new q("detach-operation-on-document-node",this)}_execute(){qm(Ie._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Ec extends i4{constructor(i){super(),this.markers=new Map,this._children=new De,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let o=this;for(const l of i)o=o.getChild(o.offsetToIndex(l));return o}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const o of this._children)i.push(o.toJSON());return i}static fromJSON(i){const o=[];for(const l of i)o.push(l.name?Nt.fromJSON(l):Ln.fromJSON(l));return new Ec(o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const l="string"==typeof(h=o)?[new Ln(h)]:(_i(h)||(h=[h]),Array.from(h).map(v=>"string"==typeof v?new Ln(v):v instanceof bs?new Ln(v.data,v.getAttributes()):v));var h;for(const h of l)null!==h.parent&&h._remove(),h.parent=this;this._children._insertNodes(i,l)}_removeChildren(i,o=1){const l=this._children._removeNodes(i,o);for(const h of l)h.parent=null;return l}}Ec.prototype.is=function(f){return"documentFragment"===f||"model:documentFragment"===f};class o6{constructor(i,o){this.model=i,this.batch=o}createText(i,o){return new Ln(i,o)}createElement(i,o){return new Nt(i,o)}createDocumentFragment(){return new Ec}cloneElement(i,o=!0){return i._clone(o)}insert(i,o,l=0){if(this._assertWriterUsedCorrectly(),i instanceof Ln&&""==i.data)return;const h=Ye._createAt(o,l);if(i.parent){if(Y7(i.root,h.root))return void this.move(Ie._createOn(i),h);if(i.root.document)throw new q("model-writer-insert-forbidden-move",this);this.remove(i)}const b=new Nr(h,i,h.root.document?h.root.document.version:null);if(i instanceof Ln&&(b.shouldReceiveAttributes=!0),this.batch.addOperation(b),this.model.applyOperation(b),i instanceof Ec)for(const[C,a]of i.markers){const c=Ye._createAt(a.root,0),u={range:new Ie(a.start._getCombined(c,h),a.end._getCombined(c,h)),usingOperation:!0,affectsData:!0};this.model.markers.has(C)?this.updateMarker(C,u):this.addMarker(C,u)}}insertText(i,o,l,h){o instanceof Ec||o instanceof Nt||o instanceof Ye?this.insert(this.createText(i),o,l):this.insert(this.createText(i,o),l,h)}insertElement(i,o,l,h){o instanceof Ec||o instanceof Nt||o instanceof Ye?this.insert(this.createElement(i),o,l):this.insert(this.createElement(i,o),l,h)}append(i,o){this.insert(i,o,"end")}appendText(i,o,l){o instanceof Ec||o instanceof Nt?this.insert(this.createText(i),o,"end"):this.insert(this.createText(i,o),l,"end")}appendElement(i,o,l){o instanceof Ec||o instanceof Nt?this.insert(this.createElement(i),o,"end"):this.insert(this.createElement(i,o),l,"end")}setAttribute(i,o,l){if(this._assertWriterUsedCorrectly(),l instanceof Ie){const h=l.getMinimalFlatRanges();for(const v of h)Jm(this,i,o,v)}else Yv(this,i,o,l)}setAttributes(i,o){for(const[l,h]of Zr(i))this.setAttribute(l,h,o)}removeAttribute(i,o){if(this._assertWriterUsedCorrectly(),o instanceof Ie){const l=o.getMinimalFlatRanges();for(const h of l)Jm(this,i,null,h)}else Yv(this,i,null,o)}clearAttributes(i){this._assertWriterUsedCorrectly();const o=l=>{for(const h of l.getAttributeKeys())this.removeAttribute(h,l)};if(i instanceof Ie)for(const l of i.getItems())o(l);else o(i)}move(i,o,l){if(this._assertWriterUsedCorrectly(),!(i instanceof Ie))throw new q("writer-move-invalid-range",this);if(!i.isFlat)throw new q("writer-move-range-not-flat",this);const h=Ye._createAt(o,l);if(h.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!Y7(i.root,h.root))throw new q("writer-move-different-document",this);const b=new Fn(i.start,i.end.offset-i.start.offset,h,i.root.document?i.root.document.version:null);this.batch.addOperation(b),this.model.applyOperation(b)}remove(i){this._assertWriterUsedCorrectly();const o=(i instanceof Ie?i:Ie._createOn(i)).getMinimalFlatRanges().reverse();for(const l of o)this._addOperationForAffectedMarkers("move",l),l8(l.start,l.end.offset-l.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const o=i.nodeBefore,l=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(o instanceof Nt))throw new q("writer-merge-no-element-before",this);if(!(l instanceof Nt))throw new q("writer-merge-no-element-after",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,o,l){return this.model.createPositionFromPath(i,o,l)}createPositionAt(i,o){return this.model.createPositionAt(i,o)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,o){return this.model.createRange(i,o)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(...i){return this.model.createSelection(...i)}_mergeDetached(i){const o=i.nodeBefore,l=i.nodeAfter;this.move(Ie._createIn(l),Ye._createAt(o,"end")),this.remove(l)}_merge(i){const o=Ye._createAt(i.nodeBefore,"end"),l=Ye._createAt(i.nodeAfter,0),v=new Ye(i.root.document.graveyard,[0]),C=new Pi(l,i.nodeAfter.maxOffset,o,v,i.root.document.version);this.batch.addOperation(C),this.model.applyOperation(C)}rename(i,o){if(this._assertWriterUsedCorrectly(),!(i instanceof Nt))throw new q("writer-rename-not-element-instance",this);const l=i.root.document?i.root.document.version:null,h=new Os(Ye._createBefore(i),i.name,o,l);this.batch.addOperation(h),this.model.applyOperation(h)}split(i,o){this._assertWriterUsedCorrectly();let l,h,v=i.parent;if(!v.parent)throw new q("writer-split-element-no-parent",this);if(o||(o=v.parent),!i.parent.getAncestors({includeSelf:!0}).includes(o))throw new q("writer-split-invalid-limit-element",this);do{const b=v.root.document?v.root.document.version:null,C=v.maxOffset-i.offset,a=_n.getInsertionPosition(i),c=new _n(i,C,a,null,b);this.batch.addOperation(c),this.model.applyOperation(c),l||h||(l=v,h=i.parent.nextSibling),v=(i=this.createPositionAfter(i.parent)).parent}while(v!==o);return{position:i,range:new Ie(Ye._createAt(l,"end"),Ye._createAt(h,0))}}wrap(i,o){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new q("writer-wrap-range-not-flat",this);const l=o instanceof Nt?o:new Nt(o);if(l.childCount>0)throw new q("writer-wrap-element-not-empty",this);if(null!==l.parent)throw new q("writer-wrap-element-attached",this);this.insert(l,i.start);const h=new Ie(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(h,Ye._createAt(l,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),null===i.parent)throw new q("writer-unwrap-element-no-parent",this);this.move(Ie._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,o){if(this._assertWriterUsedCorrectly(),!o||"boolean"!=typeof o.usingOperation)throw new q("writer-addmarker-no-usingoperation",this);const l=o.usingOperation,h=o.range,v=void 0!==o.affectsData&&o.affectsData;if(this.model.markers.has(i))throw new q("writer-addmarker-marker-exists",this);if(!h)throw new q("writer-addmarker-no-range",this);return l?(dd(this,i,null,h,v),this.model.markers.get(i)):this.model.markers._set(i,h,l,v)}updateMarker(i,o){this._assertWriterUsedCorrectly();const l="string"==typeof i?i:i.name,h=this.model.markers.get(l);if(!h)throw new q("writer-updatemarker-marker-not-exists",this);if(!o)return Fe("writer-updatemarker-reconvert-using-editingcontroller",{markerName:l}),void this.model.markers._refresh(h);const v="boolean"==typeof o.usingOperation,b="boolean"==typeof o.affectsData,C=b?o.affectsData:h.affectsData;if(!v&&!o.range&&!b)throw new q("writer-updatemarker-wrong-options",this);const a=h.getRange(),c=o.range?o.range:a;v&&o.usingOperation!==h.managedUsingOperations?o.usingOperation?dd(this,l,null,c,C):(dd(this,l,a,null,C),this.model.markers._set(l,c,void 0,C)):h.managedUsingOperations?dd(this,l,a,c,C):this.model.markers._set(l,c,void 0,C)}removeMarker(i){this._assertWriterUsedCorrectly();const o="string"==typeof i?i:i.name;if(!this.model.markers.has(o))throw new q("writer-removemarker-no-marker",this);const l=this.model.markers.get(o);l.managedUsingOperations?dd(this,o,l.getRange(),null,l.affectsData):this.model.markers._remove(o)}setSelection(...i){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...i)}setSelectionFocus(i,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,o)}setSelectionAttribute(i,o){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._setSelectionAttribute(i,o);else for(const[l,h]of Zr(i))this._setSelectionAttribute(l,h)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._removeSelectionAttribute(i);else for(const o of i)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,o){const l=this.model.document.selection;if(l.isCollapsed&&l.anchor.parent.isEmpty){const h=Ps._getStoreAttributeKey(i);this.setAttribute(h,o,l.anchor.parent)}l._setAttribute(i,o)}_removeSelectionAttribute(i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const l=Ps._getStoreAttributeKey(i);this.removeAttribute(l,o.anchor.parent)}o._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new q("writer-incorrect-use",this)}_addOperationForAffectedMarkers(i,o){for(const l of this.model.markers){if(!l.managedUsingOperations)continue;const h=l.getRange();let v=!1;if("move"===i){const b=o;v=b.containsPosition(h.start)||b.start.isEqual(h.start)||b.containsPosition(h.end)||b.end.isEqual(h.end)}else{const a=o.nodeAfter;v=h.start.parent==o.nodeBefore&&h.start.isAtEnd||h.end.parent==a&&0==h.end.offset||h.end.nodeAfter==a||h.start.nodeAfter==a}v&&this.updateMarker(l.name,{range:h})}}}function Jm(f,i,o,l){const h=f.model,v=h.document;let b,C,a,c=l.start;for(const p of l.getWalker({shallow:!0}))a=p.item.getAttribute(i),b&&C!=a&&(C!=o&&u(),c=b),b=p.nextPosition,C=a;function u(){const p=new Ie(c,b),y=new pr(p,i,C,o,p.root.document?v.version:null);f.batch.addOperation(y),h.applyOperation(y)}b instanceof Ye&&b!=c&&C!=o&&u()}function Yv(f,i,o,l){const h=f.model,v=h.document,b=l.getAttribute(i);let C,a;b!=o&&(l.root===l?a=new P2(l,i,b,o,l.document?v.version:null):(C=new Ie(Ye._createBefore(l),f.createPositionAfter(l)),a=new pr(C,i,b,o,C.root.document?v.version:null)),f.batch.addOperation(a),h.applyOperation(a))}function dd(f,i,o,l,h){const v=f.model,C=new u1(i,o,l,v.markers,!!h,v.document.version);f.batch.addOperation(C),v.applyOperation(C)}function l8(f,i,o,l){let h;if(f.root.document){const v=l.document,b=new Ye(v.graveyard,[0]);h=new Fn(f,i,b,v.version)}else h=new Zv(f,i);o.addOperation(h),l.applyOperation(h)}function Y7(f,i){return f===i||f instanceof W3&&i instanceof W3}function K7(f,i){return f.isCollapsed?function(o,l){const h=o.start,v=l.getNearestSelectionRange(h);if(!v){const C=h.getAncestors().reverse().find(a=>l.isObject(a));return C?Ie._createOn(C):null}if(!v.isCollapsed)return v;const b=v.start;return h.isEqual(b)?null:new Ie(b)}(f,i):function(o,l){const{start:h,end:v}=o,b=l.checkChild(h,"$text"),C=l.checkChild(v,"$text"),a=l.getLimitElement(h),c=l.getLimitElement(v);if(a===c){if(b&&C)return null;if(function(_,y,A){const S=_.nodeAfter&&!A.isLimit(_.nodeAfter)||A.checkChild(_,"$text"),E=y.nodeBefore&&!A.isLimit(y.nodeBefore)||A.checkChild(y,"$text");return S||E}(h,v,l)){const _=h.nodeAfter&&l.isSelectable(h.nodeAfter)?null:l.getNearestSelectionRange(h,"forward"),y=v.nodeBefore&&l.isSelectable(v.nodeBefore)?null:l.getNearestSelectionRange(v,"backward");return new Ie(_?_.start:h,y?y.end:v)}}const u=a&&!a.is("rootElement"),p=c&&!c.is("rootElement");if(u||p){const _=h.nodeAfter&&v.nodeBefore&&h.nodeAfter.parent===v.nodeBefore.parent,y=u&&(!_||!J7(h.nodeAfter,l)),A=p&&(!_||!J7(v.nodeBefore,l));let S=h,E=v;return y&&(S=Ye._createBefore(Q7(a,l))),A&&(E=Ye._createAfter(Q7(c,l))),new Ie(S,E)}return null}(f,i)}function Q7(f,i){let o=f,l=o;for(;i.isLimit(l)&&l.parent;)o=l,l=l.parent;return o}function J7(f,i){return f&&i.isSelectable(f)}function s6(f,i,o={}){if(i.isCollapsed)return;const l=i.getFirstRange();if("$graveyard"==l.root.rootName)return;const h=f.schema;f.change(v=>{if(!o.doNotResetEntireContent&&function(c,u){const p=c.getLimitElement(u);if(!u.containsEntireContent(p))return!1;const _=u.getFirstRange();return _.start.parent!=_.end.parent&&c.checkChild(p,"paragraph")}(h,i))return void function(c,u){const p=c.model.schema.getLimitElement(u);c.remove(c.createRangeIn(p)),X7(c,c.createPositionAt(p,0),u)}(v,i);const b={};if(!o.doNotAutoparagraph){const c=i.getSelectedElement();c&&Object.assign(b,h.getAttributesWithProperty(c,"copyOnReplace",!0))}const[C,a]=function(c){const u=c.root.document.model,p=c.start;let _=c.end;if(u.hasContent(c,{ignoreMarkers:!0})){const y=function(A){const S=A.parent,E=S.root.document.model.schema,T=S.getAncestors({parentFirst:!0,includeSelf:!0});for(const V of T){if(E.isLimit(V))return null;if(E.isBlock(V))return V}}(_);if(y&&_.isTouching(u.createPositionAt(y,0))){const A=u.createSelection(c);u.modifySelection(A,{direction:"backward"});const S=A.getLastPosition(),E=u.createRange(S,_);u.hasContent(E,{ignoreMarkers:!0})||(_=S)}}return[Cs.fromPosition(p,"toPrevious"),Cs.fromPosition(_,"toNext")]}(l);C.isTouching(a)||v.remove(v.createRange(C,a)),o.leaveUnmerged||(function(c,u,p){const _=c.model;if(!d4(c.model.schema,u,p))return;const[y,A]=function(S,E){const T=S.getAncestors(),V=E.getAncestors();let B=0;for(;T[B]&&T[B]==V[B];)B++;return[T[B],V[B]]}(u,p);!y||!A||(!_.hasContent(y,{ignoreMarkers:!0})&&_.hasContent(A,{ignoreMarkers:!0})?a6(c,u,p,y.parent):u8(c,u,p,y.parent))}(v,C,a),h.removeDisallowedAttributes(C.parent.getChildren(),v)),h4(v,i,C),!o.doNotAutoparagraph&&function(c,u){const p=c.checkChild(u,"$text"),_=c.checkChild(u,"paragraph");return!p&&_}(h,C)&&X7(v,C,i,b),C.detach(),a.detach()})}function u8(f,i,o,l){const h=i.parent,v=o.parent;if(h!=l&&v!=l){for(i=f.createPositionAfter(h),(o=f.createPositionBefore(v)).isEqual(i)||f.insert(v,i),f.merge(i);o.parent.isEmpty;){const b=o.parent;o=f.createPositionBefore(b),f.remove(b)}d4(f.model.schema,i,o)&&u8(f,i,o,l)}}function a6(f,i,o,l){const h=i.parent,v=o.parent;if(h!=l&&v!=l){for(i=f.createPositionAfter(h),(o=f.createPositionBefore(v)).isEqual(i)||f.insert(h,o);i.parent.isEmpty;){const b=i.parent;i=f.createPositionBefore(b),f.remove(b)}o=f.createPositionBefore(v),function(b,C){const a=C.nodeBefore,c=C.nodeAfter;a.name!=c.name&&b.rename(a,c.name),b.clearAttributes(a),b.setAttributes(Object.fromEntries(c.getAttributes()),a),b.merge(C)}(f,o),d4(f.model.schema,i,o)&&a6(f,i,o,l)}}function d4(f,i,o){const l=i.parent,h=o.parent;return l!=h&&!f.isLimit(l)&&!f.isLimit(h)&&function(v,b,C){const a=new Ie(v,b);for(const c of a.getWalker())if(C.isLimit(c.item))return!1;return!0}(i,o,f)}function X7(f,i,o,l={}){const h=f.createElement("paragraph");f.model.schema.setAllowedAttributes(h,l,f),f.insert(h,i),h4(f,o,f.createPositionAt(h,0))}function h4(f,i,o){i instanceof Ps?f.setSelection(o):i.setTo(o)}function d1(f,i){const o=[];Array.from(f.getItems({direction:"backward"})).map(l=>i.createRangeOn(l)).filter(l=>(l.start.isAfter(f.start)||l.start.isEqual(f.start))&&(l.end.isBefore(f.end)||l.end.isEqual(f.end))).forEach(l=>{o.push(l.start.parent),i.remove(l)}),o.forEach(l=>{let h=l;for(;h.parent&&h.isEmpty;){const v=i.createRangeOn(h);h=h.parent,i.remove(v)}})}class ef{constructor(i,o,l){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=i,this.writer=o,this.position=l,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0)}handleNodes(i){for(const o of Array.from(i))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(i){const o=this.writer.createPositionAfter(this._lastNode),l=this.writer.createPositionAfter(i);if(l.isAfter(o)){if(this._lastNode=i,this.position.parent!=i||!this.position.isAtEnd)throw new q("insertcontent-invalid-insertion-position",this);this.position=l,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ie._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ie(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i){if(this.schema.isObject(i))return void this._handleObject(i);let o=this._checkAndAutoParagraphToAllowedPosition(i);o||(o=this._checkAndSplitToAllowedPosition(i),o)?(this._appendToFragment(i),this._firstNode||(this._firstNode=i),this._lastNode=i):this._handleDisallowedNode(i)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const i=Cs.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=i.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=i.toPosition(),i.detach()}_handleObject(i){this._checkAndSplitToAllowedPosition(i)?this._appendToFragment(i):this._tryAutoparagraphing(i)}_handleDisallowedNode(i){i.is("element")?this.handleNodes(i.getChildren()):this._tryAutoparagraphing(i)}_appendToFragment(i){if(!this.schema.checkChild(this.position,i))throw new q("insertcontent-wrong-position",this,{node:i,position:this.position});this.writer.insert(i,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(i.offsetSize),this._nodeToSelect=this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?i:null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=Cs.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Cs.fromPosition(i,"toNext"))}_mergeOnLeft(){const i=this._firstNode;if(!(i instanceof Nt&&this._canMergeLeft(i)))return;const o=Cs._createBefore(i);o.stickiness="toNext";const l=Cs.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Cs._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Cs._createAt(o.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const i=this._lastNode;if(!(i instanceof Nt&&this._canMergeRight(i)))return;const o=Cs._createAfter(i);if(o.stickiness="toNext",!this.position.isEqual(o))throw new q("insertcontent-invalid-insertion-position",this);this.position=Ye._createAt(o.nodeBefore,"end");const l=Cs.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Cs._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Cs._createAt(o.nodeBefore,0,"toPrevious")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(i){const o=i.previousSibling;return o instanceof Nt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,i)}_canMergeRight(i){const o=i.nextSibling;return o instanceof Nt&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(i,o)}_tryAutoparagraphing(i){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,i)&&(o._appendChild(i),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(i){if(this.schema.checkChild(this.position.parent,i))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",i))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(i){const o=this._getAllowedIn(this.position.parent,i);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const l=this.position.parent;this.position=this.writer.createPositionBefore(l),l.isEmpty&&l.parent===o&&this.writer.remove(l)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const l=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=l,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(i,o){return this.schema.checkChild(i,o)?i:this.schema.isLimit(i)?null:this._getAllowedIn(i.parent,o)}}function tf(f,i,o="auto"){const l=f.getSelectedElement();if(l&&i.schema.isObject(l)&&!i.schema.isInline(l))return"before"==o||"after"==o?i.createRange(i.createPositionAt(l,o)):i.createRangeOn(l);const h=gi(f.getSelectedBlocks());if(!h)return i.createRange(f.focus);if(h.isEmpty)return i.createRange(i.createPositionAt(h,0));const v=i.createPositionAfter(h);return f.focus.isTouching(v)?i.createRange(v):i.createRange(i.createPositionBefore(h))}const jo=' ,.?!:;"-()';function Dc(f,i){const{isForward:o,walker:l,unit:h,schema:v,treatEmojiAsSingleUnit:b}=f,{type:C,item:a,nextPosition:c}=i;if("text"==C)return"word"===f.unit?function(u,p){let _=u.position.textNode;for(_||(_=p?u.position.nodeAfter:u.position.nodeBefore);_&&_.is("$text");){const y=u.position.offset-_.startOffset;if(Hy(_,y,p))_=p?u.position.nodeAfter:u.position.nodeBefore;else{if(zc(_.data,y,p))break;u.next()}}return u.position}(l,o):function(u,p,_){const y=u.position.textNode;if(y){const A=y.data;let S=u.position.offset-y.startOffset;for(;Yr(A,S)||"character"==p&&Kr(A,S)||_&&zu(A,S);)u.next(),S=u.position.offset-y.startOffset}return u.position}(l,h,b);if(C==(o?"elementStart":"elementEnd")){if(v.isSelectable(a))return Ye._createAt(a,o?"after":"before");if(v.checkChild(c,"$text"))return c}else{if(v.isLimit(a))return void l.skip(()=>!0);if(v.checkChild(c,"$text"))return c}}function Ri(f,i){const l=Ye._createAt(f.root,i?"end":0);return i?new Ie(f,l):new Ie(l,f)}function zc(f,i,o){return jo.includes(f.charAt(i+(o?0:-1)))}function Hy(f,i,o){return i===(o?f.offsetSize:0)}class c6 extends(Gt()){constructor(){super(),this.markers=new Qm,this.document=new l4(this),this.schema=new R7,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(i=>this.decorate(i)),this.on("applyOperation",(i,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((i,o)=>{if("$marker"===o.name)return!0}),function Kv(f){f.document.registerPostFixer(i=>function(o,l){const h=l.document.selection,v=l.schema,b=[];let C=!1;for(const a of h.getRanges()){const c=K7(a,v);c&&!c.isEqual(a)?(b.push(c),C=!0):b.push(a)}return C&&o.setSelection(function(a){const c=[...a],u=new Set;let p=1;for(;p<c.length;){const _=c[p],y=c.slice(0,p);for(const[A,S]of y.entries())if(!u.has(A))if(_.isEqual(S))u.add(A);else if(_.isIntersecting(S)){u.add(A),u.add(p);const E=_.getJoined(S);c.push(E)}p++}return c.filter((_,y)=>!u.has(y))}(b),{backward:h.isBackward}),!1}(i,f))}(this),this.document.registerPostFixer(sd)}change(i){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new a4,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(o){q.rethrowUnexpectedError(o,this)}}enqueueChange(i,o){try{i?"function"==typeof i?(o=i,i=new a4):i instanceof a4||(i=new a4(i)):i=new a4,this._pendingChanges.push({batch:i,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(l){q.rethrowUnexpectedError(l,this)}}applyOperation(i){i._execute()}insertContent(i,o,l){return v=i,b=o,C=l,(h=this).change(a=>{let c;c=b?b instanceof za||b instanceof Ps?b:a.createSelection(b,C):h.document.selection,c.isCollapsed||h.deleteContent(c,{doNotAutoparagraph:!0});const u=new ef(h,a,c.anchor),p=[];let _;if(v.is("documentFragment")){if(v.markers.size){const S=[];for(const[E,T]of v.markers){const{start:V,end:B}=T,X=V.isEqual(B);S.push({position:V,name:E,isCollapsed:X},{position:B,name:E,isCollapsed:X})}S.sort(({position:E},{position:T})=>E.isBefore(T)?1:-1);for(const{position:E,name:T,isCollapsed:V}of S){let B=null,X=null;const le=E.parent===v&&E.isAtStart;le||E.parent===v&&E.isAtEnd?V&&(X=le?"start":"end"):(B=a.createElement("$marker"),a.insert(B,E)),p.push({name:T,element:B,collapsed:X})}}_=v.getChildren()}else _=[v];u.handleNodes(_);let y=u.getSelectionRange();if(v.is("documentFragment")&&p.length){const S=y?ys.fromRange(y):null,E={};for(let T=p.length-1;T>=0;T--){const{name:V,element:B,collapsed:X}=p[T],le=!E[V];if(le&&(E[V]=[]),B){const ke=a.createPositionAt(B,"before");E[V].push(ke),a.remove(B)}else{const ke=u.getAffectedRange();if(!ke){X&&E[V].push(u.position);continue}E[V].push(X?ke[X]:le?ke.start:ke.end)}}for(const[T,[V,B]]of Object.entries(E))V&&B&&V.root===B.root&&a.addMarker(T,{usingOperation:!0,affectsData:!0,range:new Ie(V,B)});S&&(y=S.toRange(),S.detach())}y&&(c instanceof Ps?a.setSelection(y):c.setTo(y));const A=u.getAffectedRange()||h.createRange(c.anchor);return u.destroy(),A});var h,v,b,C}insertObject(i,o,l,h){return function Z3(f,i,o,l,h={}){if(!f.schema.isObject(i))throw new q("insertobject-element-not-an-object",f,{object:i});let v;v=o?o instanceof za||o instanceof Ps?o:f.createSelection(o,l):f.document.selection;let b=v;h.findOptimalPosition&&f.schema.isBlock(i)&&(b=f.createSelection(tf(v,f,h.findOptimalPosition)));const C=gi(v.getSelectedBlocks()),a={};return C&&Object.assign(a,f.schema.getAttributesWithProperty(C,"copyOnReplace",!0)),f.change(c=>{b.isCollapsed||f.deleteContent(b,{doNotAutoparagraph:!0});let u=i;const p=b.anchor.parent;!f.schema.checkChild(p,i)&&f.schema.checkChild(p,"paragraph")&&f.schema.checkChild("paragraph",i)&&(u=c.createElement("paragraph"),c.insert(i,u)),f.schema.setAllowedAttributes(u,a,c);const _=f.insertContent(u,b);return _.isCollapsed||h.setSelection&&function(y,A,S,E){const T=y.model;if("on"==S)return void y.setSelection(A,"on");if("after"!=S)throw new q("insertobject-invalid-place-parameter-value",T);let V=A.nextSibling;T.schema.isInline(A)?y.setSelection(A,"after"):(!(V&&T.schema.checkChild(V,"$text"))&&T.schema.checkChild(A.parent,"paragraph")&&(V=y.createElement("paragraph"),T.schema.setAllowedAttributes(V,E,y),T.insertContent(V,y.createPositionAfter(A))),V&&y.setSelection(V,0))}(c,i,h.setSelection,a),_})}(this,i,o,l,h)}deleteContent(i,o){s6(this,i,o)}modifySelection(i,o){!function(l,h,v={}){const b=l.schema,C="backward"!=v.direction,a=v.unit?v.unit:"character",c=!!v.treatEmojiAsSingleUnit,p=new Bo({boundaries:Ri(h.focus,C),singleCharacters:!0,direction:C?"forward":"backward"}),_={walker:p,schema:b,isForward:C,unit:a,treatEmojiAsSingleUnit:c};let y;for(;y=p.next();){if(y.done)return;const A=Dc(_,y.value);if(A)return void(h instanceof Ps?l.change(S=>{S.setSelectionFocus(A)}):h.setFocus(A))}}(this,i,o)}getSelectedContent(i){return function(o,l){return o.change(h=>{const v=h.createDocumentFragment(),b=l.getFirstRange();if(!b||b.isCollapsed)return v;const C=b.start.root,a=b.start.getCommonPath(b.end),c=C.getNodeByPath(a);let u;u=b.start.parent==b.end.parent?b:h.createRange(h.createPositionAt(c,b.start.path[a.length]),h.createPositionAt(c,b.end.path[a.length]+1));const p=u.end.offset-u.start.offset;for(const _ of u.getItems({shallow:!0}))_.is("$textProxy")?h.appendText(_.data,_.getAttributes(),v):h.append(h.cloneElement(_,!0),v);if(u!=b){const _=b._getTransformedByMove(u.start,h.createPositionAt(v,0),p)[0],y=h.createRange(h.createPositionAt(v,0),_.start);d1(h.createRange(_.end,h.createPositionAt(v,"end")),h),d1(y,h)}return v})}(this,i)}hasContent(i,o={}){const l=i instanceof Ie?i:Ie._createIn(i);if(l.isCollapsed)return!1;const{ignoreWhitespaces:h=!1,ignoreMarkers:v=!1}=o;if(!v)for(const b of this.markers.getMarkersIntersectingRange(l))if(b.affectsData)return!0;for(const b of l.getItems())if(this.schema.isContent(b)&&(!b.is("$textProxy")||!h||-1!==b.data.search(/\S/)))return!0;return!1}createPositionFromPath(i,o,l){return new Ye(i,o,l)}createPositionAt(i,o){return Ye._createAt(i,o)}createPositionAfter(i){return Ye._createAfter(i)}createPositionBefore(i){return Ye._createBefore(i)}createRange(i,o){return new Ie(i,o)}createRangeIn(i){return Ie._createIn(i)}createRangeOn(i){return Ie._createOn(i)}createSelection(...i){return new za(...i)}createBatch(i){return new a4(i)}createOperationFromJSON(i){return $7.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new o6(this,this._pendingChanges[0].batch);const l=this._pendingChanges[0].callback(this._currentWriter);i.push(l),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return i}}class Xm extends xc{constructor(i){super(i),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}class f4 extends xc{constructor(i){super(i),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(i){this.fire(i.type,i)}}class m4{constructor(i){this.document=i}createDocumentFragment(i){return new po(this.document,i)}createElement(i,o,l){return new Oo(this.document,i,o,l)}createText(i){return new wn(this.document,i)}clone(i,o=!1){return i._clone(o)}appendChild(i,o){return o._appendChild(i)}insertChild(i,o,l){return l._insertChild(i,o)}removeChildren(i,o,l){return l._removeChildren(i,o)}remove(i){const o=i.parent;return o?this.removeChildren(o.getChildIndex(i),1,o):[]}replace(i,o){const l=i.parent;if(l){const h=l.getChildIndex(i);return this.removeChildren(h,1,l),this.insertChild(h,o,l),!0}return!1}unwrapElement(i){const o=i.parent;if(o){const l=o.getChildIndex(i);this.remove(i),this.insertChild(l,i.getChildren(),o)}}rename(i,o){const l=new Oo(this.document,i,o.getAttributes(),o.getChildren());return this.replace(o,l)?l:null}setAttribute(i,o,l){l._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,l){At(i)&&void 0===l?o._setStyle(i):l._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,l){l._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}createPositionAt(i,o){return Qe._createAt(i,o)}createPositionAfter(i){return Qe._createAfter(i)}createPositionBefore(i){return Qe._createBefore(i)}createRange(i,o){return new Ot(i,o)}createRangeOn(i){return Ot._createOn(i)}createRangeIn(i){return Ot._createIn(i)}createSelection(...i){return new Tr(...i)}}class ep{constructor(){this._commands=new Map}add(i,o){this._commands.set(i,o)}get(i){return this._commands.get(i)}execute(i,...o){const l=this.get(i);if(!l)throw new q("commandcollection-command-not-found",this,{commandName:i});return l.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}class l6 extends vi{constructor(i){super(),this.editor=i}set(i,o,l={}){if("string"==typeof o){const h=o;o=(v,b)=>{this.editor.execute(h),b()}}super.set(i,o,l)}}class hn extends(Gt()){constructor(i={}){super();const o=this.constructor;this._context=i.context||new L({language:i.language||o.defaultConfig&&o.defaultConfig.language}),this._context._addEditor(this,!i.context);const h=Array.from(o.builtinPlugins||[]);this.config=new Ls(i,o.defaultConfig),this.config.define("plugins",h),this.config.define(this._context._getEditorConfig()),this.plugins=new jl(this,h,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new ep,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new c6;const v=new ju;this.data=new t8(this.model,v),this.editing=new Q5(this.model,v),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Uv([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new l6(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(i){throw new q("editor-isreadonly-has-no-setter")}enableReadOnlyMode(i){if("string"!=typeof i&&"symbol"!=typeof i)throw new q("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)||(this._readOnlyLocks.add(i),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(i){if("string"!=typeof i&&"symbol"!=typeof i)throw new q("editor-read-only-lock-id-invalid",null,{lockId:i});this._readOnlyLocks.has(i)&&(this._readOnlyLocks.delete(i),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const i=this.config,o=i.get("plugins"),l=i.get("removePlugins")||[],h=i.get("extraPlugins")||[],v=i.get("substitutePlugins")||[];return this.plugins.init(o.concat(h),l,v)}destroy(){let i=Promise.resolve();return"initializing"==this.state&&(i=new Promise(o=>this.once("ready",o))),i.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(i,...o){try{return this.commands.execute(i,...o)}catch(l){q.rethrowUnexpectedError(l,this)}}focus(){this.editing.view.focus()}}function Uo(f){return class extends f{setData(i){this.data.set(i)}getData(i){return this.data.get(i)}}}{const f=Uo(Object);Uo.setData=f.prototype.setData,Uo.getData=f.prototype.getData}function p4(f){return class extends f{updateSourceElement(i=this.data.get()){if(!this.sourceElement)throw new q("editor-missing-sourceelement",this);const o=this.config.get("updateSourceElementOnDestroy"),l=this.sourceElement instanceof HTMLTextAreaElement;!function Il(f,i){f instanceof HTMLTextAreaElement&&(f.value=i),f.innerHTML=i}(this.sourceElement,o||l?i:"")}}}p4.updateSourceElement=p4(Object).prototype.updateSourceElement;class or extends H{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Wr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(i){if("string"!=typeof i)throw new q("pendingactions-add-invalid-message",this);const o=new(Gt());return o.set("message",i),this._actions.add(o),this.hasAny=!0,o}remove(i){this._actions.remove(i),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const di={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var hd=se(5542);Et()(hd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:fd}=di,g4={alignLeft:di.alignLeft,bold:di.bold,importExport:di.importExport,paragraph:di.paragraph,plus:di.plus,text:di.text,threeVerticalDots:di.threeVerticalDots};class Ic extends un{constructor(i,o){super(i);const l=this.bindTemplate,h=this.t;this.options=o||{},this.set("ariaLabel",h("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new zr,this.keystrokes=new vi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new md(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const v="rtl"===i.uiLanguageDirection;this._focusCycler=new _a({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[v?"arrowright":"arrowleft","arrowup"],focusNext:[v?"arrowleft":"arrowright","arrowdown"]}});const b=["ck","ck-toolbar",l.to("class"),l.if("isCompact","ck-toolbar_compact")];var C;this.options.shouldGroupWhenFull&&this.options.isFloating&&b.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:b,role:"toolbar","aria-label":l.to("ariaLabel"),style:{maxWidth:l.to("maxWidth")}},children:this.children,on:{mousedown:(C=this,C.bindTemplate.to(a=>{a.target===C.element&&a.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new h1(this):new sr(this)}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,o,l){this.items.addMany(this._buildItemsFromConfig(i,o,l))}_buildItemsFromConfig(i,o,l){const h=Jr(i),v=l||h.removeItems;return this._cleanItemsConfiguration(h.items,o,v).map(b=>$t(b)?this._createNestedToolbarDropdown(b,o,v):"|"===b?new L1:"-"===b?new w2:o.create(b)).filter(b=>!!b)}_cleanItemsConfiguration(i,o,l){const h=i.filter((v,b,C)=>"|"===v||-1===l.indexOf(v)&&("-"===v?!this.options.shouldGroupWhenFull||(Fe("toolbarview-line-break-ignored-when-grouping-items",C),!1):!(!$t(v)&&!o.has(v)&&(Fe("toolbarview-item-unavailable",{item:v}),1))));return this._cleanSeparatorsAndLineBreaks(h)}_cleanSeparatorsAndLineBreaks(i){const o=b=>"-"!==b&&"|"!==b,l=i.length,h=i.findIndex(o);if(-1===h)return[];const v=l-i.slice().reverse().findIndex(o);return i.slice(h,v).filter((b,C,a)=>!!o(b)||!(C>0&&a[C-1]===b))}_createNestedToolbarDropdown(i,o,l){let{label:h,icon:v,items:b,tooltip:C=!0,withText:a=!1}=i;if(b=this._cleanItemsConfiguration(b,o,l),!b.length)return null;const c=B1(this.locale);return h||Fe("toolbarview-nested-toolbar-dropdown-missing-label",i),c.class="ck-toolbar__nested-toolbar-dropdown",c.buttonView.set({label:h,tooltip:C,withText:!!a}),!1!==v?c.buttonView.icon=g4[v]||v||fd:c.buttonView.withText=!0,La(c,()=>c.toolbarView._buildItemsFromConfig(b,o,l)),c}}class md extends un{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class sr{constructor(i){const o=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using(l=>l),i.focusables.bindTo(i.items).using(l=>l),i.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class h1{constructor(i){this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,i.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),i.children.on("change",this._updateFocusCycleableItems.bind(this)),i.items.on("change",(o,l)=>{const h=l.index,v=Array.from(l.added);for(const b of l.removed)h>=this.ungroupedItems.length?this.groupedItems.remove(b):this.ungroupedItems.remove(b);for(let b=h;b<h+v.length;b++){const C=v[b-h];b>this.ungroupedItems.length?this.groupedItems.add(C,b-this.ungroupedItems.length):this.ungroupedItems.add(C,b)}this._updateGrouping()}),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ts(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,o=this.viewLocale.uiLanguageDirection,l=new Jn(i.lastChild),h=new Jn(i);if(!this.cachedPadding){const v=ln.window.getComputedStyle(i);this.cachedPadding=Number.parseInt(v["ltr"===o?"paddingRight":"paddingLeft"])}return"ltr"===o?l.right>h.right-this.cachedPadding:l.left<h.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new zn(this.viewElement,o=>{i&&i===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new L1),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,o=i.t,l=B1(i);return l.class="ck-toolbar__grouped-dropdown",l.panelPosition="ltr"===i.uiLanguageDirection?"sw":"se",La(l,this.groupedItems),l.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:"rtl"===i.uiLanguageDirection?"se":"sw",icon:fd}),l}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(i=>{this.viewFocusables.add(i)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var O2=se(1046);Et()(O2.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class v4 extends un{constructor(i){super(i);const o=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new zr,this.keystrokes=new vi,this._focusCycler=new _a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":o.to("ariaLabel")},children:this.items})}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Y3 extends un{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",o.if("isVisible","ck-hidden",l=>!l)]},children:this.children})}focus(){this.children.first.focus()}}class tp extends un{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var d8=se(7339);Et()(d8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var h8=se(3949);function B1(f,i=D5){const o=new i(f),l=new _0(f),h=new bc(f,o,l);return o.bind("isEnabled").to(h),o instanceof ps?o.arrowView.bind("isOn").to(h,"isOpen"):o.bind("isOn").to(h,"isOpen"),(b=v=h).on("render",()=>{Z({emitter:b,activator:()=>b.isOpen,callback:()=>{b.isOpen=!1},contextElements:[b.element]})}),function(b){b.on("execute",C=>{C.source instanceof c1||(b.isOpen=!1)})}(v),function(b){b.focusTracker.on("change:isFocused",(C,a,c)=>{b.isOpen&&!c&&(b.isOpen=!1)})}(v),function(b){b.keystrokes.set("arrowdown",(C,a)=>{b.isOpen&&(b.panelView.focus(),a())}),b.keystrokes.set("arrowup",(C,a)=>{b.isOpen&&(b.panelView.focusLast(),a())})}(v),function(b){b.on("change:isOpen",(C,a,c)=>{if(c)return;const u=b.panelView.element;u&&u.contains(ln.document.activeElement)&&b.buttonView.focus()})}(v),function(b){b.on("change:isOpen",(C,a,c)=>{c&&b.panelView.focus()},{priority:"low"})}(v),h;var v,b}function La(f,i,o={}){f.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),f.isOpen?pn(f,i,o):f.once("change:isOpen",()=>pn(f,i,o),{priority:"highest"}),o.enableActiveItemFocusOnDropdownOpen&&K3(f,()=>f.toolbarView.items.find(l=>l.isOn))}function pn(f,i,o){const l=f.locale,h=l.t,v=f.toolbarView=new Ic(l),b="function"==typeof i?i():i;v.ariaLabel=o.ariaLabel||h("Dropdown toolbar"),o.maxWidth&&(v.maxWidth=o.maxWidth),o.class&&(v.class=o.class),o.isCompact&&(v.isCompact=o.isCompact),o.isVertical&&(v.isVertical=!0),b instanceof Hs?v.items.bindTo(b).using(C=>C):v.items.addMany(b),f.panelView.children.add(v),v.items.delegate("execute").to(f)}function _4(f,i,o={}){f.isOpen?ip(f,i,o):f.once("change:isOpen",()=>ip(f,i,o),{priority:"highest"}),K3(f,()=>f.listView.items.find(l=>l instanceof Y3&&l.children.first.isOn))}function ip(f,i,o){const l=f.locale,h=f.listView=new v4(l),v="function"==typeof i?i():i;h.ariaLabel=o.ariaLabel,h.items.bindTo(v).using(b=>{if("separator"===b.type)return new tp(l);if("button"===b.type||"switchbutton"===b.type){const C=new Y3(l);let a;return a="button"===b.type?new Wn(l):new c1(l),a.bind(...Object.keys(b.model)).to(b.model),a.delegate("execute").to(C),C.children.add(a),C}return null}),f.panelView.children.add(h),h.items.delegate("execute").to(f)}function K3(f,i){f.on("change:isOpen",()=>{if(!f.isOpen)return;const o=i();o&&("function"==typeof o.focus?o.focus():Fe("ui-dropdown-focus-child-on-open-child-missing-focus",{view:o}))},{priority:Le.low-10})}Et()(h8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var rf=se(8793);Et()(rf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const gd=Ns("px"),f8=ln.document.body;class Vr extends un{constructor(i){super(i);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",l=>`ck-balloon-panel_${l}`),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",gd),left:o.to("left",gd)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(i){this.show();const o=Vr.defaultPositions,l=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthMiddleWest,o.southArrowNorthMiddleEast,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthMiddleWest,o.northArrowSouthMiddleEast,o.northArrowSouthWest,o.northArrowSouthEast,o.viewportStickyNorth],limiter:f8,fitInViewport:!0},i),h=Vr._getOptimalPosition(l),v=parseInt(h.left),b=parseInt(h.top),C=h.name,a=h.config||{},{withArrow:c=!0}=a;this.top=b,this.left=v,this.position=C,this.withArrow=c}pin(i){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(i):this._stopPinning()},this._startPinning(i),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(i){this.attachTo(i);const o=b4(i.target),l=i.limiter?b4(i.limiter):f8;this.listenTo(ln.document,"scroll",(h,v)=>{const b=v.target,C=o&&b.contains(o),a=l&&b.contains(l);!C&&!a&&o&&l||this.attachTo(i)},{useCapture:!0}),this.listenTo(ln.window,"resize",()=>{this.attachTo(i)})}_stopPinning(){this.stopListening(ln.document,"scroll"),this.stopListening(ln.window,"resize")}}function b4(f){return Dr(f)?f:pi(f)?f.commonAncestorContainer:"function"==typeof f?b4(f()):null}function d6(f={}){const{sideOffset:i=Vr.arrowSideOffset,heightOffset:o=Vr.arrowHeightOffset,stickyVerticalOffset:l=Vr.stickyVerticalOffset,config:h}=f;return{northWestArrowSouthWest:(C,a)=>({top:v(C,a),left:C.left-i,name:"arrow_sw",...h&&{config:h}}),northWestArrowSouthMiddleWest:(C,a)=>({top:v(C,a),left:C.left-.25*a.width-i,name:"arrow_smw",...h&&{config:h}}),northWestArrowSouth:(C,a)=>({top:v(C,a),left:C.left-a.width/2,name:"arrow_s",...h&&{config:h}}),northWestArrowSouthMiddleEast:(C,a)=>({top:v(C,a),left:C.left-.75*a.width+i,name:"arrow_sme",...h&&{config:h}}),northWestArrowSouthEast:(C,a)=>({top:v(C,a),left:C.left-a.width+i,name:"arrow_se",...h&&{config:h}}),northArrowSouthWest:(C,a)=>({top:v(C,a),left:C.left+C.width/2-i,name:"arrow_sw",...h&&{config:h}}),northArrowSouthMiddleWest:(C,a)=>({top:v(C,a),left:C.left+C.width/2-.25*a.width-i,name:"arrow_smw",...h&&{config:h}}),northArrowSouth:(C,a)=>({top:v(C,a),left:C.left+C.width/2-a.width/2,name:"arrow_s",...h&&{config:h}}),northArrowSouthMiddleEast:(C,a)=>({top:v(C,a),left:C.left+C.width/2-.75*a.width+i,name:"arrow_sme",...h&&{config:h}}),northArrowSouthEast:(C,a)=>({top:v(C,a),left:C.left+C.width/2-a.width+i,name:"arrow_se",...h&&{config:h}}),northEastArrowSouthWest:(C,a)=>({top:v(C,a),left:C.right-i,name:"arrow_sw",...h&&{config:h}}),northEastArrowSouthMiddleWest:(C,a)=>({top:v(C,a),left:C.right-.25*a.width-i,name:"arrow_smw",...h&&{config:h}}),northEastArrowSouth:(C,a)=>({top:v(C,a),left:C.right-a.width/2,name:"arrow_s",...h&&{config:h}}),northEastArrowSouthMiddleEast:(C,a)=>({top:v(C,a),left:C.right-.75*a.width+i,name:"arrow_sme",...h&&{config:h}}),northEastArrowSouthEast:(C,a)=>({top:v(C,a),left:C.right-a.width+i,name:"arrow_se",...h&&{config:h}}),southWestArrowNorthWest:C=>({top:b(C),left:C.left-i,name:"arrow_nw",...h&&{config:h}}),southWestArrowNorthMiddleWest:(C,a)=>({top:b(C),left:C.left-.25*a.width-i,name:"arrow_nmw",...h&&{config:h}}),southWestArrowNorth:(C,a)=>({top:b(C),left:C.left-a.width/2,name:"arrow_n",...h&&{config:h}}),southWestArrowNorthMiddleEast:(C,a)=>({top:b(C),left:C.left-.75*a.width+i,name:"arrow_nme",...h&&{config:h}}),southWestArrowNorthEast:(C,a)=>({top:b(C),left:C.left-a.width+i,name:"arrow_ne",...h&&{config:h}}),southArrowNorthWest:C=>({top:b(C),left:C.left+C.width/2-i,name:"arrow_nw",...h&&{config:h}}),southArrowNorthMiddleWest:(C,a)=>({top:b(C),left:C.left+C.width/2-.25*a.width-i,name:"arrow_nmw",...h&&{config:h}}),southArrowNorth:(C,a)=>({top:b(C),left:C.left+C.width/2-a.width/2,name:"arrow_n",...h&&{config:h}}),southArrowNorthMiddleEast:(C,a)=>({top:b(C),left:C.left+C.width/2-.75*a.width+i,name:"arrow_nme",...h&&{config:h}}),southArrowNorthEast:(C,a)=>({top:b(C),left:C.left+C.width/2-a.width+i,name:"arrow_ne",...h&&{config:h}}),southEastArrowNorthWest:C=>({top:b(C),left:C.right-i,name:"arrow_nw",...h&&{config:h}}),southEastArrowNorthMiddleWest:(C,a)=>({top:b(C),left:C.right-.25*a.width-i,name:"arrow_nmw",...h&&{config:h}}),southEastArrowNorth:(C,a)=>({top:b(C),left:C.right-a.width/2,name:"arrow_n",...h&&{config:h}}),southEastArrowNorthMiddleEast:(C,a)=>({top:b(C),left:C.right-.75*a.width+i,name:"arrow_nme",...h&&{config:h}}),southEastArrowNorthEast:(C,a)=>({top:b(C),left:C.right-a.width+i,name:"arrow_ne",...h&&{config:h}}),westArrowEast:(C,a)=>({top:C.top+C.height/2-a.height/2,left:C.left-a.width-o,name:"arrow_e",...h&&{config:h}}),eastArrowWest:(C,a)=>({top:C.top+C.height/2-a.height/2,left:C.right+o,name:"arrow_w",...h&&{config:h}}),viewportStickyNorth:(C,a,c)=>C.getIntersection(c)?{top:c.top+l,left:C.left+C.width/2-a.width/2,name:"arrowless",config:{withArrow:!1,...h}}:null};function v(C,a){return C.top-a.height-o}function b(C){return C.bottom+o}}Vr.arrowSideOffset=25,Vr.arrowHeightOffset=10,Vr.stickyVerticalOffset=20,Vr._getOptimalPosition=Tl,Vr.defaultPositions=d6();var Q3=se(3332);Et()(Q3.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const m8="ck-tooltip";class Oi extends(E1()){constructor(i){if(super(),Oi._editors.add(i),Oi._instance)return Oi._instance;Oi._instance=this,this.tooltipTextView=new un(i.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Vr(i.locale),this.balloonPanelView.class=m8,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=Ea(this._pinTooltip,600),this.listenTo(ln.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ln.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ln.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(ln.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(ln.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(i){const o=i.ui.view&&i.ui.view.body;Oi._editors.delete(i),this.stopListening(i.ui),o&&o.has(this.balloonPanelView)&&o.remove(this.balloonPanelView),Oi._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Oi._instance=null)}static getPositioningFunctions(i){const o=Oi.defaultBalloonPositions;return{s:[o.southArrowNorth,o.southArrowNorthEast,o.southArrowNorthWest],n:[o.northArrowSouth],e:[o.eastArrowWest],w:[o.westArrowEast],sw:[o.southArrowNorthEast],se:[o.southArrowNorthWest]}[i]}_onEnterOrFocus(i,{target:o}){const l=y4(o);var h;l&&l!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(l,{text:(h=l).dataset.ckeTooltipText,position:h.dataset.ckeTooltipPosition||"s",cssClass:h.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(i,{target:o,relatedTarget:l}){if("mouseleave"===i.name){if(!Dr(o)||this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;const h=y4(o),v=y4(l);h&&h!==v&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&o!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(i,{target:o}){this._currentElementWithTooltip&&(o.contains(this.balloonPanelView.element)&&o.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(i,{text:o,position:l,cssClass:h}){const v=gi(Oi._editors.values()).ui.view.body;v.has(this.balloonPanelView)||v.add(this.balloonPanelView),this.tooltipTextView.text=o,this.balloonPanelView.pin({target:i,positions:Oi.getPositioningFunctions(l)}),this._resizeObserver=new zn(i,()=>{ts(i)||this._unpinTooltip()}),this.balloonPanelView.class=[m8,h].filter(b=>b).join(" ");for(const b of Oi._editors)this.listenTo(b.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=i,this._currentTooltipPosition=l}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const i of Oi._editors)this.stopListening(i.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){ts(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Oi.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function y4(f){return Dr(f)?f.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Oi.defaultBalloonPositions=d6({heightOffset:5,sideOffset:13}),Oi._editors=new Set,Oi._instance=null;class p8 extends(Gt()){constructor(i){super(),this.editor=i,this.componentFactory=new C2(i),this.focusTracker=new zr,this.tooltipManager=new Oi(i),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(i.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const i of this._editableElementsMap.values())i.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(i,o){this._editableElementsMap.set(i,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor),this.focusTracker.add(o);const l=()=>{this.editor.editing.view.getDomRoot(i)||this.editor.keystrokes.listenTo(o)};this.isReady?l():this.once("ready",l)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(i,o={}){i.isRendered?(this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)):i.once("render",()=>{this.focusTracker.add(i.element),this.editor.keystrokes.listenTo(i.element)}),this._focusableToolbarDefinitions.push({toolbarView:i,options:o})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const i=this.editor,o=i.config.get("ui.viewportOffset");if(o)return o;const l=i.config.get("toolbar.viewportTopOffset");return l?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:l}):{top:0}}_initFocusTracking(){const i=this.editor,o=i.editing.view;let l,h;i.keystrokes.set("Alt+F10",(v,b)=>{const C=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(C)&&!Array.from(o.domRoots.values()).includes(C)&&(l=C);const a=this._getCurrentFocusedToolbarDefinition();a&&h||(h=this._getFocusableCandidateToolbarDefinitions());for(let c=0;c<h.length;c++){const u=h.shift();if(h.push(u),u!==a&&this._focusFocusableCandidateToolbar(u)){a&&a.options.afterBlur&&a.options.afterBlur();break}}b()}),i.keystrokes.set("Esc",(v,b)=>{const C=this._getCurrentFocusedToolbarDefinition();C&&(l?(l.focus(),l=null):i.editing.view.focus(),C.options.afterBlur&&C.options.afterBlur(),b())})}_getFocusableCandidateToolbarDefinitions(){const i=[];for(const o of this._focusableToolbarDefinitions){const{toolbarView:l,options:h}=o;(ts(l.element)||h.beforeFocus)&&i.push(o)}return i.sort((o,l)=>af(o)-af(l)),i}_getCurrentFocusedToolbarDefinition(){for(const i of this._focusableToolbarDefinitions)if(i.toolbarView.element&&i.toolbarView.element.contains(this.focusTracker.focusedElement))return i;return null}_focusFocusableCandidateToolbar(i){const{toolbarView:o,options:{beforeFocus:l}}=i;return l&&l(),!!ts(o.element)&&(o.focus(),!0)}}function af(f){const{toolbarView:i,options:o}=f;let l=10;return ts(i.element)&&l--,o.isContextual&&l--,l}var g8=se(9688);Et()(g8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class vd extends un{constructor(i){super(i),this.body=new E3(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var v8=se(3662);Et()(v8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class op extends un{constructor(i){super(i),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Ge()}`;const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class sp extends vd{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,o=new op;return o.text=i("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class ap extends un{constructor(i,o,l){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=l,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const i=this._editingView;function o(l){i.change(h=>{const v=i.document.getRoot(l.name);h.addClass(l.isFocused?"ck-focused":"ck-blurred",v),h.removeClass(l.isFocused?"ck-blurred":"ck-focused",v)})}i.isRenderingInProgress?function l(h){i.once("change:isRenderingInProgress",(v,b,C)=>{C?l(h):o(h)})}(this):o(this)}}class _8 extends ap{constructor(i,o,l,h={}){super(i,o,l);const v=i.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=h.label||(()=>v("Editor editing area: %0",this.name))}render(){super.render();const i=this._editingView;i.change(o=>{const l=i.document.getRoot(this.name);o.setAttribute("aria-label",this._generateLabel(this),l)})}}var h6=se(8847);Et()(h6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Tc=se(4879);Et()(Tc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Jv extends un{constructor(i){super(i),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new zr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),inputmode:o.to("inputMode"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to((...l)=>{this.fire("input",...l),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(i,o,l)=>{this._setDomElementValue(l),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||0===i?i:""}}class y8 extends Jv{constructor(i){super(i),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var C8=se(2577);Et()(C8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class J3 extends un{constructor(i,o){super(i);const l=`ck-labeled-field-view-${Ge()}`,h=`ck-labeled-field-view-status-${Ge()}`;this.fieldView=o(this,l,h),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(l),this.statusView=this._createStatusView(h),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(b,C)=>b||C);const v=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",v.to("class"),v.if("isEnabled","ck-disabled",b=>!b),v.if("isEmpty","ck-labeled-field-view_empty"),v.if("isFocused","ck-labeled-field-view_focused"),v.if("placeholder","ck-labeled-field-view_placeholder"),v.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(i){const o=new op(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createStatusView(i){const o=new un(this.locale),l=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",l.if("errorText","ck-labeled-field-view__status_error"),l.if("_statusText","ck-hidden",h=>!h)],id:i,role:l.if("errorText","alert")},children:[{text:l.to("_statusText")}]}),o}focus(){this.fieldView.focus()}}function X3(f,i,o){const l=new y8(f.locale);return l.set({id:i,ariaDescribedById:o}),l.bind("isReadOnly").to(f,"isEnabled",h=>!h),l.bind("hasError").to(f,"errorText",h=>!!h),l.on("input",()=>{f.errorText=null}),f.bind("isEmpty","isFocused","placeholder").to(l),l}class Lc extends H{static get pluginName(){return"Notification"}init(){this.on("show:warning",(i,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(i,o={}){this._showNotification({message:i,type:"success",namespace:o.namespace,title:o.title})}showInfo(i,o={}){this._showNotification({message:i,type:"info",namespace:o.namespace,title:o.title})}showWarning(i,o={}){this._showNotification({message:i,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(i){this.fire(i.namespace?`show:${i.type}:${i.namespace}`:`show:${i.type}`,{message:i.message,type:i.type,title:i.title||""})}}class w8 extends(Gt()){constructor(i,o){super(),o&&km(this,o),i&&this.set(i)}}var k8=se(4650);Et()(k8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var F2=se(7676);Et()(F2.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const A8=Ns("px");class _d extends Xe{static get pluginName(){return"ContextualBalloon"}constructor(i){super(i),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const o=this.editor.editing.view,l=o.document.selection.editableElement;return l?o.domConverter.mapViewToDom(l.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this._view||this._createPanelView(),this.hasView(i.view))throw new q("contextualballoon-add-view-exist",[this,i]);const o=i.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(o));const l=this._idToStack.get(o);i.singleViewMode&&this.showStack(o),l.set(i.view,i),this._viewToStack.set(i.view,l),l===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new q("contextualballoon-remove-view-not-exist",[this,i]);const o=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(1===o.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),1===o.size?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const o=this._idToStack.get(i);if(!o)throw new q("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}_createPanelView(){this._view=new Vr(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find(o=>o[1]===i)[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)+1;i[o]||(o=0),this.showStack(this._getStackId(i[o]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)-1;i[o]||(o=i.length-1),this.showStack(this._getStackId(i[o]))}_createRotatorView(){const i=new uf(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(l,h)=>!h&&l>1),i.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(l,h)=>{if(h<2)return"";const v=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[v,h])}),i.buttonNextView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),i.buttonPrevView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),i}_createFakePanelsView(){const i=new Nc(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,l)=>!l&&o>=2?Math.min(o-1,2):0),i.listenTo(this.view,"change:top",()=>i.updatePosition()),i.listenTo(this.view,"change:left",()=>i.updatePosition()),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:o="",withArrow:l=!0,singleViewMode:h=!1}){this.view.class=o,this.view.withArrow=l,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),h&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}}class uf extends un{constructor(i){super(i);const o=i.t,l=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new zr,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",l.to("isNavigationVisible",h=>h?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:l.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,o){const l=new Wn(this.locale);return l.set({label:i,icon:o,tooltip:!0}),l}}class Nc extends un{constructor(i,o){super(i);const l=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",l.to("numberOfPanels",h=>h?"":"ck-hidden")],style:{top:l.to("top",A8),left:l.to("left",A8),width:l.to("width",A8),height:l.to("height",A8)}},children:this.content}),this.on("change:numberOfPanels",(h,v,b,C)=>{b>C?this._addPanels(b-C):this._removePanels(C-b),this.updatePosition()})}_addPanels(i){for(;i--;){const o=new un;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(i){for(;i--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:o}=this._balloonPanelView,{width:l,height:h}=new Jn(this._balloonPanelView.element);Object.assign(this,{top:i,left:o,width:l,height:h})}}}var Vc=se(5868);Et()(Vc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Hc=Ns("px");class Py extends un{constructor(i){super(i);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Qr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",l=>l?"block":"none"),height:o.to("isSticky",l=>l?Hc(this._panelRect.height):null)}}}).render(),this._contentPanel=new Qr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",l=>l?Hc(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_hasViewportTopOffset",l=>l?Hc(this.viewportTopOffset):null),bottom:o.to("_isStickyToTheLimiter",l=>l?Hc(this.limiterBottomOffset):null),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(ln.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const i=this._panelRect=this._contentPanel.getBoundingClientRect();let o;this.limiterElement?(o=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&o.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<o.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=o.bottom<i.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Hc(-ln.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}Ns("px");var lp=se(9695);Et()(lp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ns("px"),Ns("px");class Na extends p8{constructor(i,o){super(i),this.view=o,this._toolbarConfig=Jr(i.config.get("toolbar")),this._elementReplacer=new vl}get element(){return this.view.element}init(i){const l=this.view,h=this.editor.editing.view,v=l.editable,b=h.document.getRoot();v.name=b.rootName,l.render();const C=v.element;this.setEditableElement(v.name,C),l.editable.bind("isFocused").to(this.focusTracker),h.attachDomRoot(C),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const i=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(i.editable.name),i.destroy()}_initToolbar(){const i=this.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,i.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:o})=>o||0),i.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(i.toolbar)}_initPlaceholder(){const i=this.editor,o=i.editing.view,l=o.document.getRoot(),h=i.sourceElement,v=i.config.get("placeholder")||h&&"textarea"===h.tagName.toLowerCase()&&h.getAttribute("placeholder");v&&he({view:o,element:l,text:v,isDirectHost:!1,keepOnFocus:!0})}}var x8=se(3143);Et()(x8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class bd extends sp{constructor(i,o,l={}){super(i),this.stickyPanel=new Py(i),this.toolbar=new Ic(i,{shouldGroupWhenFull:l.shouldToolbarGroupWhenFull}),this.editable=new _8(i,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class S8 extends(Uo(p4(hn))){constructor(i,o={}){if(!f6(i)&&void 0!==o.initialData)throw new q("editor-create-initial-data",null);var v,b;super(o),void 0===this.config.get("initialData")&&this.config.set("initialData",f6(v=i)?(b=v)instanceof HTMLTextAreaElement?b.value:b.innerHTML:v),f6(i)&&(this.sourceElement=i),this.model.document.createRoot();const l=!this.config.get("toolbar.shouldNotGroupWhenFull"),h=new bd(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:l});this.ui=new Na(this,h),function(v){if(!hi(v.updateSourceElement))throw new q("attachtoform-missing-elementapi-interface",v);const b=v.sourceElement;if((C=b)&&"textarea"===C.tagName.toLowerCase()&&b.form){let C;const a=b.form,c=()=>v.updateSourceElement();hi(a.submit)&&(C=a.submit,a.submit=()=>{c(),C.apply(a)}),a.addEventListener("submit",c),v.on("destroy",()=>{a.removeEventListener("submit",c),C&&(a.submit=C)})}var C}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,o={}){return new Promise(l=>{const h=new this(i,o);l(h.initPlugins().then(()=>h.ui.init(f6(i)?i:null)).then(()=>h.data.init(h.config.get("initialData"))).then(()=>h.fire("ready")).then(()=>h))})}}function f6(f){return Dr(f)}class E8 extends xc{constructor(i){super(i);const o=this.document;function l(h){return(v,b)=>{b.preventDefault();const C=b.dropRange?[b.dropRange]:null,a=new je(o,h);o.fire(a,{dataTransfer:b.dataTransfer,method:v.name,targetRanges:C,target:b.target}),a.stop.called&&b.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(o,"paste",l("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",l("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",l("dragging"),{priority:"low"})}onDomEvent(i){const h={dataTransfer:new zm("clipboardData"in i?i.clipboardData:i.dataTransfer,{cacheFiles:"drop"==i.type||"paste"==i.type})};"drop"!=i.type&&"dragover"!=i.type||(h.dropRange=function(v,b){const C=b.target.ownerDocument,a=b.clientX,c=b.clientY;let u;return C.caretRangeFromPoint&&C.caretRangeFromPoint(a,c)?u=C.caretRangeFromPoint(a,c):b.rangeParent&&(u=C.createRange(),u.setStart(b.rangeParent,b.rangeOffset),u.collapse(!0)),u?v.domConverter.domRangeToView(u):null}(this.view,i)),this.fire(i.type,i,h)}}const dp=["figcaption","li"];function df(f){let i="";if(f.is("$text")||f.is("$textProxy"))i=f.data;else if(f.is("element","img")&&f.hasAttribute("alt"))i=f.getAttribute("alt");else if(f.is("element","br"))i="\n";else{let o=null;for(const l of f.getChildren()){const h=df(l);o&&(o.is("containerElement")||l.is("containerElement"))&&(dp.includes(o.name)||dp.includes(l.name)?i+="\n":i+="\n\n"),i+=h,o=l}}return i}class Va extends Xe{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(E8),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const i=this.editor,o=i.model,l=i.editing.view,h=l.document;this.listenTo(h,"clipboardInput",v=>{i.isReadOnly&&v.stop()},{priority:"highest"}),this.listenTo(h,"clipboardInput",(v,b)=>{const C=b.dataTransfer;let a;if(b.content)a=b.content;else{let p="";C.getData("text/html")?p=C.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(y,A)=>1==A.length?" ":A).replace(/<!--[\s\S]*?-->/g,""):C.getData("text/plain")&&(((c=(c=C.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||c.includes("<br>"))&&(c=`<p>${c}</p>`),p=c),a=this.editor.data.htmlProcessor.toView(p)}var c;const u=new je(this,"inputTransformation");this.fire(u,{content:a,dataTransfer:C,targetRanges:b.targetRanges,method:b.method}),u.stop.called&&v.stop(),l.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(v,b)=>{if(b.content.isEmpty)return;const C=this.editor.data.toModel(b.content,"$clipboardHolder");0!=C.childCount&&(v.stop(),o.change(()=>{this.fire("contentInsertion",{content:C,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(v,b)=>{b.resultRange=o.insertContent(b.content)},{priority:"low"})}_setupCopyCut(){const i=this.editor,o=i.model.document,l=i.editing.view.document,h=(v,b)=>{const C=b.dataTransfer;b.preventDefault();const a=i.data.toView(i.model.getSelectedContent(o.selection));l.fire("clipboardOutput",{dataTransfer:C,content:a,method:v.name})};this.listenTo(l,"copy",h,{priority:"low"}),this.listenTo(l,"cut",(v,b)=>{i.isReadOnly?b.preventDefault():h(v,b)},{priority:"low"}),this.listenTo(l,"clipboardOutput",(v,b)=>{b.content.isEmpty||(b.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(b.content)),b.dataTransfer.setData("text/plain",df(b.content))),"cut"==b.method&&i.model.deleteContent(o.selection)},{priority:"low"})}}class C4{constructor(i,o=20){this._batch=null,this.model=i,this._size=0,this.limit=o,this._isLocked=!1,this._changeCallback=(l,h)=>{h.isLocal&&h.isUndoable&&h!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(i){this._size+=i,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i=!1){this.isLocked&&!i||(this._batch=null,this._size=0)}}class e_ extends on{constructor(i,o){super(i),this._buffer=new C4(i.model,o)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const o=this.editor.model,l=o.document,h=i.text||"",v=h.length;let b=l.selection;i.selection?b=i.selection:i.range&&(b=o.createSelection(i.range));const C=i.resultRange;o.enqueueChange(this._buffer.batch,a=>{this._buffer.lock(),o.deleteContent(b),h&&o.insertContent(a.createText(h,l.selection.getAttributes()),b),C?a.setSelection(C):b.is("documentSelection")||a.setSelection(b),this._buffer.unlock(),this._buffer.input(v)})}}const hp=["insertText","insertReplacementText"];class fp extends H1{constructor(i){super(i),U.isAndroid&&hp.push("insertCompositionText");const o=i.document;o.on("beforeinput",(l,h)=>{if(!this.isEnabled)return;const{data:v,targetRanges:b,inputType:C,domEvent:a}=h;if(!hp.includes(C))return;const c=new je(o,"insertText");o.fire(c,new q0(i,a,{text:v,selection:i.createSelection(b)})),c.stop.called&&l.stop()}),o.on("compositionend",(l,{data:h,domEvent:v})=>{this.isEnabled&&!U.isAndroid&&h&&o.fire("insertText",new q0(i,v,{text:h,selection:o.selection}))},{priority:"lowest"})}observe(){}}class mp extends Xe{static get pluginName(){return"Input"}init(){const i=this.editor,o=i.model,l=i.editing.view,h=o.document.selection;l.addObserver(fp);const v=new e_(i,i.config.get("typing.undoStep")||20);i.commands.add("insertText",v),i.commands.add("input",v),this.listenTo(l.document,"insertText",(b,C)=>{l.document.isComposing||C.preventDefault();const{text:a,selection:c,resultRange:u}=C,p=Array.from(c.getRanges()).map(A=>i.editing.mapper.toModelRange(A));let _=a;if(U.isAndroid){const A=Array.from(p[0].getItems()).reduce((S,E)=>S+(E.is("$textProxy")?E.data:""),"");A&&(A.length<=_.length?_.startsWith(A)&&(_=_.substring(A.length),p[0].start=p[0].start.getShiftedBy(A.length)):A.startsWith(_)&&(p[0].start=p[0].start.getShiftedBy(_.length),_=""))}const y={text:_,selection:o.createSelection(p)};u&&(y.resultRange=i.editing.mapper.toModelRange(u)),i.execute("insertText",y)}),U.isAndroid?this.listenTo(l.document,"keydown",(b,C)=>{!h.isCollapsed&&229==C.keyCode&&l.document.isComposing&&hf(o,v)}):this.listenTo(l.document,"compositionstart",()=>{h.isCollapsed||hf(o,v)})}}function hf(f,i){if(!i.isEnabled)return;const o=i.buffer;o.lock(),f.enqueueChange(o.batch,()=>{f.deleteContent(f.document.selection)}),o.unlock()}class t_ extends on{constructor(i,o){super(i),this.direction=o,this._buffer=new C4(i.model,i.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(i={}){const o=this.editor.model,l=o.document;o.enqueueChange(this._buffer.batch,h=>{this._buffer.lock();const v=h.createSelection(i.selection||l.selection),b=i.sequence||1,C=v.isCollapsed;if(v.isCollapsed&&o.modifySelection(v,{direction:this.direction,unit:i.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(b))return void this._replaceEntireContentWithParagraph(h);if(this._shouldReplaceFirstBlockWithParagraph(v,b))return void this.editor.execute("paragraph",{selection:v});if(v.isCollapsed)return;let a=0;v.getFirstRange().getMinimalFlatRanges().forEach(c=>{a+=Xi(c.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(v,{doNotResetEntireContent:C,direction:this.direction}),this._buffer.input(a),h.setSelection(v),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const o=this.editor.model,l=o.document.selection,h=o.schema.getLimitElement(l);if(!l.isCollapsed||!l.containsEntireContent(h)||!o.schema.checkChild(h,"paragraph"))return!1;const v=h.getChild(0);return!v||!v.is("element","paragraph")}_replaceEntireContentWithParagraph(i){const o=this.editor.model,h=o.schema.getLimitElement(o.document.selection),v=i.createElement("paragraph");i.remove(i.createRangeIn(h)),i.insert(v,h),i.setSelection(v,0)}_shouldReplaceFirstBlockWithParagraph(i,o){const l=this.editor.model;if(o>1||"backward"!=this.direction||!i.isCollapsed)return!1;const h=i.getFirstPosition(),v=l.schema.getLimitElement(h),b=v.getChild(0);return h.parent==b&&!!i.containsEntireContent(b)&&!!l.schema.checkChild(v,"paragraph")&&"paragraph"!=b.name}}const B2="selection",ws="backward",Cd="forward",pp={deleteContent:{unit:B2,direction:ws},deleteContentBackward:{unit:"codePoint",direction:ws},deleteWordBackward:{unit:"word",direction:ws},deleteHardLineBackward:{unit:B2,direction:ws},deleteSoftLineBackward:{unit:B2,direction:ws},deleteContentForward:{unit:"character",direction:Cd},deleteWordForward:{unit:"word",direction:Cd},deleteHardLineForward:{unit:B2,direction:Cd},deleteSoftLineForward:{unit:B2,direction:Cd}};class j2 extends H1{constructor(i){super(i);const o=i.document;let l=0;o.on("keydown",()=>{l++}),o.on("keyup",()=>{l=0}),o.on("beforeinput",(h,v)=>{if(!this.isEnabled)return;const{targetRanges:b,domEvent:C,inputType:a}=v,c=pp[a];if(!c)return;const u={direction:c.direction,unit:c.unit,sequence:l};u.unit==B2&&(u.selectionToRemove=i.createSelection(b[0])),U.isAndroid&&"deleteContentBackward"===a&&(u.sequence=1,1!=b.length||b[0].start.parent==b[0].end.parent&&b[0].start.offset+1==b[0].end.offset||(u.unit=B2,u.selectionToRemove=i.createSelection(b)));const p=new z2(o,"delete",b[0]);o.fire(p,new q0(i,C,u)),p.stop.called&&h.stop()}),U.isBlink&&function(h){const v=h.view,b=v.document;let C=null,a=!1;function c(p){return p==Cn.backspace||p==Cn.delete}function u(p){return p==Cn.backspace?ws:Cd}b.on("keydown",(p,{keyCode:_})=>{C=_,a=!1}),b.on("keyup",(p,{keyCode:_,domEvent:y})=>{const A=b.selection,S=h.isEnabled&&_==C&&c(_)&&!A.isCollapsed&&!a;if(C=null,S){const E=A.getFirstRange(),T=new z2(b,"delete",E),V={unit:B2,direction:u(_),selectionToRemove:A};b.fire(T,new q0(v,y,V))}}),b.on("beforeinput",(p,{inputType:_})=>{const y=pp[_];c(C)&&y&&y.direction==u(C)&&(a=!0)},{priority:"high"}),b.on("beforeinput",(p,{inputType:_,data:y})=>{C==Cn.delete&&"insertText"==_&&"\x7f"==y&&p.stop()},{priority:"high"})}(this)}observe(){}}class io extends Xe{static get pluginName(){return"Delete"}init(){const i=this.editor,o=i.editing.view,l=o.document,h=i.model.document;o.addObserver(j2),this._undoOnBackspace=!1;const v=new t_(i,"forward");i.commands.add("deleteForward",v),i.commands.add("forwardDelete",v),i.commands.add("delete",new t_(i,"backward")),this.listenTo(l,"delete",(b,C)=>{l.isComposing||C.preventDefault();const{direction:a,sequence:c,selectionToRemove:u,unit:p}=C,_="forward"===a?"deleteForward":"delete",y={sequence:c};if("selection"==p){const A=Array.from(u.getRanges()).map(S=>i.editing.mapper.toModelRange(S));y.selection=i.model.createSelection(A)}else y.unit=p;i.execute(_,y),o.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(l,"delete",(b,C)=>{this._undoOnBackspace&&"backward"==C.direction&&1==C.sequence&&"codePoint"==C.unit&&(this._undoOnBackspace=!1,i.execute("undo"),C.preventDefault(),b.stop())},{context:"$capture"}),this.listenTo(h,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class f1 extends Xe{static get requires(){return[mp,io]}static get pluginName(){return"Typing"}}function wd(f,i){let o=f.start;return{text:Array.from(f.getItems()).reduce((l,h)=>h.is("$text")||h.is("$textProxy")?l+h.data:(o=i.createPositionAfter(h),""),""),range:i.createRange(o,f.end)}}class Ha extends(Gt()){constructor(i,o){super(),this.model=i,this.testCallback=o,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(o,{directChange:l})=>{l&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(i,"change:data",(o,l)=>{!l.isUndo&&l.isLocal&&this._evaluateTextBeforeSelection("data",{batch:l})})}_evaluateTextBeforeSelection(i,o={}){const l=this.model,h=l.document.selection,v=l.createRange(l.createPositionAt(h.focus.parent,0),h.focus),{text:b,range:C}=wd(v,l),a=this.testCallback(b);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const c=Object.assign(o,{text:b,range:C});"object"==typeof a&&Object.assign(c,a),this.fire(`matched:${i}`,c)}}}class w4 extends Xe{static get pluginName(){return"TwoStepCaretMovement"}constructor(i){super(i),this.attributes=new Set,this._overrideUid=null}init(){const i=this.editor,h=i.locale,v=i.model.document.selection;this.listenTo(i.editing.view.document,"arrowKey",(b,C)=>{if(!v.isCollapsed||C.shiftKey||C.altKey||C.ctrlKey)return;const a=C.keyCode==Cn.arrowright,c=C.keyCode==Cn.arrowleft;if(!a&&!c)return;const u=h.contentLanguageDirection;let p=!1;p="ltr"===u&&a||"rtl"===u&&c?this._handleForwardMovement(C):this._handleBackwardMovement(C),!0===p&&b.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(v,"change:range",(b,C)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!C.directChange&&Fs(v.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(i){this.attributes.add(i)}_handleForwardMovement(i){const o=this.attributes,l=this.editor.model.document.selection,h=l.getFirstPosition();return!(this._isGravityOverridden||h.isAtStart&&D8(l,o)||!Fs(h,o)||(I8(i),this._overrideGravity(),0))}_handleBackwardMovement(i){const o=this.attributes,l=this.editor.model,h=l.document.selection,v=h.getFirstPosition();return this._isGravityOverridden?(I8(i),this._restoreGravity(),z8(l,o,v),!0):v.isAtStart?!!D8(h,o)&&(I8(i),z8(l,o,v),!0):(C=o,!(!Fs(v.getShiftedBy(-1),C)||(v.isAtEnd&&!D8(h,o)&&Fs(v,o)?(I8(i),z8(l,o,v),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var C}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(i=>i.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function D8(f,i){for(const o of i)if(f.hasAttribute(o))return!0;return!1}function z8(f,i,o){const l=o.nodeBefore;f.change(h=>{l?h.setSelectionAttribute(l.getAttributes()):h.removeSelectionAttribute(i)})}function I8(f){f.preventDefault()}function Fs(f,i){const{nodeBefore:o,nodeAfter:l}=f;for(const h of i){const v=o?o.getAttribute(h):void 0;if((l?l.getAttribute(h):void 0)!==v)return!0}return!1}var k4=/[\\^$.*+?()[\]{}|]/g,n_=RegExp(k4.source);const kd=function(f){return(f=Ca(f))&&n_.test(f)?f.replace(k4,"\\$&"):f},ff={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Pa('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Pa("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Pa("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Pa('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Pa('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Pa("'"),to:[null,"\u201a",null,"\u2019"]}},T8={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},mf=["symbols","mathematical","typography","quotes"];function L8(f){return"string"==typeof f?new RegExp(`(${kd(f)})$`):f}function m6(f){return"string"==typeof f?()=>[f]:f instanceof Array?()=>f:f}function i_(f){return(f.textNode?f.textNode:f.nodeAfter).getAttributes()}function Pa(f){return new RegExp(`(^|\\s)(${f})([^${f}]*)(${f})$`)}function A4(f,i,o,l){return l.createRange(N8(f,i,o,!0,l),N8(f,i,o,!1,l))}function N8(f,i,o,l,h){let v=f.textNode||(l?f.nodeBefore:f.nodeAfter),b=null;for(;v&&v.getAttribute(i)==o;)b=v,v=l?v.previousSibling:v.nextSibling;return b?h.createPositionAt(b,l?"before":"after"):f}function*M4(f,i){for(const o of i)o&&f.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class V8 extends on{execute(){this.editor.model.change(i=>{this.enterBlock(i),this.fire("afterExecute",{writer:i})})}enterBlock(i){const o=this.editor.model,l=o.document.selection,h=o.schema,v=l.isCollapsed,b=l.getFirstRange(),C=b.start.parent,a=b.end.parent;if(h.isLimit(C)||h.isLimit(a))return v||C!=a||o.deleteContent(l),!1;if(v){const c=M4(i.model.schema,l.getAttributes());return H8(i,b.start),i.setSelectionAttribute(c),!0}{const c=!(b.start.isAtStart&&b.end.isAtEnd),u=C==a;if(o.deleteContent(l,{leaveUnmerged:c}),c){if(u)return H8(i,l.focus),!0;i.setSelection(a,0)}}return!1}}function H8(f,i){f.split(i),f.setSelection(i.parent.nextSibling,0)}const pf={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class P8 extends H1{constructor(i){super(i);const o=this.document;o.on("beforeinput",(l,h)=>{if(!this.isEnabled)return;const v=h.domEvent,b=pf[h.inputType];if(!b)return;const C=new z2(o,"enter",h.targetRanges[0]);o.fire(C,new q0(i,v,{isSoft:b.isSoft})),C.stop.called&&l.stop()})}observe(){}}class Ad extends Xe{static get pluginName(){return"Enter"}init(){const i=this.editor,o=i.editing.view,l=o.document;o.addObserver(P8),i.commands.add("enter",new V8(i)),this.listenTo(l,"enter",(h,v)=>{l.isComposing||v.preventDefault(),v.isSoft||(i.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class p6 extends on{execute(){const i=this.editor.model,o=i.document;i.change(l=>{(function(h,v,b){const C=b.isCollapsed,a=b.getFirstRange(),u=a.end.parent,p=a.start.parent==u;if(C){const _=M4(h.schema,b.getAttributes());g6(h,v,a.end),v.removeSelectionAttribute(b.getAttributeKeys()),v.setSelectionAttribute(_)}else{const _=!(a.start.isAtStart&&a.end.isAtEnd);h.deleteContent(b,{leaveUnmerged:_}),p?g6(h,v,b.focus):_&&v.setSelection(u,0)}})(i,l,o.selection),this.fire("afterExecute",{writer:l})})}refresh(){const i=this.editor.model;this.isEnabled=function(l,h){if(h.rangeCount>1)return!1;const v=h.anchor;if(!v||!l.checkChild(v,"softBreak"))return!1;const b=h.getFirstRange(),C=b.start.parent,a=b.end.parent;return!((v6(C,l)||v6(a,l))&&C!==a)}(i.schema,i.document.selection)}}function g6(f,i,o){const l=i.createElement("softBreak");f.insertContent(l,o),i.setSelection(l,"after")}function v6(f,i){return!f.is("rootElement")&&(i.isLimit(f)||v6(f.parent,i))}class gp extends Xe{static get pluginName(){return"ShiftEnter"}init(){const i=this.editor,l=i.conversion,h=i.editing.view,v=h.document;i.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),l.for("upcast").elementToElement({model:"softBreak",view:"br"}),l.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:C})=>C.createEmptyElement("br")}),h.addObserver(P8),i.commands.add("shiftEnter",new p6(i)),this.listenTo(v,"enter",(b,C)=>{v.isComposing||C.preventDefault(),C.isSoft&&(i.execute("shiftEnter"),h.scrollToTheSelection())},{priority:"low"})}}class r_ extends(pe()){constructor(){super(),this._stack=[]}add(i,o){const l=this._stack,h=l[0];this._insertDescriptor(i);const v=l[0];h===v||Md(h,v)||this.fire("change:top",{oldDescriptor:h,newDescriptor:v,writer:o})}remove(i,o){const l=this._stack,h=l[0];this._removeDescriptor(i);const v=l[0];h===v||Md(h,v)||this.fire("change:top",{oldDescriptor:h,newDescriptor:v,writer:o})}_insertDescriptor(i){const o=this._stack,l=o.findIndex(v=>v.id===i.id);if(Md(i,o[l]))return;l>-1&&o.splice(l,1);let h=0;for(;o[h]&&vp(o[h],i);)h++;o.splice(h,0,i)}_removeDescriptor(i){const o=this._stack,l=o.findIndex(h=>h.id===i);l>-1&&o.splice(l,1)}}function Md(f,i){return f&&i&&f.priority==i.priority&&gf(f.classes)==gf(i.classes)}function vp(f,i){return f.priority>i.priority||!(f.priority<i.priority)&&gf(f.classes)>gf(i.classes)}function gf(f){return Array.isArray(f)?f.sort().join(","):f}const Ry='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',Oy="ck-widget",o_="ck-widget_selected";function zi(f){return!!f.is("element")&&!!f.getCustomProperty("widget")}function vf(f,i,o={}){if(!f.is("containerElement"))throw new q("widget-to-widget-wrong-element-type",null,{element:f});return i.setAttribute("contenteditable","false",f),i.addClass(Oy,f),i.setCustomProperty("widget",!0,f),f.getFillerOffset=xd,i.setCustomProperty("widgetLabel",[],f),o.label&&(h=o.label,f.getCustomProperty("widgetLabel").push(h)),o.hasSelectionHandle&&function(l,h){const v=h.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(b){const C=this.toDomElement(b),a=new D3;return a.set("content",Ry),a.render(),C.appendChild(a.element),C});h.insert(h.createPositionAt(l,0),v),h.addClass(["ck-widget_with-selection-handle"],l)}(f,i),R8(f,i),f;var h}function s_(f,i,o){if(i.classes&&o.addClass($n(i.classes),f),i.attributes)for(const l in i.attributes)o.setAttribute(l,i.attributes[l],f)}function a_(f,i,o){if(i.classes&&o.removeClass($n(i.classes),f),i.attributes)for(const l in i.attributes)o.removeAttribute(l,f)}function R8(f,i,o=s_,l=a_){const h=new r_;h.on("change:top",(v,b)=>{b.oldDescriptor&&l(f,b.oldDescriptor,b.writer),b.newDescriptor&&o(f,b.newDescriptor,b.writer)}),i.setCustomProperty("addHighlight",(v,b,C)=>h.add(b,C),f),i.setCustomProperty("removeHighlight",(v,b,C)=>h.remove(b,C),f)}function m1(f,i,o={}){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],f),i.setAttribute("role","textbox",f),o.label&&i.setAttribute("aria-label",o.label,f),i.setAttribute("contenteditable",f.isReadOnly?"false":"true",f),f.on("change:isReadOnly",(l,h,v)=>{i.setAttribute("contenteditable",v?"false":"true",f)}),f.on("change:isFocused",(l,h,v)=>{v?i.addClass("ck-editor__nested-editable_focused",f):i.removeClass("ck-editor__nested-editable_focused",f)}),R8(f,i),f}function _f(f,i){const o=f.getSelectedElement();if(o){const l=U2(f);if(l)return i.createRange(i.createPositionAt(o,l))}return tf(f,i)}function xd(){return null}const Pc="widget-type-around";function x4(f,i,o){return!!f&&zi(f)&&!o.isInline(i)}function U2(f){return f.getAttribute(Pc)}var _6=se(4921);Et()(_6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const bf=["before","after"],S4=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,E4="ck-widget__type-around_disabled";class bp extends Xe{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Ad,io]}constructor(i){super(i),this._currentFakeCaretModelElement=null}init(){const i=this.editor,o=i.editing.view;this.on("change:isEnabled",(l,h,v)=>{o.change(b=>{for(const C of o.document.roots)v?b.removeClass(E4,C):b.addClass(E4,C)}),v||i.model.change(b=>{b.removeSelectionAttribute(Pc)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(i,o){const l=this.editor,h=l.editing.view,v=l.model.schema.getAttributesWithProperty(i,"copyOnReplace",!0);l.execute("insertParagraph",{position:l.model.createPositionAt(i,o),attributes:v}),h.focus(),h.scrollToTheSelection()}_listenToIfEnabled(i,o,l,h){this.listenTo(i,o,(...v)=>{this.isEnabled&&l(...v)},h)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,o=U2(i);if(!o)return!1;const l=i.getSelectedElement();return this._insertParagraph(l,o),!0}_enableTypeAroundUIInjection(){const i=this.editor,o=i.model.schema,l=i.locale.t,h={before:l("Insert paragraph before block"),after:l("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",(v,b,C)=>{const a=C.mapper.toViewElement(b.item);a&&x4(a,b.item,o)&&(function(c,u,p){const _=c.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(y){const A=this.toDomElement(y);return function(S,E){for(const T of bf){const V=new Qr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${T}`],title:E[T],"aria-hidden":"true"},children:[S.ownerDocument.importNode(S4,!0)]});S.appendChild(V.render())}}(A,u),function(S){const E=new Qr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});S.appendChild(E.render())}(A),A});c.insert(c.createPositionAt(p,"end"),_)}(C.writer,h,a),a.getCustomProperty("widgetLabel").push(()=>this.isEnabled?l("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const i=this.editor,o=i.model,l=o.document.selection,h=o.schema;function b(C){return`ck-widget_type-around_show-fake-caret_${C}`}this._listenToIfEnabled(i.editing.view.document,"arrowKey",(C,a)=>{this._handleArrowKeyPress(C,a)},{context:[zi,"$text"],priority:"high"}),this._listenToIfEnabled(l,"change:range",(C,a)=>{a.directChange&&i.model.change(c=>{c.removeSelectionAttribute(Pc)})}),this._listenToIfEnabled(o.document,"change:data",()=>{const C=l.getSelectedElement();C&&x4(i.editing.mapper.toViewElement(C),C,h)||i.model.change(a=>{a.removeSelectionAttribute(Pc)})}),this._listenToIfEnabled(i.editing.downcastDispatcher,"selection",(C,a,c)=>{const u=c.writer;if(this._currentFakeCaretModelElement){const A=c.mapper.toViewElement(this._currentFakeCaretModelElement);A&&(u.removeClass(bf.map(b),A),this._currentFakeCaretModelElement=null)}const p=a.selection.getSelectedElement();if(!p)return;const _=c.mapper.toViewElement(p);if(!x4(_,p,h))return;const y=U2(a.selection);y&&(u.addClass(b(y),_),this._currentFakeCaretModelElement=p)}),this._listenToIfEnabled(i.ui.focusTracker,"change:isFocused",(C,a,c)=>{c||i.model.change(u=>{u.removeSelectionAttribute(Pc)})})}_handleArrowKeyPress(i,o){const l=this.editor,h=l.model,v=h.document.selection,b=h.schema,C=l.editing.view,a=function(p,_){const y=Vo(p,_);return"down"===y||"right"===y}(o.keyCode,l.locale.contentLanguageDirection),c=C.document.selection.getSelectedElement();let u;x4(c,l.editing.mapper.toModelElement(c),b)?u=this._handleArrowKeyPressOnSelectedWidget(a):v.isCollapsed?u=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):o.shiftKey||(u=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),u&&(o.preventDefault(),i.stop())}_handleArrowKeyPressOnSelectedWidget(i){const o=this.editor.model,l=U2(o.document.selection);return o.change(h=>l?l!==(i?"after":"before")&&(h.removeSelectionAttribute(Pc),!0):(h.setSelectionAttribute(Pc,i?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(i){const o=this.editor,l=o.model,h=l.schema,v=o.plugins.get("Widget"),b=v._getObjectElementNextToSelection(i);return!!x4(o.editing.mapper.toViewElement(b),b,h)&&(l.change(C=>{v._setSelectionOverElement(b),C.setSelectionAttribute(Pc,i?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(i){const o=this.editor,l=o.model,h=l.schema,v=o.editing.mapper,b=l.document.selection,C=i?b.getLastPosition().nodeBefore:b.getFirstPosition().nodeAfter;return!!x4(v.toViewElement(C),C,h)&&(l.change(a=>{a.setSelection(C,"on"),a.setSelectionAttribute(Pc,i?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,o=i.editing.view;this._listenToIfEnabled(o.document,"mousedown",(l,h)=>{const v=h.domTarget.closest(".ck-widget__type-around__button");if(!v)return;const b=v.classList.contains("ck-widget__type-around__button_before")?"before":"after",C=function(c,u){const p=c.closest(".ck-widget");return u.mapDomToView(p)}(v,o.domConverter),a=i.editing.mapper.toModelElement(C);this._insertParagraph(a,b),h.preventDefault(),l.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const i=this.editor,o=i.model.document.selection;this._listenToIfEnabled(i.editing.view.document,"enter",(h,v)=>{if("atTarget"!=h.eventPhase)return;const b=o.getSelectedElement(),C=i.editing.mapper.toViewElement(b),a=i.model.schema;let c;this._insertParagraphAccordingToFakeCaretPosition()?c=!0:x4(C,b,a)&&(this._insertParagraph(b,v.isSoft?"before":"after"),c=!0),c&&(v.preventDefault(),h.stop())},{context:zi})}_enableInsertingParagraphsOnTypingKeystroke(){const i=this.editor.editing.view.document;this._listenToIfEnabled(i,"insertText",(o,l)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(l.selection=i.selection)},{priority:"high"}),U.isAndroid?this._listenToIfEnabled(i,"keydown",(o,l)=>{229==l.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(i,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const i=this.editor,l=i.model,h=l.schema;this._listenToIfEnabled(i.editing.view.document,"delete",(v,b)=>{if("atTarget"!=v.eventPhase)return;const C=U2(l.document.selection);if(!C)return;const a=b.direction,c=l.document.selection.getSelectedElement(),u="forward"==a;if("before"===C===u)i.execute("delete",{selection:l.createSelection(c,"on")});else{const p=h.getNearestSelectionRange(l.createPositionAt(c,C),a);if(p)if(p.isCollapsed){const _=l.createSelection(p.start);if(l.modifySelection(_,{direction:a}),_.focus.isEqual(p.start)){const y=function(A,S){let E=S;for(const T of S.getAncestors({parentFirst:!0})){if(T.childCount>1||A.isLimit(T))break;E=T}return E}(h,p.start.parent);l.deleteContent(l.createSelection(y,"on"),{doNotAutoparagraph:!0})}else l.change(y=>{y.setSelection(p),i.execute(u?"deleteForward":"delete")})}else l.change(_=>{_.setSelection(p),i.execute(u?"deleteForward":"delete")})}b.preventDefault(),v.stop()},{context:zi})}_enableInsertContentIntegration(){const o=this.editor.model,l=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(h,[v,b])=>{if(b&&!b.is("documentSelection"))return;const C=U2(l);return C?(h.stop(),o.change(a=>{const c=l.getSelectedElement(),u=o.createPositionAt(c,C),p=a.createSelection(u),_=o.insertContent(v,p);return a.setSelection(p),_})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const o=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(l,h)=>{const[,v,,b={}]=h;if(v&&!v.is("documentSelection"))return;const C=U2(o);C&&(b.findOptimalPosition=C,h[3]=b)},{priority:"high"})}_enableDeleteContentIntegration(){const o=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(l,[h])=>{h&&!h.is("documentSelection")||U2(o)&&l.stop()},{priority:"high"})}}function D4(f,i,o){const l=f.schema,h=f.createRangeIn(i.root),v="forward"==o?"elementStart":"elementEnd";for(const{previousPosition:b,item:C,type:a}of h.getWalker({startPosition:i,direction:o})){if(l.isLimit(C)&&!l.isInline(C))return b;if(a==v&&l.isBlock(C))return null}return null}function tl(f,i,o){const l="backward"==o?i.end:i.start;if(f.checkChild(l,"$text"))return l;for(const{nextPosition:h}of i.getWalker({direction:o}))if(f.checkChild(h,"$text"))return h;return null}var O8=se(3488);Et()(O8.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Sd extends Xe{static get pluginName(){return"Widget"}static get requires(){return[bp,io]}init(){const i=this.editor,o=i.editing.view,l=o.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(h,v,b)=>{const C=b.writer,a=v.selection;if(a.isCollapsed)return;const c=a.getSelectedElement();if(!c)return;const u=i.editing.mapper.toViewElement(c);var p;zi(u)&&b.consumable.consume(a,"selection")&&C.setSelection(C.createRangeOn(u),{fake:!0,label:(p=u,p.getCustomProperty("widgetLabel").reduce((_,y)=>"function"==typeof y?_?_+". "+y():y():_?_+". "+y:y,""))})}),this.editor.editing.downcastDispatcher.on("selection",(h,v,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const C=b.writer,a=C.document.selection;let c=null;for(const u of a.getRanges())for(const p of u){const _=p.item;zi(_)&&!c_(_,c)&&(C.addClass(o_,_),this._previouslySelected.add(_),c=_)}},{priority:"low"}),o.addObserver(f4),this.listenTo(l,"mousedown",(...h)=>this._onMousedown(...h)),this.listenTo(l,"arrowKey",(...h)=>{this._handleSelectionChangeOnArrowKeyPress(...h)},{context:[zi,"$text"]}),this.listenTo(l,"arrowKey",(...h)=>{this._preventDefaultOnArrowKeyPress(...h)},{context:"$root"}),this.listenTo(l,"arrowKey",function yp(f){const i=f.model;return(o,l)=>{const v=l.keyCode==Cn.arrowdown,b=l.shiftKey,C=i.document.selection;if(l.keyCode!=Cn.arrowup&&!v)return;const a=v;if(b&&!(u=C).isCollapsed&&u.isBackward==a)return;var u;const c=function(u,p,_){const y=u.model;if(_){const A=p.isCollapsed?p.focus:p.getLastPosition(),S=D4(y,A,"forward");if(!S)return null;const E=y.createRange(A,S),T=tl(y.schema,E,"backward");return T?y.createRange(A,T):null}{const A=p.isCollapsed?p.focus:p.getFirstPosition(),S=D4(y,A,"backward");if(!S)return null;const E=y.createRange(S,A),T=tl(y.schema,E,"forward");return T?y.createRange(T,A):null}}(f,C,a);if(c){if(c.isCollapsed&&(C.isCollapsed||b))return;(c.isCollapsed||function(u,p,_){const y=u.model,A=u.view.domConverter;if(_){const B=y.createSelection(p.start);y.modifySelection(B),B.focus.isAtEnd||p.start.isEqual(B.focus)||(p=y.createRange(B.focus,p.end))}const S=u.mapper.toViewRange(p),E=A.viewRangeToDom(S),T=Jn.getDomRangeRects(E);let V;for(const B of T)if(void 0!==V){if(Math.round(B.top)>=V)return!1;V=Math.max(V,Math.round(B.bottom))}else V=Math.round(B.bottom);return!0}(f,c,a))&&(i.change(u=>{const p=a?c.end:c.start;if(b){const _=i.createSelection(C.anchor);_.setFocus(p),u.setSelection(_)}else u.setSelection(p)}),o.stop(),l.preventDefault(),l.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(l,"delete",(h,v)=>{this._handleDelete("forward"==v.direction)&&(v.preventDefault(),h.stop())},{context:"$root"})}_onMousedown(i,o){const l=this.editor,h=l.editing.view,v=h.document;let b=o.target;if(function(a){let c=a;for(;c;){if(c.is("editableElement")&&!c.is("rootElement"))return!0;if(zi(c))return!1;c=c.parent}return!1}(b)){if((U.isSafari||U.isGecko)&&o.domEvent.detail>=3){const a=l.editing.mapper,c=b.is("attributeElement")?b.findAncestor(p=>!p.is("attributeElement")):b,u=a.toModelElement(c);o.preventDefault(),this.editor.model.change(p=>{p.setSelection(u,"in")})}return}if(!zi(b)&&(b=b.findAncestor(zi),!b))return;U.isAndroid&&o.preventDefault(),v.isFocused||h.focus();const C=l.editing.mapper.toModelElement(b);this._setSelectionOverElement(C)}_handleSelectionChangeOnArrowKeyPress(i,o){const l=o.keyCode,h=this.editor.model,v=h.schema,b=h.document.selection,C=b.getSelectedElement(),a=Vo(l,this.editor.locale.contentLanguageDirection),c="down"==a||"right"==a,u="up"==a||"down"==a;if(C&&v.isObject(C)){const _=c?b.getLastPosition():b.getFirstPosition(),y=v.getNearestSelectionRange(_,c?"forward":"backward");return void(y&&(h.change(A=>{A.setSelection(y)}),o.preventDefault(),i.stop()))}if(!b.isCollapsed&&!o.shiftKey){const _=b.getFirstPosition(),y=b.getLastPosition(),A=_.nodeAfter,S=y.nodeBefore;return void((A&&v.isObject(A)||S&&v.isObject(S))&&(h.change(E=>{E.setSelection(c?y:_)}),o.preventDefault(),i.stop()))}if(!b.isCollapsed)return;const p=this._getObjectElementNextToSelection(c);if(p&&v.isObject(p)){if(v.isInline(p)&&u)return;this._setSelectionOverElement(p),o.preventDefault(),i.stop()}}_preventDefaultOnArrowKeyPress(i,o){const l=this.editor.model,h=l.schema,v=l.document.selection.getSelectedElement();v&&h.isObject(v)&&(o.preventDefault(),i.stop())}_handleDelete(i){if(this.editor.isReadOnly)return;const o=this.editor.model.document.selection;if(!o.isCollapsed)return;const l=this._getObjectElementNextToSelection(i);return l?(this.editor.model.change(h=>{let v=o.anchor.parent;for(;v.isEmpty;){const b=v;v=b.parent,h.remove(b)}this._setSelectionOverElement(l)}),!0):void 0}_setSelectionOverElement(i){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(i))})}_getObjectElementNextToSelection(i){const o=this.editor.model,l=o.schema,h=o.document.selection,v=o.createSelection(h);if(o.modifySelection(v,{direction:i?"forward":"backward"}),v.isEqual(h))return null;const b=i?v.focus.nodeBefore:v.focus.nodeAfter;return b&&l.isObject(b)?b:null}_clearPreviouslySelectedWidgets(i){for(const o of this._previouslySelected)i.removeClass(o_,o);this._previouslySelected.clear()}}function c_(f,i){return!!i&&Array.from(f.getAncestors()).includes(i)}class Rc extends Xe{static get requires(){return[_d]}static get pluginName(){return"WidgetToolbarRepository"}init(){const i=this.editor;if(i.plugins.has("BalloonToolbar")){const o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",l=>{(function(h){const v=h.getSelectedElement();return!(!v||!zi(v))})(i.editing.view.document.selection)&&l.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const i of this._toolbarDefinitions.values())i.view.destroy()}register(i,{ariaLabel:o,items:l,getRelatedElement:h,balloonClassName:v="ck-toolbar-container"}){if(!l.length)return void Fe("widget-toolbar-no-items",{toolbarId:i});const b=this.editor,C=b.t,a=new Ic(b.locale);if(a.ariaLabel=o||C("Widget toolbar"),this._toolbarDefinitions.has(i))throw new q("widget-toolbar-duplicated",this,{toolbarId:i});const c={view:a,getRelatedElement:h,balloonClassName:v,itemsConfig:l,initialized:!1};b.ui.addToolbar(a,{isContextual:!0,beforeFocus:()=>{const u=h(b.editing.view.document.selection);u&&this._showToolbar(c,u)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(i,c)}_updateToolbarsVisibility(){let i=0,o=null,l=null;for(const h of this._toolbarDefinitions.values()){const v=h.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&v)if(this.editor.ui.focusTracker.isFocused){const b=v.getAncestors().length;b>i&&(i=b,o=v,l=h)}else this._isToolbarVisible(h)&&this._hideToolbar(h);else this._isToolbarInBalloon(h)&&this._hideToolbar(h)}l&&this._showToolbar(l,o)}_hideToolbar(i){this._balloon.remove(i.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(i,o){this._isToolbarVisible(i)?l_(this.editor,o):this._isToolbarInBalloon(i)||(i.initialized||(i.initialized=!0,i.view.fillFromConfig(i.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:i.view,position:yf(this.editor,o),balloonClassName:i.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const l of this._toolbarDefinitions.values())if(this._isToolbarVisible(l)){const h=l.getRelatedElement(this.editor.editing.view.document.selection);l_(this.editor,h)}}))}_isToolbarVisible(i){return this._balloon.visibleView===i.view}_isToolbarInBalloon(i){return this._balloon.hasView(i.view)}}function l_(f,i){const o=f.plugins.get("ContextualBalloon"),l=yf(f,i);o.updatePosition(l)}function yf(f,i){const l=Vr.defaultPositions;return{target:f.editing.view.domConverter.mapViewToDom(i),positions:[l.northArrowSouth,l.northArrowSouthWest,l.northArrowSouthEast,l.southArrowNorth,l.southArrowNorthWest,l.southArrowNorthEast,l.viewportStickyNorth]}}class mk extends(Gt()){constructor(i){super(),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=i,this._referenceCoordinates=null}get originalWidth(){return this._originalWidth}get originalHeight(){return this._originalHeight}get originalWidthPercents(){return this._originalWidthPercents}get aspectRatio(){return this._aspectRatio}begin(i,o,l){const h=new Rect(o);this.activeHandlePosition=function(b){const C=["top-left","top-right","bottom-right","bottom-left"];for(const a of C)if(b.classList.contains(getResizerHandleClass(a)))return a}(i),this._referenceCoordinates=function(b,C){const a=new Rect(b),c=C.split("-"),u={x:"right"==c[1]?a.right:a.left,y:"bottom"==c[0]?a.bottom:a.top};return u.x+=b.ownerDocument.defaultView.scrollX,u.y+=b.ownerDocument.defaultView.scrollY,u}(o,function(b){const C=b.split("-"),a={top:"bottom",bottom:"top",left:"right",right:"left"};return`${a[C[0]]}-${a[C[1]]}`}(this.activeHandlePosition)),this._originalWidth=h.width,this._originalHeight=h.height,this._aspectRatio=h.width/h.height;const v=l.style.width;this._originalWidthPercents=v&&v.match(/^\d+(\.\d*)?%$/)?parseFloat(v):function(b,C){const a=b.parentElement,c=parseFloat(a.ownerDocument.defaultView.getComputedStyle(a).width);return C.width/c*100}(l,h)}update(i){this.proposedWidth=i.width,this.proposedHeight=i.height,this.proposedWidthPercents=i.widthPercents,this.proposedHandleHostWidth=i.handleHostWidth,this.proposedHandleHostHeight=i.handleHostHeight}}class Cf extends(Gt()){constructor(i){super(),this._options=i,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.set("isSelected",!1),this.bind("isVisible").to(this,"isEnabled",this,"isSelected",(o,l)=>o&&l),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",o=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),o.stop())},{priority:"high"})}get state(){return this._state}show(){this._options.editor.editing.view.change(i=>{i.removeClass("ck-hidden",this._viewResizerWrapper)})}hide(){this._options.editor.editing.view.change(i=>{i.addClass("ck-hidden",this._viewResizerWrapper)})}attach(){const i=this,o=this._options.viewElement;this._options.editor.editing.view.change(l=>{const h=l.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(v){const b=this.toDomElement(v);return i._appendHandles(b),i._appendSizeUI(b),b});l.insert(l.createPositionAt(o,"end"),h),l.addClass("ck-widget_with-resizer",o),this._viewResizerWrapper=h,this.isVisible||this.hide()}),this.on("change:isVisible",()=>{this.isVisible?(this.show(),this.redraw()):this.hide()})}begin(i){this._state=new ResizeState(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(i,this._getHandleHost(),this._getResizeHost())}updateSize(i){const o=this._proposeNewSize(i);this._options.editor.editing.view.change(a=>{const c=this._options.unit||"%";a.setStyle("width",("%"===c?o.widthPercents:o.width)+c,this._options.viewElement)});const l=this._getHandleHost(),h=new Rect(l),v=Math.round(h.width),b=Math.round(h.height),C=new Rect(l);o.width=Math.round(C.width),o.height=Math.round(C.height),this.redraw(h),this.state.update({...o,handleHostWidth:v,handleHostHeight:b})}commit(){const i=this._options.unit||"%",o=("%"===i?this.state.proposedWidthPercents:this.state.proposedWidth)+i;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(o)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(i){const o=this._domResizerWrapper;if(!(o&&l.ownerDocument&&l.ownerDocument.contains(l)))return;var l;const h=o.parentElement,v=this._getHandleHost(),b=this._viewResizerWrapper,C=[b.getStyle("width"),b.getStyle("height"),b.getStyle("left"),b.getStyle("top")];let a;h.isSameNode(v)&&(i||new Rect(v)),"same"!==compareArrays(C,a)&&this._options.editor.editing.view.change(c=>{c.setStyle({width:a[0],height:a[1],left:a[2],top:a[3]},b)})}containsHandle(i){return this._domResizerWrapper.contains(i)}static isResizeHandle(i){return i.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(i){const o=this.state,l_x=i.pageX,l_y=(void 0).pageY,v=!this._options.isCentered||this._options.isCentered(this),b={x:o._referenceCoordinates.x-(l_x+o.originalWidth),y:l_y-o.originalHeight-o._referenceCoordinates.y};v&&o.activeHandlePosition.endsWith("-right")&&(b.x=l_x-(o._referenceCoordinates.x+o.originalWidth)),v&&(b.x*=2);let C=Math.abs(o.originalWidth+b.x),a=Math.abs(o.originalHeight+b.y);return{width:Math.round(C),height:Math.round(a),widthPercents:Math.min(Math.round(o.originalWidthPercents/o.originalWidth*C*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(i){const o=["top-left","top-right","bottom-right","bottom-left"];for(const h of o)i.appendChild(new Template({tag:"div",attributes:{class:"ck-widget__resizer__handle ck-widget__resizer__handle-undefined"}}).render())}_appendSizeUI(i){this._sizeView=new SizeView,this._sizeView.render(),i.appendChild(this._sizeView.element)}}var b6=se(8506);Et()(b6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Cp=se(903);Et()(Cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class y6 extends Xe{static get pluginName(){return"DragDrop"}static get requires(){return[Va,Sd]}init(){const i=this.editor,o=i.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(f,i,o){var l=!0,h=!0;return $t(o)&&(l="leading"in o?!!o.leading:l,h="trailing"in o?!!o.trailing:h),Ea(f,40,{leading:l,maxWait:40,trailing:h})}(l=>this._updateDropMarker(l)),this._removeDropMarkerDelayed=zd(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=zd(()=>this._clearDraggableAttributes(),40),o.addObserver(E8),o.addObserver(f4),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(i,"change:isReadOnly",(l,h,v)=>{v?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(l,h,v)=>{v||this._finalizeDragging(!1)}),U.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const i=this.editor,o=i.model,l=o.document,h=i.editing.view,v=h.document;this.listenTo(v,"dragstart",(b,C)=>{const a=l.selection;if(C.target&&C.target.is("editableElement"))return void C.preventDefault();const c=C.target?$i(C.target):null;if(c){const _=i.editing.mapper.toModelElement(c);this._draggedRange=ys.fromRange(o.createRangeOn(_)),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!v.selection.isCollapsed){const _=v.selection.getSelectedElement();_&&zi(_)||(this._draggedRange=ys.fromRange(a.getFirstRange()))}if(!this._draggedRange)return void C.preventDefault();this._draggingUid=Ge(),C.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",C.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const u=o.createSelection(this._draggedRange.toRange()),p=i.data.toView(o.getSelectedContent(u));v.fire("clipboardOutput",{dataTransfer:C.dataTransfer,content:p,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(v,"dragend",(b,C)=>{this._finalizeDragging(!C.dataTransfer.isCanceled&&"move"==C.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(v,"dragenter",()=>{this.isEnabled&&h.focus()}),this.listenTo(v,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(v,"dragging",(b,C)=>{if(!this.isEnabled)return void(C.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const a=wp(i,C.targetRanges,C.target);this._draggedRange||(C.dataTransfer.dropEffect="copy"),U.isGecko||("copy"==C.dataTransfer.effectAllowed?C.dataTransfer.dropEffect="copy":["all","copyMove"].includes(C.dataTransfer.effectAllowed)&&(C.dataTransfer.dropEffect="move")),a&&this._updateDropMarkerThrottled(a)},{priority:"low"})}_setupClipboardInputIntegration(){const i=this.editor;this.listenTo(i.editing.view.document,"clipboardInput",(l,h)=>{if("drop"!=h.method)return;const v=wp(i,h.targetRanges,h.target);return this._removeDropMarker(),v?(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==Dd(h.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(v,!0)?(this._finalizeDragging(!1),void l.stop()):void(h.targetRanges=[i.editing.mapper.toViewRange(v)])):(this._finalizeDragging(!1),void l.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const i=this.editor.plugins.get(Va);i.on("contentInsertion",(o,l)=>{if(!this.isEnabled||"drop"!==l.method)return;const h=l.targetRanges.map(v=>this.editor.editing.mapper.toModelRange(v));this.editor.model.change(v=>v.setSelection(h))},{priority:"high"}),i.on("contentInsertion",(o,l)=>{if(!this.isEnabled||"drop"!==l.method)return;const h="move"==Dd(l.dataTransfer);this._finalizeDragging((!l.resultRange||!l.resultRange.isCollapsed)&&h)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const i=this.editor,o=i.editing.view,l=o.document;this.listenTo(l,"mousedown",(h,v)=>{if(U.isAndroid||!v)return;this._clearDraggableAttributesDelayed.cancel();let b=$i(v.target);if(U.isBlink&&!i.isReadOnly&&!b&&!l.selection.isCollapsed){const C=l.selection.getSelectedElement();C&&zi(C)||(b=l.selection.editableElement)}b&&(o.change(C=>{C.setAttribute("draggable","true",b)}),this._draggableElement=i.editing.mapper.toModelElement(b))}),this.listenTo(l,"mouseup",()=>{U.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const i=this.editor.editing;i.view.change(o=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&o.removeAttribute("draggable",i.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const i=this.editor;i.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),i.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:l})=>{if(i.model.schema.checkChild(o.markerRange.start,"$text"))return l.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(h){const v=this.toDomElement(h);return v.append("\u2060",h.createElement("span"),"\u2060"),v})}})}_updateDropMarker(i){const o=this.editor,l=o.model.markers;o.model.change(h=>{l.has("drop-target")?l.get("drop-target").getRange().isEqual(i)||h.updateMarker("drop-target",{range:i}):h.addMarker("drop-target",{range:i,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const i=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),i.markers.has("drop-target")&&i.change(o=>{o.removeMarker("drop-target")})}_finalizeDragging(i){const o=this.editor,l=o.model;this._removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(i&&this.isEnabled&&l.deleteContent(l.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function wp(f,i,o){const l=f.model,h=f.editing.mapper;let v=null;const b=i?i[0].start:null;if(o.is("uiElement")&&(o=o.parent),v=function(c,u){const p=c.model,_=c.editing.mapper;if(zi(u))return p.createRangeOn(_.toModelElement(u));if(!u.is("editableElement")){const y=u.findAncestor(A=>zi(A)||A.is("editableElement"));if(zi(y))return p.createRangeOn(_.toModelElement(y))}return null}(f,o),v)return v;const C=function(c,u){const p=c.editing.mapper,_=c.editing.view,y=p.toModelElement(u);if(y)return y;const A=_.createPositionBefore(u),S=p.findMappedViewAncestor(A);return p.toModelElement(S)}(f,o),a=b?h.toModelPosition(b):null;return a?(v=function(c,u,p){const _=c.model;if(!_.schema.checkChild(p,"$block"))return null;const y=_.createPositionAt(p,0),A=u.path.slice(0,y.path.length),E=_.createPositionFromPath(u.root,A).nodeAfter;return E&&_.schema.isObject(E)?_.createRangeOn(E):null}(f,a,C),v||(v=l.schema.getNearestSelectionRange(a,U.isGecko?"forward":"backward"),v||function(c,u){const p=c.model;let _=u;for(;_;){if(p.schema.isObject(_))return p.createRangeOn(_);_=_.parent}return null}(f,a.parent))):function(c,u){const p=c.model,_=p.schema,y=p.createPositionAt(u,0);return _.getNearestSelectionRange(y,"forward")}(f,C)}function Dd(f){return U.isGecko?f.dropEffect:["all","copyMove"].includes(f.effectAllowed)?"move":"copy"}function zd(f,i){let o;function l(...h){l.cancel(),o=setTimeout(()=>f(...h),i)}return l.cancel=()=>{clearTimeout(o)},l}function $i(f){if(f.is("editableElement"))return null;if(f.hasClass("ck-widget__selection-handle"))return f.findAncestor(zi);if(zi(f))return f;const i=f.findAncestor(o=>zi(o)||o.is("editableElement"));return zi(i)?i:null}class h_ extends Xe{static get pluginName(){return"PastePlainText"}static get requires(){return[Va]}init(){const i=this.editor,o=i.model,l=i.editing.view,h=l.document,v=o.document.selection;let b=!1;l.addObserver(E8),this.listenTo(h,"keydown",(C,a)=>{b=a.shiftKey}),i.plugins.get(Va).on("contentInsertion",(C,a)=>{(b||function(c,u){if(c.childCount>1)return!1;const p=c.getChild(0);return!u.isObject(p)&&0==Array.from(p.getAttributeKeys()).length}(a.content,o.schema))&&o.change(c=>{const u=Array.from(v.getAttributes()).filter(([_])=>o.schema.getAttributeProperties(_).isFormatting);v.isCollapsed||o.deleteContent(v,{doNotAutoparagraph:!0}),u.push(...v.getAttributes());const p=c.createRangeIn(a.content);for(const _ of p.getItems())_.is("$textProxy")&&c.setAttributes(u,_)})})}}class wf extends Xe{static get pluginName(){return"Clipboard"}static get requires(){return[Va,y6,h_]}}class F8 extends on{constructor(i){super(i),this.affectsData=!1}execute(){const i=this.editor.model,o=i.document.selection;let l=i.schema.getLimitElement(o);if(o.containsEntireContent(l)||!kf(i.schema,l))do{if(l=l.parent,!l)return}while(!kf(i.schema,l));i.change(h=>{h.setSelection(l,"in")})}}function kf(f,i){return f.isLimit(i)&&(f.checkChild(i,"$text")||f.checkChild(i,"paragraph"))}const B8=b2("Ctrl+A");class Id extends Xe{static get pluginName(){return"SelectAllEditing"}init(){const i=this.editor,o=i.editing.view.document;i.commands.add("selectAll",new F8(i)),this.listenTo(o,"keydown",(l,h)=>{Vs(h)===B8&&(i.execute("selectAll"),h.preventDefault())})}}class kp extends Xe{static get pluginName(){return"SelectAllUI"}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",o=>{const l=i.commands.get("selectAll"),h=new Wn(o);return h.set({label:(0,o.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),h.bind("isEnabled").to(l,"isEnabled"),this.listenTo(h,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),h})}}class Ap extends Xe{static get requires(){return[Id,kp]}static get pluginName(){return"SelectAll"}}class Mp extends on{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(i.data,"set",(o,l)=>{l[1]={...l[1]};const h=l[1];h.batchType||(h.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(i.data,"set",(o,l)=>{l[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(i){const o=this.editor.model.document.selection,l={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:i,selection:l}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,o,l){const h=this.editor.model,v=h.document,b=[],C=i.map(c=>c.getTransformedByOperations(l)),a=C.flat();for(const c of C){const u=c.filter(p=>p.root!=v.graveyard).filter(p=>!j8(p,a));u.length&&(f_(u),b.push(u[0]))}b.length&&h.change(c=>{c.setSelection(b,{backward:o})})}_undo(i,o){const l=this.editor.model,h=l.document;this._createdBatches.add(o);const v=i.operations.slice().filter(b=>b.isDocumentOperation);v.reverse();for(const b of v){const a=Array.from(h.history.getOperations(b.baseVersion+1)),c=qv([b.getReversed()],a,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const u of c)o.addOperation(u),l.applyOperation(u),h.history.setOperationAsUndone(b,u)}}}function f_(f){f.sort((i,o)=>i.start.isBefore(o.start)?-1:1);for(let i=1;i<f.length;i++){const o=f[i-1].getJoined(f[i],!0);o&&(i--,f.splice(i,2,o))}}function j8(f,i){return i.some(o=>o!==f&&o.containsRange(f,!0))}class C6 extends Mp{execute(i=null){const o=i?this._stack.findIndex(v=>v.batch==i):this._stack.length-1,l=this._stack.splice(o,1)[0],h=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(h,()=>{this._undo(l.batch,h);const v=this.editor.model.document.history.getOperations(l.batch.baseVersion);this._restoreSelection(l.selection.ranges,l.selection.isBackward,v),this.fire("revert",l.batch,h)}),this.refresh()}}class xp extends Mp{execute(){const i=this._stack.pop(),o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{const h=this.editor.model.document.history.getOperations(i.batch.operations[i.batch.operations.length-1].baseVersion+1);this._restoreSelection(i.selection.ranges,i.selection.isBackward,h),this._undo(i.batch,o)}),this.refresh()}}class U8 extends Xe{static get pluginName(){return"UndoEditing"}constructor(i){super(i),this._batchRegistry=new WeakSet}init(){const i=this.editor;this._undoCommand=new C6(i),this._redoCommand=new xp(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",(o,l)=>{const h=l[0];if(!h.isDocumentOperation)return;const v=h.batch,b=this._redoCommand._createdBatches.has(v),C=this._undoCommand._createdBatches.has(v);this._batchRegistry.has(v)||(this._batchRegistry.add(v),v.isUndoable&&(b?this._undoCommand.addBatch(v):C||(this._undoCommand.addBatch(v),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,l,h)=>{this._redoCommand.addBatch(h)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}const Td='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',w6='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class k6 extends Xe{static get pluginName(){return"UndoUI"}init(){const i=this.editor,o=i.locale,l=i.t,h="ltr"==o.uiLanguageDirection?Td:w6,v="ltr"==o.uiLanguageDirection?w6:Td;this._addButton("undo",l("Undo"),"CTRL+Z",h),this._addButton("redo",l("Redo"),"CTRL+Y",v)}_addButton(i,o,l,h){const v=this.editor;v.ui.componentFactory.add(i,b=>{const C=v.commands.get(i),a=new Wn(b);return a.set({label:o,icon:h,keystroke:l,tooltip:!0}),a.bind("isEnabled").to(C,"isEnabled"),this.listenTo(a,"execute",()=>{v.execute(i),v.editing.view.focus()}),a})}}class G8 extends Xe{static get requires(){return[U8,k6]}static get pluginName(){return"Undo"}}class Sp extends(Gt()){constructor(){super();const i=new window.FileReader;this._reader=i,this._data=void 0,this.set("loaded",0),i.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(i){const o=this._reader;return this.total=i.size,new Promise((l,h)=>{o.onload=()=>{const v=o.result;this._data=v,l(v)},o.onerror=()=>{h("error")},o.onabort=()=>{h("aborted")},this._reader.readAsDataURL(i)})}abort(){this._reader.abort()}}class Ra extends Xe{static get pluginName(){return"FileRepository"}static get requires(){return[or]}init(){this.loaders=new Wr,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,o)=>o?i/o*100:0)}getLoader(i){return this._loadersMap.get(i)||null}createLoader(i){if(!this.createUploadAdapter)return Fe("filerepository-no-upload-adapter"),null;const o=new A6(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(i,o),i instanceof Promise&&o.file.then(l=>{this._loadersMap.set(l,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let l=0;for(const h of this.loaders)l+=h.uploaded;this.uploaded=l}),o.on("change:uploadTotal",()=>{let l=0;for(const h of this.loaders)h.uploadTotal&&(l+=h.uploadTotal);this.uploadTotal=l}),o}destroyLoader(i){const o=i instanceof A6?i:this.getLoader(i);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((l,h)=>{l===o&&this._loadersMap.delete(h)})}_updatePendingAction(){const i=this.editor.plugins.get(or);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,l=h=>`${o("Upload in progress")} ${parseInt(h)}%.`;this._pendingAction=i.add(l(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",l)}}else i.remove(this._pendingAction),this._pendingAction=null}}class A6 extends(Gt()){constructor(i,o){super(),this.id=Ge(),this._filePromiseWrapper=this._createFilePromiseWrapper(i),this._adapter=o(this),this._reader=new Sp,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(l,h)=>h?l/h*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(i=>this._filePromiseWrapper?i:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new q("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(i=>this._reader.read(i)).then(i=>{if("reading"!==this.status)throw this.status;return this.status="idle",i}).catch(i=>{throw"aborted"===i?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:i)})}upload(){if("idle"!=this.status)throw new q("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(i=>(this.uploadResponse=i,this.status="idle",i)).catch(i=>{throw"aborted"===this.status?"aborted":(this.status="error",i)})}abort(){const i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==i?this._reader.abort():"uploading"==i&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(i){const o={};return o.promise=new Promise((l,h)=>{o.rejecter=h,o.isFulfilled=!1,i.then(v=>{o.isFulfilled=!0,l(v)}).catch(v=>{o.isFulfilled=!0,h(v)})}),o}}class Ld extends un{constructor(i){super(i),this.buttonView=new Wn(i),this._fileInputView=new m_(i),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class m_ extends un{constructor(i){super(i),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Af="ckCsrfToken",Mf="abcdefghijklmnopqrstuvwxyz0123456789";class zp{constructor(i,o,l){this.loader=i,this.url=o,this.t=l}upload(){return this.loader.file.then(i=>new Promise((o,l)=>{this._initRequest(),this._initListeners(o,l,i),this._sendRequest(i)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const i=this.xhr=new XMLHttpRequest;i.open("POST",this.url,!0),i.responseType="json"}_initListeners(i,o,l){const h=this.xhr,v=this.loader,b=(0,this.t)("Cannot upload file:")+` ${l.name}.`;h.addEventListener("error",()=>o(b)),h.addEventListener("abort",()=>o()),h.addEventListener("load",()=>{const C=h.response;if(!C||!C.uploaded)return o(C&&C.error&&C.error.message?C.error.message:b);i({default:C.url})}),h.upload&&h.upload.addEventListener("progress",C=>{C.lengthComputable&&(v.uploadTotal=C.total,v.uploaded=C.loaded)})}_sendRequest(i){const o=new FormData;o.append("upload",i),o.append("ckCsrfToken",function Dp(){let f=function(l){l=l.toLowerCase();const h=document.cookie.split(";");for(const v of h){const b=v.split("=");if(decodeURIComponent(b[0].trim().toLowerCase())===l)return decodeURIComponent(b[1])}return null}(Af);var o;return f&&40==f.length||(f=function(l){let h="";const v=new Uint8Array(40);window.crypto.getRandomValues(v);for(let b=0;b<v.length;b++){const C=Mf.charAt(v[b]%Mf.length);h+=Math.random()>.5?C.toUpperCase():C}return h}(),o=f,document.cookie=encodeURIComponent(Af)+"="+encodeURIComponent(o)+";path=/"),f}()),this.xhr.send(o)}}function nl(f,i,o,l){let h,v=null;"function"==typeof l?h=l:(v=f.commands.get(l),h=()=>{f.execute(l)}),f.model.document.on("change:data",(b,C)=>{if(v&&!v.isEnabled||!i.isEnabled)return;const a=gi(f.model.document.selection.getRanges());if(!a.isCollapsed||C.isUndo||!C.isLocal)return;const c=Array.from(f.model.document.differ.getChanges()),u=c[0];if(1!=c.length||"insert"!==u.type||"$text"!=u.name||1!=u.length)return;const p=u.position.parent;if(p.is("element","codeBlock")||p.is("element","listItem")&&"function"!=typeof l&&!["numberedList","bulletedList","todoList"].includes(l)||v&&!0===v.value)return;const _=p.getChild(0),y=f.model.createRangeOn(_);if(!y.containsRange(a)&&!a.end.isEqual(y.end))return;const A=o.exec(_.data.substr(0,a.end.offset));A&&f.model.enqueueChange(S=>{const E=S.createPositionAt(p,0),T=S.createPositionAt(p,A[0].length),V=new ys(E,T);if(!1!==h({match:A})){S.remove(V);const B=f.model.document.selection.getFirstRange(),X=S.createRangeIn(p);!p.isEmpty||X.isEqual(B)||X.containsRange(B,!0)||S.remove(p)}V.detach(),f.model.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})})})}function I4(f,i,o,l){let h,v;o instanceof RegExp?h=o:v=o,v=v||(b=>{let C;const a=[],c=[];for(;null!==(C=h.exec(b))&&!(C&&C.length<4);){let{index:u,1:p,2:_,3:y}=C;u+=C[0].length-(p+_+y).length;const E=[u+p.length+_.length,u+p.length+_.length+y.length];a.push([u,u+p.length]),a.push(E),c.push([u+p.length,u+p.length+_.length])}return{remove:a,format:c}}),f.model.document.on("change:data",(b,C)=>{if(C.isUndo||!C.isLocal||!i.isEnabled)return;const a=f.model,c=a.document.selection;if(!c.isCollapsed)return;const u=Array.from(a.document.differ.getChanges()),p=u[0];if(1!=u.length||"insert"!==p.type||"$text"!=p.name||1!=p.length)return;const _=c.focus,y=_.parent,{text:A,range:S}=function(B,X){let le=B.start;return{text:Array.from(B.getItems()).reduce((Oe,rt)=>!rt.is("$text")&&!rt.is("$textProxy")||rt.getAttribute("code")?(le=X.createPositionAfter(rt),""):Oe+rt.data,""),range:X.createRange(le,B.end)}}(a.createRange(a.createPositionAt(y,0),_),a),E=v(A),T=Ip(S.start,E.format,a),V=Ip(S.start,E.remove,a);T.length&&V.length&&a.enqueueChange(B=>{if(!1!==l(B,T)){for(const X of V.reverse())B.remove(X);a.enqueueChange(()=>{f.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Ip(f,i,o){return i.filter(l=>void 0!==l[0]&&void 0!==l[1]).map(l=>o.createRange(f.getShiftedBy(l[0]),f.getShiftedBy(l[1])))}function Nd(f,i){return(o,l)=>{if(!f.commands.get(i).isEnabled)return!1;const h=f.model.schema.getValidRanges(l,i);for(const v of h)o.setAttribute(i,!0,v);o.removeSelectionAttribute(i)}}class p_ extends on{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,l=o.document.selection,h=void 0===i.forceValue?!this.value:i.forceValue;o.change(v=>{if(l.isCollapsed)h?v.setSelectionAttribute(this.attributeKey,!0):v.removeSelectionAttribute(this.attributeKey);else{const b=o.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const C of b)h?v.setAttribute(this.attributeKey,h,C):v.removeAttribute(this.attributeKey,C)}})}_getValueFromFirstAllowedNode(){const i=this.editor.model,o=i.schema,l=i.document.selection;if(l.isCollapsed)return l.hasAttribute(this.attributeKey);for(const h of l.getRanges())for(const v of h.getItems())if(o.checkAttribute(v,this.attributeKey))return v.hasAttribute(this.attributeKey);return!1}}const M6="bold";class g_ extends Xe{static get pluginName(){return"BoldEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:M6}),i.model.schema.setAttributeProperties(M6,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:M6,view:"strong",upcastAlso:["b",o=>{const l=o.getStyle("font-weight");return l&&("bold"==l||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),i.commands.add(M6,new p_(i,M6)),i.keystrokes.set("CTRL+B",M6)}}const v_="bold";class xf extends Xe{static get pluginName(){return"BoldUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(v_,l=>{const h=i.commands.get(v_),v=new Wn(l);return v.set({label:o("Bold"),icon:di.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{i.execute(v_),i.editing.view.focus()}),v})}}const G2="italic";class __ extends Xe{static get pluginName(){return"ItalicEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:G2}),i.model.schema.setAttributeProperties(G2,{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:G2,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add(G2,new p_(i,G2)),i.keystrokes.set("CTRL+I",G2)}}const Sf="italic";class Tp extends Xe{static get pluginName(){return"ItalicUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add(Sf,l=>{const h=i.commands.get(Sf),v=new Wn(l);return v.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{i.execute(Sf),i.editing.view.focus()}),v})}}class Vd extends on{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,l=o.schema,v=Array.from(o.document.selection.getSelectedBlocks()),b=void 0===i.forceValue?!this.value:i.forceValue;o.change(C=>{if(b){const a=v.filter(c=>q8(c)||Ef(l,c));this._applyQuote(C,a)}else this._removeQuote(C,v.filter(q8))})}_getValue(){const i=gi(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!q8(i))}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,l=gi(this.editor.model.document.selection.getSelectedBlocks());return!!l&&Ef(o,l)}_removeQuote(i,o){Lp(i,o).reverse().forEach(l=>{if(l.start.isAtStart&&l.end.isAtEnd)return void i.unwrap(l.start.parent);if(l.start.isAtStart){const v=i.createPositionBefore(l.start.parent);return void i.move(l,v)}l.end.isAtEnd||i.split(l.end);const h=i.createPositionAfter(l.end.parent);i.move(l,h)})}_applyQuote(i,o){const l=[];Lp(i,o).reverse().forEach(h=>{let v=q8(h.start);v||(v=i.createElement("blockQuote"),i.wrap(h,v)),l.push(v)}),l.reverse().reduce((h,v)=>h.nextSibling==v?(i.merge(i.createPositionAfter(h)),h):v)}}function q8(f){return"blockQuote"==f.parent.name?f.parent:null}function Lp(f,i){let o,l=0;const h=[];for(;l<i.length;){const v=i[l],b=i[l+1];o||(o=f.createPositionBefore(v)),b&&v.nextSibling==b||(h.push(f.createRange(o,f.createPositionAfter(v))),o=null),l++}return h}function Ef(f,i){const o=f.checkChild(i.parent,"blockQuote"),l=f.checkChild(["$root","blockQuote"],i);return o&&l}class Df extends Xe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Ad,io]}init(){const i=this.editor,o=i.model.schema;i.commands.add("blockQuote",new Vd(i)),o.register("blockQuote",{inheritAllFrom:"$container"}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer(b=>{const C=i.model.document.differ.getChanges();for(const a of C)if("insert"==a.type){const c=a.position.nodeAfter;if(!c)continue;if(c.is("element","blockQuote")&&c.isEmpty)return b.remove(c),!0;if(c.is("element","blockQuote")&&!o.checkChild(a.position,c))return b.unwrap(c),!0;if(c.is("element")){const u=b.createRangeIn(c);for(const p of u.getItems())if(p.is("element","blockQuote")&&!o.checkChild(b.createPositionBefore(p),p))return b.unwrap(p),!0}}else if("remove"==a.type){const c=a.position.parent;if(c.is("element","blockQuote")&&c.isEmpty)return b.remove(c),!0}return!1});const l=this.editor.editing.view.document,h=i.model.document.selection,v=i.commands.get("blockQuote");this.listenTo(l,"enter",(b,C)=>{!h.isCollapsed||!v.value||h.getLastPosition().parent.isEmpty&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),C.preventDefault(),b.stop())},{context:"blockquote"}),this.listenTo(l,"delete",(b,C)=>{if("backward"!=C.direction||!h.isCollapsed||!v.value)return;const a=h.getLastPosition().parent;a.isEmpty&&!a.previousSibling&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),C.preventDefault(),b.stop())},{context:"blockquote"})}}var Np=se(3062);Et()(Np.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $8 extends Xe{static get pluginName(){return"BlockQuoteUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",l=>{const h=i.commands.get("blockQuote"),v=new Wn(l);return v.set({label:o("Block quote"),icon:di.quote,tooltip:!0,isToggleable:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),this.listenTo(v,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),v})}}class b_ extends Xe{static get pluginName(){return"CKBoxUI"}afterInit(){const i=this.editor;if(!i.commands.get("ckbox"))return;const o=i.t;i.ui.componentFactory.add("ckbox",l=>{const h=i.commands.get("ckbox"),v=new Wn(l);return v.set({label:o("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),v.bind("isOn","isEnabled").to(h,"value","isEnabled"),v.on("execute",()=>{i.execute("ckbox")}),v})}}const Vp=4e3,il=80,W8=10;function Z8({token:f,id:i,origin:o,width:l,extension:h}){const v=zf(f),b=function(a){const u=Math.floor(Math.max(a*W8/100,il)),p=[Math.min(a,Vp)];let _=p[0];for(;_-u>=u;)_-=u,p.unshift(_);return p}(l),C="bmp"===(a=h)||"tiff"===a||"jpg"===a?"jpeg":a;var a;return{imageFallbackUrl:If({environmentId:v,id:i,origin:o,width:l,extension:C}),imageSources:[{srcset:b.map(a=>`${If({environmentId:v,id:i,origin:o,width:a,extension:"webp"})} ${a}w`).join(","),sizes:`(max-width: ${l}px) 100vw, ${l}px`,type:"image/webp"}]}}function zf(f){const[,i]=f.value.split(".");return JSON.parse(atob(i)).aud}function If({environmentId:f,id:i,origin:o,width:l,extension:h}){return new URL(`${f}/assets/${i}/images/${l}.${h}`,o).toString()}class y_ extends on{constructor(i){super(i),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const i=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");return!(!i.isEnabled&&!o.isEnabled)}_prepareOptions(){const i=this.editor.config.get("ckbox");return{theme:i.theme,language:i.language,tokenUrl:i.tokenUrl,serviceOrigin:i.serviceOrigin,assetsOrigin:i.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:o=>this.fire("ckbox:choose",o)}}}_initListeners(){const i=this.editor,o=i.model,l=!i.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ni(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(h,v)=>{if(!this.isEnabled)return;const b=i.commands.get("insertImage"),C=i.commands.get("link"),a=i.plugins.get("CKBoxEditing"),c=function({assets:u,origin:p,token:_,isImageAllowed:y,isLinkAllowed:A}){return u.map(S=>({id:S.data.id,type:Pp(S)?"image":"link",attributes:Hp(S,_,p)})).filter(S=>"image"===S.type?y:A)}({assets:v,origin:i.config.get("ckbox.assetsOrigin"),token:a.getToken(),isImageAllowed:b.isEnabled,isLinkAllowed:C.isEnabled});0!==c.length&&o.change(u=>{for(const p of c)this._insertAsset(p,p===c[c.length-1],u),l&&(setTimeout(()=>this._chosenAssets.delete(p),1e3),this._chosenAssets.add(p))})}),this.listenTo(i,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(i,o,l){const h=this.editor.model.document.selection;l.removeSelectionAttribute("linkHref"),"image"===i.type?this._insertImage(i):this._insertLink(i,l),o||l.setSelection(h.getLastPosition())}_insertImage(i){const o=this.editor,{imageFallbackUrl:l,imageSources:h,imageTextAlternative:v}=i.attributes;o.execute("insertImage",{source:{src:l,sources:h,alt:v}})}_insertLink(i,o){const l=this.editor,h=l.model,v=h.document.selection,{linkName:b,linkHref:C}=i.attributes;if(v.isCollapsed){const a=Zr(v.getAttributes()),c=o.createText(b,a),u=h.insertContent(c);o.setSelection(u)}l.execute("link",C)}}function Hp(f,i,o){if(Pp(f)){const{imageFallbackUrl:l,imageSources:h}=Z8({token:i,origin:o,id:f.data.id,width:f.data.metadata.width,extension:f.data.extension});return{imageFallbackUrl:l,imageSources:h,imageTextAlternative:f.data.metadata.description||""}}return{linkName:f.data.name,linkHref:Tf(f,i,o)}}function Pp(f){const i=f.data.metadata;return!!i&&i.width&&i.height}function Tf(f,i,o){const l=zf(i),h=new URL(`${l}/assets/${f.data.id}/file`,o);return h.searchParams.set("download","true"),h.toString()}class Y8 extends Xe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Ra,Hd]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var i=this;return m(function*(){const o=i.editor,l=!!o.config.get("ckbox"),h=!!window.CKBox;if(!l&&!h)return;const v=o.plugins.get(Ra),b=o.plugins.get(Hd);v.createUploadAdapter=c=>new Rp(c,b.getToken(),o);const C=!o.config.get("ckbox.ignoreDataId"),a=o.plugins.get("ImageUploadEditing");C&&a.on("uploadComplete",(c,{imageElement:u,data:p})=>{o.model.change(_=>{_.setAttribute("ckboxImageId",p.ckboxImageId,u)})})})()}}class Rp{constructor(i,o,l){this.loader=i,this.token=o,this.editor=l,this.controller=new AbortController,this.serviceOrigin=l.config.get("ckbox.serviceOrigin"),this.assetsOrigin=l.config.get("ckbox.assetsOrigin")}getAvailableCategories(i=0){var o=this;return m(function*(){const l=new URL("categories",o.serviceOrigin);return l.searchParams.set("limit",50..toString()),l.searchParams.set("offset",i.toString()),o._sendHttpRequest({url:l}).then(function(){var h=m(function*(v){if(v.totalCount-(i+50)>0){const b=yield o.getAvailableCategories(i+50);return[...v.items,...b]}return v.items});return function(v){return h.apply(this,arguments)}}()).catch(()=>{o.controller.signal.throwIfAborted(),me("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(i){var o=this;return m(function*(){const l=Lf(i.name),h=yield o.getAvailableCategories();if(!h)return null;const v=o.editor.config.get("ckbox.defaultUploadCategories");if(v){const C=Object.keys(v).find(a=>v[a].includes(l));if(C){const a=h.find(c=>c.id===C||c.name===C);return a?a.id:null}}const b=h.find(C=>C.extensions.includes(l));return b?b.id:null})()}upload(){var i=this;return m(function*(){const o=i.editor.t,l=o("Cannot determine a category for the uploaded file."),h=yield i.loader.file,v=yield i.getCategoryIdForFile(h);if(!v)return Promise.reject(l);const b=new URL("assets",i.serviceOrigin),C=new FormData;C.append("categoryId",v),C.append("file",h);const a={method:"POST",url:b,data:C,onUploadProgress:c=>{c.lengthComputable&&(i.loader.uploadTotal=c.total,i.loader.uploaded=c.loaded)}};return i._sendHttpRequest(a).then(function(){var c=m(function*(u){const p=yield i._getImageWidth(),_=Lf(h.name),y=Z8({token:i.token,id:u.id,origin:i.assetsOrigin,width:p,extension:_});return{ckboxImageId:u.id,default:y.imageFallbackUrl,sources:y.imageSources}});return function(u){return c.apply(this,arguments)}}()).catch(()=>{const c=o("Cannot upload file:")+` ${h.name}.`;return Promise.reject(c)})})()}abort(){this.controller.abort()}_sendHttpRequest(i){const{url:o,data:l,onUploadProgress:h}=i,v=i.method||"GET",b=this.controller.signal,C=new XMLHttpRequest;C.open(v,o.toString(),!0),C.setRequestHeader("Authorization",this.token.value),C.setRequestHeader("CKBox-Version","CKEditor 5"),C.responseType="json";const a=()=>{C.abort()};return new Promise((c,u)=>{b.addEventListener("abort",a),C.addEventListener("loadstart",()=>{b.addEventListener("abort",a)}),C.addEventListener("loadend",()=>{b.removeEventListener("abort",a)}),C.addEventListener("error",()=>{u()}),C.addEventListener("abort",()=>{u()}),C.addEventListener("load",m(function*(){const p=C.response;return!p||p.statusCode>=400?u(p&&p.message):c(p)})),h&&C.upload.addEventListener("progress",p=>{h(p)}),C.send(l)})}_getImageWidth(){return new Promise(i=>{const o=new Image;o.onload=()=>{URL.revokeObjectURL(o.src),i(o.width)},o.src=this.loader.data})}}function Lf(f){return f.match(/\.(?<ext>[^.]+)$/).groups.ext}class Hd extends Xe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",Y8]}init(){var i=this;return m(function*(){const o=i.editor,l=!!o.config.get("ckbox"),h=!!window.CKBox;if(!l&&!h)return;i._initConfig();const v=o.plugins.get("CloudServicesCore"),b=o.config.get("ckbox.tokenUrl"),C=o.config.get("cloudServices.tokenUrl");i._token=b===C?o.plugins.get("CloudServices").token:yield v.createToken(b).init(),o.config.get("ckbox.ignoreDataId")||(i._initSchema(),i._initConversion(),i._initFixers()),h&&o.commands.add("ckbox",new y_(o))})()}getToken(){return this._token}_initConfig(){const i=this.editor;if(i.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:i.locale.uiLanguage,theme:"default",tokenUrl:i.config.get("cloudServices.tokenUrl")}),!i.config.get("ckbox.tokenUrl"))throw new q("ckbox-plugin-missing-token-url",this);i.plugins.has("ImageBlockEditing")||i.plugins.has("ImageInlineEditing")||me("ckbox-plugin-image-feature-missing",i)}_initSchema(){const i=this.editor.model.schema;i.extend("$text",{allowAttributes:"ckboxLinkId"}),i.isRegistered("imageBlock")&&i.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.isRegistered("imageInline")&&i.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),i.addAttributeCheck((o,l)=>{if(!o.last.getAttribute("linkHref")&&"ckboxLinkId"===l)return!1})}_initConversion(){const i=this.editor;i.conversion.for("downcast").add(o=>{o.on("attribute:ckboxLinkId:imageBlock",(l,h,v)=>{const{writer:b,mapper:C,consumable:a}=v;if(!a.consume(h.item,l.name))return;const c=[...C.toViewElement(h.item).getChildren()].find(u=>"a"===u.name);c&&(h.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",h.item.getAttribute("ckboxLinkId"),c):b.removeAttribute("data-ckbox-resource-id",c))},{priority:"low"}),o.on("attribute:ckboxLinkId",(l,h,v)=>{const{writer:b,mapper:C,consumable:a}=v;if(a.consume(h.item,l.name)){if(h.attributeOldValue){const c=Op(b,h.attributeOldValue);b.unwrap(C.toViewRange(h.range),c)}if(h.attributeNewValue){const c=Op(b,h.attributeNewValue);h.item.is("selection")?b.wrap(b.document.selection.getFirstRange(),c):b.wrap(C.toViewRange(h.range),c)}}},{priority:"low"})}),i.conversion.for("upcast").add(o=>{o.on("element:a",(l,h,v)=>{const{writer:b,consumable:C}=v;if(!h.viewItem.getAttribute("href")||!C.consume(h.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const a=h.viewItem.getAttribute("data-ckbox-resource-id");if(a)if(h.modelRange)for(let c of h.modelRange.getItems())c.is("$textProxy")&&(c=c.textNode),Nf(c)&&b.setAttribute("ckboxLinkId",a,c);else b.setAttribute("ckboxLinkId",a,h.modelCursor.nodeBefore||h.modelCursor.parent)},{priority:"low"})}),i.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),i.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:o=>o.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const i=this.editor,o=i.model,l=o.document.selection;var h;o.document.registerPostFixer((h=i,v=>{let b=!1;const C=h.model,a=h.commands.get("ckbox");if(!a)return b;for(const c of C.document.differ.getChanges()){if("insert"!==c.type&&"attribute"!==c.type)continue;const u="insert"===c.type?new Ie(c.position,c.position.getShiftedBy(c.length)):c.range,p="attribute"===c.type&&"linkHref"===c.attributeKey&&null===c.attributeNewValue;for(const _ of u.getItems()){if(p&&_.hasAttribute("ckboxLinkId")){v.removeAttribute("ckboxLinkId",_),b=!0;continue}const y=C_(_,a._chosenAssets);for(const A of y){const S="image"===A.type?"ckboxImageId":"ckboxLinkId";A.id!==_.getAttribute(S)&&(v.setAttribute(S,A.id,_),b=!0)}}}return b})),o.document.registerPostFixer(function(h){return v=>{!h.hasAttribute("linkHref")&&h.hasAttribute("ckboxLinkId")&&v.removeSelectionAttribute("ckboxLinkId")}}(l))}}function C_(f,i){const o=f.is("element","imageInline")||f.is("element","imageBlock"),l=f.hasAttribute("linkHref");return[...i].filter(h=>"image"===h.type&&o?h.attributes.imageFallbackUrl===f.getAttribute("src"):"link"===h.type&&l?h.attributes.linkHref===f.getAttribute("linkHref"):void 0)}function Op(f,i){const o=f.createAttributeElement("a",{"data-ckbox-resource-id":i},{priority:5});return f.setCustomProperty("link",!0,o),o}function Nf(f){return!!f.is("$text")||!(!f.is("element","imageInline")&&!f.is("element","imageBlock"))}class w_ extends Xe{static get pluginName(){return"CKFinderUI"}init(){const i=this.editor,l=i.t;i.ui.componentFactory.add("ckfinder",h=>{const v=i.commands.get("ckfinder"),b=new Wn(h);return b.set({label:l("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),b.bind("isEnabled").to(v),b.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),b})}}class Hr extends on{constructor(i){super(i),this._affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const i=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=i.isEnabled||o.isEnabled}execute(){const i=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=o&&"modal"!=o)throw new q("ckfinder-unknown-openermethod",i);const l=this.editor.config.get("ckfinder.options")||{};l.chooseFiles=!0;const h=l.onInit;l.language||(l.language=i.locale.uiLanguage),l.onInit=v=>{h&&h(v),v.on("files:choose",b=>{const C=b.data.files.toArray(),a=C.filter(p=>!p.isImage()),c=C.filter(p=>p.isImage());for(const p of a)i.execute("link",p.getUrl());const u=[];for(const p of c){const _=p.getUrl();u.push(_||v.request("file:getProxyUrl",{file:p}))}u.length&&Fp(i,u)}),v.on("file:choose:resizedImage",b=>{const C=b.data.resizedUrl;if(C)Fp(i,[C]);else{const a=i.plugins.get("Notification"),c=i.locale.t;a.showWarning(c("Could not obtain resized image URL."),{title:c("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](l)}}function Fp(f,i){if(f.commands.get("insertImage").isEnabled)f.execute("insertImage",{source:i});else{const o=f.plugins.get("Notification"),l=f.locale.t;o.showWarning(l("Could not insert image at the current position."),{title:l("Inserting image failed"),namespace:"ckfinder"})}}class Pd extends Xe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Lc,"LinkEditing"]}init(){const i=this.editor;if(!i.plugins.has("ImageBlockEditing")&&!i.plugins.has("ImageInlineEditing"))throw new q("ckfinder-missing-image-plugin",i);i.commands.add("ckfinder",new Hr(i))}}class Bp extends Xe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Ra]}init(){const i=this.editor,o=i.plugins.get("CloudServices"),l=o.token,h=o.uploadUrl;l&&(this._uploadGateway=i.plugins.get("CloudServicesCore").createUploadGateway(l,h),i.plugins.get(Ra).createUploadAdapter=v=>new k_(this._uploadGateway,v))}}class k_{constructor(i,o){this.uploadGateway=i,this.loader=o}upload(){return this.loader.file.then(i=>(this.fileUploader=this.uploadGateway.upload(i),this.fileUploader.on("progress",(o,l)=>{this.loader.uploadTotal=l.total,this.loader.uploaded=l.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class jp extends on{refresh(){const i=this.editor.model,o=gi(i.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&A_(o,i.schema)}execute(i={}){const o=this.editor.model,l=o.document;o.change(h=>{const v=(i.selection||l.selection).getSelectedBlocks();for(const b of v)!b.is("element","paragraph")&&A_(b,o.schema)&&h.rename(b,"paragraph")})}}function A_(f,i){return i.checkChild(f.parent,"paragraph")&&!i.isObject(f)}class Fy extends on{execute(i){const o=this.editor.model,l=i.attributes;let h=i.position;o.change(v=>{const b=v.createElement("paragraph");if(l&&o.schema.setAllowedAttributes(b,l,v),!o.schema.checkChild(h.parent,b)){const C=o.schema.findAllowedParent(h,b);if(!C)return;h=v.split(h,C).position}o.insertContent(b,h),v.setSelection(b,"in")})}}class Rd extends Xe{static get pluginName(){return"Paragraph"}init(){const i=this.editor,o=i.model;i.commands.add("paragraph",new jp(i)),i.commands.add("insertParagraph",new Fy(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:(l,{writer:h})=>Rd.paragraphLikeElements.has(l.name)?l.isEmpty?null:h.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Rd.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class K8 extends on{constructor(i,o){super(i),this.modelElements=o}refresh(){const i=gi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(o=>Q8(i,o,this.editor.model.schema))}execute(i){const o=this.editor.model,l=o.document,h=i.value;o.change(v=>{const b=Array.from(l.selection.getSelectedBlocks()).filter(C=>Q8(C,h,o.schema));for(const C of b)C.is("element",h)||v.rename(C,h)})}}function Q8(f,i,o){return o.checkChild(f.parent,i)&&!o.isObject(f)}const Bs="paragraph";class M_ extends Xe{static get pluginName(){return"HeadingEditing"}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Rd]}init(){const i=this.editor,o=i.config.get("heading.options"),l=[];for(const h of o)"paragraph"!==h.model&&(i.model.schema.register(h.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(h),l.push(h.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new K8(i,l))}afterInit(){const i=this.editor,o=i.commands.get("enter"),l=i.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(h,v)=>{const b=i.model.document.selection.getFirstPosition().parent;l.some(C=>b.is("element",C.model))&&!b.is("element",Bs)&&0===b.childCount&&v.writer.rename(b,Bs)})}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Le.get("low")+1})}}var rl=se(8733);Et()(rl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Up extends Xe{static get pluginName(){return"HeadingUI"}init(){const i=this.editor,o=i.t,l=function(b){const C=b.t,a={Paragraph:C("Paragraph"),"Heading 1":C("Heading 1"),"Heading 2":C("Heading 2"),"Heading 3":C("Heading 3"),"Heading 4":C("Heading 4"),"Heading 5":C("Heading 5"),"Heading 6":C("Heading 6")};return b.config.get("heading.options").map(c=>{const u=a[c.title];return u&&u!=c.title&&(c.title=u),c})}(i),h=o("Choose heading"),v=o("Heading");i.ui.componentFactory.add("heading",b=>{const C={},a=new Wr,c=i.commands.get("heading"),u=i.commands.get("paragraph"),p=[c];for(const y of l){const A={type:"button",model:new w8({label:y.title,class:y.class,withText:!0})};"paragraph"===y.model?(A.model.bind("isOn").to(u,"value"),A.model.set("commandName","paragraph"),p.push(u)):(A.model.bind("isOn").to(c,"value",S=>S===y.model),A.model.set({commandName:"heading",commandValue:y.model})),a.add(A),C[y.model]=y.title}const _=B1(b);return _4(_,a),_.buttonView.set({isOn:!1,withText:!0,tooltip:v}),_.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),_.bind("isEnabled").toMany(p,"isEnabled",(...y)=>y.some(A=>A)),_.buttonView.bind("label").to(c,"value",u,"value",(y,A)=>{const S=y||A&&"paragraph";return"boolean"==typeof S?h:C[S]?C[S]:h}),this.listenTo(_,"execute",y=>{const{commandName:A,commandValue:S}=y.source;i.execute(A,S?{value:S}:void 0),i.editing.view.focus()}),_})}}class ol extends on{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.value=!(!this.isEnabled||!i.hasAttribute("alt"))&&i.getAttribute("alt")}execute(i){const o=this.editor,l=o.plugins.get("ImageUtils"),h=o.model,v=l.getClosestSelectedImageElement(h.document.selection);h.change(b=>{b.setAttribute("alt",i.newValue,v)})}}function S6(f){return f.createContainerElement("figure",{class:"image"},[f.createEmptyElement("img"),f.createSlot()])}function J8(f,i){const o=f.plugins.get("ImageUtils"),l=f.plugins.has("ImageInlineEditing")&&f.plugins.has("ImageBlockEditing");return v=>o.isInlineImageView(v)?l&&("block"==v.getStyle("display")||v.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==i?null:function h(v){const b={name:!0};return v.hasAttribute("src")&&(b.attributes=["src"]),b}(v):null}function Vf(f,i){const o=gi(i.getSelectedBlocks());return!o||f.isObject(o)||o.isEmpty&&"listItem"!=o.name?"imageBlock":"imageInline"}class j1 extends Xe{static get pluginName(){return"ImageUtils"}isImage(i){return this.isInlineImage(i)||this.isBlockImage(i)}isInlineImageView(i){return!!i&&i.is("element","img")}isBlockImageView(i){return!!i&&i.is("element","figure")&&i.hasClass("image")}insertImage(i={},o=null,l=null){const h=this.editor,v=h.model,b=v.document.selection;l=Hf(h,o||b,l),i={...Object.fromEntries(b.getAttributes()),...i};for(const C in i)v.schema.checkAttribute(l,C)||delete i[C];return v.change(C=>{const a=C.createElement(l,i);return v.insertObject(a,o,null,{setSelection:"on",findOptimalPosition:!o&&"imageInline"!=l}),a.parent?a:null})}getClosestSelectedImageWidget(i){const o=i.getFirstPosition();if(!o)return null;const l=i.getSelectedElement();if(l&&this.isImageWidget(l))return l;let h=o.parent;for(;h;){if(h.is("element")&&this.isImageWidget(h))return h;h=h.parent}return null}getClosestSelectedImageElement(i){const o=i.getSelectedElement();return this.isImage(o)?o:i.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const i=this.editor.model.document.selection;return function(o,l){if("imageBlock"==Hf(o,l)){const v=function(b,C){const c=_f(b,C).start.parent;return c.isEmpty&&!c.is("element","$root")?c.parent:c}(l,o.model);if(o.model.schema.checkChild(v,"imageBlock"))return!0}else if(o.model.schema.checkChild(l.focus,"imageInline"))return!0;return!1}(this.editor,i)&&function(o){return[...o.focus.getAncestors()].every(l=>!l.is("element","imageBlock"))}(i)}toImageWidget(i,o,l){return o.setCustomProperty("image",!0,i),vf(i,o,{label:()=>{const h=this.findViewImgElement(i).getAttribute("alt");return h?`${h} ${l}`:l}})}isImageWidget(i){return!!i.getCustomProperty("image")&&zi(i)}isBlockImage(i){return!!i&&i.is("element","imageBlock")}isInlineImage(i){return!!i&&i.is("element","imageInline")}findViewImgElement(i){if(this.isInlineImageView(i))return i;const o=this.editor.editing.view;for(const{item:l}of o.createRangeIn(i))if(this.isInlineImageView(l))return l}}function Hf(f,i,o){const l=f.model.schema,h=f.config.get("image.insert.type");return f.plugins.has("ImageBlockEditing")?f.plugins.has("ImageInlineEditing")?o||("inline"===h?"imageInline":"block"===h?"imageBlock":i.is("selection")?Vf(l,i):l.checkChild(i,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Gp extends Xe{static get requires(){return[j1]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new ol(this.editor))}}var E6=se(1905);Et()(E6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Pf=se(6764);Et()(Pf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Rf extends un{constructor(i){super(i);const o=this.locale.t;this.focusTracker=new zr,this.keystrokes=new vi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),di.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),di.cancel,"ck-button-cancel","cancel"),this._focusables=new Hs,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),ne(this)}render(){super.render(),this.keystrokes.listenTo(this.element),F({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(i,o,l,h){const v=new Wn(this.locale);return v.set({label:i,icon:o,tooltip:!0}),v.extendTemplate({attributes:{class:l}}),h&&v.delegate("execute").to(this,h),v}_createLabeledInputView(){const i=this.locale.t,o=new J3(this.locale,X3);return o.label=i("Text alternative"),o}}function qp(f){const i=f.editing.view,o=Vr.defaultPositions,l=f.plugins.get("ImageUtils");return{target:i.domConverter.mapViewToDom(l.getClosestSelectedImageWidget(i.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class pk extends Xe{static get requires(){return[_d]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",l=>{const h=i.commands.get("imageTextAlternative"),v=new Wn(l);return v.set({label:o("Change image text alternative"),icon:di.lowVision,tooltip:!0}),v.bind("isEnabled").to(h,"isEnabled"),v.bind("isOn").to(h,"value",b=>!!b),this.listenTo(v,"execute",()=>{this._showForm()}),v})}_createForm(){const i=this.editor,o=i.editing.view.document,l=i.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Rf(i.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(h,v)=>{this._hideForm(!0),v()}),this.listenTo(i.ui,"update",()=>{l.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(h){const v=h.plugins.get("ContextualBalloon");if(h.plugins.get("ImageUtils").getClosestSelectedImageWidget(h.editing.view.document.selection)){const b=qp(h);v.updatePosition(b)}}(i):this._hideForm(!0)}),Z({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const i=this.editor,o=i.commands.get("imageTextAlternative"),l=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:qp(i)}),l.fieldView.value=l.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(i){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),i&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class $p extends Xe{static get requires(){return[Gp,pk]}static get pluginName(){return"ImageTextAlternative"}}function Of(f,i){return l=>{l.on(`attribute:srcset:${i}`,o)};function o(l,h,v){if(!v.consumable.consume(h.item,l.name))return;const b=v.writer,C=v.mapper.toViewElement(h.item),a=f.findViewImgElement(C);if(null===h.attributeNewValue){const c=h.attributeOldValue;c.data&&(b.removeAttribute("srcset",a),b.removeAttribute("sizes",a),c.width&&b.removeAttribute("width",a))}else{const c=h.attributeNewValue;c.data&&(b.setAttribute("srcset",c.data,a),b.setAttribute("sizes","100vw",a),c.width&&b.setAttribute("width",c.width,a))}}}function sl(f,i,o){return h=>{h.on(`attribute:${o}:${i}`,l)};function l(h,v,b){if(!b.consumable.consume(v.item,h.name))return;const C=b.writer,a=b.mapper.toViewElement(v.item),c=f.findViewImgElement(a);C.setAttribute(v.attributeKey,v.attributeNewValue||"",c)}}class Wp extends H1{observe(i){this.listenTo(i,"load",(o,l)=>{const h=l.target;this.checkShouldIgnoreEventFromTarget(h)||"IMG"==h.tagName&&this._fireEvents(l)},{useCapture:!0})}_fireEvents(i){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",i))}}class Zp extends on{constructor(i){super(i);const o=i.config.get("image.insert.type");i.plugins.has("ImageBlockEditing")||"block"===o&&Fe("image-block-plugin-required"),i.plugins.has("ImageInlineEditing")||"inline"===o&&Fe("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(i){const o=$n(i.source),l=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),v=Object.fromEntries(l.getAttributes());o.forEach((b,C)=>{const a=l.getSelectedElement();if("string"==typeof b&&(b={src:b}),C&&a&&h.isImage(a)){const c=this.editor.model.createPositionAfter(a);h.insertImage({...b,...v},c)}else h.insertImage({...b,...v})})}}class Yp extends on{refresh(){const i=this.editor.plugins.get("ImageUtils"),o=this.editor.model.document.selection.getSelectedElement();this.isEnabled=i.isImage(o),this.value=this.isEnabled?o.getAttribute("src"):null}execute(i){const o=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(l=>{l.setAttribute("src",i.source,o),l.removeAttribute("srcset",o),l.removeAttribute("sizes",o)})}}class Od extends Xe{static get requires(){return[j1]}static get pluginName(){return"ImageEditing"}init(){const i=this.editor,o=i.conversion;i.editing.view.addObserver(Wp),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:v=>{const b={data:v.getAttribute("srcset")};return v.hasAttribute("width")&&(b.width=v.getAttribute("width")),b}}});const l=new Zp(i),h=new Yp(i);i.commands.add("insertImage",l),i.commands.add("replaceImageSource",h),i.commands.add("imageInsert",l)}}class Fd extends on{constructor(i,o){super(i),this._modelElementName=o}refresh(){const i=this.editor.plugins.get("ImageUtils"),o=i.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?i.isInlineImage(o):i.isBlockImage(o)}execute(){const o=this.editor.model,l=this.editor.plugins.get("ImageUtils"),h=l.getClosestSelectedImageElement(o.document.selection),v=Object.fromEntries(h.getAttributes());return v.src||v.uploadId?o.change(b=>{const C=Array.from(o.markers).filter(u=>u.getRange().containsItem(h)),a=l.insertImage(v,o.createSelection(h,"on"),this._modelElementName);if(!a)return null;const c=b.createRangeOn(a);for(const u of C){const p=u.getRange(),_="$graveyard"!=p.root.rootName?p.getJoined(c,!0):c;b.updateMarker(u,{range:_})}return{oldElement:h,newElement:a}}):null}}class Ff extends Xe{static get requires(){return[Od,j1,Va]}static get pluginName(){return"ImageBlockEditing"}init(){const i=this.editor;i.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),i.plugins.has("ImageInlineEditing")&&(i.commands.add("imageTypeBlock",new Fd(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,l=i.conversion,h=i.plugins.get("ImageUtils");l.for("dataDowncast").elementToStructure({model:"imageBlock",view:(v,{writer:b})=>S6(b)}),l.for("editingDowncast").elementToStructure({model:"imageBlock",view:(v,{writer:b})=>h.toImageWidget(S6(b),b,o("image widget"))}),l.for("downcast").add(sl(h,"imageBlock","src")).add(sl(h,"imageBlock","alt")).add(Of(h,"imageBlock")),l.for("upcast").elementToElement({view:J8(i,"imageBlock"),model:(v,{writer:b})=>b.createElement("imageBlock",v.hasAttribute("src")?{src:v.getAttribute("src")}:null)}).add(function(v){return C=>{C.on("element:figure",b)};function b(C,a,c){if(!c.consumable.test(a.viewItem,{name:!0,classes:"image"}))return;const u=v.findViewImgElement(a.viewItem);if(!u||!c.consumable.test(u,{name:!0}))return;c.consumable.consume(a.viewItem,{name:!0,classes:"image"});const p=gi(c.convertItem(u,a.modelCursor).modelRange.getItems());p?(c.convertChildren(a.viewItem,p),c.updateConversionResult(p,a)):c.consumable.revert(a.viewItem,{name:!0,classes:"image"})}}(h))}_setupClipboardIntegration(){const i=this.editor,o=i.model,l=i.editing.view,h=i.plugins.get("ImageUtils");this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(v,b)=>{const C=Array.from(b.content.getChildren());let a;if(!C.every(h.isInlineImageView))return;a=b.targetRanges?i.editing.mapper.toModelRange(b.targetRanges[0]):o.document.selection.getFirstRange();const c=o.createSelection(a);if("imageBlock"===Vf(o.schema,c)){const u=new m4(l.document),p=C.map(_=>u.createElement("figure",{class:"image"},_));b.content=u.createDocumentFragment(p)}})}}var Bf=se(3508);Et()(Bf.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class S_ extends Xe{static get requires(){return[Ff,Sd,$p]}static get pluginName(){return"ImageBlock"}}class E_ extends Xe{static get requires(){return[Od,j1,Va]}static get pluginName(){return"ImageInlineEditing"}init(){const i=this.editor,o=i.model.schema;o.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((l,h)=>{if(l.endsWith("caption")&&"imageInline"===h.name)return!1}),this._setupConversion(),i.plugins.has("ImageBlockEditing")&&(i.commands.add("imageTypeInline",new Fd(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,l=i.conversion,h=i.plugins.get("ImageUtils");l.for("dataDowncast").elementToElement({model:"imageInline",view:(v,{writer:b})=>b.createEmptyElement("img")}),l.for("editingDowncast").elementToStructure({model:"imageInline",view:(v,{writer:b})=>{return h.toImageWidget((C=b).createContainerElement("span",{class:"image-inline"},C.createEmptyElement("img")),b,o("image widget"));var C}}),l.for("downcast").add(sl(h,"imageInline","src")).add(sl(h,"imageInline","alt")).add(Of(h,"imageInline")),l.for("upcast").elementToElement({view:J8(i,"imageInline"),model:(v,{writer:b})=>b.createElement("imageInline",v.hasAttribute("src")?{src:v.getAttribute("src")}:null)})}_setupClipboardIntegration(){const i=this.editor,o=i.model,l=i.editing.view,h=i.plugins.get("ImageUtils");this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(v,b)=>{const C=Array.from(b.content.getChildren());let a;if(!C.every(h.isBlockImageView))return;a=b.targetRanges?i.editing.mapper.toModelRange(b.targetRanges[0]):o.document.selection.getFirstRange();const c=o.createSelection(a);if("imageInline"===Vf(o.schema,c)){const u=new m4(l.document),p=C.map(_=>1===_.childCount?(Array.from(_.getAttributes()).forEach(y=>u.setAttribute(...y,h.findViewImgElement(_))),_.getChild(0)):_);b.content=u.createDocumentFragment(p)}})}}class Qp extends Xe{static get requires(){return[E_,Sd,$p]}static get pluginName(){return"ImageInline"}}class D_ extends on{refresh(){const i=this.editor,o=i.plugins.get("ImageCaptionUtils");if(!i.plugins.has(Ff))return this.isEnabled=!1,void(this.value=!1);const l=i.model.document.selection,h=l.getSelectedElement();if(!h){const v=o.getCaptionFromModelSelection(l);return this.isEnabled=!!v,void(this.value=!!v)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(h),this.value=!!this.isEnabled&&!!o.getCaptionFromImageModelElement(h)}execute(i={}){const{focusCaptionOnShow:o}=i;this.editor.model.change(l=>{this.value?this._hideImageCaption(l):this._showImageCaption(l,o)})}_showImageCaption(i,o){const l=this.editor.model.document.selection,h=this.editor.plugins.get("ImageCaptionEditing");let v=l.getSelectedElement();const b=h._getSavedCaption(v);this.editor.plugins.get("ImageUtils").isInlineImage(v)&&(this.editor.execute("imageTypeBlock"),v=l.getSelectedElement());const C=b||i.createElement("caption");i.append(C,v),o&&i.setSelection(C,"in")}_hideImageCaption(i){const o=this.editor,l=o.model.document.selection,h=o.plugins.get("ImageCaptionEditing"),v=o.plugins.get("ImageCaptionUtils");let b,C=l.getSelectedElement();C?b=v.getCaptionFromImageModelElement(C):(b=v.getCaptionFromModelSelection(l),C=b.parent),h._saveCaption(C,b),i.setSelection(C,"on"),i.remove(b)}}class Jp extends Xe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[j1]}getCaptionFromImageModelElement(i){for(const o of i.getChildren())if(o&&o.is("element","caption"))return o;return null}getCaptionFromModelSelection(i){const o=this.editor.plugins.get("ImageUtils"),l=i.getFirstPosition().findAncestor("caption");return l&&o.isBlockImage(l.parent)?l:null}matchImageCaptionViewElement(i){const o=this.editor.plugins.get("ImageUtils");return"figcaption"==i.name&&o.isBlockImageView(i.parent)?{name:!0}:null}}class X8 extends Xe{static get requires(){return[j1,Jp]}static get pluginName(){return"ImageCaptionEditing"}constructor(i){super(i),this._savedCaptionsMap=new WeakMap}init(){const i=this.editor,o=i.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),i.commands.add("toggleImageCaption",new D_(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const i=this.editor,o=i.editing.view,l=i.plugins.get("ImageUtils"),h=i.plugins.get("ImageCaptionUtils"),v=i.t;i.conversion.for("upcast").elementToElement({view:b=>h.matchImageCaptionViewElement(b),model:"caption"}),i.conversion.for("dataDowncast").elementToElement({model:"caption",view:(b,{writer:C})=>l.isBlockImage(b.parent)?C.createContainerElement("figcaption"):null}),i.conversion.for("editingDowncast").elementToElement({model:"caption",view:(b,{writer:C})=>{if(!l.isBlockImage(b.parent))return null;const a=C.createEditableElement("figcaption");C.setCustomProperty("imageCaption",!0,a),he({view:o,element:a,text:v("Enter image caption"),keepOnFocus:!0});const c=b.parent.getAttribute("alt");return m1(a,C,{label:c?v("Caption for image: %0",[c]):v("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const i=this.editor,o=i.plugins.get("ImageUtils"),l=i.plugins.get("ImageCaptionUtils"),h=i.commands.get("imageTypeInline"),v=i.commands.get("imageTypeBlock"),b=C=>{if(!C.return)return;const{oldElement:a,newElement:c}=C.return;if(!a)return;if(o.isBlockImage(a)){const p=l.getCaptionFromImageModelElement(a);if(p)return void this._saveCaption(c,p)}const u=this._getSavedCaption(a);u&&this._saveCaption(c,u)};h&&this.listenTo(h,"execute",b,{priority:"low"}),v&&this.listenTo(v,"execute",b,{priority:"low"})}_getSavedCaption(i){const o=this._savedCaptionsMap.get(i);return o?Nt.fromJSON(o):null}_saveCaption(i,o){this._savedCaptionsMap.set(i,o.toJSON())}_registerCaptionReconversion(){const i=this.editor,o=i.model,l=i.plugins.get("ImageUtils"),h=i.plugins.get("ImageCaptionUtils");o.document.on("change:data",()=>{const v=o.document.differ.getChanges();for(const b of v){if("alt"!==b.attributeKey)continue;const C=b.range.start.nodeAfter;if(l.isBlockImage(C)){const a=h.getCaptionFromImageModelElement(C);if(!a)return;i.editing.reconvertItem(a)}}})}}class eh extends Xe{static get requires(){return[Jp]}static get pluginName(){return"ImageCaptionUI"}init(){const i=this.editor,o=i.editing.view,l=i.plugins.get("ImageCaptionUtils"),h=i.t;i.ui.componentFactory.add("toggleImageCaption",v=>{const b=i.commands.get("toggleImageCaption"),C=new Wn(v);return C.set({icon:di.caption,tooltip:!0,isToggleable:!0}),C.bind("isOn","isEnabled").to(b,"value","isEnabled"),C.bind("label").to(b,"value",a=>h(a?"Toggle caption off":"Toggle caption on")),this.listenTo(C,"execute",()=>{i.execute("toggleImageCaption",{focusCaptionOnShow:!0});const a=l.getCaptionFromModelSelection(i.model.document.selection);if(a){const c=i.editing.mapper.toViewElement(a);o.scrollToTheSelection(),o.change(u=>{u.addClass("image__caption_highlighted",c)})}i.editing.view.focus()}),C})}}var th=se(2640);Et()(th.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class gk extends on{constructor(i,o){super(i),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(l=>{if(l.isDefault)for(const h of l.modelElements)this._defaultStyles[h]=l.name;return[l.name,l]}))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.value=!!this.isEnabled&&(i.hasAttribute("imageStyle")?i.getAttribute("imageStyle"):this._defaultStyles[i.name])}execute(i={}){const o=this.editor,l=o.model,h=o.plugins.get("ImageUtils");l.change(v=>{const b=i.value;let C=h.getClosestSelectedImageElement(l.document.selection);b&&this.shouldConvertImageType(b,C)&&(this.editor.execute(h.isBlockImage(C)?"imageTypeInline":"imageTypeBlock"),C=h.getClosestSelectedImageElement(l.document.selection)),!b||this._styles.get(b).isDefault?v.removeAttribute("imageStyle",C):v.setAttribute("imageStyle",b,C)})}shouldConvertImageType(i,o){return!this._styles.get(i).modelElements.includes(o.name)}}const{objectFullWidth:I_,objectInline:Xp,objectLeft:p1,objectRight:pt,objectCenter:z6,objectBlockLeft:rn,objectBlockRight:Bd}=di,al={get inline(){return{name:"inline",title:"In line",icon:Xp,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:p1,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:rn,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:z6,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:pt,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Bd,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:z6,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:pt,modelElements:["imageBlock"],className:"image-style-side"}}},eg={full:I_,left:rn,right:Bd,center:z6,inlineLeft:p1,inlineRight:pt,inline:Xp},nh=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function tg(f){Fe("image-style-configuration-definition-invalid",f)}const jf={normalizeStyles:function(f){return(f.configuredStyles.options||[]).map(i=>function(o){return"string"==typeof(o="string"==typeof o?al[o]?{...al[o]}:{name:o}:function(l,h){const v={...h};for(const b in l)Object.prototype.hasOwnProperty.call(h,b)||(v[b]=l[b]);return v}(al[o.name],o)).icon&&(o.icon=eg[o.icon]||o.icon),o}(i)).filter(i=>function(o,{isBlockPluginLoaded:l,isInlinePluginLoaded:h}){const{modelElements:v,name:b}=o;if(!(v&&v.length&&b))return tg({style:o}),!1;{const C=[l?"imageBlock":null,h?"imageInline":null];if(!v.some(a=>C.includes(a)))return Fe("image-style-missing-dependency",{style:o,missingPlugins:v.map(a=>"imageBlock"===a?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(i,f))},getDefaultStylesConfiguration:function(f,i){return f&&i?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:f?{options:["block","side"]}:i?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(f){return f.has("ImageBlockEditing")&&f.has("ImageInlineEditing")?[...nh]:[]},warnInvalidStyle:tg,DEFAULT_OPTIONS:al,DEFAULT_ICONS:eg,DEFAULT_DROPDOWN_DEFINITIONS:nh};function I6(f,i){for(const o of i)if(o.name===f)return o}class bo extends Xe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[j1]}init(){const{normalizeStyles:i,getDefaultStylesConfiguration:o}=jf,l=this.editor,h=l.plugins.has("ImageBlockEditing"),v=l.plugins.has("ImageInlineEditing");l.config.define("image.styles",o(h,v)),this.normalizedStyles=i({configuredStyles:l.config.get("image.styles"),isBlockPluginLoaded:h,isInlinePluginLoaded:v}),this._setupConversion(h,v),this._setupPostFixer(),l.commands.add("imageStyle",new gk(l,this.normalizedStyles))}_setupConversion(i,o){const l=this.editor,h=l.model.schema,v=(b=this.normalizedStyles,(a,c,u)=>{if(!u.consumable.consume(c.item,a.name))return;const p=I6(c.attributeNewValue,b),_=I6(c.attributeOldValue,b),y=u.mapper.toViewElement(c.item),A=u.writer;_&&A.removeClass(_.className,y),p&&A.addClass(p.className,y)});var b;const C=function(a){const c={imageInline:a.filter(u=>!u.isDefault&&u.modelElements.includes("imageInline")),imageBlock:a.filter(u=>!u.isDefault&&u.modelElements.includes("imageBlock"))};return(u,p,_)=>{if(!p.modelRange)return;const y=p.viewItem,A=gi(p.modelRange.getItems());if(A&&_.schema.checkAttribute(A,"imageStyle"))for(const S of c[A.name])_.consumable.consume(y,{classes:S.className})&&_.writer.setAttribute("imageStyle",S.name,A)}}(this.normalizedStyles);l.editing.downcastDispatcher.on("attribute:imageStyle",v),l.data.downcastDispatcher.on("attribute:imageStyle",v),i&&(h.extend("imageBlock",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:figure",C,{priority:"low"})),o&&(h.extend("imageInline",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:img",C,{priority:"low"}))}_setupPostFixer(){const i=this.editor,o=i.model.document,l=i.plugins.get(j1),h=new Map(this.normalizedStyles.map(v=>[v.name,v]));o.registerPostFixer(v=>{let b=!1;for(const C of o.differ.getChanges())if("insert"==C.type||"attribute"==C.type&&"imageStyle"==C.attributeKey){let a="insert"==C.type?C.position.nodeAfter:C.range.start.nodeAfter;if(a&&a.is("element","paragraph")&&a.childCount>0&&(a=a.getChild(0)),!l.isImage(a))continue;const c=a.getAttribute("imageStyle");if(!c)continue;const u=h.get(c);u&&u.modelElements.includes(a.name)||(v.removeAttribute("imageStyle",a),b=!0)}return b})}}var T6=se(5083);Et()(T6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Oc extends Xe{static get requires(){return[bo]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const i=this.editor.t;return{"Wrap text":i("Wrap text"),"Break text":i("Break text"),"In line":i("In line"),"Full size image":i("Full size image"),"Side image":i("Side image"),"Left aligned image":i("Left aligned image"),"Centered image":i("Centered image"),"Right aligned image":i("Right aligned image")}}init(){const i=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],l=Uf(i.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const v of l)this._createButton(v);const h=Uf([...o.filter($t),...jf.getDefaultDropdownDefinitions(i)],this.localizedDefaultStylesTitles);for(const v of h)this._createDropdown(v,l)}_createDropdown(i,o){const l=this.editor.ui.componentFactory;l.add(i.name,h=>{let v;const{defaultItem:b,items:C,title:a}=i,c=C.filter(y=>o.find(({name:A})=>ih(A)===y)).map(y=>{const A=l.create(y);return y===b&&(v=A),A});C.length!==c.length&&jf.warnInvalidStyle({dropdown:i});const u=B1(h,ps),p=u.buttonView,_=p.arrowView;return La(u,c,{enableActiveItemFocusOnDropdownOpen:!0}),p.set({label:rh(a,v.label),class:null,tooltip:!0}),_.unbind("label"),_.set({label:a}),p.bind("icon").toMany(c,"isOn",(...y)=>{const A=y.findIndex(S2);return A<0?v.icon:c[A].icon}),p.bind("label").toMany(c,"isOn",(...y)=>{const A=y.findIndex(S2);return rh(a,A<0?v.label:c[A].label)}),p.bind("isOn").toMany(c,"isOn",(...y)=>y.some(S2)),p.bind("class").toMany(c,"isOn",(...y)=>y.some(S2)?"ck-splitbutton_flatten":null),p.on("execute",()=>{c.some(({isOn:y})=>y)?u.isOpen=!u.isOpen:v.fire("execute")}),u.bind("isEnabled").toMany(c,"isEnabled",(...y)=>y.some(S2)),this.listenTo(u,"execute",()=>{this.editor.editing.view.focus()}),u})}_createButton(i){const o=i.name;this.editor.ui.componentFactory.add(ih(o),l=>{const h=this.editor.commands.get("imageStyle"),v=new Wn(l);return v.set({label:i.title,icon:i.icon,tooltip:!0,isToggleable:!0}),v.bind("isEnabled").to(h,"isEnabled"),v.bind("isOn").to(h,"value",b=>b===o),v.on("execute",this._executeCommand.bind(this,o)),v})}_executeCommand(i){this.editor.execute("imageStyle",{value:i}),this.editor.editing.view.focus()}}function Uf(f,i){for(const o of f)i[o.title]&&(o.title=i[o.title]);return f}function ih(f){return`imageStyle:${f}`}function rh(f,i){return(f?f+": ":"")+i}function ng(f){const i=f.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${i.join("|")})$`)}function Go(f){return new Promise((i,o)=>{const l=f.getAttribute("src");fetch(l).then(h=>h.blob()).then(h=>{const v=Gf(h,l),b=v.replace("image/",""),C=new File([h],`image.${b}`,{type:v});i(C)}).catch(h=>{return h&&"TypeError"===h.name?(v=l,(b=v,new Promise((C,a)=>{const c=ln.document.createElement("img");c.addEventListener("load",()=>{const u=ln.document.createElement("canvas");u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0),u.toBlob(p=>p?C(p):a())}),c.addEventListener("error",()=>a()),c.src=b})).then(b=>{const C=Gf(b,v),a=C.replace("image/","");return new File([b],`image.${a}`,{type:C})})).then(i).catch(o):o(h);var v,b})})}function Gf(f,i){return f.type?f.type:i.match(/data:(image\/\w+);base64/)?i.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class jd extends Xe{static get pluginName(){return"ImageUploadUI"}init(){const i=this.editor,o=i.t,l=h=>{const v=new Ld(h),b=i.commands.get("uploadImage"),C=i.config.get("image.upload.types"),a=ng(C);return v.set({acceptedType:C.map(c=>`image/${c}`).join(","),allowMultipleFiles:!0}),v.buttonView.set({label:o("Insert image"),icon:di.image,tooltip:!0}),v.buttonView.bind("isEnabled").to(b),v.on("done",(c,u)=>{const p=Array.from(u).filter(_=>a.test(_.type));p.length&&(i.execute("uploadImage",{file:p}),i.editing.view.focus())}),v};i.ui.componentFactory.add("uploadImage",l),i.ui.componentFactory.add("imageUpload",l)}}var Ud=se(3689);Et()(Ud.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var cl=se(4036);Et()(cl.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var oh=se(3773);Et()(oh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ig extends Xe{static get pluginName(){return"ImageUploadProgress"}constructor(i){super(i),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const i=this.editor;i.plugins.has("ImageBlockEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...o)=>this.uploadStatusChange(...o)),i.plugins.has("ImageInlineEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...o)=>this.uploadStatusChange(...o))}uploadStatusChange(i,o,l){const h=this.editor,v=o.item,b=v.getAttribute("uploadId");if(!l.consumable.consume(o.item,i.name))return;const C=h.plugins.get("ImageUtils"),a=h.plugins.get(Ra),c=b?o.attributeNewValue:null,u=this.placeholder,p=h.editing.mapper.toViewElement(v),_=l.writer;if("reading"==c)return T4(p,_),void L4(C,u,p,_);if("uploading"==c){const y=a.loaders.get(b);return T4(p,_),void(y?(rg(p,_),function(A,S,E,T){const V=function(B){const X=B.createUIElement("div",{class:"ck-progress-bar"});return B.setCustomProperty("progressBar",!0,X),X}(S);S.insert(S.createPositionAt(A,"end"),V),E.on("change:uploadedPercent",(B,X,le)=>{T.change(ke=>{ke.setStyle("width",le+"%",V)})})}(p,_,y,h.editing.view),function(A,S,E,T){if(T.data){const V=A.findViewImgElement(S);E.setAttribute("src",T.data,V)}}(C,p,_,y)):L4(C,u,p,_))}"complete"==c&&a.loaders.get(b)&&function(y,A,S){const E=A.createUIElement("div",{class:"ck-image-upload-complete-icon"});A.insert(A.createPositionAt(y,"end"),E),setTimeout(()=>{S.change(T=>T.remove(T.createRangeOn(E)))},3e3)}(p,_,h.editing.view),sh(p,_,"progressBar"),rg(p,_),_.removeClass("ck-appear",p)}}function T4(f,i){f.hasClass("ck-appear")||i.addClass("ck-appear",f)}function L4(f,i,o,l){o.hasClass("ck-image-upload-placeholder")||l.addClass("ck-image-upload-placeholder",o);const h=f.findViewImgElement(o);h.getAttribute("src")!==i&&l.setAttribute("src",i,h),qf(o,"placeholder")||l.insert(l.createPositionAfter(h),function(v){const b=v.createUIElement("div",{class:"ck-upload-placeholder-loader"});return v.setCustomProperty("placeholder",!0,b),b}(l))}function rg(f,i){f.hasClass("ck-image-upload-placeholder")&&i.removeClass("ck-image-upload-placeholder",f),sh(f,i,"placeholder")}function qf(f,i){for(const o of f.getChildren())if(o.getCustomProperty(i))return o}function sh(f,i,o){const l=qf(f,o);l&&i.remove(i.createRangeOn(l))}class L6 extends on{refresh(){const i=this.editor,o=i.plugins.get("ImageUtils"),l=i.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(l)}execute(i){const o=$n(i.file),l=this.editor.model.document.selection,h=this.editor.plugins.get("ImageUtils"),v=Object.fromEntries(l.getAttributes());o.forEach((b,C)=>{const a=l.getSelectedElement();if(C&&a&&h.isImage(a)){const c=this.editor.model.createPositionAfter(a);this._uploadImage(b,v,c)}else this._uploadImage(b,v)})}_uploadImage(i,o,l){const h=this.editor,v=h.plugins.get(Ra).createLoader(i),b=h.plugins.get("ImageUtils");v&&b.insertImage({...o,uploadId:v.id},l)}}class N6 extends Xe{static get requires(){return[Ra,Lc,Va,j1]}static get pluginName(){return"ImageUploadEditing"}constructor(i){super(i),i.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const i=this.editor,o=i.model.document,l=i.conversion,h=i.plugins.get(Ra),v=i.plugins.get("ImageUtils"),b=ng(i.config.get("image.upload.types")),C=new L6(i);i.commands.add("uploadImage",C),i.commands.add("imageUpload",C),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",(a,c)=>{if(u=c.dataTransfer,Array.from(u.types).includes("text/html")&&""!==u.getData("text/html"))return;var u;const p=Array.from(c.dataTransfer.files).filter(_=>!!_&&b.test(_.type));p.length&&(a.stop(),i.model.change(_=>{c.targetRanges&&_.setSelection(c.targetRanges.map(y=>i.editing.mapper.toModelRange(y))),i.model.enqueueChange(()=>{i.execute("uploadImage",{file:p})})}))}),this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(a,c)=>{const u=Array.from(i.editing.view.createRangeIn(c.content)).filter(_=>{return!(!v.isInlineImageView(A=_.item)||!A.getAttribute("src"))&&(A.getAttribute("src").match(/^data:image\/\w+;base64,/g)||A.getAttribute("src").match(/^blob:/g))&&!_.item.getAttribute("uploadProcessed");var A}).map(_=>({promise:Go(_.item),imageElement:_.item}));if(!u.length)return;const p=new m4(i.editing.view.document);for(const _ of u){p.setAttribute("uploadProcessed",!0,_.imageElement);const y=h.createLoader(_.promise);y&&(p.setAttribute("src","",_.imageElement),p.setAttribute("uploadId",y.id,_.imageElement))}}),i.editing.view.document.on("dragover",(a,c)=>{c.preventDefault()}),o.on("change",()=>{const a=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),c=new Set;for(const u of a)if("insert"==u.type&&"$text"!=u.name){const p=u.position.nodeAfter,_="$graveyard"==u.position.root.rootName;for(const y of $f(i,p)){const A=y.getAttribute("uploadId");if(!A)continue;const S=h.loaders.get(A);S&&(_?c.has(A)||S.abort():(c.add(A),this._uploadImageElements.set(A,y),"idle"==S.status&&this._readAndUpload(S)))}}}),this.on("uploadComplete",(a,{imageElement:c,data:u})=>{const p=u.urls?u.urls:u;this.editor.model.change(_=>{_.setAttribute("src",p.default,c),this._parseAndSetSrcsetAttributeOnImage(p,c,_)})},{priority:"low"})}afterInit(){const i=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&i.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&i.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(i){const o=this.editor,l=o.model,h=o.locale.t,v=o.plugins.get(Ra),b=o.plugins.get(Lc),C=o.plugins.get("ImageUtils"),a=this._uploadImageElements;return l.enqueueChange({isUndoable:!1},u=>{u.setAttribute("uploadStatus","reading",a.get(i.id))}),i.read().then(()=>{const u=i.upload(),p=a.get(i.id);if(U.isSafari){const _=o.editing.mapper.toViewElement(p),y=C.findViewImgElement(_);o.editing.view.once("render",()=>{if(!y.parent)return;const A=o.editing.view.domConverter.mapViewToDom(y.parent);if(!A)return;const S=A.style.display;A.style.display="none",A._ckHack=A.offsetHeight,A.style.display=S})}return l.enqueueChange({isUndoable:!1},_=>{_.setAttribute("uploadStatus","uploading",p)}),u}).then(u=>{l.enqueueChange({isUndoable:!1},p=>{const _=a.get(i.id);p.setAttribute("uploadStatus","complete",_),this.fire("uploadComplete",{data:u,imageElement:_})}),c()}).catch(u=>{if("error"!==i.status&&"aborted"!==i.status)throw u;"error"==i.status&&u&&b.showWarning(u,{title:h("Upload failed"),namespace:"upload"}),l.enqueueChange({isUndoable:!1},p=>{p.remove(a.get(i.id))}),c()});function c(){l.enqueueChange({isUndoable:!1},u=>{const p=a.get(i.id);u.removeAttribute("uploadId",p),u.removeAttribute("uploadStatus",p),a.delete(i.id)}),v.destroyLoader(i)}}_parseAndSetSrcsetAttributeOnImage(i,o,l){let h=0;const v=Object.keys(i).filter(b=>{const C=parseInt(b,10);if(!isNaN(C))return h=Math.max(h,C),!0}).map(b=>`${i[b]} ${b}w`).join(", ");""!=v&&l.setAttribute("srcset",{data:v,width:h},o)}}function $f(f,i){const o=f.plugins.get("ImageUtils");return Array.from(f.model.createRangeOn(i)).filter(l=>o.isImage(l.item)).map(l=>l.item)}class Wf extends Xe{static get pluginName(){return"IndentEditing"}init(){const i=this.editor;i.commands.add("indent",new uo(i)),i.commands.add("outdent",new uo(i))}}const ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Zf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class N4 extends Xe{static get pluginName(){return"IndentUI"}init(){const i=this.editor,o=i.locale,l=i.t,h="ltr"==o.uiLanguageDirection?ah:Zf,v="ltr"==o.uiLanguageDirection?Zf:ah;this._defineButton("indent",l("Increase indent"),h),this._defineButton("outdent",l("Decrease indent"),v)}_defineButton(i,o,l){const h=this.editor;h.ui.componentFactory.add(i,v=>{const b=h.commands.get(i),C=new Wn(v);return C.set({label:o,icon:l,tooltip:!0}),C.bind("isOn","isEnabled").to(b,"value","isEnabled"),this.listenTo(C,"execute",()=>{h.execute(i),h.editing.view.focus()}),C})}}class og{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach(o=>this._definitions.add(o)):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",(o,l,h)=>{if(!h.consumable.test(l.item,"attribute:linkHref")||!l.item.is("selection")&&!h.schema.isInline(l.item))return;const v=h.writer,b=v.document.selection;for(const C of this._definitions){const a=v.createAttributeElement("a",C.attributes,{priority:5});C.classes&&v.addClass(C.classes,a);for(const c in C.styles)v.setStyle(c,C.styles[c],a);v.setCustomProperty("link",!0,a),C.callback(l.attributeNewValue)?l.item.is("selection")?v.wrap(b.getFirstRange(),a):v.wrap(h.mapper.toViewRange(l.range),a):v.unwrap(h.mapper.toViewRange(l.range),a)}},{priority:"high"})}}getDispatcherForLinkedImage(){return i=>{i.on("attribute:linkHref:imageBlock",(o,l,{writer:h,mapper:v})=>{const b=v.toViewElement(l.item),C=Array.from(b.getChildren()).find(a=>"a"===a.name);for(const a of this._definitions){const c=Zr(a.attributes);if(a.callback(l.attributeNewValue)){for(const[u,p]of c)"class"===u?h.addClass(p,C):h.setAttribute(u,p,C);a.classes&&h.addClass(a.classes,C);for(const u in a.styles)h.setStyle(u,a.styles[u],C)}else{for(const[u,p]of c)"class"===u?h.removeClass(p,C):h.removeAttribute(u,C);a.classes&&h.removeClass(a.classes,C);for(const u in a.styles)h.removeStyle(u,C)}}})}}}var Yf=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Kf=function(f){return Yf.test(f)};var H6="\\ud800-\\udfff",L_="["+H6+"]",ch="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",lh="\\ud83c[\\udffb-\\udfff]",Qf="[^"+H6+"]",P6="(?:\\ud83c[\\udde6-\\uddff]){2}",R6="[\\ud800-\\udbff][\\udc00-\\udfff]",Gd="(?:"+ch+"|"+lh+")?",qd="[\\ufe0e\\ufe0f]?",uh=qd+Gd+"(?:\\u200d(?:"+[Qf,P6,R6].join("|")+")"+qd+Gd+")*",Jf="(?:"+[Qf+ch+"?",ch,P6,R6,L_].join("|")+")",sg=RegExp(lh+"(?="+lh+")|"+Jf+uh,"g");const cg=function(i){i=Ca(i);var o=Kf(i)?function(f){return Kf(f)?function(f){return f.match(sg)||[]}(f):function(f){return f.split("")}(f)}(i):void 0,l=o?o[0]:i.charAt(0),h=o?function(f,i,o){var l=f.length;return ql(f,1,o=void 0===o?l:o)}(o).join(""):i.slice(1);return l.toUpperCase()+h},dh=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,e9=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,As=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,ll=/^((\w+:(\/{2,})?)|(\W))/i,$d="Ctrl+K";function hh(f,{writer:i}){const o=i.createAttributeElement("a",{href:f},{priority:5});return i.setCustomProperty("link",!0,o),o}function yo(f){return function(i){return i.replace(dh,"").match(e9)}(f=String(f))?f:"#"}function Co(f,i){return!!f&&i.checkAttribute(f.name,"linkHref")}function H4(f,i){const o=As.test(f)?"mailto:":i,h=!!o&&!O6(f);return f&&h?o+f:f}function O6(f){return ll.test(f)}function F6(f){window.open(f,"_blank","noopener")}class N_ extends on{constructor(i){super(i),this.manualDecorators=new Wr,this.automaticDecorators=new og}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,o=i.document.selection,l=o.getSelectedElement()||gi(o.getSelectedBlocks());Co(l,i.schema)?(this.value=l.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttribute(l,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttributeInSelection(o,"linkHref"));for(const h of this.manualDecorators)h.value=this._getDecoratorStateFromModel(h.id)}execute(i,o={}){const l=this.editor.model,h=l.document.selection,v=[],b=[];for(const C in o)o[C]?v.push(C):b.push(C);l.change(C=>{if(h.isCollapsed){const a=h.getFirstPosition();if(h.hasAttribute("linkHref")){const c=A4(a,"linkHref",h.getAttribute("linkHref"),l);C.setAttribute("linkHref",i,c),v.forEach(u=>{C.setAttribute(u,!0,c)}),b.forEach(u=>{C.removeAttribute(u,c)}),C.setSelection(C.createPositionAfter(c.end.nodeBefore))}else if(""!==i){const c=Zr(h.getAttributes());c.set("linkHref",i),v.forEach(p=>{c.set(p,!0)});const{end:u}=l.insertContent(C.createText(i,c),a);C.setSelection(u)}["linkHref",...v,...b].forEach(c=>{C.removeSelectionAttribute(c)})}else{const a=l.schema.getValidRanges(h.getRanges(),"linkHref"),c=[];for(const p of h.getSelectedBlocks())l.schema.checkAttribute(p,"linkHref")&&c.push(C.createRangeOn(p));const u=c.slice();for(const p of a)this._isRangeToUpdate(p,c)&&u.push(p);for(const p of u)C.setAttribute("linkHref",i,p),v.forEach(_=>{C.setAttribute(_,!0,p)}),b.forEach(_=>{C.removeAttribute(_,p)})}})}_getDecoratorStateFromModel(i){const o=this.editor.model,l=o.document.selection,h=l.getSelectedElement();return Co(h,o.schema)?h.getAttribute(i):l.getAttribute(i)}_isRangeToUpdate(i,o){for(const l of o)if(l.containsRange(i))return!1;return!0}}class t9 extends on{refresh(){const i=this.editor.model,o=i.document.selection,l=o.getSelectedElement();this.isEnabled=Co(l,i.schema)?i.schema.checkAttribute(l,"linkHref"):i.schema.checkAttributeInSelection(o,"linkHref")}execute(){const o=this.editor.model,l=o.document.selection,h=this.editor.commands.get("link");o.change(v=>{const b=l.isCollapsed?[A4(l.getFirstPosition(),"linkHref",l.getAttribute("linkHref"),o)]:o.schema.getValidRanges(l.getRanges(),"linkHref");for(const C of b)if(v.removeAttribute("linkHref",C),h)for(const a of h.manualDecorators)v.removeAttribute(a.id,C)})}}class n9{constructor({id:i,label:o,attributes:l,classes:h,styles:v,defaultValue:b}){this.id=i,this.set("value"),this.defaultValue=b,this.label=o,this.attributes=l,this.classes=h,this.styles=v}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}xe(n9,Gt);var i9=se(9773);Et()(i9.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const lg="automatic",Wd=/^(https?:)?\/\//;class P4 extends Xe{static get pluginName(){return"LinkEditing"}static get requires(){return[w4,mp,Va]}constructor(i){super(i),i.config.define("link",{addTargetToExternalLinks:!1})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:hh}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,h)=>hh(yo(l),h)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),i.commands.add("link",new N_(i)),i.commands.add("unlink",new t9(i));const o=function(l,h){const v={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return h.forEach(b=>(b.label&&v[b.label]&&(b.label=v[b.label]),b)),h}(i.t,function(l){const h=[];if(l)for(const[v,b]of Object.entries(l)){const C=Object.assign({},b,{id:`link${cg(v)}`});h.push(C)}return h}(i.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(l=>l.mode===lg)),this._enableManualDecorators(o.filter(l=>"manual"===l.mode)),i.plugins.get(w4).registerAttribute("linkHref"),function(l,h,v,b){const C=l.editing.view,a=new Set;C.document.registerPostFixer(c=>{const u=l.model.document.selection;let p=!1;if(u.hasAttribute(h)){const _=A4(u.getFirstPosition(),h,u.getAttribute(h),l.model),y=l.editing.mapper.toViewRange(_);for(const A of y.getItems())A.is("element","a")&&!A.hasClass(b)&&(c.addClass(b,A),a.add(A),p=!0)}return p}),l.conversion.for("editingDowncast").add(c=>{function u(){C.change(p=>{for(const _ of a.values())p.removeClass(b,_),a.delete(_)})}c.on("insert",u,{priority:"highest"}),c.on("remove",u,{priority:"highest"}),c.on("attribute",u,{priority:"highest"}),c.on("selection",u,{priority:"highest"})})}(i,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(i){const o=this.editor,l=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&l.add({id:"linkIsExternal",mode:lg,callback:h=>Wd.test(h),attributes:{target:"_blank",rel:"noopener noreferrer"}}),l.add(i),l.length&&o.conversion.for("downcast").add(l.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const o=this.editor,l=o.commands.get("link").manualDecorators;i.forEach(h=>{o.model.schema.extend("$text",{allowAttributes:h.id}),h=new n9(h),l.add(h),o.conversion.for("downcast").attributeToElement({model:h.id,view:(v,{writer:b,schema:C},{item:a})=>{if((a.is("selection")||C.isInline(a))&&v){const c=b.createAttributeElement("a",h.attributes,{priority:5});h.classes&&b.addClass(h.classes,c);for(const u in h.styles)b.setStyle(u,h.styles[u],c);return b.setCustomProperty("link",!0,c),c}}}),o.conversion.for("upcast").elementToAttribute({view:{name:"a",...h._createPattern()},model:{key:h.id}})})}_enableLinkOpen(){const i=this.editor,o=i.editing.view.document;this.listenTo(o,"click",(l,h)=>{if(!(U.isMac?h.domEvent.metaKey:h.domEvent.ctrlKey))return;let v=h.domTarget;if("a"!=v.tagName.toLowerCase()&&(v=v.closest("a")),!v)return;const b=v.getAttribute("href");b&&(l.stop(),h.preventDefault(),F6(b))},{context:"$capture"}),this.listenTo(o,"keydown",(l,h)=>{const v=i.commands.get("link").value;v&&h.keyCode===Cn.enter&&h.altKey&&(l.stop(),F6(v))})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,o=i.document.selection;this.listenTo(i,"insertContent",()=>{const l=o.anchor.nodeBefore,h=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&l&&l.hasAttribute("linkHref")&&(h&&h.hasAttribute("linkHref")||i.change(v=>{B6(v,j6(i.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const i=this.editor,o=i.model;i.editing.view.addObserver(f4);let l=!1;this.listenTo(i.editing.view.document,"mousedown",()=>{l=!0}),this.listenTo(i.editing.view.document,"selectionChange",()=>{if(!l)return;l=!1;const h=o.document.selection;if(!h.isCollapsed||!h.hasAttribute("linkHref"))return;const v=h.getFirstPosition(),b=A4(v,"linkHref",h.getAttribute("linkHref"),o);(v.isTouching(b.start)||v.isTouching(b.end))&&o.change(C=>{B6(C,j6(o.schema))})})}_enableTypingOverLink(){const i=this.editor;let l,h;this.listenTo(i.editing.view.document,"delete",()=>{h=!0},{priority:"high"}),this.listenTo(i.model,"deleteContent",()=>{const v=i.model.document.selection;v.isCollapsed||(h?h=!1:fh(i)&&function(b){const C=b.document.selection,a=C.getFirstPosition(),c=C.getLastPosition(),u=a.nodeAfter;return!!(u&&u.is("$text")&&u.hasAttribute("linkHref"))&&(u===(c.textNode||c.nodeBefore)||A4(a,"linkHref",u.getAttribute("linkHref"),b).containsRange(b.createRange(a,c),!0))}(i.model)&&(l=v.getAttributes()))},{priority:"high"}),this.listenTo(i.model,"insertContent",(v,[b])=>{h=!1,fh(i)&&l&&(i.model.change(C=>{for(const[a,c]of l)C.setAttribute(a,c,b)}),l=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const i=this.editor,o=i.model,l=o.document.selection;let v=!1,b=!1;this.listenTo(i.editing.view.document,"delete",(C,a)=>{b="backward"===a.direction},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{v=!1;const C=l.getFirstPosition(),a=l.getAttribute("linkHref");if(!a)return;const c=A4(C,"linkHref",a,o);v=c.containsPosition(C)||c.end.isEqual(C)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{b&&(b=!1,v||i.model.enqueueChange(C=>{B6(C,j6(o.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const i=this.editor,o=i.model,l=this.editor.config.get("link.defaultProtocol");l&&this.listenTo(i.plugins.get("ClipboardPipeline"),"contentInsertion",(h,v)=>{o.change(b=>{const C=b.createRangeIn(v.content);for(const a of C.getItems())if(a.hasAttribute("linkHref")){const c=H4(a.getAttribute("linkHref"),l);b.setAttribute("linkHref",c,a)}})})}}function B6(f,i){f.removeSelectionAttribute("linkHref");for(const o of i)f.removeSelectionAttribute(o)}function fh(f){return f.model.change(i=>i.batch).isTyping}function j6(f){return f.getDefinition("$text").allowAttributes.filter(i=>i.startsWith("link"))}var R4=se(7754);Et()(R4.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class mh extends un{constructor(i,o){super(i);const l=i.t;this.focusTracker=new zr,this.keystrokes=new vi,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),di.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),di.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusables=new Hs,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const h=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&h.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:h,tabindex:"-1"},children:this.children}),ne(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((i,o)=>(i[o.name]=o.isOn,i),{})}render(){super.render(),F({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const i=this.locale.t,o=new J3(this.locale,X3);return o.label=i("Link URL"),o}_createButton(i,o,l,h){const v=new Wn(this.locale);return v.set({label:i,icon:o,tooltip:!0}),v.extendTemplate({attributes:{class:l}}),h&&v.delegate("execute").to(this,h),v}_createManualDecoratorSwitches(i){const o=this.createCollection();for(const l of i.manualDecorators){const h=new c1(this.locale);h.set({name:l.id,label:l.label,withText:!0}),h.bind("isOn").toMany([l,i],"value",(v,b)=>void 0===b&&void 0===v?l.defaultValue:v),h.on("execute",()=>{l.set("value",!h.isOn)}),o.add(h)}return o}_createFormChildren(i){const o=this.createCollection();if(o.add(this.urlInputView),i.length){const l=new un;l.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(h=>({tag:"li",children:[h],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(l)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}var r9=se(2347);Et()(r9.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $2 extends un{constructor(i){super(i);const o=i.t;this.focusTracker=new zr,this.keystrokes=new vi,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),di.pencil,"edit"),this.set("href"),this._focusables=new Hs,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(i,o,l){const h=new Wn(this.locale);return h.set({label:i,icon:o,tooltip:!0}),h.delegate("execute").to(this,l),h}_createPreviewButton(){const i=new Wn(this.locale),o=this.bindTemplate,l=this.t;return i.set({withText:!0,tooltip:l("Open link in new tab")}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",h=>h&&yo(h)),target:"_blank",rel:"noopener noreferrer"}}),i.bind("label").to(this,"href",h=>h||l("This link has no URL")),i.bind("isEnabled").to(this,"href",h=>!!h),i.template.tag="a",i.template.eventListeners={},i}}const Oa="link-ui";class o9 extends Xe{static get requires(){return[_d]}static get pluginName(){return"LinkUI"}init(){const i=this.editor;i.editing.view.addObserver(Xm),this.actionsView=null,this.formView=null,this._balloon=i.plugins.get(_d),this._createToolbarLinkButton(),this._enableBalloonActivators(),i.conversion.for("editingDowncast").markerToHighlight({model:Oa,view:{classes:["ck-fake-link-selection"]}}),i.conversion.for("editingDowncast").markerToElement({model:Oa,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const i=this.editor,o=new $2(i.locale),l=i.commands.get("link"),h=i.commands.get("unlink");return o.bind("href").to(l,"value"),o.editButtonView.bind("isEnabled").to(l),o.unlinkButtonView.bind("isEnabled").to(h),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{i.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(v,b)=>{this._hideUI(),b()}),o.keystrokes.set($d,(v,b)=>{this._addFormView(),b()}),o}_createFormView(){const i=this.editor,o=i.commands.get("link"),l=i.config.get("link.defaultProtocol"),h=new mh(i.locale,o);return h.urlInputView.fieldView.bind("value").to(o,"value"),h.urlInputView.bind("isReadOnly").to(o,"isEnabled",v=>!v),h.saveButtonView.bind("isEnabled").to(o),this.listenTo(h,"submit",()=>{const{value:v}=h.urlInputView.fieldView.element,b=H4(v,l);i.execute("link",b,h.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(h,"cancel",()=>{this._closeFormView()}),h.keystrokes.set("Esc",(v,b)=>{this._closeFormView(),b()}),h}_createToolbarLinkButton(){const i=this.editor,o=i.commands.get("link"),l=i.t;i.ui.componentFactory.add("link",h=>{const v=new Wn(h);return v.isEnabled=!0,v.label=l("Link"),v.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',v.keystroke=$d,v.tooltip=!0,v.isToggleable=!0,v.bind("isEnabled").to(o,"isEnabled"),v.bind("isOn").to(o,"value",b=>!!b),this.listenTo(v,"execute",()=>this._showUI(!0)),v})}_enableBalloonActivators(){const i=this.editor;this.listenTo(i.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),i.keystrokes.set($d,(l,h)=>{h(),i.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(i,o)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),o())},{priority:"high"}),this.editor.keystrokes.set("Esc",(i,o)=>{this._isUIVisible&&(this._hideUI(),o())}),Z({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=i.value||""}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),void 0!==i.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(i=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const i=this.editor,o=i.editing.view.document;let l=this._getSelectedLinkElement(),h=b();const v=()=>{const C=this._getSelectedLinkElement(),a=b();l&&!C||!l&&a!==h?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),l=C,h=a};function b(){return o.selection.focus.getAncestors().reverse().find(C=>C.is("element"))}this.listenTo(i.ui,"update",v),this.listenTo(this._balloon,"change:visibleView",v)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,l=i.document;let h=null;if(this.editor.model.markers.has(Oa)){const v=Array.from(this.editor.editing.mapper.markerNameToElements(Oa)),b=i.createRange(i.createPositionBefore(v[0]),i.createPositionAfter(v[v.length-1]));h=i.domConverter.viewRangeToDom(b)}else h=()=>{const v=this._getSelectedLinkElement();return v?i.domConverter.mapViewToDom(v):i.domConverter.viewRangeToDom(l.selection.getFirstRange())};return{target:h}}_getSelectedLinkElement(){const i=this.editor.editing.view,o=i.document.selection,l=o.getSelectedElement();if(o.isCollapsed||l&&zi(l))return U6(o.getFirstPosition());{const h=o.getFirstRange().getTrimmed(),v=U6(h.start),b=U6(h.end);return v&&v==b&&i.createRangeIn(v).getTrimmed().isEqual(h)?v:null}}_showFakeVisualSelection(){const i=this.editor.model;i.change(o=>{const l=i.document.selection.getFirstRange();if(i.markers.has(Oa))o.updateMarker(Oa,{range:l});else if(l.start.isAtEnd){const h=l.start.getLastMatchingPosition(({item:v})=>!i.schema.isContent(v),{boundaries:l});o.addMarker(Oa,{usingOperation:!1,affectsData:!1,range:o.createRange(h,l.end)})}else o.addMarker(Oa,{usingOperation:!1,affectsData:!1,range:l})})}_hideFakeVisualSelection(){const i=this.editor.model;i.markers.has(Oa)&&i.change(o=>{o.removeMarker(Oa)})}}function U6(f){return f.getAncestors().find(i=>{return(o=i).is("attributeElement")&&!!o.getCustomProperty("link");var o})}const H_=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i"),jy=2;class G6 extends Xe{static get requires(){return[io]}static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const i=this.editor,o=new Ha(i.model,l=>{if(!((v=l).length>4&&" "===v[v.length-1]&&" "!==v[v.length-2]))return;var v;const h=hg(l.substr(0,l.length-1));return h?{url:h}:void 0});o.on("matched:data",(l,h)=>{const{batch:v,range:b,url:C}=h;if(!v.isTyping)return;const a=b.end.getShiftedBy(-1),c=a.getShiftedBy(-C.length),u=i.model.createRange(c,a);this._applyAutoLink(C,u)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const i=this.editor,o=i.model,l=i.commands.get("enter");l&&l.on("execute",()=>{const h=o.document.selection.getFirstPosition();if(!h.parent.previousSibling)return;const v=o.createRangeIn(h.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(v)})}_enableShiftEnterHandling(){const i=this.editor,o=i.model,l=i.commands.get("shiftEnter");l&&l.on("execute",()=>{const h=o.document.selection.getFirstPosition(),v=o.createRange(o.createPositionAt(h.parent,0),h.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(v)})}_checkAndApplyAutoLinkOnRange(i){const o=this.editor.model,{text:l,range:h}=wd(i,o),v=hg(l);if(v){const b=o.createRange(h.end.getShiftedBy(-v.length),h.end);this._applyAutoLink(v,b)}}_applyAutoLink(i,o){const l=this.editor.model,h=H4(i,this.editor.config.get("link.defaultProtocol"));var b;this.isEnabled&&(b=l).schema.checkAttributeInSelection(b.createSelection(o),"linkHref")&&O6(h)&&!function(v){const b=v.start.nodeAfter;return b&&b.hasAttribute("linkHref")}(o)&&this._persistAutoLink(h,o)}_persistAutoLink(i,o){const l=this.editor.model,h=this.editor.plugins.get("Delete");l.enqueueChange(v=>{v.setAttribute("linkHref",i,o),l.enqueueChange(()=>{h.requestUndoOnBackspace()})})}}function hg(f){const i=H_.exec(f);return i?i[jy]:null}class fg extends on{constructor(i,o){super(i),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,h=Array.from(o.document.selection.getSelectedBlocks()).filter(b=>ph(b,o.schema)),v=void 0!==i.forceValue?!i.forceValue:this.value;o.change(b=>{if(v){let C=h[h.length-1].nextSibling,a=Number.POSITIVE_INFINITY,c=[];for(;C&&"listItem"==C.name&&0!==C.getAttribute("listIndent");){const u=C.getAttribute("listIndent");u<a&&(a=u),c.push({element:C,listIndent:u-a}),C=C.nextSibling}c=c.reverse();for(const u of c)b.setAttribute("listIndent",u.listIndent,u.element)}if(!v){let C=Number.POSITIVE_INFINITY;for(const a of h)a.is("element","listItem")&&a.getAttribute("listIndent")<C&&(C=a.getAttribute("listIndent"));C=0===C?1:C,Fc(h,!0,C),Fc(h,!1,C)}for(const C of h.reverse())v&&"listItem"==C.name?b.rename(C,"paragraph"):v||"listItem"==C.name?v||"listItem"!=C.name||C.getAttribute("listType")==this.type||b.setAttribute("listType",this.type,C):(b.setAttributes({listType:this.type,listIndent:0},C),b.rename(C,"listItem"));this.fire("_executeCleanup",h)})}_getValue(){const i=gi(this.editor.model.document.selection.getSelectedBlocks());return!!i&&i.is("element","listItem")&&i.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,l=gi(this.editor.model.document.selection.getSelectedBlocks());return!!l&&ph(l,o)}}function Fc(f,i,o){const l=i?f[0]:f[f.length-1];if(l.is("element","listItem")){let h=l[i?"previousSibling":"nextSibling"],v=l.getAttribute("listIndent");for(;h&&h.is("element","listItem")&&h.getAttribute("listIndent")>=o;)v>h.getAttribute("listIndent")&&(v=h.getAttribute("listIndent")),h.getAttribute("listIndent")==v&&f[i?"unshift":"push"](h),h=h[i?"previousSibling":"nextSibling"]}}function ph(f,i){return i.checkChild(f.parent,"listItem")&&!i.isObject(f)}class Zd extends on{constructor(i,o){super(i),this._indentBy="forward"==o?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;let l=Array.from(i.document.selection.getSelectedBlocks());i.change(h=>{const v=l[l.length-1];let b=v.nextSibling;for(;b&&"listItem"==b.name&&b.getAttribute("listIndent")>v.getAttribute("listIndent");)l.push(b),b=b.nextSibling;this._indentBy<0&&(l=l.reverse());for(const C of l){const a=C.getAttribute("listIndent")+this._indentBy;a<0?h.rename(C,"paragraph"):h.setAttribute("listIndent",a,C)}this.fire("_executeCleanup",l)})}_checkEnabled(){const i=gi(this.editor.model.document.selection.getSelectedBlocks());if(!i||!i.is("element","listItem"))return!1;if(this._indentBy>0){const o=i.getAttribute("listIndent"),l=i.getAttribute("listType");let h=i.previousSibling;for(;h&&h.is("element","listItem")&&h.getAttribute("listIndent")>=o;){if(h.getAttribute("listIndent")==o)return h.getAttribute("listType")==l;h=h.previousSibling}return!1}return!0}}function O4(f,i,o,l){const h=i.parent,v=o.mapper,b=o.writer;let C=v.toViewPosition(l.createPositionBefore(f));const a=gh(f.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:f.getAttribute("listIndent")}),c=f.previousSibling;if(a&&a.getAttribute("listIndent")==f.getAttribute("listIndent")){const u=v.toViewElement(a);C=b.breakContainer(b.createPositionAfter(u))}else if(c&&"listItem"==c.name){C=v.toViewPosition(l.createPositionAt(c,"end"));const u=v.findMappedViewAncestor(C),p=function(_){for(const y of _.getChildren())if("ul"==y.name||"ol"==y.name)return y;return null}(u);C=p?b.createPositionBefore(p):b.createPositionAt(u,"end")}else C=v.toViewPosition(l.createPositionBefore(f));if(C=is(C),b.insert(C,h),c&&"listItem"==c.name){const u=v.toViewElement(c),p=b.createRange(b.createPositionAt(u,0),C).getWalker({ignoreElementEnd:!0});for(const _ of p)if(_.item.is("element","li")){const y=b.breakContainer(b.createPositionBefore(_.item)),A=_.item.parent,S=b.createPositionAt(i,"end");g1(b,S.nodeBefore,S.nodeAfter),b.move(b.createRangeOn(A),S),p.position=y}}else{const u=h.nextSibling;if(u&&(u.is("element","ul")||u.is("element","ol"))){let p=null;for(const _ of u.getChildren()){const y=v.toModelElement(_);if(!(y&&y.getAttribute("listIndent")>f.getAttribute("listIndent")))break;p=_}p&&(b.breakContainer(b.createPositionAfter(p)),b.move(b.createRangeOn(p.parent),b.createPositionAt(i,"end")))}}g1(b,h,h.nextSibling),g1(b,h.previousSibling,h)}function g1(f,i,o){return!i||!o||"ul"!=i.name&&"ol"!=i.name||i.name!=o.name||i.getAttribute("class")!==o.getAttribute("class")?null:f.mergeContainers(f.createPositionAfter(i))}function is(f){return f.getLastMatchingPosition(i=>i.item.is("uiElement"))}function gh(f,i){const o=!!i.sameIndent,l=!!i.smallerIndent,h=i.listIndent;let v=f;for(;v&&"listItem"==v.name;){const b=v.getAttribute("listIndent");if(o&&h==b||l&&h>b)return v;v="forward"===i.direction?v.nextSibling:v.previousSibling}return null}function q6(f,i,o,l){f.ui.componentFactory.add(i,h=>{const v=f.commands.get(i),b=new Wn(h);return b.set({label:o,icon:l,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(v,"value","isEnabled"),b.on("execute",()=>{f.execute(i),f.editing.view.focus()}),b})}function F4(f,i){const o=[],l=f.parent,h={ignoreElementEnd:!1,startPosition:f,shallow:!0,direction:i},v=l.getAttribute("listIndent"),b=[...new Bo(h)].filter(C=>C.item.is("element")).map(C=>C.item);for(const C of b){if(!C.is("element","listItem")||C.getAttribute("listIndent")<v)break;if(!(C.getAttribute("listIndent")>v)){if(C.getAttribute("listType")!==l.getAttribute("listType")||C.getAttribute("listStyle")!==l.getAttribute("listStyle")||C.getAttribute("listReversed")!==l.getAttribute("listReversed")||C.getAttribute("listStart")!==l.getAttribute("listStart"))break;"backward"===i?o.unshift(C):o.push(C)}}return o}const c9=["disc","circle","square"],vh=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function l9(){const f=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||f?0:O3.call(this)}class mg extends Xe{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(i){return function(o){return c9.includes(o)?"bulleted":vh.includes(o)?"numbered":null}(i)}getSelectedListItems(i){return function(o){let l=[...o.document.selection.getSelectedBlocks()].filter(h=>h.is("element","listItem")).map(h=>{const v=o.change(b=>b.createPositionAt(h,0));return[...F4(v,"backward"),...F4(v,"forward")]}).flat();return l=[...new Set(l)],l}(i)}getSiblingNodes(i,o){return F4(i,o)}}function $6(f){return(i,o,l)=>{const h=l.consumable;if(!h.test(o.item,"insert")||!h.test(o.item,"attribute:listType")||!h.test(o.item,"attribute:listIndent"))return;h.consume(o.item,"insert"),h.consume(o.item,"attribute:listType"),h.consume(o.item,"attribute:listIndent");const v=o.item;O4(v,function a9(f,i){const o=i.mapper,l=i.writer,h="numbered"==f.getAttribute("listType")?"ol":"ul",v=function(C){const a=C.createContainerElement("li");return a.getFillerOffset=l9,a}(l),b=l.createContainerElement(h,null);return l.insert(l.createPositionAt(b,0),v),o.bindElements(f,v),v}(v,l),l,f)}}const pg=(f,i,o)=>{if(!o.consumable.test(i.item,f.name))return;const l=o.mapper.toViewElement(i.item),h=o.writer;h.breakContainer(h.createPositionBefore(l)),h.breakContainer(h.createPositionAfter(l)),h.rename("numbered"==i.attributeNewValue?"ol":"ul",l.parent)},_h=(f,i,o)=>{o.consumable.consume(i.item,f.name);const l=o.mapper.toViewElement(i.item).parent,h=o.writer;g1(h,l,l.nextSibling),g1(h,l.previousSibling,l)},u9=(f,i,o)=>{if(o.consumable.test(i.item,f.name)&&"listItem"!=i.item.name){let l=o.mapper.toViewPosition(i.range.start);const h=o.writer,v=[];for(;("ul"==l.parent.name||"ol"==l.parent.name)&&(l=h.breakContainer(l),"li"==l.parent.name);){const b=l,C=h.createPositionAt(l.parent,"end");if(!b.isEqual(C)){const a=h.remove(h.createRange(b,C));v.push(a)}l=h.createPositionAfter(l.parent)}if(v.length>0){for(let b=0;b<v.length;b++){const C=l.nodeBefore;if(l=h.insert(l,v[b]).end,b>0){const a=g1(h,C,C.nextSibling);a&&a.parent==C&&l.offset--}}g1(h,l.nodeBefore,l.nodeAfter)}}},d9=(f,i,o)=>{const l=o.mapper.toViewPosition(i.position);g1(o.writer,l.nodeBefore,l.nodeAfter)},bh=(f,i,o)=>{if(o.consumable.consume(i.viewItem,{name:!0})){const l=o.writer,h=l.createElement("listItem"),v=function(a){let c=0,u=a.parent;for(;u;){if(u.is("element","li"))c++;else{const p=u.previousSibling;p&&p.is("element","li")&&c++}u=u.parent}return c}(i.viewItem);if(l.setAttribute("listIndent",v,h),l.setAttribute("listType",i.viewItem.parent&&"ol"==i.viewItem.parent.name?"numbered":"bulleted",h),!o.safeInsert(h,i.modelCursor))return;const C=function(a,c,u){const{writer:p,schema:_}=u;let y=p.createPositionAfter(a);for(const A of c)if("ul"==A.name||"ol"==A.name)y=u.convertItem(A,y).modelCursor;else{const S=u.convertItem(A,p.createPositionAt(a,"end")),E=S.modelRange.start.nodeAfter;E&&E.is("element")&&!_.checkChild(a,E.name)&&(a=S.modelCursor.parent.is("element","listItem")?S.modelCursor.parent:vg(S.modelCursor),y=p.createPositionAfter(a))}return y}(h,i.viewItem.getChildren(),o);i.modelRange=l.createRange(i.modelCursor,C),o.updateConversionResult(h,i)}},gg=(f,i,o)=>{if(o.consumable.test(i.viewItem,{name:!0})){const l=Array.from(i.viewItem.getChildren());for(const h of l)!h.is("element","li")&&!Z6(h)&&h._remove()}},Uy=(f,i,o)=>{if(o.consumable.test(i.viewItem,{name:!0})){if(0===i.viewItem.childCount)return;const l=[...i.viewItem.getChildren()];let h=!1;for(const v of l)h&&!Z6(v)&&v._remove(),Z6(v)&&(h=!0)}};function h9(f){return(i,o)=>{if(o.isPhantom)return;const l=o.modelPosition.nodeBefore;if(l&&l.is("element","listItem")){const h=o.mapper.toViewElement(l),v=h.getAncestors().find(Z6),b=f.createPositionAt(h,0).getWalker();for(const C of b){if("elementStart"==C.type&&C.item.is("element","li")){o.viewPosition=C.previousPosition;break}if("elementEnd"==C.type&&C.item==v){o.viewPosition=C.nextPosition;break}}}}}const f9=function(f,[i,o,l]){let v,b=i.is("documentFragment")?i.getChild(0):i;if(v=o?this.createSelection(o,l):this.document.selection,b&&b.is("element","listItem")){const C=v.getFirstPosition();let a=null;if(C.parent.is("element","listItem")?a=C.parent:C.nodeBefore&&C.nodeBefore.is("element","listItem")&&(a=C.nodeBefore),a){const c=a.getAttribute("listIndent");if(c>0)for(;b&&b.is("element","listItem");)b._setAttribute("listIndent",b.getAttribute("listIndent")+c),b=b.nextSibling}}};function vg(f){const i=new Bo({startPosition:f});let o;do{o=i.next()}while(!o.value.item.is("element","listItem"));return o.value.item}function W6(f,i,o,l,h,v){const b=gh(i.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:f}),C=h.mapper,a=h.writer,c=b?b.getAttribute("listIndent"):null;let u;if(b)if(c==f){const p=C.toViewElement(b).parent;u=a.createPositionAfter(p)}else{const p=v.createPositionAt(b,"end");u=C.toViewPosition(p)}else u=o;u=is(u);for(const p of[...l.getChildren()])Z6(p)&&(u=a.move(a.createRangeOn(p),u).end,g1(a,p,p.nextSibling),g1(a,p.previousSibling,p))}function Z6(f){return f.is("element","ol")||f.is("element","ul")}var yh=se(4564);Et()(yh.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Y6 extends Xe{static get pluginName(){return"ListEditing"}static get requires(){return[Ad,io,mg]}init(){const i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=i.data,l=i.editing;var h;i.model.document.registerPostFixer(b=>function(C,a){const c=C.document.differ.getChanges(),u=new Map;let p=!1;for(const S of c)if("insert"==S.type&&"listItem"==S.name)_(S.position);else if("insert"==S.type&&"listItem"!=S.name){if("$text"!=S.name){const E=S.position.nodeAfter;E.hasAttribute("listIndent")&&(a.removeAttribute("listIndent",E),p=!0),E.hasAttribute("listType")&&(a.removeAttribute("listType",E),p=!0),E.hasAttribute("listStyle")&&(a.removeAttribute("listStyle",E),p=!0),E.hasAttribute("listReversed")&&(a.removeAttribute("listReversed",E),p=!0),E.hasAttribute("listStart")&&(a.removeAttribute("listStart",E),p=!0);for(const T of Array.from(C.createRangeIn(E)).filter(V=>V.item.is("element","listItem")))_(T.previousPosition)}_(S.position.getShiftedBy(S.length))}else"remove"==S.type&&"listItem"==S.name?_(S.position):("attribute"==S.type&&"listIndent"==S.attributeKey||"attribute"==S.type&&"listType"==S.attributeKey)&&_(S.range.start);for(const S of u.values())y(S),A(S);return p;function _(S){const E=S.nodeBefore;if(E&&E.is("element","listItem")){let T=E;if(u.has(T))return;for(let V=T.previousSibling;V&&V.is("element","listItem");V=T.previousSibling)if(T=V,u.has(T))return;u.set(E,T)}else{const T=S.nodeAfter;T&&T.is("element","listItem")&&u.set(T,T)}}function y(S){let E=0,T=null;for(;S&&S.is("element","listItem");){const V=S.getAttribute("listIndent");if(V>E){let B;null===T?(T=V-E,B=E):(T>V&&(T=V),B=V-T),a.setAttribute("listIndent",B,S),p=!0}else T=null,E=S.getAttribute("listIndent")+1;S=S.nextSibling}}function A(S){let E=[],T=null;for(;S&&S.is("element","listItem");){const V=S.getAttribute("listIndent");if(T&&T.getAttribute("listIndent")>V&&(E=E.slice(0,V+1)),0!=V)if(E[V]){const B=E[V];S.getAttribute("listType")!=B&&(a.setAttribute("listType",B,S),p=!0)}else E[V]=S.getAttribute("listType");T=S,S=S.nextSibling}}}(i.model,b)),l.mapper.registerViewToModelLength("li",Yd),o.mapper.registerViewToModelLength("li",Yd),l.mapper.on("modelToViewPosition",h9(l.view)),l.mapper.on("viewToModelPosition",(h=i.model,(b,C)=>{const a=C.viewPosition,c=a.parent,u=C.mapper;if("ul"==c.name||"ol"==c.name){if(a.isAtEnd){const p=u.toModelElement(a.nodeBefore),_=u.getModelLength(a.nodeBefore);C.modelPosition=h.createPositionBefore(p).getShiftedBy(_)}else{const p=u.toModelElement(a.nodeAfter);C.modelPosition=h.createPositionBefore(p)}b.stop()}else if("li"==c.name&&a.nodeBefore&&("ul"==a.nodeBefore.name||"ol"==a.nodeBefore.name)){const p=u.toModelElement(c);let _=1,y=a.nodeBefore;for(;y&&Z6(y);)_+=u.getModelLength(y),y=y.previousSibling;C.modelPosition=h.createPositionBefore(p).getShiftedBy(_),b.stop()}})),o.mapper.on("modelToViewPosition",h9(l.view)),i.conversion.for("editingDowncast").add(b=>{var C;b.on("insert",u9,{priority:"high"}),b.on("insert:listItem",$6(i.model)),b.on("attribute:listType:listItem",pg,{priority:"high"}),b.on("attribute:listType:listItem",_h,{priority:"low"}),b.on("attribute:listIndent:listItem",(C=i.model,(a,c,u)=>{if(!u.consumable.consume(c.item,"attribute:listIndent"))return;const p=u.mapper.toViewElement(c.item),_=u.writer;_.breakContainer(_.createPositionBefore(p)),_.breakContainer(_.createPositionAfter(p));const y=p.parent,A=y.previousSibling,S=_.createRangeOn(y);_.remove(S),A&&A.nextSibling&&g1(_,A,A.nextSibling),W6(c.attributeOldValue+1,c.range.start,S.start,p,u,C),O4(c.item,p,u,C);for(const E of c.item.getChildren())u.consumable.consume(E,"insert")})),b.on("remove:listItem",function(C){return(a,c,u)=>{const p=u.mapper.toViewPosition(c.position).getLastMatchingPosition(T=>!T.item.is("element","li")).nodeAfter,_=u.writer;_.breakContainer(_.createPositionBefore(p)),_.breakContainer(_.createPositionAfter(p));const y=p.parent,A=y.previousSibling,S=_.createRangeOn(y),E=_.remove(S);A&&A.nextSibling&&g1(_,A,A.nextSibling),W6(u.mapper.toModelElement(p).getAttribute("listIndent")+1,c.position,S.start,p,u,C);for(const T of _.createRangeIn(E).getItems())u.mapper.unbindViewElement(T);a.stop()}}(i.model)),b.on("remove",d9,{priority:"low"})}),i.conversion.for("dataDowncast").add(b=>{b.on("insert",u9,{priority:"high"}),b.on("insert:listItem",$6(i.model))}),i.conversion.for("upcast").add(b=>{b.on("element:ul",gg,{priority:"high"}),b.on("element:ol",gg,{priority:"high"}),b.on("element:li",Uy,{priority:"high"}),b.on("element:li",bh)}),i.model.on("insertContent",f9,{priority:"high"}),i.commands.add("numberedList",new fg(i,"numbered")),i.commands.add("bulletedList",new fg(i,"bulleted")),i.commands.add("indentList",new Zd(i,"forward")),i.commands.add("outdentList",new Zd(i,"backward"));const v=l.view.document;this.listenTo(v,"enter",(b,C)=>{const a=this.editor.model.document,c=a.selection.getLastPosition().parent;a.selection.isCollapsed&&"listItem"==c.name&&c.isEmpty&&(this.editor.execute("outdentList"),C.preventDefault(),b.stop())},{context:"li"}),this.listenTo(v,"delete",(b,C)=>{if("backward"!==C.direction)return;const a=this.editor.model.document.selection;if(!a.isCollapsed)return;const c=a.getFirstPosition();if(!c.isAtStart)return;const u=c.parent;"listItem"===u.name&&(u.previousSibling&&"listItem"===u.previousSibling.name||(this.editor.execute("outdentList"),C.preventDefault(),b.stop()))},{context:"li"}),this.listenTo(i.editing.view.document,"tab",(b,C)=>{const a=C.shiftKey?"outdentList":"indentList";this.editor.commands.get(a).isEnabled&&(i.execute(a),C.stopPropagation(),C.preventDefault(),b.stop())},{context:"li"})}afterInit(){const i=this.editor.commands,o=i.get("indent"),l=i.get("outdent");o&&o.registerChildCommand(i.get("indentList")),l&&l.registerChildCommand(i.get("outdentList"))}}function Yd(f){let i=1;for(const o of f.getChildren())if("ul"==o.name||"ol"==o.name)for(const l of o.getChildren())i+=Yd(l);return i}class m9 extends Xe{static get pluginName(){return"ListUI"}init(){const i=this.editor.t;q6(this.editor,"numberedList",i("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),q6(this.editor,"bulletedList",i("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function ul(f,i){return l=>{l.on("attribute:url:media",o)};function o(l,h,v){if(!v.consumable.consume(h.item,l.name))return;const b=h.attributeNewValue,C=v.writer,a=v.mapper.toViewElement(h.item),c=[...a.getChildren()].find(p=>p.getCustomProperty("media-content"));C.remove(c);const u=f.getMediaViewElement(C,b,i);C.insert(C.createPositionAt(a,0),u)}}function Bc(f,i,o,l){return f.createContainerElement("figure",{class:"media"},[i.getMediaViewElement(f,o,l),f.createSlot()])}function wh(f){const i=f.getSelectedElement();return i&&i.is("element","media")?i:null}function P_(f,i,o,l){f.change(h=>{const v=h.createElement("media",{url:i});f.insertObject(v,o,null,{setSelection:"on",findOptimalPosition:l})})}class R_ extends on{refresh(){const i=this.editor.model,o=i.document.selection,l=wh(o);this.value=l?l.getAttribute("url"):null,this.isEnabled=function(h){const v=h.getSelectedElement();return!!v&&"media"===v.name}(o)||function(h,v){let C=_f(h,v).start.parent;return C.isEmpty&&!v.schema.isLimit(C)&&(C=C.parent),v.schema.checkChild(C,"media")}(o,i)}execute(i){const o=this.editor.model,l=o.document.selection,h=wh(l);h?o.change(v=>{v.setAttribute("url",i,h)}):P_(o,i,l,!0)}}class _g{constructor(i,o){const l=o.providers,h=o.extraProviders||[],v=new Set(o.removeProviders),b=l.concat(h).filter(C=>{const a=C.name;return a?!v.has(a):(Fe("media-embed-no-provider-name",{provider:C}),!1)});this.locale=i,this.providerDefinitions=b}hasMedia(i){return!!this._getMedia(i)}getMediaViewElement(i,o,l){return this._getMedia(o).getViewElement(i,l)}_getMedia(i){if(!i)return new p9(this.locale);i=i.trim();for(const o of this.providerDefinitions){const l=o.html,h=$n(o.url);for(const v of h){const b=this._getUrlMatches(i,v);if(b)return new p9(this.locale,i,b,l)}}return null}_getUrlMatches(i,o){let l=i.match(o);if(l)return l;let h=i.replace(/^https?:\/\//,"");return l=h.match(o),l||(h=h.replace(/^www\./,""),l=h.match(o),l||null)}}class p9{constructor(i,o,l,h){this.url=this._getValidUrl(o),this._locale=i,this._match=l,this._previewRenderer=h}getViewElement(i,o){const l={};let h;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(l["data-oembed-url"]=this.url),o.renderForEditingView&&(l.class="ck-media__wrapper");const v=this._getPreviewHtml(o);h=i.createRawElement("div",l,(b,C)=>{C.setContentOf(b,v)})}else this.url&&(l.url=this.url),h=i.createEmptyElement(o.elementName,l);return i.setCustomProperty("media-content",!0,h),h}_getPreviewHtml(i){return this._previewRenderer?this._previewRenderer(this._match):this.url&&i.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const i=new D3,o=this._locale.t;return i.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',i.viewBox="0 0 64 42",new Qr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[i]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":o("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(i){return i?i.match(/^https?/)?i:"https://"+i:null}}var Kd=se(7442);Et()(Kd.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Fa extends Xe{static get pluginName(){return"MediaEmbedEditing"}constructor(i){super(i),i.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:o=>{const h=o[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o[1]}${h?`?start=${h}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new _g(i.locale,i.config.get("mediaEmbed"))}init(){const i=this.editor,o=i.model.schema,l=i.t,h=i.conversion,v=i.config.get("mediaEmbed.previewsInData"),b=i.config.get("mediaEmbed.elementName"),C=this.registry;i.commands.add("mediaEmbed",new R_(i)),o.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),h.for("dataDowncast").elementToStructure({model:"media",view:(a,{writer:c})=>{const u=a.getAttribute("url");return Bc(c,C,u,{elementName:b,renderMediaPreview:u&&v})}}),h.for("dataDowncast").add(ul(C,{elementName:b,renderMediaPreview:v})),h.for("editingDowncast").elementToStructure({model:"media",view:(a,{writer:c})=>{const u=a.getAttribute("url");return p=Bc(c,C,u,{elementName:b,renderForEditingView:!0}),_=c,y=l("media widget"),_.setCustomProperty("media",!0,p),vf(p,_,{label:y});var p,_,y}}),h.for("editingDowncast").add(ul(C,{elementName:b,renderForEditingView:!0})),h.for("upcast").elementToElement({view:a=>["oembed",b].includes(a.name)&&a.getAttribute("url")?{name:!0}:null,model:(a,{writer:c})=>{const u=a.getAttribute("url");if(C.hasMedia(u))return c.createElement("media",{url:u})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(a,{writer:c})=>{const u=a.getAttribute("data-oembed-url");if(C.hasMedia(u))return c.createElement("media",{url:u})}}).add(a=>{a.on("element:figure",function(c,u,p){if(!p.consumable.consume(u.viewItem,{name:!0,classes:"media"}))return;const{modelRange:_,modelCursor:y}=p.convertChildren(u.viewItem,u.modelCursor);u.modelRange=_,u.modelCursor=y,gi(_.getItems())||p.consumable.revert(u.viewItem,{name:!0,classes:"media"})})})}}const g9=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class v9 extends Xe{static get requires(){return[wf,io,G8]}static get pluginName(){return"AutoMediaEmbed"}constructor(i){super(i),this._timeoutId=null,this._positionToInsert=null}init(){const i=this.editor,o=i.model.document;this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const l=o.selection.getFirstRange(),h=Cs.fromPosition(l.start);h.stickiness="toPrevious";const v=Cs.fromPosition(l.end);v.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(h,v),h.detach(),v.detach()},{priority:"high"})}),i.commands.get("undo").on("execute",()=>{this._timeoutId&&(ln.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(i,o){const l=this.editor,h=l.plugins.get(Fa).registry,v=new ys(i,o),b=v.getWalker({ignoreElementEnd:!0});let C="";for(const a of b)a.item.is("$textProxy")&&(C+=a.item.data);C=C.trim(),C.match(g9)&&h.hasMedia(C)&&l.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Cs.fromPosition(i),this._timeoutId=ln.window.setTimeout(()=>{l.model.change(a=>{let c;this._timeoutId=null,a.remove(v),v.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(c=this._positionToInsert),P_(l.model,C,c,!1),this._positionToInsert.detach(),this._positionToInsert=null}),l.plugins.get("Delete").requestUndoOnBackspace()},100)):v.detach()}}var _9=se(9292);Et()(_9.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class kh extends un{constructor(i,o){super(o);const l=o.t;this.focusTracker=new zr,this.keystrokes=new vi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),di.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",h=>!!h),this.cancelButtonView=this._createButton(l("Cancel"),di.cancel,"ck-button-cancel","cancel"),this._focusables=new Hs,this._focusCycler=new _a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=i,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),ne(this)}render(){super.render(),F({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const i=o=>o.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",(o,l)=>{l.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(i){this.urlInputView.fieldView.element.value=i.trim()}isValid(){this.resetFormStatus();for(const i of this._validators){const o=i(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const i=this.locale.t,o=new J3(this.locale,X3),l=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,l.on("input",()=>{o.infoText=l.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=l.element.value.trim()}),o}_createButton(i,o,l,h){const v=new Wn(this.locale);return v.set({label:i,icon:o,tooltip:!0}),v.extendTemplate({attributes:{class:l}}),h&&v.delegate("execute").to(this,h),v}}class Ah extends Xe{static get requires(){return[Fa]}static get pluginName(){return"MediaEmbedUI"}init(){const i=this.editor,o=i.commands.get("mediaEmbed");i.ui.componentFactory.add("mediaEmbed",l=>{const h=B1(l);return this._setUpDropdown(h,o),h})}_setUpDropdown(i,o){const l=this.editor,h=l.t,v=i.buttonView,b=l.plugins.get(Fa).registry;i.once("change:isOpen",()=>{const C=new kh((a=l.t,c=b,[u=>{if(!u.url.length)return a("The URL must not be empty.")},u=>{if(!c.hasMedia(u.url))return a("This media URL is not supported.")}]),l.locale);var a,c;i.panelView.children.add(C),v.on("open",()=>{C.disableCssTransitions(),C.url=o.value||"",C.urlInputView.fieldView.select(),C.enableCssTransitions()},{priority:"low"}),i.on("submit",()=>{C.isValid()&&(l.execute("mediaEmbed",C.url),l.editing.view.focus())}),i.on("change:isOpen",()=>C.resetFormStatus()),i.on("cancel",()=>{l.editing.view.focus()}),C.delegate("submit","cancel").to(i),C.urlInputView.bind("value").to(o,"value"),C.urlInputView.bind("isReadOnly").to(o,"isEnabled",a=>!a)}),i.bind("isEnabled").to(o),v.set({label:h("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var K6=se(4652);function Mh(f,i,o,{blockElements:l,inlineObjectElements:h}){let v=o.createPositionAt(f,"forward"==i?"after":"before");return v=v.getLastMatchingPosition(({item:b})=>b.is("element")&&!l.includes(b.name)&&!h.includes(b.name),{direction:i}),"forward"==i?v.nodeAfter:v.nodeBefore}function O_(f,i){return!!f&&f.is("element")&&i.includes(f.name)}function F_(f){if(f.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(f){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return f;default:return null}}function xh(f,i,o){const l=i.parent,h=o.createElement(f.type),v=l.getChildIndex(i)+1;return o.insertChild(v,h,l),f.style&&o.setStyle("list-style-type",f.style,h),f.startIndex&&f.startIndex>1&&o.setAttribute("start",f.startIndex,h),h}function Qd(f){const i={},o=f.getStyle("mso-list");if(o){const l=o.match(/(^|\s{1,100})l(\d+)/i),h=o.match(/\s{0,100}lfo(\d+)/i),v=o.match(/\s{0,100}level(\d+)/i);l&&h&&v&&(i.id=l[2],i.order=h[1],i.indent=parseInt(v[1]))}return i}Et()(K6.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const j4=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class v1{constructor(i){this.document=i}isActive(i){return j4.test(i)}execute(i){const o=new m4(this.document),{body:l}=i._parsedData;(function(h,v){for(const b of h.getChildren())if(b.is("element","b")&&"normal"===b.getStyle("font-weight")){const C=h.getChildIndex(b);v.remove(b),v.insertChild(C,b.getChildren(),h)}})(l,o),function(h,v){for(const b of v.createRangeIn(h)){const C=b.item;if(C.is("element","li")){const a=C.getChild(0);a&&a.is("element","p")&&v.unwrapElement(a)}}}(l,o),function(h,v){const b=new T0(v.document.stylesProcessor),C=new U3(b,{renderingMode:"data"}),a=C.blockElements,c=C.inlineObjectElements,u=[];for(const p of v.createRangeIn(h)){const _=p.item;if(_.is("element","br")){const y=Mh(_,"forward",v,{blockElements:a,inlineObjectElements:c}),A=Mh(_,"backward",v,{blockElements:a,inlineObjectElements:c}),S=O_(y,a);(O_(A,a)||S)&&u.push(_)}}for(const p of u)p.hasClass("Apple-interchange-newline")?v.remove(p):v.replace(p,v.createElement("p"))}(l,o),i.content=l}}function Sh(f){return btoa(f.match(/\w{2}/g).map(i=>String.fromCharCode(parseInt(i,16))).join(""))}const Q6=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,B_=/xmlns:o="urn:schemas-microsoft-com/i;class b9{constructor(i){this.document=i}isActive(i){return Q6.test(i)||B_.test(i)}execute(i){const{body:o,stylesString:l}=i._parsedData;(function Ba(f,i){if(!f.childCount)return;const o=new m4(f.document),l=function(b,C){const a=C.createRangeIn(b),c=new Ir({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),u=[];for(const p of a)if("elementStart"===p.type&&c.match(p.item)){const _=Qd(p.item);u.push({element:p.item,id:_.id,order:_.order,indent:_.indent})}return u}(f,o);if(!l.length)return;let h=null,v=1;l.forEach((b,C)=>{const a=function(A,S){if(!A)return!0;if(A.id!==S.id)return S.indent-A.indent!=1;const E=S.element.previousSibling;return!E||!((T=E).is("element","ol")||T.is("element","ul"));var T}(l[C-1],b),u=(_=b,(p=a?null:l[C-1])?_.indent-p.indent:_.indent-1);var p,_;if(a&&(h=null,v=1),!h||0!==u){const A=function(S,E){const V=/mso-level-number-format:([^;]{0,100});/gi,B=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,X=new RegExp(`@list l${S.id}:level${S.indent}\\s*({[^}]*)`,"gi").exec(E);let le="decimal",ke="ol",Oe=null;if(X&&X[1]){const rt=V.exec(X[1]);if(rt&&rt[1]&&(le=rt[1].trim(),ke="bullet"!==le&&"image"!==le?"ol":"ul"),"bullet"===le){const dt=function(Pt){const $e=function(Bn){if(Bn.getChild(0).is("$text"))return null;for(const Xn of Bn.getChildren()){if(!Xn.is("element","span"))continue;const Kt=Xn.getChild(0);return Kt.is("$text")?Kt:Kt.getChild(0)}return null}(Pt);if(!$e)return null;const jt=$e._data;return"o"===jt?"circle":"\xb7"===jt?"disc":"\xa7"===jt?"square":null}(S.element);dt&&(le=dt)}else{const dt=B.exec(X[1]);dt&&dt[1]&&(Oe=parseInt(dt[1]))}}return{type:ke,startIndex:Oe,style:F_(le)}}(b,i);if(h)if(b.indent>v){const S=h.getChild(h.childCount-1),E=S.getChild(S.childCount-1);h=xh(A,E,o),v+=1}else b.indent<v&&(h=function(E,T){const V=E.getAncestors({parentFirst:!0});let B=null,X=0;for(const le of V)if((le.is("element","ul")||le.is("element","ol"))&&X++,X===T){B=le;break}return B}(h,v-b.indent),v=b.indent);else h=xh(A,b.element,o);b.indent<=v&&(h.is("element",A.type)||(h=o.rename(A.type,h)))}const y=(function(E,T){const V=new Ir({name:"span",styles:{"mso-list":"Ignore"}}),B=T.createRangeIn(E);for(const X of B)"elementStart"===X.type&&V.match(X.item)&&T.remove(X.item)}(A=b.element,S=o),S.rename("li",A));var A,S;o.appendChild(y,h)})})(o,l),function yg(f,i){if(!f.childCount)return;const o=new m4(f.document),l=function(v,b){const C=b.createRangeIn(v),a=new Ir({name:/v:(.+)/}),c=[];for(const u of C){if("elementStart"!=u.type)continue;const p=u.item,_=p.previousSibling,y=_&&_.is("element")?_.name:null;a.match(p)&&p.getAttribute("o:gfxdata")&&"v:shapetype"!==y&&c.push(u.item.getAttribute("id"))}return c}(f,o);(function(v,b,C){const a=C.createRangeIn(b),c=new Ir({name:"img"}),u=[];for(const p of a)if(p.item.is("element")&&c.match(p.item)){const _=p.item,y=_.getAttribute("v:shapes")?_.getAttribute("v:shapes").split(" "):[];y.length&&y.every(A=>v.indexOf(A)>-1)?u.push(_):_.getAttribute("src")||u.push(_)}for(const p of u)C.remove(p)})(l,f,o),function(v,b,C){const a=C.createRangeIn(b),c=[];for(const _ of a)if("elementStart"==_.type&&_.item.is("element","v:shape")){const y=_.item.getAttribute("id");if(v.includes(y))continue;u(_.item.parent.getChildren(),y)||c.push(_.item)}for(const _ of c){const y={src:p(_)};_.hasAttribute("alt")&&(y.alt=_.getAttribute("alt"));const A=C.createElement("img",y);C.insertChild(_.index+1,A,_.parent)}function u(_,y){for(const A of _)if(A.is("element")&&("img"==A.name&&A.getAttribute("v:shapes")==y||u(A.getChildren(),y)))return!0;return!1}function p(_){for(const y of _.getChildren())if(y.is("element")&&y.getAttribute("src"))return y.getAttribute("src")}}(l,f,o),function(v,b){const C=b.createRangeIn(v),a=new Ir({name:/v:(.+)/}),c=[];for(const u of C)"elementStart"==u.type&&a.match(u.item)&&c.push(u.item);for(const u of c)b.remove(u)}(f,o);const h=function(v,b){const C=b.createRangeIn(v),a=new Ir({name:"img"}),c=[];for(const u of C)u.item.is("element")&&a.match(u.item)&&u.item.getAttribute("src").startsWith("file://")&&c.push(u.item);return c}(f,o);h.length&&function(v,b,C){if(v.length===b.length)for(let a=0;a<v.length;a++){const c=`data:${b[a].type};base64,${Sh(b[a].hex)}`;C.setAttribute("src",c,v[a])}}(h,function(v){if(!v)return[];const b=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,C=new RegExp("(?:("+b.source+"))([\\da-fA-F\\s]+)\\}","g"),a=v.match(C),c=[];if(a)for(const u of a){let p=!1;u.includes("\\pngblip")?p="image/png":u.includes("\\jpegblip")&&(p="image/jpeg"),p&&c.push({hex:u.replace(b,"").replace(/[^\da-fA-F]/g,""),type:p})}return c}(i),o)}(o,i.dataTransfer.getData("text/rtf")),i.content=o}}function Eh(f){return f.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(i,o)=>1===o.length?" ":Array(o.length+1).join("\xa0 ").substr(0,o.length))}function Wi(f,i,o,l,h=1){i>h?l.setAttribute(f,i,o):l.removeAttribute(f,o)}function jc(f,i,o={}){const l=f.createElement("tableCell",o);return f.insertElement("paragraph",l),f.insert(l,i),l}function J6(f,i){const l=parseInt(i.parent.parent.getAttribute("headingColumns")||0),{column:h}=f.getCellLocation(i);return!!l&&h<l}function Dh(f){return i=>{i.on(`element:${f}`,(o,l,{writer:h})=>{if(!l.modelRange)return;const v=l.modelRange.start.nodeAfter,b=h.createPositionAt(v,0);if(l.viewItem.isEmpty)return void h.insertElement("paragraph",b);const C=Array.from(v.getChildren());if(C.every(a=>a.is("element","$marker"))){const a=h.createElement("paragraph");h.insert(a,h.createPositionAt(v,0));for(const c of C)h.move(h.createRangeOn(c),h.createPositionAt(a,"end"))}},{priority:"low"})}}function wg(f){let i=0,o=0;const l=Array.from(f.getChildren()).filter(h=>"th"===h.name||"td"===h.name);for(;o<l.length&&"th"===l[o].name;)i+=parseInt(l[o].getAttribute("colspan")||1),o++;return i}class Zn{constructor(i,o={}){this._table=i,this._startRow=void 0!==o.row?o.row:o.startRow||0,this._endRow=void 0!==o.row?o.row:o.endRow,this._startColumn=void 0!==o.column?o.column:o.startColumn||0,this._endColumn=void 0!==o.column?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const i=this._table.getChild(this._rowIndex);if(!i||this._isOverEndRow())return{done:!0};if(!i.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const l=this._getSpanned();if(l)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(l.cell,l.row,l.column));else{const h=i.getChild(this._cellIndex);if(!h)return this._advanceToNextRow();const v=parseInt(h.getAttribute("colspan")||1),b=parseInt(h.getAttribute("rowspan")||1);(v>1||b>1)&&this._recordSpans(h,b,v),this._shouldSkipSlot()||(o=this._formatOutValue(h)),this._nextCellAtColumn=this._column+v}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(i){this._skipRows.add(i)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(i,o=this._row,l=this._column){return{done:!1,value:new Uc(this,i,o,l)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const i=this._spannedCells.get(this._row);return i&&i.get(this._column)||null}_recordSpans(i,o,l){const h={cell:i,row:this._row,column:this._column};for(let v=this._row;v<this._row+o;v++)for(let b=this._column;b<this._column+l;b++)v==this._row&&b==this._column||this._markSpannedCell(v,b,h)}_markSpannedCell(i,o,l){this._spannedCells.has(i)||this._spannedCells.set(i,new Map),this._spannedCells.get(i).set(o,l)}}class Uc{constructor(i,o,l,h){this.cell=o,this.row=i._row,this.column=i._column,this.cellAnchorRow=l,this.cellAnchorColumn=h,this._cellIndex=i._cellIndex,this._rowIndex=i._rowIndex,this._table=i._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function Gc(f,i={}){return(o,{writer:l})=>{const h=o.getAttribute("headingRows")||0,v=[];h>0&&v.push(l.createContainerElement("thead",null,l.createSlot(C=>C.is("element","tableRow")&&C.index<h))),h<f.getRows(o)&&v.push(l.createContainerElement("tbody",null,l.createSlot(C=>C.is("element","tableRow")&&C.index>=h)));const b=l.createContainerElement("figure",{class:"table"},[l.createContainerElement("table",null,v),l.createSlot(C=>!C.is("element","tableRow"))]);return i.asWidget?((a=l).setCustomProperty("table",!0,C=b),vf(C,a,{hasSelectionHandle:!0})):b;var C,a}}function C9(f={}){return(i,{writer:o})=>{const l=i.parent,h=l.parent,v=h.getChildIndex(l),b=new Zn(h,{row:v}),C=h.getAttribute("headingRows")||0,a=h.getAttribute("headingColumns")||0;for(const c of b)if(c.cell==i){const u=c.row<C||c.column<a?"th":"td";return f.asWidget?m1(o.createEditableElement(u),o):o.createContainerElement(u)}}}function U4(f={}){return(i,{writer:o})=>{if(i.parent.is("element","tableCell")&&G4(i)){if(f.asWidget)return o.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const l=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}}}function G4(f){return 1==f.parent.childCount&&![...f.getAttributeKeys()].length}class zh extends on{refresh(){const i=this.editor.model;this.isEnabled=function(h,v){const b=h.getFirstPosition().parent;return v.checkChild(b===b.root?b:b.parent,"table")}(i.document.selection,i.schema)}execute(i={}){const o=this.editor.model,l=this.editor.plugins.get("TableUtils"),h=this.editor.config.get("table"),v=h.defaultHeadings.rows,b=h.defaultHeadings.columns;void 0===i.headingRows&&v&&(i.headingRows=v),void 0===i.headingColumns&&b&&(i.headingColumns=b),o.change(C=>{const a=l.createTable(C,i);o.insertObject(a,null,null,{findOptimalPosition:"auto"}),C.setSelection(C.createPositionAt(a.getNodeByPath([0,0,0]),0))})}}class w9 extends on{constructor(i,o={}){super(i),this.order=o.order||"below"}refresh(){const i=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=o}execute(){const i=this.editor,o=i.model.document.selection,l=i.plugins.get("TableUtils"),h="above"===this.order,v=l.getSelectionAffectedTableCells(o),b=l.getRowIndexes(v),C=h?b.first:b.last,a=v[0].findAncestor("table");l.insertRows(a,{at:h?C:C+1,copyStructureFromAbove:!h})}}class k9 extends on{constructor(i,o={}){super(i),this.order=o.order||"right"}refresh(){const i=this.editor.model.document.selection,o=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(i).length;this.isEnabled=o}execute(){const i=this.editor,o=i.model.document.selection,l=i.plugins.get("TableUtils"),h="left"===this.order,v=l.getSelectionAffectedTableCells(o),b=l.getColumnIndexes(v),C=h?b.first:b.last,a=v[0].findAncestor("table");l.insertColumns(a,{columns:1,at:h?C:C+1})}}class X6 extends on{constructor(i,o={}){super(i),this.direction=o.direction||"horizontally"}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===i.length}execute(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?i.splitCellHorizontally(o,2):i.splitCellVertically(o,2)}}function eu(f,i,o){const{startRow:l,startColumn:h,endRow:v,endColumn:b}=i,C=o.createElement("table"),a=v-l+1;for(let u=0;u<a;u++)o.insertElement("tableRow",C,"end");const c=[...new Zn(f,{startRow:l,endRow:v,startColumn:h,endColumn:b,includeAllSlots:!0})];for(const{row:u,column:p,cell:_,isAnchor:y,cellAnchorRow:A,cellAnchorColumn:S}of c){const T=C.getChild(u-l);if(y){const V=o.cloneElement(_);o.append(V,T),Mg(V,u,p,v,b,o)}else(A<l||S<h)&&jc(o,o.createPositionAt(T,"end"))}return function(u,p,_,y,A){const S=parseInt(p.getAttribute("headingRows")||0);S>0&&Wi("headingRows",S-_,u,A,0);const E=parseInt(p.getAttribute("headingColumns")||0);E>0&&Wi("headingColumns",E-y,u,A,0)}(C,f,l,h,o),C}function kg(f,i,o=0){const l=[],h=new Zn(f,{startRow:o,endRow:i-1});for(const v of h){const{row:b,cellHeight:C}=v;b<i&&i<=b+C-1&&l.push(v)}return l}function Fi(f,i,o){const l=f.parent,h=l.parent,v=l.index,b=i-v,C={},a=parseInt(f.getAttribute("rowspan"))-b;a>1&&(C.rowspan=a);const c=parseInt(f.getAttribute("colspan")||1);c>1&&(C.colspan=c);const u=v+b,p=[...new Zn(h,{startRow:v,endRow:u,includeAllSlots:!0})];let _,y=null;for(const A of p){const{row:S,column:E,cell:T}=A;T===f&&void 0===_&&(_=E),void 0!==_&&_===E&&S===u&&(y=jc(o,A.getPositionBefore(),C))}return Wi("rowspan",b,f,o),y}function Ag(f,i){const o=[],l=new Zn(f);for(const h of l){const{column:v,cellWidth:b}=h;v<i&&i<=v+b-1&&o.push(h)}return o}function A9(f,i,o,l){const h=o-i,v={},b=parseInt(f.getAttribute("colspan"))-h;b>1&&(v.colspan=b);const C=parseInt(f.getAttribute("rowspan")||1);C>1&&(v.rowspan=C);const a=jc(l,l.createPositionAfter(f),v);return Wi("colspan",h,f,l),a}function Mg(f,i,o,l,h,v){const b=parseInt(f.getAttribute("colspan")||1),C=parseInt(f.getAttribute("rowspan")||1);o+b-1>h&&Wi("colspan",h-o+1,f,v,1),i+C-1>l&&Wi("rowspan",l-i+1,f,v,1)}function Ih(f,i){const o=i.getColumns(f),l=new Array(o).fill(0);for(const{column:v}of new Zn(f))l[v]++;const h=l.reduce((v,b,C)=>b?v:[...v,C],[]);return h.length>0&&(i.removeColumns(f,{at:h[h.length-1]}),!0)}function M9(f,i){const o=[],l=i.getRows(f);for(let h=0;h<l;h++)f.getChild(h).isEmpty&&o.push(h);return o.length>0&&(i.removeRows(f,{at:o[o.length-1]}),!0)}function tu(f,i){Ih(f,i)||M9(f,i)}function Th(f,i){const o=Array.from(new Zn(f,{startColumn:i.firstColumn,endColumn:i.lastColumn,row:i.lastRow}));return o.every(({cellHeight:h})=>1===h)?i.lastRow:i.lastRow+(o[0].cellHeight-1)}function nu(f,i){const o=Array.from(new Zn(f,{startRow:i.firstRow,endRow:i.lastRow,column:i.lastColumn}));return o.every(({cellWidth:h})=>1===h)?i.lastColumn:i.lastColumn+(o[0].cellWidth-1)}class iu extends on{constructor(i,o){super(i),this.direction=o.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const i=this._getMergeableCell();this.value=i,this.isEnabled=!!i}execute(){const i=this.editor.model,o=i.document,l=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(o.selection)[0],h=this.value,v=this.direction;i.change(b=>{const C="right"==v||"down"==v,a=C?l:h,c=C?h:l,u=c.parent;var S,E,T;E=a,T=b,U1(S=c)||(U1(E)&&T.remove(T.createRangeIn(E)),T.move(T.createRangeIn(S),T.createPositionAt(E,"end"))),T.remove(S);const p=this.isHorizontal?"colspan":"rowspan",_=parseInt(l.getAttribute(p)||1),y=parseInt(h.getAttribute(p)||1);b.setAttribute(p,_+y,a),b.setSelection(b.createRangeIn(a));const A=this.editor.plugins.get("TableUtils");tu(u.findAncestor("table"),A)})}_getMergeableCell(){const i=this.editor.model.document,o=this.editor.plugins.get("TableUtils"),l=o.getTableCellsContainingSelection(i.selection)[0];if(!l)return;const h=this.isHorizontal?function(C,a,c){const _="right"==a?C.nextSibling:C.previousSibling,y=(C.parent.parent.getAttribute("headingColumns")||0)>0;if(!_)return;const A="right"==a?C:_,S="right"==a?_:C,{column:E}=c.getCellLocation(A),{column:T}=c.getCellLocation(S),V=parseInt(A.getAttribute("colspan")||1),B=J6(c,A),X=J6(c,S);return y&&B!=X?void 0:E+V===T?_:void 0}(l,this.direction,o):function(C,a,c){const u=C.parent,p=u.parent,_=p.getChildIndex(u);if("down"==a&&_===c.getRows(p)-1||"up"==a&&0===_)return;const y=parseInt(C.getAttribute("rowspan")||1),A=p.getAttribute("headingRows")||0;if(A&&("down"==a&&_+y===A||"up"==a&&_===A))return;const T=parseInt(C.getAttribute("rowspan")||1),V="down"==a?_+T:_,B=[...new Zn(p,{endRow:V})],le=B.find(Oe=>Oe.cell===C).column,ke=B.find(({row:Oe,cellHeight:rt,column:dt})=>dt===le&&("down"==a?Oe===V:V===Oe+rt));return ke&&ke.cell}(l,this.direction,o);if(!h)return;const v=this.isHorizontal?"rowspan":"colspan",b=parseInt(l.getAttribute(v)||1);return parseInt(h.getAttribute(v)||1)===b?h:void 0}}function U1(f){return 1==f.childCount&&f.getChild(0).is("element","paragraph")&&f.getChild(0).isEmpty}class x9 extends on{refresh(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection),l=o[0];if(l){const h=l.findAncestor("table"),v=this.editor.plugins.get("TableUtils").getRows(h)-1,b=i.getRowIndexes(o);this.isEnabled=!(0===b.first&&b.last===v)}else this.isEnabled=!1}execute(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),l=o.getSelectionAffectedTableCells(i.document.selection),h=o.getRowIndexes(l),v=l[0],b=v.findAncestor("table"),C=o.getCellLocation(v).column;i.change(a=>{o.removeRows(b,{at:h.first,rows:h.last-h.first+1});const u=function(p,_,y,A){const S=p.getChild(Math.min(_,A-1));let E=S.getChild(0),T=0;for(const V of S.getChildren()){if(T>y)return E;E=V,T+=parseInt(V.getAttribute("colspan")||1)}return E}(b,h.first,C,o.getRows(b));a.setSelection(a.createPositionAt(u,0))})}}class Lh extends on{refresh(){const i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(this.editor.model.document.selection),l=o[0];if(l){const h=l.findAncestor("table"),v=i.getColumns(h),{first:b,last:C}=i.getColumnIndexes(o);this.isEnabled=C-b<v-1}else this.isEnabled=!1}execute(){const i=this.editor.plugins.get("TableUtils"),[o,l]=function(a,c){const u=c.getSelectionAffectedTableCells(a),p=u[0],_=u.pop(),y=[p,_];return p.isBefore(_)?y:y.reverse()}(this.editor.model.document.selection,i),h=o.parent.parent,v=[...new Zn(h)],b={first:v.find(a=>a.cell===o).column,last:v.find(a=>a.cell===l).column},C=(a=v,c=o,u=l,p=b,parseInt(u.getAttribute("colspan")||1)>1?u:c.previousSibling||u.nextSibling?u.nextSibling||c.previousSibling:p.first?a.reverse().find(({column:y})=>y<p.first).cell:a.reverse().find(({column:y})=>y>p.last).cell);var a,c,u,p;this.editor.model.change(a=>{const c=b.last-b.first+1;this.editor.plugins.get("TableUtils").removeColumns(h,{at:b.first,columns:c}),a.setSelection(a.createPositionAt(C,0))})}}class Jd extends on{refresh(){const l=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),h=l.length>0;this.isEnabled=h,this.value=h&&l.every(v=>this._isInHeading(v,v.parent.parent))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),l=this.editor.model,h=o.getSelectionAffectedTableCells(l.document.selection),v=h[0].findAncestor("table"),{first:b,last:C}=o.getRowIndexes(h),a=this.value?b:C+1,c=v.getAttribute("headingRows")||0;l.change(u=>{if(a){const p=kg(v,a,a>c?c:0);for(const{cell:_}of p)Fi(_,a,u)}Wi("headingRows",a,v,u,0)})}_isInHeading(i,o){const l=parseInt(o.getAttribute("headingRows")||0);return!!l&&i.parent.index<l}}class Nh extends on{refresh(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),l=o.getSelectionAffectedTableCells(i.document.selection),h=l.length>0;this.isEnabled=h,this.value=h&&l.every(v=>J6(o,v))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.plugins.get("TableUtils"),l=this.editor.model,h=o.getSelectionAffectedTableCells(l.document.selection),v=h[0].findAncestor("table"),{first:b,last:C}=o.getColumnIndexes(h),a=this.value?b:C+1;l.change(c=>{if(a){const u=Ag(v,a);for(const{cell:p,column:_}of u)A9(p,_,a,c)}Wi("headingColumns",a,v,c,0)})}}class vr extends Xe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(i){const o=i.parent,l=o.parent,h=l.getChildIndex(o),v=new Zn(l,{row:h});for(const{cell:b,row:C,column:a}of v)if(b===i)return{row:C,column:a}}createTable(i,o){const l=i.createElement("table"),h=parseInt(o.rows)||2,v=parseInt(o.columns)||2;return Vh(i,l,0,h,v),o.headingRows&&Wi("headingRows",Math.min(o.headingRows,h),l,i,0),o.headingColumns&&Wi("headingColumns",Math.min(o.headingColumns,v),l,i,0),l}insertRows(i,o={}){const l=this.editor.model,h=o.at||0,v=o.rows||1,b=void 0!==o.copyStructureFromAbove,C=o.copyStructureFromAbove?h-1:h,a=this.getRows(i),c=this.getColumns(i);if(h>a)throw new q("tableutils-insertrows-insert-out-of-range",this,{options:o});l.change(u=>{const p=i.getAttribute("headingRows")||0;if(p>h&&Wi("headingRows",p+v,i,u,0),!b&&(0===h||h===a))return void Vh(u,i,h,v,c);const _=b?Math.max(h,C):h,y=new Zn(i,{endRow:_}),A=new Array(c).fill(1);for(const{row:S,column:E,cellHeight:T,cellWidth:V,cell:B}of y){const X=S+T-1,le=S<=C&&C<=X;S<h&&h<=X?(u.setAttribute("rowspan",T+v,B),A[E]=-V):b&&le&&(A[E]=V)}for(let S=0;S<v;S++){const E=u.createElement("tableRow");u.insert(E,i,h);for(let T=0;T<A.length;T++){const V=A[T],B=u.createPositionAt(E,"end");V>0&&jc(u,B,V>1?{colspan:V}:null),T+=Math.abs(V)-1}}})}insertColumns(i,o={}){const h=o.at||0,v=o.columns||1;this.editor.model.change(b=>{const C=i.getAttribute("headingColumns");h<C&&b.setAttribute("headingColumns",C+v,i);const a=this.getColumns(i);if(0===h||a===h){for(const u of i.getChildren())u.is("element","tableRow")&&dl(v,b,b.createPositionAt(u,h?"end":0));return}const c=new Zn(i,{column:h,includeAllSlots:!0});for(const u of c){const{row:p,cell:_,cellAnchorColumn:y,cellAnchorRow:A,cellWidth:S,cellHeight:E}=u;if(y<h){b.setAttribute("colspan",S+v,_);const T=A+E-1;for(let V=p;V<=T;V++)c.skipRow(V)}else dl(v,b,u.getPositionBefore())}})}removeRows(i,o){const l=this.editor.model,h=o.rows||1,v=this.getRows(i),b=o.at,C=b+h-1;if(C>v-1)throw new q("tableutils-removerows-row-index-out-of-range",this,{table:i,options:o});l.change(a=>{const{cellsToMove:c,cellsToTrim:u}=function(p,_,y){const A=new Map,S=[];for(const{row:E,column:T,cellHeight:V,cell:B}of new Zn(p,{endRow:y})){const X=E+V-1;if(E>=_&&E<=y&&X>y&&A.set(T,{cell:B,rowspan:V-(y-E+1)}),E<_&&X>=_){let le;le=X>=y?y-_+1:X-_+1,S.push({cell:B,rowspan:V-le})}}return{cellsToMove:A,cellsToTrim:S}}(i,b,C);c.size&&function(p,_,y,A){const E=[...new Zn(p,{includeAllSlots:!0,row:_})],T=p.getChild(_);let V;for(const{column:B,cell:X,isAnchor:le}of E)if(y.has(B)){const{cell:ke,rowspan:Oe}=y.get(B),rt=V?A.createPositionAfter(V):A.createPositionAt(T,0);A.move(A.createRangeOn(ke),rt),Wi("rowspan",Oe,ke,A),V=ke}else le&&(V=X)}(i,C+1,c,a);for(let p=C;p>=b;p--)a.remove(i.getChild(p));for(const{rowspan:p,cell:_}of u)Wi("rowspan",p,_,a);(function(p,_,y,A){const S=p.getAttribute("headingRows")||0;_<S&&Wi("headingRows",y<S?S-(y-_+1):_,p,A,0)})(i,b,C,a),Ih(i,this)||M9(i,this)})}removeColumns(i,o){const h=o.at,b=o.at+(o.columns||1)-1;this.editor.model.change(C=>{!function(a,c,u){const p=a.getAttribute("headingColumns")||0;if(p&&c.first<p){const _=Math.min(p-1,c.last)-c.first+1;u.setAttribute("headingColumns",p-_,a)}}(i,{first:h,last:b},C);for(let a=b;a>=h;a--)for(const{cell:c,column:u,cellWidth:p}of[...new Zn(i)])u<=a&&p>1&&u+p>a?Wi("colspan",p-1,c,C):u===a&&C.remove(c);M9(i,this)||Ih(i,this)})}splitCellVertically(i,o=2){const l=this.editor.model,h=i.parent.parent,v=parseInt(i.getAttribute("rowspan")||1),b=parseInt(i.getAttribute("colspan")||1);l.change(C=>{if(b>1){const{newCellsSpan:a,updatedSpan:c}=Hh(b,o);Wi("colspan",c,i,C);const u={};a>1&&(u.colspan=a),v>1&&(u.rowspan=v),dl(b>o?o-1:b-1,C,C.createPositionAfter(i),u)}if(b<o){const a=o-b,c=[...new Zn(h)],{column:u}=c.find(({cell:A})=>A===i),p=c.filter(({cell:A,cellWidth:S,column:E})=>A!==i&&E===u||E<u&&E+S>u);for(const{cell:A,cellWidth:S}of p)C.setAttribute("colspan",S+a,A);const _={};v>1&&(_.rowspan=v),dl(a,C,C.createPositionAfter(i),_);const y=h.getAttribute("headingColumns")||0;y>u&&Wi("headingColumns",y+a,h,C)}})}splitCellHorizontally(i,o=2){const l=this.editor.model,h=i.parent,v=h.parent,b=v.getChildIndex(h),C=parseInt(i.getAttribute("rowspan")||1),a=parseInt(i.getAttribute("colspan")||1);l.change(c=>{if(C>1){const u=[...new Zn(v,{startRow:b,endRow:b+C-1,includeAllSlots:!0})],{newCellsSpan:p,updatedSpan:_}=Hh(C,o);Wi("rowspan",_,i,c);const{column:y}=u.find(({cell:S})=>S===i),A={};p>1&&(A.rowspan=p),a>1&&(A.colspan=a);for(const S of u){const{column:E,row:T}=S;T>=b+_&&E===y&&(T+b+_)%p==0&&dl(1,c,S.getPositionBefore(),A)}}if(C<o){const u=o-C,p=[...new Zn(v,{startRow:0,endRow:b})];for(const{cell:A,cellHeight:S,row:E}of p)A!==i&&E+S>b&&c.setAttribute("rowspan",S+u,A);const _={};a>1&&(_.colspan=a),Vh(c,v,b+1,u,1,_);const y=v.getAttribute("headingRows")||0;y>b&&Wi("headingRows",y+u,v,c)}})}getColumns(i){return[...i.getChild(0).getChildren()].reduce((o,l)=>o+parseInt(l.getAttribute("colspan")||1),0)}getRows(i){return Array.from(i.getChildren()).reduce((o,l)=>l.is("element","tableRow")?o+1:o,0)}createTableWalker(i,o={}){return new Zn(i,o)}getSelectedTableCells(i){const o=[];for(const l of this.sortRanges(i.getRanges())){const h=l.getContainedElement();h&&h.is("element","tableCell")&&o.push(h)}return o}getTableCellsContainingSelection(i){const o=[];for(const l of i.getRanges()){const h=l.start.findAncestor("tableCell");h&&o.push(h)}return o}getSelectionAffectedTableCells(i){const o=this.getSelectedTableCells(i);return o.length?o:this.getTableCellsContainingSelection(i)}getRowIndexes(i){const o=i.map(l=>l.parent.index);return this._getFirstLastIndexesObject(o)}getColumnIndexes(i){const o=i[0].findAncestor("table"),l=[...new Zn(o)].filter(h=>i.includes(h.cell)).map(h=>h.column);return this._getFirstLastIndexesObject(l)}isSelectionRectangular(i){if(i.length<2||!this._areCellInTheSameTableSection(i))return!1;const o=new Set,l=new Set;let h=0;for(const b of i){const{row:C,column:a}=this.getCellLocation(b),c=parseInt(b.getAttribute("rowspan")||1),u=parseInt(b.getAttribute("colspan")||1);o.add(C),l.add(a),c>1&&o.add(C+c-1),u>1&&l.add(a+u-1),h+=c*u}return function(b,C){const a=Array.from(b.values()),c=Array.from(C.values());return(Math.max(...a)-Math.min(...a)+1)*(Math.max(...c)-Math.min(...c)+1)}(o,l)==h}sortRanges(i){return Array.from(i).sort(j_)}_getFirstLastIndexesObject(i){const o=i.sort((l,h)=>l-h);return{first:o[0],last:o[o.length-1]}}_areCellInTheSameTableSection(i){const o=i[0].findAncestor("table"),l=this.getRowIndexes(i),h=parseInt(o.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(l,h))return!1;const v=parseInt(o.getAttribute("headingColumns")||0),b=this.getColumnIndexes(i);return this._areIndexesInSameSection(b,v)}_areIndexesInSameSection({first:i,last:o},l){return i<l==o<l}}function Vh(f,i,o,l,h,v={}){for(let b=0;b<l;b++){const C=f.createElement("tableRow");f.insert(C,i,o),dl(h,f,f.createPositionAt(C,"end"),v)}}function dl(f,i,o,l={}){for(let h=0;h<f;h++)jc(i,o,l)}function Hh(f,i){if(f<i)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(f/i);return{newCellsSpan:o,updatedSpan:f-o*i+o}}function j_(f,i){return f.start.isBefore(i.start)?-1:1}class Xd extends on{refresh(){const i=this.editor.plugins.get(vr),o=i.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=i.isSelectionRectangular(o,this.editor.plugins.get(vr))}execute(){const i=this.editor.model,o=this.editor.plugins.get(vr);i.change(l=>{const h=o.getSelectedTableCells(i.document.selection),v=h.shift(),{mergeWidth:b,mergeHeight:C}=function(a,c,u){let p=0,_=0;for(const T of c){const{row:V,column:B}=u.getCellLocation(T);p=ru(T,B,p,"colspan"),_=ru(T,V,_,"rowspan")}const{row:y,column:A}=u.getCellLocation(a);return{mergeWidth:p-A,mergeHeight:_-y}}(v,h,o);Wi("colspan",b,v,l),Wi("rowspan",C,v,l);for(const a of h)U_(a,v,l);tu(v.findAncestor("table"),o),l.setSelection(v,"in")})}}function U_(f,i,o){S9(f)||(S9(i)&&o.remove(o.createRangeIn(i)),o.move(o.createRangeIn(f),o.createPositionAt(i,"end"))),o.remove(f)}function S9(f){return 1==f.childCount&&f.getChild(0).is("element","paragraph")&&f.getChild(0).isEmpty}function ru(f,i,o,l){const h=parseInt(f.getAttribute(l)||1);return Math.max(o,i+h)}class G_ extends on{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),l=o.getSelectionAffectedTableCells(i.document.selection),h=o.getRowIndexes(l),v=l[0].findAncestor("table"),b=[];for(let C=h.first;C<=h.last;C++)for(const a of v.getChild(C).getChildren())b.push(i.createRangeOn(a));i.change(C=>{C.setSelection(b)})}}class q_ extends on{constructor(i){super(i),this.affectsData=!1}refresh(){const i=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,l=i.getSelectionAffectedTableCells(o.document.selection),h=l[0],v=l.pop(),b=h.findAncestor("table"),C=i.getCellLocation(h),a=i.getCellLocation(v),c=Math.min(C.column,a.column),u=Math.max(C.column,a.column),p=[];for(const _ of new Zn(b,{startColumn:c,endColumn:u}))p.push(o.createRangeOn(_.cell));o.change(_=>{_.setSelection(p)})}}function Sg(f,i){let o=!1;const l=function(h){const v=parseInt(h.getAttribute("headingRows")||0),b=Array.from(h.getChildren()).reduce((a,c)=>c.is("element","tableRow")?a+1:a,0),C=[];for(const{row:a,cell:c,cellHeight:u}of new Zn(h)){if(u<2)continue;const p=a<v?v:b;a+u>p&&C.push({cell:c,rowspan:p-a})}return C}(f);if(l.length){o=!0;for(const h of l)Wi("rowspan",h.rowspan,h.cell,i,1)}return o}function $_(f,i){let o=!1;const l=function(C){const a=new Array(C.childCount).fill(0);for(const{rowIndex:c}of new Zn(C,{includeAllSlots:!0}))a[c]++;return a}(f),h=[];for(const[C,a]of l.entries())!a&&f.getChild(C).is("element","tableRow")&&h.push(C);if(h.length){o=!0;for(const C of h.reverse())i.remove(f.getChild(C)),l.splice(C,1)}const v=l.filter((C,a)=>f.getChild(a).is("element","tableRow")),b=v[0];if(!v.every(C=>C===b)){const C=v.reduce((a,c)=>c>a?c:a,0);for(const[a,c]of v.entries()){const u=C-c;if(u){for(let p=0;p<u;p++)jc(i,i.createPositionAt(f.getChild(a),"end"));o=!0}}}return o}function Ph(f){const o=f.attributeKey;return"attribute"===f.type&&("headingRows"===o||"colspan"===o||"rowspan"===o)}function Eg(f,i){let o=!1;for(const l of f.getChildren())l.is("element","tableRow")&&(o=hl(l,i)||o);return o}function hl(f,i){let o=!1;for(const l of f.getChildren())o=t5(l,i)||o;return o}function t5(f,i){if(0==f.childCount)return i.insertElement("paragraph",f),!0;const o=Array.from(f.getChildren()).filter(l=>l.is("$text"));for(const l of o)i.wrap(i.createRangeOn(l),"paragraph");return!!o.length}function fl(f){return!(!f.position||!f.position.parent.is("element","tableCell"))&&("insert"==f.type&&"$text"==f.name||"remove"==f.type)}function E9(f,i){if(!f.is("element","paragraph"))return!1;const o=i.toViewElement(f);return!!o&&G4(f)!==o.is("element","span")}var n5=se(3881);Et()(n5.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class _1 extends Xe{static get pluginName(){return"TableEditing"}static get requires(){return[vr]}init(){const i=this.editor,o=i.model,l=o.schema,h=i.conversion,v=i.plugins.get(vr);l.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),l.register("tableRow",{allowIn:"table",isLimit:!0}),l.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),h.for("upcast").add(b=>{b.on("element:figure",(C,a,c)=>{if(!c.consumable.test(a.viewItem,{name:!0,classes:"table"}))return;const u=function(_){for(const y of _.getChildren())if(y.is("element","table"))return y}(a.viewItem);if(!u||!c.consumable.test(u,{name:!0}))return;c.consumable.consume(a.viewItem,{name:!0,classes:"table"});const p=gi(c.convertItem(u,a.modelCursor).modelRange.getItems());p?(c.convertChildren(a.viewItem,c.writer.createPositionAt(p,"end")),c.updateConversionResult(p,a)):c.consumable.revert(a.viewItem,{name:!0,classes:"table"})})}),h.for("upcast").add(function y9(){return f=>{f.on("element:table",(i,o,l)=>{const h=o.viewItem;if(!l.consumable.test(h,{name:!0}))return;const{rows:v,headingRows:b,headingColumns:C}=function(u){const p={headingRows:0,headingColumns:0},_=[],y=[];let A;for(const S of Array.from(u.getChildren()))if("tbody"===S.name||"thead"===S.name||"tfoot"===S.name){"thead"!==S.name||A||(A=S);const E=Array.from(S.getChildren()).filter(T=>T.is("element","tr"));for(const T of E)if("thead"===T.parent.name&&T.parent===A)p.headingRows++,_.push(T);else{y.push(T);const V=wg(T);V>p.headingColumns&&(p.headingColumns=V)}}return p.rows=[..._,...y],p}(h),a={};C&&(a.headingColumns=C),b&&(a.headingRows=b);const c=l.writer.createElement("table",a);if(l.safeInsert(c,o.modelCursor)){if(l.consumable.consume(h,{name:!0}),v.forEach(u=>l.convertItem(u,l.writer.createPositionAt(c,"end"))),l.convertChildren(h,l.writer.createPositionAt(c,"end")),c.isEmpty){const u=l.writer.createElement("tableRow");l.writer.insert(u,l.writer.createPositionAt(c,"end")),jc(l.writer,l.writer.createPositionAt(u,"end"))}l.updateConversionResult(c,o)}})}}()),h.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Gc(v,{asWidget:!0})}),h.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:Gc(v)}),h.for("upcast").elementToElement({model:"tableRow",view:"tr"}),h.for("upcast").add(b=>{b.on("element:tr",(C,a)=>{a.viewItem.isEmpty&&0==a.modelCursor.index&&C.stop()},{priority:"high"})}),h.for("downcast").elementToElement({model:"tableRow",view:(b,{writer:C})=>b.isEmpty?C.createEmptyElement("tr"):C.createContainerElement("tr")}),h.for("upcast").elementToElement({model:"tableCell",view:"td"}),h.for("upcast").elementToElement({model:"tableCell",view:"th"}),h.for("upcast").add(Dh("td")),h.for("upcast").add(Dh("th")),h.for("editingDowncast").elementToElement({model:"tableCell",view:C9({asWidget:!0})}),h.for("dataDowncast").elementToElement({model:"tableCell",view:C9()}),h.for("editingDowncast").elementToElement({model:"paragraph",view:U4({asWidget:!0}),converterPriority:"high"}),h.for("dataDowncast").elementToElement({model:"paragraph",view:U4(),converterPriority:"high"}),h.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),h.for("upcast").attributeToAttribute({model:{key:"colspan",value:i5("colspan")},view:"colspan"}),h.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),h.for("upcast").attributeToAttribute({model:{key:"rowspan",value:i5("rowspan")},view:"rowspan"}),i.config.define("table.defaultHeadings.rows",0),i.config.define("table.defaultHeadings.columns",0),i.commands.add("insertTable",new zh(i)),i.commands.add("insertTableRowAbove",new w9(i,{order:"above"})),i.commands.add("insertTableRowBelow",new w9(i,{order:"below"})),i.commands.add("insertTableColumnLeft",new k9(i,{order:"left"})),i.commands.add("insertTableColumnRight",new k9(i,{order:"right"})),i.commands.add("removeTableRow",new x9(i)),i.commands.add("removeTableColumn",new Lh(i)),i.commands.add("splitTableCellVertically",new X6(i,{direction:"vertically"})),i.commands.add("splitTableCellHorizontally",new X6(i,{direction:"horizontally"})),i.commands.add("mergeTableCells",new Xd(i)),i.commands.add("mergeTableCellRight",new iu(i,{direction:"right"})),i.commands.add("mergeTableCellLeft",new iu(i,{direction:"left"})),i.commands.add("mergeTableCellDown",new iu(i,{direction:"down"})),i.commands.add("mergeTableCellUp",new iu(i,{direction:"up"})),i.commands.add("setTableColumnHeader",new Nh(i)),i.commands.add("setTableRowHeader",new Jd(i)),i.commands.add("selectTableRow",new G_(i)),i.commands.add("selectTableColumn",new q_(i)),function xg(f){f.document.registerPostFixer(i=>function(o,l){const h=l.document.differ.getChanges();let v=!1;const b=new Set;for(const C of h){let a;"table"==C.name&&"insert"==C.type&&(a=C.position.nodeAfter),"tableRow"!=C.name&&"tableCell"!=C.name||(a=C.position.findAncestor("table")),Ph(C)&&(a=C.range.start.findAncestor("table")),a&&!b.has(a)&&(v=Sg(a,o)||v,v=$_(a,o)||v,b.add(a))}return v}(i,f))}(o),function e5(f){f.document.registerPostFixer(i=>function(o,l){const h=l.document.differ.getChanges();let v=!1;for(const b of h)"insert"==b.type&&"table"==b.name&&(v=Eg(b.position.nodeAfter,o)||v),"insert"==b.type&&"tableRow"==b.name&&(v=hl(b.position.nodeAfter,o)||v),"insert"==b.type&&"tableCell"==b.name&&(v=t5(b.position.nodeAfter,o)||v),fl(b)&&(v=t5(b.position.parent,o)||v);return v}(i,f))}(o),this.listenTo(o.document,"change:data",()=>{(function(b,C){const a=b.document.differ;for(const c of a.getChanges()){let u,p=!1;if("attribute"==c.type){const S=c.range.start.nodeAfter;if(!S||!S.is("element","table")||"headingRows"!=c.attributeKey&&"headingColumns"!=c.attributeKey)continue;u=S,p="headingRows"==c.attributeKey}else"tableRow"!=c.name&&"tableCell"!=c.name||(u=c.position.findAncestor("table"),p="tableRow"==c.name);if(!u)continue;const _=u.getAttribute("headingRows")||0,y=u.getAttribute("headingColumns")||0,A=new Zn(u);for(const S of A){const E=S.row<_||S.column<y?"th":"td",T=C.mapper.toViewElement(S.cell);T&&T.is("element")&&T.name!=E&&C.reconvertItem(p?S.cell.parent:S.cell)}}})(o,i.editing),function(b,C){const a=b.document.differ,c=new Set;for(const u of a.getChanges()){const p="attribute"==u.type?u.range.start.parent:u.position.parent;p.is("element","tableCell")&&c.add(p)}for(const u of c.values()){const p=Array.from(u.getChildren()).filter(_=>E9(_,C.mapper));for(const _ of p)C.reconvertItem(_)}}(o,i.editing)})}}function i5(f){return i=>{const o=parseInt(i.getAttribute(f));return Number.isNaN(o)||o<=0?null:o}}var r5=se(1613);Et()(r5.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Gy extends un{constructor(i){super(i);const o=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new vi,this.focusTracker=new zr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(l,h)=>`${h} \xd7 ${l}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:o.to("label")}]}],on:{mousedown:o.to(l=>{l.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(l,h)=>{const{row:v,column:b}=h.target.dataset;this.items.get(10*(parseInt(v,10)-1)+(parseInt(b,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(l,h,v)=>{if(!v)return;const{row:b,column:C}=v.dataset;this.set({rows:parseInt(b),columns:parseInt(C)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:i,focusTracker:o,gridItems:l,numberOfColumns:h,uiLanguageDirection:v}){const b="number"==typeof h?()=>h:h;function C(u){return p=>{const _=l.find(S=>S.element===o.focusedElement),y=l.getIndex(_),A=u(y,l);l.get(A).focus(),p.stopPropagation(),p.preventDefault()}}function a(u,p){return u===p-1?0:u+1}function c(u,p){return 0===u?p-1:u-1}i.set("arrowright",C((u,p)=>"rtl"===v?c(u,p.length):a(u,p.length))),i.set("arrowleft",C((u,p)=>"rtl"===v?a(u,p.length):c(u,p.length))),i.set("arrowup",C((u,p)=>{let _=u-b();return _<0&&(_=u+b()*Math.floor(p.length/b()),_>p.length-1&&(_-=b())),_})),i.set("arrowdown",C((u,p)=>{let _=u+b();return _>p.length-1&&(_=u%b()),_}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const i of this.items)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const i=this.rows,o=this.columns;this.items.map((l,h)=>{const v=Math.floor(h/10)<i&&h%10<o;l.set("isOn",v)})}_createGridButton(i,o,l,h){const v=new Wn(i);return v.set({label:h,class:"ck-insert-table-dropdown-grid-box"}),v.extendTemplate({attributes:{"data-row":o,"data-column":l}}),v}_createGridCollection(){const i=[];for(let o=0;o<100;o++){const l=Math.floor(o/10),h=o%10;i.push(this._createGridButton(this.locale,l+1,h+1,`${l+1} \xd7 ${h+1}`))}return this.createCollection(i)}}class W2 extends Xe{static get pluginName(){return"TableUI"}init(){const i=this.editor,o=this.editor.t,l="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",h=>{const v=i.commands.get("insertTable"),b=B1(h);let C;return b.bind("isEnabled").to(v),b.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),b.on("change:isOpen",()=>{C||(C=new Gy(h),b.panelView.children.add(C),C.delegate("execute").to(b),b.on("execute",()=>{i.execute("insertTable",{rows:C.rows,columns:C.columns}),i.editing.view.focus()}))}),b}),i.ui.componentFactory.add("tableColumn",h=>{const v=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',v,h)}),i.ui.componentFactory.add("tableRow",h=>{const v=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',v,h)}),i.ui.componentFactory.add("mergeTableCells",h=>{const v=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',v,h)})}_prepareDropdown(i,o,l,h){const v=this.editor,b=B1(h),C=this._fillDropdownWithListOptions(b,l);return b.buttonView.set({label:i,icon:o,tooltip:!0}),b.bind("isEnabled").toMany(C,"isEnabled",(...a)=>a.some(c=>c)),this.listenTo(b,"execute",a=>{v.execute(a.source.commandName),a.source instanceof c1||v.editing.view.focus()}),b}_prepareMergeSplitButtonDropdown(i,o,l,h){const v=this.editor,b=B1(h,ps),C="mergeTableCells",a=v.commands.get(C),c=this._fillDropdownWithListOptions(b,l);return b.buttonView.set({label:i,icon:o,tooltip:!0,isEnabled:!0}),b.bind("isEnabled").toMany([a,...c],"isEnabled",(...u)=>u.some(p=>p)),this.listenTo(b.buttonView,"execute",()=>{v.execute(C),v.editing.view.focus()}),this.listenTo(b,"execute",u=>{v.execute(u.source.commandName),v.editing.view.focus()}),b}_fillDropdownWithListOptions(i,o){const l=this.editor,h=[],v=new Wr;for(const b of o)Dg(b,l,h,v);return _4(i,v),h}}function Dg(f,i,o,l){const h=f.model=new w8(f.model),{commandName:v,bindIsOn:b}=f.model;if("button"===f.type||"switchbutton"===f.type){const C=i.commands.get(v);o.push(C),h.set({commandName:v}),h.bind("isEnabled").to(C),b&&h.bind("isOn").to(C,"value")}h.set({withText:!0}),l.add(f)}var oi=se(6945);Et()(oi.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $c extends Xe{static get pluginName(){return"TableSelection"}static get requires(){return[vr,vr]}init(){const i=this.editor,l=i.editing.view;this.listenTo(i.model,"deleteContent",(h,v)=>this._handleDeleteContent(h,v),{priority:"high"}),this.listenTo(l.document,"insertText",(h,v)=>this._handleInsertTextEvent(h,v),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const l=this.editor.plugins.get(vr).getSelectedTableCells(this.editor.model.document.selection);return 0==l.length?null:l}getSelectionAsFragment(){const i=this.editor.plugins.get(vr),o=this.getSelectedTableCells();return o?this.editor.model.change(l=>{const h=l.createDocumentFragment(),{first:v,last:b}=i.getColumnIndexes(o),{first:C,last:a}=i.getRowIndexes(o),c=o[0].findAncestor("table");let u=a,p=b;if(i.isSelectionRectangular(o)){const y={firstColumn:v,lastColumn:b,firstRow:C,lastRow:a};u=Th(c,y),p=nu(c,y)}const _=eu(c,{startRow:C,startColumn:v,endRow:u,endColumn:p},l);return l.insert(_,h,0),h}):null}setCellSelection(i,o){const l=this._getCellsToSelect(i,o);this.editor.model.change(h=>{h.setSelection(l.cells.map(v=>h.createRangeOn(v)),{backward:l.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const i=gi(this.editor.model.document.selection.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const i=this.editor,o=new Set;i.conversion.for("editingDowncast").add(l=>l.on("selection",(h,v,b)=>{const C=b.writer;!function(u){for(const p of o)u.removeClass("ck-editor__editable_selected",p);o.clear()}(C);const a=this.getSelectedTableCells();if(!a)return;for(const u of a){const p=b.mapper.toViewElement(u);C.addClass("ck-editor__editable_selected",p),o.add(p)}const c=b.mapper.toViewElement(a[a.length-1]);C.setSelection(c,0)},{priority:"lowest"}))}_enablePluginDisabling(){const i=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;i.model.change(l=>{const h=l.createPositionAt(o[0],0),v=i.model.schema.getNearestSelectionRange(h);l.setSelection(v)})}})}_handleDeleteContent(i,o){const l=this.editor.plugins.get(vr),[h,v]=o,b=this.editor.model,C=!v||"backward"==v.direction,a=l.getSelectedTableCells(h);a.length&&(i.stop(),b.change(c=>{const u=a[C?a.length-1:0];b.change(_=>{for(const y of a)b.deleteContent(_.createSelection(y,"in"))});const p=b.schema.getNearestSelectionRange(c.createPositionAt(u,0));h.is("documentSelection")?c.setSelection(p):h.setTo(p)}))}_handleInsertTextEvent(i,o){const l=this.editor,v=this.getSelectedTableCells(l.model.document.selection);if(!v)return;const b=l.editing.view,C=l.editing.mapper,a=v.map(c=>b.createRangeOn(C.toViewElement(c)));o.selection=b.createSelection(a)}_getCellsToSelect(i,o){const l=this.editor.plugins.get("TableUtils"),h=l.getCellLocation(i),v=l.getCellLocation(o),b=Math.min(h.row,v.row),C=Math.max(h.row,v.row),a=Math.min(h.column,v.column),c=Math.max(h.column,v.column),u=new Array(C-b+1).fill(null).map(()=>[]),p={startRow:b,endRow:C,startColumn:a,endColumn:c};for(const{row:A,cell:S}of new Zn(i.findAncestor("table"),p))u[A-b].push(S);const _=v.row<h.row,y=v.column<h.column;return _&&u.reverse(),y&&u.forEach(A=>A.reverse()),{cells:u.flat(),backward:_||y}}}class Z2 extends Xe{static get pluginName(){return"TableClipboard"}static get requires(){return[$c,vr]}init(){const i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",(l,h)=>this._onCopyCut(l,h)),this.listenTo(o,"cut",(l,h)=>this._onCopyCut(l,h)),this.listenTo(i.model,"insertContent",(l,h)=>this._onInsertContent(l,...h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(i,o){const l=this.editor.plugins.get($c);if(!l.getSelectedTableCells()||"cut"==i.name&&this.editor.isReadOnly)return;o.preventDefault(),i.stop();const v=this.editor.editing.view.document,b=this.editor.data.toView(l.getSelectionAsFragment());v.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:b,method:i.name})}_onInsertContent(i,o,l){if(l&&!l.is("documentSelection"))return;const h=this.editor.model,v=this.editor.plugins.get(vr);let b=D9(o,h);if(!b)return;const C=v.getSelectionAffectedTableCells(h.document.selection);C.length?(i.stop(),h.change(a=>{const c={width:v.getColumns(b),height:v.getRows(b)},u=function(E,T,V,B){const X=E[0].findAncestor("table"),le=B.getColumnIndexes(E),ke=B.getRowIndexes(E),Oe={firstColumn:le.first,lastColumn:le.last,firstRow:ke.first,lastRow:ke.last},rt=1===E.length;return rt&&(Oe.lastRow+=T.height-1,Oe.lastColumn+=T.width-1,function(dt,Pt,$e,jt){const Bn=jt.getColumns(dt),Xn=jt.getRows(dt);$e>Bn&&jt.insertColumns(dt,{at:Bn,columns:$e-Bn}),Pt>Xn&&jt.insertRows(dt,{at:Xn,rows:Pt-Xn})}(X,Oe.lastRow+1,Oe.lastColumn+1,B)),rt||!B.isSelectionRectangular(E)?function(dt,Pt,$e){const{firstRow:jt,lastRow:Bn,firstColumn:Xn,lastColumn:Kt}=Pt,c5={first:jt,last:Bn},Y_={first:Xn,last:Kt};Wc(dt,Xn,c5,$e),Wc(dt,Kt+1,c5,$e),o5(dt,jt,Y_,$e),o5(dt,Bn+1,Y_,$e,jt)}(X,Oe,V):(Oe.lastRow=Th(X,Oe),Oe.lastColumn=nu(X,Oe)),Oe}(C,c,a,v),_=u.lastColumn-u.firstColumn+1,y={startRow:0,startColumn:0,endRow:Math.min(u.lastRow-u.firstRow+1,c.height)-1,endColumn:Math.min(_,c.width)-1};b=eu(b,y,a);const A=C[0].findAncestor("table"),S=this._replaceSelectedCellsWithPasted(b,c,A,u,a);if(this.editor.plugins.get("TableSelection").isEnabled){const E=v.sortRanges(S.map(T=>a.createRangeOn(T)));a.setSelection(E)}else a.setSelection(S[0],0)})):tu(b,v)}_replaceSelectedCellsWithPasted(i,o,l,h,v){const{width:b,height:C}=o,a=function(E,T,V){const B=new Array(V).fill(null).map(()=>new Array(T).fill(null));for(const{column:X,row:le,cell:ke}of new Zn(E))B[le][X]=ke;return B}(i,b,C),c=[...new Zn(l,{startRow:h.firstRow,endRow:h.lastRow,startColumn:h.firstColumn,endColumn:h.lastColumn,includeAllSlots:!0})],u=[];let p;for(const E of c){const{row:T,column:V}=E;V===h.firstColumn&&(p=E.getPositionBefore());const le=a[(T-h.firstRow)%C][(V-h.firstColumn)%b],ke=le?v.cloneElement(le):null,Oe=this._replaceTableSlotCell(E,ke,p,v);Oe&&(Mg(Oe,T,V,h.lastRow,h.lastColumn,v),u.push(Oe),p=v.createPositionAfter(Oe))}const _=parseInt(l.getAttribute("headingRows")||0),y=parseInt(l.getAttribute("headingColumns")||0),S=h.firstColumn<y&&y<=h.lastColumn;if(h.firstRow<_&&_<=h.lastRow){const E=o5(l,_,{first:h.firstColumn,last:h.lastColumn},v,h.firstRow);u.push(...E)}if(S){const E=Wc(l,y,{first:h.firstRow,last:h.lastRow},v);u.push(...E)}return u}_replaceTableSlotCell(i,o,l,h){const{cell:v,isAnchor:b}=i;return b&&h.remove(v),o?(h.insert(o,l),o):null}getTableIfOnlyTableInContent(i,o){return D9(i,o)}}function D9(f,i){if(!f.is("documentFragment")&&!f.is("element"))return null;if(f.is("element","table"))return f;if(1==f.childCount&&f.getChild(0).is("element","table"))return f.getChild(0);const o=i.createRangeIn(f);for(const l of o.getItems())if(l.is("element","table")){const h=i.createRange(o.start,i.createPositionBefore(l));if(i.hasContent(h,{ignoreWhitespaces:!0}))return null;const v=i.createRange(i.createPositionAfter(l),o.end);return i.hasContent(v,{ignoreWhitespaces:!0})?null:l}return null}function o5(f,i,o,l,h=0){if(!(i<1))return kg(f,i,h).filter(({column:v,cellWidth:b})=>s5(v,b,o)).map(({cell:v})=>Fi(v,i,l))}function Wc(f,i,o,l){if(!(i<1))return Ag(f,i).filter(({row:h,cellHeight:v})=>s5(h,v,o)).map(({cell:h,column:v})=>A9(h,v,i,l))}function s5(f,i,o){const l=f+i-1,{first:h,last:v}=o;return f>=h&&f<=v||f<h&&l>=h}class z9 extends Xe{static get pluginName(){return"TableKeyboard"}static get requires(){return[$c,vr]}init(){const i=this.editor.editing.view.document;this.listenTo(i,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"}),this.listenTo(i,"tab",(...o)=>this._handleTabOnSelectedTable(...o),{context:"figure"}),this.listenTo(i,"tab",(...o)=>this._handleTab(...o),{context:["th","td"]})}_handleTabOnSelectedTable(i,o){const l=this.editor,h=l.model.document.selection.getSelectedElement();h&&h.is("element","table")&&(o.preventDefault(),o.stopPropagation(),i.stop(),l.model.change(v=>{v.setSelection(v.createRangeIn(h.getChild(0).getChild(0)))}))}_handleTab(i,o){const l=this.editor,h=this.editor.plugins.get(vr),b=!o.shiftKey;let C=h.getTableCellsContainingSelection(l.model.document.selection)[0];if(C||(C=this.editor.plugins.get("TableSelection").getFocusCell()),!C)return;o.preventDefault(),o.stopPropagation(),i.stop();const a=C.parent,c=a.parent,u=c.getChildIndex(a),p=a.getChildIndex(C),_=0===p;if(!b&&_&&0===u)return void l.model.change(E=>{E.setSelection(E.createRangeOn(c))});const y=p===a.childCount-1,A=u===h.getRows(c)-1;if(b&&A&&y&&(l.execute("insertTableRowBelow"),u===h.getRows(c)-1))return void l.model.change(E=>{E.setSelection(E.createRangeOn(c))});let S;if(b&&y)S=c.getChild(u+1).getChild(0);else if(!b&&_){const E=c.getChild(u-1);S=E.getChild(E.childCount-1)}else S=a.getChild(p+(b?1:-1));l.model.change(E=>{E.setSelection(E.createRangeIn(S))})}_onArrowKey(i,o){const h=Vo(o.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(h,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),i.stop())}_handleArrowKeys(i,o){const l=this.editor.plugins.get(vr),h=this.editor.model,v=h.document.selection,b=["right","down"].includes(i),C=l.getSelectedTableCells(v);if(C.length){let c;return c=o?this.editor.plugins.get("TableSelection").getFocusCell():b?C[C.length-1]:C[0],this._navigateFromCellInDirection(c,i,o),!0}const a=v.focus.findAncestor("tableCell");if(!a)return!1;if(!v.isCollapsed)if(o){if(v.isBackward==b&&!v.containsEntireContent(a))return!1}else{const c=v.getSelectedElement();if(!c||!h.schema.isObject(c))return!1}return!!this._isSelectionAtCellEdge(v,a,b)&&(this._navigateFromCellInDirection(a,i,o),!0)}_isSelectionAtCellEdge(i,o,l){const h=this.editor.model,v=this.editor.model.schema,b=l?i.getLastPosition():i.getFirstPosition();if(!v.getLimitElement(b).is("element","tableCell"))return h.createPositionAt(o,l?"end":0).isTouching(b);const C=h.createSelection(b);return h.modifySelection(C,{direction:l?"forward":"backward"}),b.isEqual(C.focus)}_navigateFromCellInDirection(i,o,l=!1){const h=this.editor.model,v=i.findAncestor("table"),b=[...new Zn(v,{includeAllSlots:!0})],{row:C,column:a}=b[b.length-1],c=b.find(({cell:S})=>S==i);let{row:u,column:p}=c;switch(o){case"left":p--;break;case"up":u--;break;case"right":p+=c.cellWidth;break;case"down":u+=c.cellHeight}if(u<0||u>C||p<0&&u<=0||p>a&&u>=C)return void h.change(S=>{S.setSelection(S.createRangeOn(v))});p<0?(p=l?0:a,u--):p>a&&(p=l?a:0,u++);const _=b.find(S=>S.row==u&&S.column==p).cell,y=["right","down"].includes(o),A=this.editor.plugins.get("TableSelection");if(l&&A.isEnabled){const S=A.getAnchorCell()||i;A.setCellSelection(S,_)}else{const S=h.createPositionAt(_,y?0:"end");h.change(E=>{E.setSelection(S)})}}}class Zc extends xc{constructor(i){super(i),this.domEventType=["mousemove","mouseleave"]}onDomEvent(i){this.fire(i.type,i)}}class G1 extends Xe{static get pluginName(){return"TableMouse"}static get requires(){return[$c,vr]}init(){this.editor.editing.view.addObserver(Zc),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const i=this.editor,o=i.plugins.get(vr);let l=!1;const h=i.plugins.get($c);this.listenTo(i.editing.view.document,"mousedown",(v,b)=>{const C=i.model.document.selection;if(!this.isEnabled||!h.isEnabled||!b.domEvent.shiftKey)return;const a=h.getAnchorCell()||o.getTableCellsContainingSelection(C)[0];if(!a)return;const c=this._getModelTableCellFromDomEvent(b);c&&oo(a,c)&&(l=!0,h.setCellSelection(a,c),b.preventDefault())}),this.listenTo(i.editing.view.document,"mouseup",()=>{l=!1}),this.listenTo(i.editing.view.document,"selectionChange",v=>{l&&v.stop()},{priority:"highest"})}_enableMouseDragSelection(){const i=this.editor;let o,l,h=!1,v=!1;const b=i.plugins.get($c);this.listenTo(i.editing.view.document,"mousedown",(C,a)=>{this.isEnabled&&b.isEnabled&&(a.domEvent.shiftKey||a.domEvent.ctrlKey||a.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(a)))}),this.listenTo(i.editing.view.document,"mousemove",(C,a)=>{if(!a.domEvent.buttons||!o)return;const c=this._getModelTableCellFromDomEvent(a);c&&oo(o,c)&&(l=c,h||l==o||(h=!0)),h&&(v=!0,b.setCellSelection(o,l),a.preventDefault())}),this.listenTo(i.editing.view.document,"mouseup",()=>{h=!1,v=!1,o=null,l=null}),this.listenTo(i.editing.view.document,"selectionChange",C=>{v&&C.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(i){const l=this.editor.editing.view.createPositionAt(i.target,0);return this.editor.editing.mapper.toModelPosition(l).parent.findAncestor("tableCell",{includeSelf:!0})}}function oo(f,i){return f.parent.parent==i.parent.parent}var q4=se(6306);function su(f){const i=f.getSelectedElement();return i&&T9(i)?i:null}function au(f){const i=f.getFirstPosition();if(!i)return null;let o=i.parent;for(;o;){if(o.is("element")&&T9(o))return o;o=o.parent}return null}function T9(f){return!!f.getCustomProperty("table")&&zi(f)}Et()(q4.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const ml={autoRefresh:!0};class L9{constructor(i,o=ml){if(!i)throw new q("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh="function"==typeof i?i:()=>{return l=i,new Promise((h,v)=>{const b=new XMLHttpRequest;b.open("GET",l),b.addEventListener("load",()=>{const C=b.status,a=b.response;return C<200||C>299?v(new q("token-cannot-download-new-token",null)):h(a)}),b.addEventListener("error",()=>v(new Error("Network Error"))),b.addEventListener("abort",()=>v(new Error("Abort"))),b.send()});var l},this._options=Object.assign({},ml,o)}init(){return new Promise((i,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),i(this)):this.refreshToken().then(i).catch(o)})}refreshToken(){return this._refresh().then(i=>{this._validateTokenValue(i),this.set("value",i),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(i){const o="string"==typeof i,l=!/^".*"$/.test(i),h=o&&3===i.split(".").length;if(!l||!h)throw new q("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const i=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},i)}_getTokenRefreshTimeoutTime(){try{const[,i]=this.value.split("."),{exp:o}=JSON.parse(atob(i));return o?Math.floor((1e3*o-Date.now())/2):36e5}catch{return 36e5}}static create(i,o=ml){return new L9(i,o).init()}}xe(L9,Gt);const N9=L9,V9=/^data:(\S*?);base64,/;class Ig{constructor(i,o,l){if(!i)throw new q("fileuploader-missing-file",null);if(!o)throw new q("fileuploader-missing-token",null);if(!l)throw new q("fileuploader-missing-api-address",null);this.file=function(h){if("string"!=typeof h)return!1;const v=h.match(V9);return!(!v||!v.length)}(i)?function(h,v=512){try{const b=h.match(V9)[1],C=atob(h.replace(V9,"")),a=[];for(let c=0;c<C.length;c+=v){const u=C.slice(c,c+v),p=new Array(u.length);for(let _=0;_<u.length;_++)p[_]=u.charCodeAt(_);a.push(new Uint8Array(p))}return new Blob(a,{type:b})}catch{throw new q("fileuploader-decoding-image-data-error",null)}}(i):i,this._token=o,this._apiAddress=l}onProgress(i){return this.on("progress",(o,l)=>i(l)),this}onError(i){return this.once("error",(o,l)=>i(l)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const i=new XMLHttpRequest;i.open("POST",this._apiAddress),i.setRequestHeader("Authorization",this._token.value),i.responseType="json",this.xhr=i}_attachXHRListeners(){const i=this,o=this.xhr;function l(h){return()=>i.fire("error",h)}o.addEventListener("error",l("Network Error")),o.addEventListener("abort",l("Abort")),o.upload&&o.upload.addEventListener("progress",h=>{h.lengthComputable&&this.fire("progress",{total:h.total,uploaded:h.loaded})}),o.addEventListener("load",()=>{const h=o.status,v=o.response;if(h<200||h>299)return this.fire("error",v.message||v.error)})}_sendRequest(){const i=new FormData,o=this.xhr;return i.append("file",this.file),new Promise((l,h)=>{o.addEventListener("load",()=>{const v=o.status,b=o.response;return v<200||v>299?h(b.message?new q("fileuploader-uploading-data-failed",this,{message:b.message}):b.error):l(b)}),o.addEventListener("error",()=>h(new Error("Network Error"))),o.addEventListener("abort",()=>h(new Error("Abort"))),o.send(i)})}}xe(Ig,pe);class Z_{constructor(i,o){if(!i)throw new q("uploadgateway-missing-token",null);if(!o)throw new q("uploadgateway-missing-api-address",null);this._token=i,this._apiAddress=o}upload(i){return new Ig(i,this._token,this._apiAddress)}}class qy extends H{static get pluginName(){return"CloudServicesCore"}createToken(i,o){return new N9(i,o)}createUploadGateway(i,o){return new Z_(i,o)}}class a5 extends S8{}a5.builtinPlugins=[class extends Xe{static get requires(){return[wf,Ad,Ap,gp,f1,G8]}static get pluginName(){return"Essentials"}},class extends Xe{static get requires(){return[Ra]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const f=this.editor.config.get("ckfinder.uploadUrl");f&&(this.editor.plugins.get(Ra).createUploadAdapter=i=>new zp(i,f,this.editor.t))}},class extends Xe{static get requires(){return[io]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const f=this.editor.commands;f.get("bulletedList")&&nl(this.editor,this,/^[*-]\s$/,"bulletedList"),f.get("numberedList")&&nl(this.editor,this,/^1[.|)]\s$/,"numberedList"),f.get("todoList")&&nl(this.editor,this,/^\[\s?\]\s$/,"todoList"),f.get("checkTodoList")&&nl(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const f=this.editor.commands;if(f.get("bold")){const i=Nd(this.editor,"bold");I4(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),I4(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(f.get("italic")){const i=Nd(this.editor,"italic");I4(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),I4(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(f.get("code")){const i=Nd(this.editor,"code");I4(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(f.get("strikethrough")){const i=Nd(this.editor,"strikethrough");I4(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const f=this.editor.commands.get("heading");f&&f.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const l=new RegExp(`^(#{${i[7]}})\\s$`);nl(this.editor,this,l,()=>{if(!f.isEnabled||f.value===i)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&nl(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const f=this.editor,i=f.model.document.selection;f.commands.get("codeBlock")&&nl(f,this,/^```$/,()=>{if(i.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&nl(this.editor,this,/^---$/,"horizontalLine")}},class extends Xe{static get requires(){return[g_,xf]}static get pluginName(){return"Bold"}},class extends Xe{static get requires(){return[__,Tp]}static get pluginName(){return"Italic"}},class extends Xe{static get requires(){return[Df,$8]}static get pluginName(){return"BlockQuote"}},class extends Xe{static get pluginName(){return"CKBox"}static get requires(){return[Hd,b_]}},class extends Xe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Pd,w_]}},class extends H{static get pluginName(){return"CloudServices"}static get requires(){return[qy]}init(){const f=this.context.config.get("cloudServices")||{};for(const i in f)this[i]=f[i];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(f){if(this._tokens.has(f))return Promise.resolve(this.getTokenFor(f));const i=this.context.plugins.get("CloudServicesCore").createToken(f);return this._tokens.set(f,i),i.init()}getTokenFor(f){const i=this._tokens.get(f);if(!i)throw new q("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const f of this._tokens.values())f.destroy()}},class extends Xe{static get requires(){return[Bp,"ImageUpload"]}init(){const f=this.editor;f.plugins.has("ImageBlockEditing")||f.plugins.has("ImageInlineEditing")||Fe("easy-image-image-feature-missing",f)}static get pluginName(){return"EasyImage"}},class extends Xe{static get requires(){return[M_,Up]}static get pluginName(){return"Heading"}},class extends Xe{static get requires(){return[S_,Qp]}static get pluginName(){return"Image"}},class extends Xe{static get requires(){return[X8,eh]}static get pluginName(){return"ImageCaption"}},class extends Xe{static get requires(){return[bo,Oc]}static get pluginName(){return"ImageStyle"}},class extends Xe{static get requires(){return[Rc,j1]}static get pluginName(){return"ImageToolbar"}afterInit(){const f=this.editor,i=f.t,o=f.plugins.get(Rc),l=f.plugins.get("ImageUtils");var h;o.register("image",{ariaLabel:i("Image toolbar"),items:(h=f.config.get("image.toolbar")||[],h.map(v=>$t(v)?v.name:v)),getRelatedElement:v=>l.getClosestSelectedImageWidget(v)})}},class extends Xe{static get pluginName(){return"ImageUpload"}static get requires(){return[N6,jd,ig]}},class extends Xe{static get pluginName(){return"Indent"}static get requires(){return[Wf,N4]}},class extends Xe{static get requires(){return[P4,o9,G6]}static get pluginName(){return"Link"}},class extends Xe{static get requires(){return[Y6,m9]}static get pluginName(){return"List"}},class extends Xe{static get requires(){return[Fa,Ah,v9,Sd]}static get pluginName(){return"MediaEmbed"}},Rd,class extends Xe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Va]}init(){const f=this.editor,i=f.editing.view.document,o=[];o.push(new b9(i)),o.push(new v1(i)),f.plugins.get("ClipboardPipeline").on("inputTransformation",(l,h)=>{if(h._isTransformedWithPasteFromOffice||f.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const v=h.dataTransfer.getData("text/html"),b=o.find(C=>C.isActive(v));b&&(h._parsedData=function Cg(f,i){const o=new DOMParser,l=Eh(Eh(function(a){const c="</body>",p=a.indexOf(c);if(p<0)return a;const _=a.indexOf("</html>",p+c.length);return a.substring(0,p+c.length)+(_>=0?a.substring(_):"")}(f=f.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),h=o.parseFromString(l,"text/html");h.querySelectorAll("span[style*=spacerun]").forEach(c=>{const p=c.innerText.length||0;c.innerText=Array(p+1).join("\xa0 ").substr(0,p)});const v=h.body.innerHTML,b=function(a,c){const u=new T0(c),p=new U3(u,{renderingMode:"data"}),_=a.createDocumentFragment(),y=a.body.childNodes;for(;y.length>0;)_.appendChild(y[0]);return p.domToView(_,{skipComments:!0})}(h,i),C=function(a){const c=[],u=[],p=Array.from(a.getElementsByTagName("style"));for(const _ of p)_.sheet&&_.sheet.cssRules&&_.sheet.cssRules.length&&(c.push(_.sheet),u.push(_.innerHTML));return{styles:c,stylesString:u.join(" ")}}(h);return{body:b,bodyString:v,styles:C.styles,stylesString:C.stylesString}}(v,i.stylesProcessor),b.execute(h),h._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Xe{static get requires(){return[Od,j1]}static get pluginName(){return"PictureEditing"}afterInit(){const f=this.editor;f.plugins.has("ImageBlockEditing")&&f.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),f.plugins.has("ImageInlineEditing")&&f.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const f=this.editor,i=f.conversion,o=f.plugins.get("ImageUtils");i.for("upcast").add(function(l){const h=["srcset","media","type","sizes"];return b=>{b.on("element:picture",v)};function v(b,C,a){const c=C.viewItem;if(!a.consumable.test(c,{name:!0}))return;const u=new Map;for(const y of c.getChildren())if(y.is("element","source")){const A={};for(const S of h)y.hasAttribute(S)&&a.consumable.test(y,{attributes:S})&&(A[S]=y.getAttribute(S));Object.keys(A).length&&u.set(y,A)}const p=l.findViewImgElement(c);if(!p)return;let _=C.modelCursor.parent;if(!_.is("element","imageBlock")){const y=a.convertItem(p,C.modelCursor);C.modelRange=y.modelRange,C.modelCursor=y.modelCursor,_=gi(y.modelRange.getItems())}a.consumable.consume(c,{name:!0});for(const[y,A]of u)a.consumable.consume(y,{attributes:Object.keys(A)});u.size&&a.writer.setAttribute("sources",Array.from(u.values()),_),a.convertChildren(c,_)}}(o)),i.for("downcast").add(function(l){return v=>{v.on("attribute:sources:imageBlock",h),v.on("attribute:sources:imageInline",h)};function h(v,b,C){if(!C.consumable.consume(b.item,v.name))return;const a=C.writer,c=C.mapper.toViewElement(b.item),u=l.findViewImgElement(c);if(b.attributeNewValue&&b.attributeNewValue.length){const p=a.createContainerElement("picture",null,b.attributeNewValue.map(A=>a.createEmptyElement("source",A))),_=[];let y=u.parent;for(;y&&y.is("attributeElement");){const A=y.parent;a.unwrap(a.createRangeOn(u),y),_.unshift(y),y=A}a.insert(a.createPositionBefore(u),p),a.move(a.createRangeOn(u),a.createPositionAt(p,"end"));for(const A of _)a.wrap(a.createRangeOn(p),A)}else if(u.parent.is("element","picture")){const p=u.parent;a.move(a.createRangeOn(u),a.createPositionBefore(p)),a.remove(p)}}}(o))}_setupImageUploadEditingIntegration(){const f=this.editor;f.plugins.has("ImageUploadEditing")&&this.listenTo(f.plugins.get("ImageUploadEditing"),"uploadComplete",(i,{imageElement:o,data:l})=>{const h=l.sources;h&&f.model.change(v=>{v.setAttributes({sources:h},o)})})}},class extends Xe{static get requires(){return[_1,W2,$c,G1,z9,Z2,Sd]}static get pluginName(){return"Table"}},class extends Xe{static get requires(){return[Rc]}static get pluginName(){return"TableToolbar"}afterInit(){const f=this.editor,i=f.t,o=f.plugins.get(Rc),l=f.config.get("table.contentToolbar"),h=f.config.get("table.tableToolbar");l&&o.register("tableContent",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:au}),h&&o.register("table",{ariaLabel:i("Table toolbar"),items:h,getRelatedElement:su})}},class extends Xe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(f){super(f),f.config.define("typing",{transformations:{include:mf}})}init(){const f=this.editor.model.document.selection;f.on("change:range",()=>{this.isEnabled=!f.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const f=this.editor,i=f.model,o=f.plugins.get("Delete"),l=function(v){const C=v.remove||[],a=c=>!C.includes(c);return function(c){const u=new Set;for(const p of c)if("string"==typeof p&&T8[p])for(const _ of T8[p])u.add(_);else u.add(p);return Array.from(u)}(v.include.concat(v.extra||[]).filter(a)).filter(a).map(c=>"string"==typeof c&&ff[c]?ff[c]:c).filter(c=>"object"==typeof c).map(c=>({from:L8(c.from),to:m6(c.to)}))}(f.config.get("typing.transformations")),h=new Ha(f.model,v=>{for(const b of l)if(b.from.test(v))return{normalizedTransformation:b}});h.on("matched:data",(v,b)=>{if(!b.batch.isTyping)return;const{from:C,to:a}=b.normalizedTransformation,c=C.exec(b.text),u=a(c.slice(1)),p=b.range;let _=c.index;i.enqueueChange(y=>{for(let A=1;A<c.length;A++){const S=c[A],E=u[A-1];if(null==E){_+=S.length;continue}const T=p.start.getShiftedBy(_),V=i.createRange(T,T.getShiftedBy(S.length)),B=i_(T);i.insertContent(y.createText(E,B),V),_+=E.length}i.enqueueChange(()=>{o.requestUndoOnBackspace()})})}),h.bind("isEnabled").to(this)}}],a5.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),we.default})()},2090:(mt,Re,Q)=>{"use strict";Q.d(Re,{$s:()=>Zo,BH:()=>be,G6:()=>as,L:()=>ee,LL:()=>Be,Pz:()=>Le,Sg:()=>Pe,UG:()=>me,US:()=>Z,ZB:()=>G,ZR:()=>Ue,aH:()=>Ge,b$:()=>Yt,eu:()=>Ee,hl:()=>pe,jU:()=>vt,m9:()=>xr,ne:()=>En,pd:()=>_i,r3:()=>Gt,ru:()=>nt,tV:()=>$,uI:()=>Fe,vZ:()=>zt,w1:()=>lr,xO:()=>Xi,xb:()=>xo,z$:()=>q,zI:()=>Te,zd:()=>Hn});const se=function(oe){const te=[];let ue=0;for(let Ne=0;Ne<oe.length;Ne++){let _e=oe.charCodeAt(Ne);_e<128?te[ue++]=_e:_e<2048?(te[ue++]=_e>>6|192,te[ue++]=63&_e|128):55296==(64512&_e)&&Ne+1<oe.length&&56320==(64512&oe.charCodeAt(Ne+1))?(_e=65536+((1023&_e)<<10)+(1023&oe.charCodeAt(++Ne)),te[ue++]=_e>>18|240,te[ue++]=_e>>12&63|128,te[ue++]=_e>>6&63|128,te[ue++]=63&_e|128):(te[ue++]=_e>>12|224,te[ue++]=_e>>6&63|128,te[ue++]=63&_e|128)}return te},Z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,te){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ne=[];for(let _e=0;_e<oe.length;_e+=3){const Je=oe[_e],At=_e+1<oe.length,bn=At?oe[_e+1]:0,ai=_e+2<oe.length,Qn=ai?oe[_e+2]:0;let Ur=(15&bn)<<2|Qn>>6,ls=63&Qn;ai||(ls=64,At||(Ur=64)),Ne.push(ue[Je>>2],ue[(3&Je)<<4|bn>>4],ue[Ur],ue[ls])}return Ne.join("")},encodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(oe):this.encodeByteArray(se(oe),te)},decodeString(oe,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(oe):function(oe){const te=[];let ue=0,Ne=0;for(;ue<oe.length;){const _e=oe[ue++];if(_e<128)te[Ne++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const Je=oe[ue++];te[Ne++]=String.fromCharCode((31&_e)<<6|63&Je)}else if(_e>239&&_e<365){const ai=((7&_e)<<18|(63&oe[ue++])<<12|(63&oe[ue++])<<6|63&oe[ue++])-65536;te[Ne++]=String.fromCharCode(55296+(ai>>10)),te[Ne++]=String.fromCharCode(56320+(1023&ai))}else{const Je=oe[ue++],At=oe[ue++];te[Ne++]=String.fromCharCode((15&_e)<<12|(63&Je)<<6|63&At)}}return te.join("")}(this.decodeStringToByteArray(oe,te))},decodeStringToByteArray(oe,te){this.init_();const ue=te?this.charToByteMapWebSafe_:this.charToByteMap_,Ne=[];for(let _e=0;_e<oe.length;){const Je=ue[oe.charAt(_e++)],bn=_e<oe.length?ue[oe.charAt(_e)]:0;++_e;const Qn=_e<oe.length?ue[oe.charAt(_e)]:64;++_e;const mn=_e<oe.length?ue[oe.charAt(_e)]:64;if(++_e,null==Je||null==bn||null==Qn||null==mn)throw new ne;Ne.push(Je<<2|bn>>4),64!==Qn&&(Ne.push(bn<<4&240|Qn>>2),64!==mn&&Ne.push(Qn<<6&192|mn))}return Ne},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ee=function(oe){return function(oe){const te=se(oe);return Z.encodeByteArray(te,!0)}(oe).replace(/\./g,"")},$=function(oe){try{return Z.decodeString(oe,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function G(oe,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return te}for(const ue in te)!te.hasOwnProperty(ue)||!ce(ue)||(oe[ue]=G(oe[ue],te[ue]));return oe}function ce(oe){return"__proto__"!==oe}const We=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=oe&&$(oe[1]);return te&&JSON.parse(te)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Ge=()=>{var oe;return null===(oe=We())||void 0===oe?void 0:oe.config},Le=oe=>{var te;return null===(te=We())||void 0===te?void 0:te[`_${oe}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,ue)=>{this.resolve=te,this.reject=ue})}wrapCallback(te){return(ue,Ne)=>{ue?this.reject(ue):this.resolve(Ne),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(ue):te(ue,Ne))}}}function Pe(oe,te){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ne=te||"demo-project",_e=oe.iat||0,Je=oe.sub||oe.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${Ne}`,aud:Ne,iat:_e,exp:_e+3600,auth_time:_e,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(At)),""].join(".")}function q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function me(){var oe;const te=null===(oe=We())||void 0===oe?void 0:oe.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function nt(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lr(){const oe=q();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function as(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ee(){return new Promise((oe,te)=>{try{let ue=!0;const Ne="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(Ne);_e.onsuccess=()=>{_e.result.close(),ue||self.indexedDB.deleteDatabase(Ne),oe(!0)},_e.onupgradeneeded=()=>{ue=!1},_e.onerror=()=>{var Je;te((null===(Je=_e.error)||void 0===Je?void 0:Je.message)||"")}}catch(ue){te(ue)}})}function Te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ue extends Error{constructor(te,ue,Ne){super(ue),this.code=te,this.customData=Ne,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(te,ue,Ne){this.service=te,this.serviceName=ue,this.errors=Ne}create(te,...ue){const Ne=ue[0]||{},_e=`${this.service}/${te}`,Je=this.errors[te],At=Je?function kt(oe,te){return oe.replace(wt,(ue,Ne)=>{const _e=te[Ne];return null!=_e?String(_e):`<${Ne}?>`})}(Je,Ne):"Error";return new Ue(_e,`${this.serviceName}: ${At} (${_e}).`,Ne)}}const wt=/\{\$([^}]+)}/g;function Gt(oe,te){return Object.prototype.hasOwnProperty.call(oe,te)}function xo(oe){for(const te in oe)if(Object.prototype.hasOwnProperty.call(oe,te))return!1;return!0}function zt(oe,te){if(oe===te)return!0;const ue=Object.keys(oe),Ne=Object.keys(te);for(const _e of ue){if(!Ne.includes(_e))return!1;const Je=oe[_e],At=te[_e];if(ao(Je)&&ao(At)){if(!zt(Je,At))return!1}else if(Je!==At)return!1}for(const _e of Ne)if(!ue.includes(_e))return!1;return!0}function ao(oe){return null!==oe&&"object"==typeof oe}function Xi(oe){const te=[];for(const[ue,Ne]of Object.entries(oe))Array.isArray(Ne)?Ne.forEach(_e=>{te.push(encodeURIComponent(ue)+"="+encodeURIComponent(_e))}):te.push(encodeURIComponent(ue)+"="+encodeURIComponent(Ne));return te.length?"&"+te.join("&"):""}function Hn(oe){const te={};return oe.replace(/^\?/,"").split("&").forEach(Ne=>{if(Ne){const[_e,Je]=Ne.split("=");te[decodeURIComponent(_e)]=decodeURIComponent(Je)}}),te}function _i(oe){const te=oe.indexOf("?");if(!te)return"";const ue=oe.indexOf("#",te);return oe.substring(te,ue>0?ue:void 0)}function En(oe,te){const ue=new ht(oe,te);return ue.subscribe.bind(ue)}class ht{constructor(te,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{te(this)}).catch(Ne=>{this.error(Ne)})}next(te){this.forEachObserver(ue=>{ue.next(te)})}error(te){this.forEachObserver(ue=>{ue.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,ue,Ne){let _e;if(void 0===te&&void 0===ue&&void 0===Ne)throw new Error("Missing Observer.");_e=function So(oe,te){if("object"!=typeof oe||null===oe)return!1;for(const ue of te)if(ue in oe&&"function"==typeof oe[ue])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:ue,complete:Ne},void 0===_e.next&&(_e.next=Eo),void 0===_e.error&&(_e.error=Eo),void 0===_e.complete&&(_e.complete=Eo);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch{}}),this.observers.push(_e),Je}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,te)}sendOne(te,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{ue(this.observers[te])}catch(Ne){typeof console<"u"&&console.error&&console.error(Ne)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eo(){}const fn=1e3,Kn=2,Mn=144e5,Bi=.5;function Zo(oe,te=fn,ue=Kn){const Ne=te*Math.pow(ue,oe),_e=Math.round(Bi*Ne*(Math.random()-.5)*2);return Math.min(Mn,Ne+_e)}function xr(oe){return oe&&oe._delegate?oe._delegate:oe}},311:(mt,Re,Q)=>{"use strict";var m=Q(4650);let fe=null;function Y(){return fe}class we{}const Z=new m.OlP("DocumentToken");let ne=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function F(){return(0,m.LFG)($)}()},providedIn:"platform"}),n})();const ee=new m.OlP("Location Initialized");let $=(()=>{class n extends ne{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(e){const r=Y().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Y().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,s){U()?this._history.pushState(e,r,s):this._location.hash=s}replaceState(e,r,s){U()?this._history.replaceState(e,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function G(){return new $((0,m.LFG)(Z))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function ce(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function He(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(We)},providedIn:"root"}),n})();const xe=new m.OlP("appBaseHref");let We=(()=>{class n extends ct{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${r}${s}`:r}pushState(e,r,s,d){const g=this.prepareExternalUrl(s+it(d));this._platformLocation.pushState(e,r,g)}replaceState(e,r,s,d){const g=this.prepareExternalUrl(s+it(d));this._platformLocation.replaceState(e,r,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(ne),m.LFG(xe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n extends ct{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ce(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,s,d){let g=this.prepareExternalUrl(s+it(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,r,g)}replaceState(e,r,s,d){let g=this.prepareExternalUrl(s+it(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(ne),m.LFG(xe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(e){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Pe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(He(be(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+it(r))}normalize(e){return n.stripTrailingSlash(function Le(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",s=null){this._locationStrategy.pushState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(r)),s)}replaceState(e,r="",s=null){this._locationStrategy.replaceState(s,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+it(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(s=>s(e,r))}subscribe(e,r,s){return this._subject.subscribe({next:e,error:r,complete:s})}}return n.normalizeQueryParams=it,n.joinWithSlash=ce,n.stripTrailingSlash=He,n.\u0275fac=function(e){return new(e||n)(m.LFG(ct))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Ge(){return new Ze((0,m.LFG)(ct))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}var Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Percent=1]="Percent",Fe[Fe.Currency=2]="Currency",Fe[Fe.Scientific=3]="Scientific",Fe))(),vt=(()=>((vt=vt||{})[vt.Format=0]="Format",vt[vt.Standalone=1]="Standalone",vt))(),nt=(()=>((nt=nt||{})[nt.Narrow=0]="Narrow",nt[nt.Abbreviated=1]="Abbreviated",nt[nt.Wide=2]="Wide",nt[nt.Short=3]="Short",nt))(),Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.Medium=1]="Medium",Yt[Yt.Long=2]="Long",Yt[Yt.Full=3]="Full",Yt))(),gt=(()=>((gt=gt||{})[gt.Decimal=0]="Decimal",gt[gt.Group=1]="Group",gt[gt.List=2]="List",gt[gt.PercentSign=3]="PercentSign",gt[gt.PlusSign=4]="PlusSign",gt[gt.MinusSign=5]="MinusSign",gt[gt.Exponential=6]="Exponential",gt[gt.SuperscriptingExponent=7]="SuperscriptingExponent",gt[gt.PerMille=8]="PerMille",gt[gt.Infinity=9]="Infinity",gt[gt.NaN=10]="NaN",gt[gt.TimeSeparator=11]="TimeSeparator",gt[gt.CurrencyDecimal=12]="CurrencyDecimal",gt[gt.CurrencyGroup=13]="CurrencyGroup",gt))();function Ue(n,t){return jr((0,m.cg1)(n)[m.wAp.DateFormat],t)}function Be(n,t){return jr((0,m.cg1)(n)[m.wAp.TimeFormat],t)}function kt(n,t){return jr((0,m.cg1)(n)[m.wAp.DateTimeFormat],t)}function wt(n,t){const e=(0,m.cg1)(n),r=e[m.wAp.NumberSymbols][t];if(typeof r>"u"){if(t===gt.CurrencyDecimal)return e[m.wAp.NumberSymbols][gt.Decimal];if(t===gt.CurrencyGroup)return e[m.wAp.NumberSymbols][gt.Group]}return r}function Ji(n){if(!n[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jr(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function zt(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Hn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_i={},An=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var En=(()=>((En=En||{})[En.Short=0]="Short",En[En.ShortGMT=1]="ShortGMT",En[En.Long=2]="Long",En[En.Extended=3]="Extended",En))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),Vt=(()=>((Vt=Vt||{})[Vt.DayPeriods=0]="DayPeriods",Vt[Vt.Days=1]="Days",Vt[Vt.Months=2]="Months",Vt[Vt.Eras=3]="Eras",Vt))();function So(n,t,e,r){let s=function _e(n){if(At(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,d=1,g=1]=n.split("-").map(w=>+w);return Eo(s,d-1,g)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Hn))return function Je(n){const t=new Date(0);let e=0,r=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,d=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const g=Number(n[4]||0)-e,w=Number(n[5]||0)-r,x=Number(n[6]||0),z=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return d.call(t,g,w,x,z),t}(r)}const t=new Date(n);if(!At(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ur(e,t)||t;let w,g=[];for(;t;){if(w=An.exec(t),!w){g.push(t);break}{g=g.concat(w.slice(1));const N=g.pop();if(!N)break;t=N}}let x=s.getTimezoneOffset();r&&(x=te(r,x),s=function Ne(n,t,e){const r=e?-1:1,s=n.getTimezoneOffset();return function ue(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(te(t,s)-s))}(s,r,!0));let z="";return g.forEach(N=>{const P=function oe(n){if(xr[n])return xr[n];let t;switch(n){case"G":case"GG":case"GGG":t=gn(Vt.Eras,nt.Abbreviated);break;case"GGGG":t=gn(Vt.Eras,nt.Wide);break;case"GGGGG":t=gn(Vt.Eras,nt.Narrow);break;case"y":t=Gn(ht.FullYear,1,0,!1,!0);break;case"yy":t=Gn(ht.FullYear,2,0,!0,!0);break;case"yyy":t=Gn(ht.FullYear,3,0,!1,!0);break;case"yyyy":t=Gn(ht.FullYear,4,0,!1,!0);break;case"Y":t=Yo(1);break;case"YY":t=Yo(2,!0);break;case"YYY":t=Yo(3);break;case"YYYY":t=Yo(4);break;case"M":case"L":t=Gn(ht.Month,1,1);break;case"MM":case"LL":t=Gn(ht.Month,2,1);break;case"MMM":t=gn(Vt.Months,nt.Abbreviated);break;case"MMMM":t=gn(Vt.Months,nt.Wide);break;case"MMMMM":t=gn(Vt.Months,nt.Narrow);break;case"LLL":t=gn(Vt.Months,nt.Abbreviated,vt.Standalone);break;case"LLLL":t=gn(Vt.Months,nt.Wide,vt.Standalone);break;case"LLLLL":t=gn(Vt.Months,nt.Narrow,vt.Standalone);break;case"w":t=ni(1);break;case"ww":t=ni(2);break;case"W":t=ni(1,!0);break;case"d":t=Gn(ht.Date,1);break;case"dd":t=Gn(ht.Date,2);break;case"c":case"cc":t=Gn(ht.Day,1);break;case"ccc":t=gn(Vt.Days,nt.Abbreviated,vt.Standalone);break;case"cccc":t=gn(Vt.Days,nt.Wide,vt.Standalone);break;case"ccccc":t=gn(Vt.Days,nt.Narrow,vt.Standalone);break;case"cccccc":t=gn(Vt.Days,nt.Short,vt.Standalone);break;case"E":case"EE":case"EEE":t=gn(Vt.Days,nt.Abbreviated);break;case"EEEE":t=gn(Vt.Days,nt.Wide);break;case"EEEEE":t=gn(Vt.Days,nt.Narrow);break;case"EEEEEE":t=gn(Vt.Days,nt.Short);break;case"a":case"aa":case"aaa":t=gn(Vt.DayPeriods,nt.Abbreviated);break;case"aaaa":t=gn(Vt.DayPeriods,nt.Wide);break;case"aaaaa":t=gn(Vt.DayPeriods,nt.Narrow);break;case"b":case"bb":case"bbb":t=gn(Vt.DayPeriods,nt.Abbreviated,vt.Standalone,!0);break;case"bbbb":t=gn(Vt.DayPeriods,nt.Wide,vt.Standalone,!0);break;case"bbbbb":t=gn(Vt.DayPeriods,nt.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":t=gn(Vt.DayPeriods,nt.Abbreviated,vt.Format,!0);break;case"BBBB":t=gn(Vt.DayPeriods,nt.Wide,vt.Format,!0);break;case"BBBBB":t=gn(Vt.DayPeriods,nt.Narrow,vt.Format,!0);break;case"h":t=Gn(ht.Hours,1,-12);break;case"hh":t=Gn(ht.Hours,2,-12);break;case"H":t=Gn(ht.Hours,1);break;case"HH":t=Gn(ht.Hours,2);break;case"m":t=Gn(ht.Minutes,1);break;case"mm":t=Gn(ht.Minutes,2);break;case"s":t=Gn(ht.Seconds,1);break;case"ss":t=Gn(ht.Seconds,2);break;case"S":t=Gn(ht.FractionalSeconds,1);break;case"SS":t=Gn(ht.FractionalSeconds,2);break;case"SSS":t=Gn(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=fn(En.Short);break;case"ZZZZZ":t=fn(En.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=fn(En.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=fn(En.Long);break;default:return null}return xr[n]=t,t}(N);z+=P?P(s,e,x):"''"===N?"'":N.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),z}function Eo(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function ur(n,t){const e=function Qi(n){return(0,m.cg1)(n)[m.wAp.LocaleId]}(n);if(_i[e]=_i[e]||{},_i[e][t])return _i[e][t];let r="";switch(t){case"shortDate":r=Ue(n,Yt.Short);break;case"mediumDate":r=Ue(n,Yt.Medium);break;case"longDate":r=Ue(n,Yt.Long);break;case"fullDate":r=Ue(n,Yt.Full);break;case"shortTime":r=Be(n,Yt.Short);break;case"mediumTime":r=Be(n,Yt.Medium);break;case"longTime":r=Be(n,Yt.Long);break;case"fullTime":r=Be(n,Yt.Full);break;case"short":const s=ur(n,"shortTime"),d=ur(n,"shortDate");r=er(kt(n,Yt.Short),[s,d]);break;case"medium":const g=ur(n,"mediumTime"),w=ur(n,"mediumDate");r=er(kt(n,Yt.Medium),[g,w]);break;case"long":const x=ur(n,"longTime"),z=ur(n,"longDate");r=er(kt(n,Yt.Long),[x,z]);break;case"full":const N=ur(n,"fullTime"),P=ur(n,"fullDate");r=er(kt(n,Yt.Full),[N,P])}return r&&(_i[e][t]=r),r}function er(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function bi(n,t,e="-",r,s){let d="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,d=e));let g=String(n);for(;g.length<t;)g="0"+g;return r&&(g=g.slice(g.length-t)),d+g}function Gn(n,t,e=0,r=!1,s=!1){return function(d,g){let w=function w1(n,t){switch(n){case ht.FullYear:return t.getFullYear();case ht.Month:return t.getMonth();case ht.Date:return t.getDate();case ht.Hours:return t.getHours();case ht.Minutes:return t.getMinutes();case ht.Seconds:return t.getSeconds();case ht.FractionalSeconds:return t.getMilliseconds();case ht.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,d);if((e>0||w>-e)&&(w+=e),n===ht.Hours)0===w&&-12===e&&(w=12);else if(n===ht.FractionalSeconds)return function Do(n,t){return bi(n,3).substring(0,t)}(w,t);const x=wt(g,gt.MinusSign);return bi(w,t,x,r,s)}}function gn(n,t,e=vt.Format,r=!1){return function(s,d){return function cs(n,t,e,r,s,d){switch(e){case Vt.Months:return function pe(n,t,e){const r=(0,m.cg1)(n),d=jr([r[m.wAp.MonthsFormat],r[m.wAp.MonthsStandalone]],t);return jr(d,e)}(t,s,r)[n.getMonth()];case Vt.Days:return function as(n,t,e){const r=(0,m.cg1)(n),d=jr([r[m.wAp.DaysFormat],r[m.wAp.DaysStandalone]],t);return jr(d,e)}(t,s,r)[n.getDay()];case Vt.DayPeriods:const g=n.getHours(),w=n.getMinutes();if(d){const z=function Gt(n){const t=(0,m.cg1)(n);return Ji(t),(t[m.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?zt(r):[zt(r[0]),zt(r[1])])}(t),N=function Mr(n,t,e){const r=(0,m.cg1)(n);Ji(r);const d=jr([r[m.wAp.ExtraData][0],r[m.wAp.ExtraData][1]],t)||[];return jr(d,e)||[]}(t,s,r),P=z.findIndex(W=>{if(Array.isArray(W)){const[K,ie]=W,de=g>=K.hours&&w>=K.minutes,ve=g<ie.hours||g===ie.hours&&w<ie.minutes;if(K.hours<ie.hours){if(de&&ve)return!0}else if(de||ve)return!0}else if(W.hours===g&&W.minutes===w)return!0;return!1});if(-1!==P)return N[P]}return function Br(n,t,e){const r=(0,m.cg1)(n),d=jr([r[m.wAp.DayPeriodsFormat],r[m.wAp.DayPeriodsStandalone]],t);return jr(d,e)}(t,s,r)[g<12?0:1];case Vt.Eras:return function Ee(n,t){return jr((0,m.cg1)(n)[m.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,d,n,t,e,r)}}function fn(n){return function(t,e,r){const s=-1*r,d=wt(e,gt.MinusSign),g=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case En.Short:return(s>=0?"+":"")+bi(g,2,d)+bi(Math.abs(s%60),2,d);case En.ShortGMT:return"GMT"+(s>=0?"+":"")+bi(g,1,d);case En.Long:return"GMT"+(s>=0?"+":"")+bi(g,2,d)+":"+bi(Math.abs(s%60),2,d);case En.Extended:return 0===r?"Z":(s>=0?"+":"")+bi(g,2,d)+":"+bi(Math.abs(s%60),2,d);default:throw new Error(`Unknown zone width "${n}"`)}}}const Kn=0,Mn=4;function Zo(n){return Eo(n.getFullYear(),n.getMonth(),n.getDate()+(Mn-n.getDay()))}function ni(n,t=!1){return function(e,r){let s;if(t){const d=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,g=e.getDate();s=1+Math.floor((g+d)/7)}else{const d=Zo(e),g=function Bi(n){const t=Eo(n,Kn,1).getDay();return Eo(n,0,1+(t<=Mn?Mn:Mn+7)-t)}(d.getFullYear()),w=d.getTime()-g.getTime();s=1+Math.round(w/6048e5)}return bi(s,n,wt(r,gt.MinusSign))}}function Yo(n,t=!1){return function(e,r){return bi(Zo(e).getFullYear(),n,wt(r,gt.MinusSign),t)}}const xr={};function te(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function At(n){return n instanceof Date&&!isNaN(n.valueOf())}const bn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ai=22,Qn=".",Vn="0",mn=";",Ur=",",ls="#";function yn(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Q1(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[s,d]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===t)return decodeURIComponent(d)}return null}const tr=/\s+/,ut=[];let Qt=(()=>{class n{constructor(e,r,s,d){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=s,this._renderer=d,this.initialClasses=ut,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(tr):ut}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(tr):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,Boolean(e[r]));this._applyStateDiff()}_updateState(e,r){const s=this.stateMap.get(e);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],s=e[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(tr).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ji{constructor(t,e,r,s){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qs=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,s){this._viewContainer=e,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((s,d,g)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new ji(s.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)r.remove(null===d?void 0:d);else if(null!==d){const w=r.get(d);r.move(w,g),ki(w,s)}});for(let s=0,d=r.length;s<d;s++){const w=r.get(s).context;w.index=s,w.count=d,w.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{ki(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ki(n,t){n.context.$implicit=t.item}let fi=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Jt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){J2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){J2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jt{constructor(){this.$implicit=null,this.ngIf=null}}function J2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(t)}'.`)}class J1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ds=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const r of this._defaultViews)r.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),$s=(()=>{class n{constructor(e,r,s){this.ngSwitch=s,s._addCase(),this._view=new J1(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(ds,9))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ai=(()=>{class n{constructor(e,r,s){s._addDefault(new J1(e,r))}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(ds,9))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),li=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:d,ngTemplateOutletInjector:g}=this;this._viewRef=r.createEmbeddedView(s,d,g?{injector:g}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.s_b))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),n})();function zo(n,t){return new m.vHH(2100,!1)}class X2{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class Wa{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const Za=new Wa,k1=new X2;let Qo=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,m.QGY)(e))return Za;if((0,m.F4k)(e))return k1;throw zo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.sBO,16))},n.\u0275pipe=m.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Zs=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let hr=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw zo();return e.replace(Zs,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=m.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})();const fs=new m.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ea=new m.OlP("DATE_PIPE_DEFAULT_OPTIONS");let nr=(()=>{class n{constructor(e,r,s){this.locale=e,this.defaultTimezone=r,this.defaultOptions=s}transform(e,r,s,d){if(null==e||""===e||e!=e)return null;try{return So(e,r??this.defaultOptions?.dateFormat??"mediumDate",d||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(g){throw zo()}}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.soG,16),m.Y36(fs,24),m.Y36(ea,24))},n.\u0275pipe=m.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),J4=(()=>{class n{constructor(e){this._locale=e}transform(e,r,s){if(!function Xc(n){return!(null==n||""===n||n!=n)}(e))return null;s=s||this._locale;try{return function It(n,t,e){return function Se(n,t,e,r,s,d,g=!1){let w="",x=!1;if(isFinite(n)){let z=function Lt(n){let r,s,d,g,w,t=Math.abs(n)+"",e=0;for((s=t.indexOf(Qn))>-1&&(t=t.replace(Qn,"")),(d=t.search(/e/i))>0?(s<0&&(s=d),s+=+t.slice(d+1),t=t.substring(0,d)):s<0&&(s=t.length),d=0;t.charAt(d)===Vn;d++);if(d===(w=t.length))r=[0],s=1;else{for(w--;t.charAt(w)===Vn;)w--;for(s-=d,r=[],g=0;d<=w;d++,g++)r[g]=Number(t.charAt(d))}return s>ai&&(r=r.splice(0,ai-1),e=s-1,s=1),{digits:r,exponent:e,integerLen:s}}(n);g&&(z=function cn(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(z));let N=t.minInt,P=t.minFrac,W=t.maxFrac;if(d){const tt=d.match(bn);if(null===tt)throw new Error(`${d} is not a valid digit info`);const st=tt[1],ft=tt[3],Dt=tt[5];null!=st&&(N=yn(st)),null!=ft&&(P=yn(ft)),null!=Dt?W=yn(Dt):null!=ft&&P>W&&(W=P)}!function xn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,s=r.length-n.integerLen;const d=Math.min(Math.max(t,s),e);let g=d+n.integerLen,w=r[g];if(g>0){r.splice(Math.max(n.integerLen,g));for(let P=g;P<r.length;P++)r[P]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,g=d+1),r[0]=0;for(let P=1;P<g;P++)r[P]=0}if(w>=5)if(g-1<0){for(let P=0;P>g;P--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[g-1]++;for(;s<Math.max(0,d);s++)r.push(0);let x=0!==d;const z=t+n.integerLen,N=r.reduceRight(function(P,W,K,ie){return ie[K]=(W+=P)<10?W:W-10,x&&(0===ie[K]&&K>=z?ie.pop():x=!1),W>=10?1:0},0);N&&(r.unshift(N),n.integerLen++)}(z,P,W);let K=z.digits,ie=z.integerLen;const de=z.exponent;let ve=[];for(x=K.every(tt=>!tt);ie<N;ie++)K.unshift(0);for(;ie<0;ie++)K.unshift(0);ie>0?ve=K.splice(ie,K.length):(ve=K,K=[0]);const Ve=[];for(K.length>=t.lgSize&&Ve.unshift(K.splice(-t.lgSize,K.length).join(""));K.length>t.gSize;)Ve.unshift(K.splice(-t.gSize,K.length).join(""));K.length&&Ve.unshift(K.join("")),w=Ve.join(wt(e,r)),ve.length&&(w+=wt(e,s)+ve.join("")),de&&(w+=wt(e,gt.Exponential)+"+"+de)}else w=wt(e,gt.Infinity);return w=n<0&&!x?t.negPre+w+t.negSuf:t.posPre+w+t.posSuf,w}(n,function Bt(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(mn),s=r[0],d=r[1],g=-1!==s.indexOf(Qn)?s.split(Qn):[s.substring(0,s.lastIndexOf(Vn)+1),s.substring(s.lastIndexOf(Vn)+1)],w=g[0],x=g[1]||"";e.posPre=w.substring(0,w.indexOf(ls));for(let N=0;N<x.length;N++){const P=x.charAt(N);P===Vn?e.minFrac=e.maxFrac=N+1:P===ls?e.maxFrac=N+1:e.posSuf+=P}const z=w.split(Ur);if(e.gSize=z[1]?z[1].length:0,e.lgSize=z[2]||z[1]?(z[2]||z[1]).length:0,d){const N=s.length-e.posPre.length-e.posSuf.length,P=d.indexOf(ls);e.negPre=d.substring(0,P).replace(/'/g,""),e.negSuf=d.slice(P+N).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function $t(n,t){return(0,m.cg1)(n)[m.wAp.NumberFormats][t]}(t,Fe.Decimal),wt(t,gt.MinusSign)),t,gt.Group,gt.Decimal,e)}(function e3(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),s,r)}catch(d){throw zo()}}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.soG,16))},n.\u0275pipe=m.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let ui=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const X4="browser",Ya="server";function Ys(n){return n===Ya}let na=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new wl((0,m.LFG)(Z),window)}),n})();class wl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ds(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const d=s.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}s=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],s-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ia(this.window.history)||ia(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ia(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ja{}class l0 extends we{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class El extends l0{static makeCurrent(){!function se(n){fe||(fe=n)}(new El)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function f2(){return h2=h2||document.querySelector("base"),h2?h2.getAttribute("href"):null}();return null==e?null:function Au(n){Xs=Xs||document.createElement("a"),Xs.setAttribute("href",n);const t=Xs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){h2=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Q1(document.cookie,t)}}let Xs,h2=null;const Mu=new m.OlP("TRANSITION_ID"),w7=[{provide:m.ip1,useFactory:function cc(n,t,e){return()=>{e.get(m.CZH).donePromise.then(()=>{const r=Y(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<s.length;d++)r.remove(s[d])})}},deps:[Mu,Z,m.zs3],multi:!0}];let x1=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const ca=new m.OlP("EventManagerPlugins");let f3=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>{s.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}addGlobalEventListener(e,r,s){return this._findPluginFor(r).addGlobalEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const s=this._plugins;for(let d=0;d<s.length;d++){const g=s[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(ca),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class m2{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const s=Y().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,r)}}let m3=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,r){const s=this.usageCount;let d=s.get(e)??0;return d+=r,d>0?s.set(e,d):s.delete(e),d}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),la=(()=>{class n extends m3{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.forEach(d=>d.remove()),r.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,r){const s=this.doc.createElement("style");s.textContent=r,e.appendChild(s);const d=this.styleRef.get(r);d?d.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},p3=/%COMP%/g,In=new m.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function u0(n,t){return t.flat(100).map(e=>e.replace(p3,n))}function S1(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Dr=(()=>{class n{constructor(e,r,s,d){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=d,this.rendererByCompId=new Map,this.defaultRenderer=new Ls(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(e,r);return s instanceof E1?s.applyToHost(e):s instanceof Rn&&s.applyStyles(),s}getOrCreateRenderer(e,r){const s=this.rendererByCompId;let d=s.get(r.id);if(!d){const g=this.eventManager,w=this.sharedStylesHost,x=this.removeStylesOnCompDestory;switch(r.encapsulation){case m.ifc.Emulated:d=new E1(g,w,r,this.appId,x);break;case m.ifc.ShadowDom:return new dc(g,w,e,r);default:d=new Rn(g,w,r,x)}d.onDestroy=()=>s.delete(r.id),s.set(r.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(f3),m.LFG(la),m.LFG(m.AFp),m.LFG(In))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Ls{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ua[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(No(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(No(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,s){if(s){e=s+":"+e;const d=ua[s];d?t.setAttributeNS(d,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const s=ua[r];s?t.removeAttributeNS(s,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,s){s&(m.JOm.DashCase|m.JOm.Important)?t.style.setProperty(e,r,s&m.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&m.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,S1(r)):this.eventManager.addEventListener(t,e,S1(r))}}function No(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dc extends Ls{constructor(t,e,r,s){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=u0(s.id,s.styles);for(const g of d){const w=document.createElement("style");w.textContent=g,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Rn extends Ls{constructor(t,e,r,s,d=r.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=u0(d,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class E1 extends Rn{constructor(t,e,r,s,d){const g=s+"-"+r.id;super(t,e,r,d,g),this.contentAttr=function zl(n){return"_ngcontent-%COMP%".replace(p3,n)}(g),this.hostAttr=function g3(n){return"_nghost-%COMP%".replace(p3,n)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let _3=(()=>{class n extends m2{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const b3=["alt","control","meta","shift"],g2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gi=(()=>{class n extends m2{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,s){const d=n.parseEventName(r),g=n.eventCallback(d.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const d=n._normalizeKey(r.pop());let g="",w=r.indexOf("code");if(w>-1&&(r.splice(w,1),g="code."),b3.forEach(z=>{const N=r.indexOf(z);N>-1&&(r.splice(N,1),g+=z+".")}),g+=d,0!=r.length||0===d.length)return null;const x={};return x.domEventName=s,x.fullKey=g,x}static matchEventFullKeyCode(e,r){let s=g2[e.key]||e.key,d="";return r.indexOf("code.")>-1&&(s=e.code,d="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),b3.forEach(g=>{g!==s&&(0,ln[g])(e)&&(d+=g+".")}),d+=s,d===r)}static eventCallback(e,r,s){return d=>{n.matchEventFullKeyCode(d,e)&&s.runGuarded(()=>r(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:X4},{provide:m.g9A,useValue:function Xo(){El.makeCurrent()},multi:!0},{provide:Z,useFactory:function hc(){return(0,m.RDi)(document),document},deps:[]}]),Ns=new m.OlP(""),t1=[{provide:m.rWj,useClass:class lc{addToWindow(t){m.dqk.getAngularTestability=(r,s=!0)=>{const d=t.findTestabilityInTree(r,s);if(null==d)throw new Error("Could not find testability for element.");return d},m.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(r=>{const s=m.dqk.getAllAngularTestabilities();let d=s.length,g=!1;const w=function(x){g=g||x,d--,0==d&&r(g)};s.forEach(function(x){x.whenStable(w)})})}findTestabilityInTree(t,e,r){return null==e?null:t.getTestability(e)??(r?Y().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],n1=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function d0(){return new m.qLn},deps:[]},{provide:ca,useClass:_3,multi:!0,deps:[Z,m.R0b,m.Lbi]},{provide:ca,useClass:Gi,multi:!0,deps:[Z]},{provide:Dr,useClass:Dr,deps:[f3,la,m.AFp,In]},{provide:m.FYo,useExisting:Dr},{provide:m3,useExisting:la},{provide:la,useClass:la,deps:[Z]},{provide:f3,useClass:f3,deps:[ca,m.R0b]},{provide:Ja,useClass:x1,deps:[]},[]];let es=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:m.AFp,useValue:e.appId},{provide:Mu,useExisting:m.AFp},w7]}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ns,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[...n1,...t1],imports:[ui,m.hGG]}),n})(),Tl=(()=>{class n{constructor(e){this._doc=e,this._dom=Y()}addTag(e,r=!1){return e?this._getOrCreateElement(e,r):null}addTags(e,r=!1){return e?e.reduce((s,d)=>(d&&s.push(this._getOrCreateElement(d,r)),s),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const r=this._doc.querySelectorAll(`meta[${e}]`);return r?[].slice.call(r):[]}updateTag(e,r){if(!e)return null;r=r||this._parseSelector(e);const s=this.getTag(r);return s?this._setMetaElementAttributes(e,s):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,r=!1){if(!r){const g=this._parseSelector(e),w=this.getTags(g).filter(x=>this._containsAttributes(e,x))[0];if(void 0!==w)return w}const s=this._dom.createElement("meta");return this._setMetaElementAttributes(e,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(e,r){return Object.keys(e).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),e[s])),r}_parseSelector(e){const r=e.name?"name":"property";return`${r}="${e[r]}"`}_containsAttributes(e,r){return Object.keys(e).every(s=>r.getAttribute(this._getMetaKeyMap(s))===e[s])}_getMetaKeyMap(e){return r1[e]||e}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function ts(){return new Tl((0,m.LFG)(Z))}(),r},providedIn:"root"}),n})();const r1={httpEquiv:"http-equiv"};let h0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function o1(){return new h0((0,m.LFG)(Z))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):m.LFG(zr),r},providedIn:"root"}),n})(),zr=(()=>{class n extends Wr{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case m.q3G.NONE:return r;case m.q3G.HTML:return(0,m.qzn)(r,"HTML")?(0,m.z3N)(r):(0,m.EiD)(this._doc,String(r)).toString();case m.q3G.STYLE:return(0,m.qzn)(r,"Style")?(0,m.z3N)(r):r;case m.q3G.SCRIPT:if((0,m.qzn)(r,"Script"))return(0,m.z3N)(r);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.qzn)(r,"URL")?(0,m.z3N)(r):(0,m.mCW)(String(r));case m.q3G.RESOURCE_URL:if((0,m.qzn)(r,"ResourceURL"))return(0,m.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${m.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${m.JZr})`)}}bypassSecurityTrustHtml(e){return(0,m.JVY)(e)}bypassSecurityTrustStyle(e){return(0,m.L6k)(e)}bypassSecurityTrustScript(e){return(0,m.eBb)(e)}bypassSecurityTrustUrl(e){return(0,m.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,m.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function gi(n){return new zr(n.get(Z))}(m.LFG(m.zs3)),r},providedIn:"root"}),n})();class Zr{}class D1{}const Yr="*";function Kr(n,t){return{type:7,name:n,definitions:t,options:{}}}function Mi(n,t=null){return{type:4,styles:t,timings:n}}function Hs(n,t=null){return{type:2,steps:n,options:t}}function Hi(n){return{type:6,styles:n,offset:null}}function Et(n,t,e){return{type:0,name:n,styles:t,options:e}}function yi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Qr(n=null){return{type:9,options:n}}function M3(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function pa(n){Promise.resolve().then(n)}class s1{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pa(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class I1{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,s=0;const d=this.players.length;0==d?pa(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++e==d&&this._onFinish()}),g.onDestroy(()=>{++r==d&&this._onDestroy()}),g.onStart(()=>{++s==d&&this._onStart()})}),this.totalTime=this.players.reduce((g,w)=>Math.max(g,w.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(s)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const a1="!";function mc(n){return new m.vHH(3e3,!1)}function L1(){return typeof window<"u"&&typeof window.document<"u"}function w2(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Jr(n){switch(n.length){case 0:return new s1;case 1:return n[0];default:return new I1(n)}}function Xe(n,t,e,r,s=new Map,d=new Map){const g=[],w=[];let x=-1,z=null;if(r.forEach(N=>{const P=N.get("offset"),W=P==x,K=W&&z||new Map;N.forEach((ie,de)=>{let ve=de,Ve=ie;if("offset"!==de)switch(ve=t.normalizePropertyName(ve,g),Ve){case a1:Ve=s.get(de);break;case Yr:Ve=d.get(de);break;default:Ve=t.normalizeStyleValue(de,ve,Ve,g)}K.set(ve,Ve)}),W||w.push(K),z=K,x=P}),g.length)throw function C2(n){return new m.vHH(3502,!1)}();return w}function yc(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&on(e,"start",n)));break;case"done":n.onDone(()=>r(e&&on(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&on(e,"destroy",n)))}}function on(n,t,e){const d=I3(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),g=n._data;return null!=g&&(d._data=g),d}function I3(n,t,e,r,s="",d=0,g){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:s,totalTime:d,disabled:!!g}}function uo(n,t,e){let r=n.get(t);return r||n.set(t,r=e),r}function jl(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let L=(n,t)=>!1,H=(n,t,e)=>[],O=null;function J(n){const t=n.parentNode||n.host;return t===O?null:t}(w2()||typeof Element<"u")&&(L1()?(O=(()=>document.documentElement)(),L=(n,t)=>{for(;t;){if(t===n)return!0;t=J(t)}return!1}):L=(n,t)=>n.contains(t),H=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let Ce=null,ot=!1;const Zt=L,ho=H;let wn=(()=>{class n{validateStyleProperty(e){return function at(n){Ce||(Ce=function Rt(){return typeof document<"u"?document.body:null}()||{},ot=!!Ce.style&&"WebkitAppearance"in Ce.style);let t=!0;return Ce.style&&!function he(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ce.style,!t&&ot&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ce.style)),t}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Zt(e,r)}getParentElement(e){return J(e)}query(e,r,s){return ho(e,r,s)}computeStyle(e,r,s){return s||""}animate(e,r,s,d,g,w=[],x){return new s1(s,d)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Xr=(()=>{class n{}return n.NOOP=new wn,n})();const Ir=1e3,k2="ng-enter",ba="ng-leave",A2="ng-trigger",Nu=".ng-trigger",b0="ng-animating",T3=".ng-animating";function fo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ul(parseFloat(t[1]),t[2])}function Ul(n,t){return"s"===t?n*Ir:n}function N1(n,t,e){return n.hasOwnProperty("duration")?n:function Vu(n,t,e){let s,d=0,g="";if("string"==typeof n){const w=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return t.push(mc()),{duration:0,delay:0,easing:""};s=Ul(parseFloat(w[1]),w[2]);const x=w[3];null!=x&&(d=Ul(parseFloat(x),w[4]));const z=w[5];z&&(g=z)}else s=n;if(!e){let w=!1,x=t.length;s<0&&(t.push(function Nl(){return new m.vHH(3100,!1)}()),w=!0),d<0&&(t.push(function T1(){return new m.vHH(3101,!1)}()),w=!0),w&&t.splice(x,0,mc())}return{duration:s,delay:d,easing:g}}(n,t,e)}function L3(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function z5(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function ya(n,t=new Map,e){if(e)for(let[r,s]of e)t.set(r,s);for(let[r,s]of n)t.set(r,s);return t}function Pu(n,t,e){return e?t+":"+e+";":""}function T5(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=Pu(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Pu(0,Cc(e),n.style[e]));n.setAttribute("style",t)}function mo(n,t,e){n.style&&(t.forEach((r,s)=>{const d=w0(s);e&&!e.has(s)&&e.set(s,n.style[d]),n.style[d]=r}),w2()&&T5(n))}function Ca(n,t){n.style&&(t.forEach((e,r)=>{const s=w0(r);n.style[s]=""}),w2()&&T5(n))}function M2(n){return Array.isArray(n)?1==n.length?n[0]:Hs(n):n}const y0=new RegExp("{{\\s*(.+?)\\s*}}","g");function x2(n){let t=[];if("string"==typeof n){let e;for(;e=y0.exec(n);)t.push(e[1]);y0.lastIndex=0}return t}function N3(n,t,e){const r=n.toString(),s=r.replace(y0,(d,g)=>{let w=t[g];return null==w&&(e.push(function Iu(n){return new m.vHH(3003,!1)}()),w=""),w.toString()});return s==r?n:s}function ql(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const C0=/-+([a-z0-9])/g;function w0(n){return n.replace(C0,(...t)=>t[1].toUpperCase())}function Cc(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Vl(n){return new m.vHH(3004,!1)}()}}function A7(n,t){return window.getComputedStyle(n)[t]}const ka="*";function S0(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function N5(n,t,e){if(":"==n[0]){const x=function V3(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Ol(n){return new m.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof x)return void t.push(x);n=x}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function gc(n){return new m.vHH(3015,!1)}()),t;const s=r[1],d=r[2],g=r[3];t.push($l(s,g));"<"==d[0]&&!(s==ka&&g==ka)&&t.push($l(g,s))}(r,e,t)):e.push(n),e}const H3=new Set(["true","1"]),P3=new Set(["false","0"]);function $l(n,t){const e=H3.has(n)||P3.has(n),r=H3.has(t)||P3.has(t);return(s,d)=>{let g=n==ka||n==s,w=t==ka||t==d;return!g&&e&&"boolean"==typeof s&&(g=s?H3.has(n):P3.has(n)),!w&&r&&"boolean"==typeof d&&(w=d?H3.has(t):P3.has(t)),g&&w}}const V5=new RegExp("s*:selfs*,?","g");function Fu(n,t,e,r){return new H5(n).build(t,e,r)}class H5{constructor(t){this._driver=t}build(t,e,r){const s=new Wl(e);return this._resetContextStyleTimingState(s),gs(this,M2(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,s=e.depCount=0;const d=[],g=[];return"@"==t.name.charAt(0)&&e.errors.push(function y2(){return new m.vHH(3006,!1)}()),t.definitions.forEach(w=>{if(this._resetContextStyleTimingState(e),0==w.type){const x=w,z=x.name;z.toString().split(/\s*,\s*/).forEach(N=>{x.name=N,d.push(this.visitState(x,e))}),x.name=z}else if(1==w.type){const x=this.visitTransition(w,e);r+=x.queryCount,s+=x.depCount,g.push(x)}else e.errors.push(function Hl(){return new m.vHH(3007,!1)}())}),{type:7,name:t.name,states:d,transitions:g,queryCount:r,depCount:s,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(r.containsDynamicStyles){const d=new Set,g=s||{};r.styles.forEach(w=>{w instanceof Map&&w.forEach(x=>{x2(x).forEach(z=>{g.hasOwnProperty(z)||d.add(z)})})}),d.size&&(ql(d.values()),e.errors.push(function Pl(n,t){return new m.vHH(3008,!1)}()))}return{type:0,name:t.name,style:r,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=gs(this,M2(t.animation),e);return{type:1,matchers:S0(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Aa(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>gs(this,r,e)),options:Aa(t.options)}}visitGroup(t,e){const r=e.currentTime;let s=0;const d=t.steps.map(g=>{e.currentTime=r;const w=gs(this,g,e);return s=Math.max(s,e.currentTime),w});return e.currentTime=s,{type:3,steps:d,options:Aa(t.options)}}visitAnimate(t,e){const r=function E2(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Oo(N1(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Oo(0,0,"");return d.dynamic=!0,d.strValue=e,d}const s=N1(e,t);return Oo(s.duration,s.delay,s.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let s,d=t.styles?t.styles:Hi({});if(5==d.type)s=this.visitKeyframes(d,e);else{let g=t.styles,w=!1;if(!g){w=!0;const z={};r.easing&&(z.easing=r.easing),g=Hi(z)}e.currentTime+=r.duration+r.delay;const x=this.visitStyle(g,e);x.isEmptyStep=w,s=x}return e.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let w of s)"string"==typeof w?w===Yr?r.push(w):e.errors.push(new m.vHH(3002,!1)):r.push(z5(w));let d=!1,g=null;return r.forEach(w=>{if(w instanceof Map&&(w.has("easing")&&(g=w.get("easing"),w.delete("easing")),!d))for(let x of w.values())if(x.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:r,easing:g,offset:t.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let s=e.currentTime,d=e.currentTime;r&&d>0&&(d-=r.duration+r.delay),t.styles.forEach(g=>{"string"!=typeof g&&g.forEach((w,x)=>{const z=e.collectedStyles.get(e.currentQuerySelector),N=z.get(x);let P=!0;N&&(d!=s&&d>=N.startTime&&s<=N.endTime&&(e.errors.push(function E3(n,t,e,r,s){return new m.vHH(3010,!1)}()),P=!1),d=N.startTime),P&&z.set(x,{startTime:d,endTime:s}),e.options&&function Gl(n,t,e){const r=t.params||{},s=x2(n);s.length&&s.forEach(d=>{r.hasOwnProperty(d)||e.push(function ga(n){return new m.vHH(3001,!1)}())})}(w,e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function pc(){return new m.vHH(3011,!1)}()),r;let d=0;const g=[];let w=!1,x=!1,z=0;const N=t.steps.map(Ve=>{const tt=this._makeStyleAst(Ve,e);let st=null!=tt.offset?tt.offset:function ju(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;t=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(tt.styles),ft=0;return null!=st&&(d++,ft=tt.offset=st),x=x||ft<0||ft>1,w=w||ft<z,z=ft,g.push(ft),tt});x&&e.errors.push(function Lu(){return new m.vHH(3012,!1)}()),w&&e.errors.push(function D3(){return new m.vHH(3200,!1)}());const P=t.steps.length;let W=0;d>0&&d<P?e.errors.push(function Rl(){return new m.vHH(3202,!1)}()):0==d&&(W=1/(P-1));const K=P-1,ie=e.currentTime,de=e.currentAnimateTimings,ve=de.duration;return N.forEach((Ve,tt)=>{const st=W>0?tt==K?1:W*tt:g[tt],ft=st*ve;e.currentTime=ie+de.delay+ft,de.duration=ft,this._validateStyleAst(Ve,e),Ve.offset=st,r.styles.push(Ve)}),r}visitReference(t,e){return{type:8,animation:gs(this,M2(t.animation),e),options:Aa(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Aa(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Aa(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[d,g]=function R3(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(V5,"")),n=n.replace(/@\*/g,Nu).replace(/@\w+/g,e=>Nu+"-"+e.slice(1)).replace(/:animating/g,T3),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+d:d,uo(e.collectedStyles,e.currentQuerySelector,new Map);const w=gs(this,M2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:d,limit:s.limit||0,optional:!!s.optional,includeSelf:g,animation:w,originalSelector:t.selector,options:Aa(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function m0(){return new m.vHH(3013,!1)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:N1(t.timings,e.errors,!0);return{type:12,animation:gs(this,M2(t.animation),e),timings:r,options:null}}}class Wl{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Aa(n){return n?(n=L3(n)).params&&(n.params=function P5(n){return n?L3(n):null}(n.params)):n={},n}function Oo(n,t,e){return{duration:n,delay:t,easing:e}}function E0(n,t,e,r,s,d,g=null,w=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:s,delay:d,totalTime:s+d,easing:g,subTimeline:w}}class V1{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Uu=new RegExp(":enter","g"),Ma=new RegExp(":leave","g");function Qe(n,t,e,r,s,d=new Map,g=new Map,w,x,z=[]){return(new Ot).buildKeyframes(n,t,e,r,s,d,g,w,x,z)}class Ot{buildKeyframes(t,e,r,s,d,g,w,x,z,N=[]){z=z||new V1;const P=new Tr(t,e,z,s,d,N,[]);P.options=x;const W=x.delay?fo(x.delay):0;P.currentTimeline.delayNextStep(W),P.currentTimeline.setStyles([g],null,P.errors,x),gs(this,r,P);const K=P.timelines.filter(ie=>ie.containsAnimation());if(K.length&&w.size){let ie;for(let de=K.length-1;de>=0;de--){const ve=K[de];if(ve.element===e){ie=ve;break}}ie&&!ie.allowOnlyTimelineStyles()&&ie.setStyles([w],null,P.errors,x)}return K.length?K.map(ie=>ie.buildKeyframes()):[E0(e,[],[],[],0,W,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const s=e.createSubContext(t.options),d=e.currentTimeline.currentTime,g=this._visitSubInstructions(r,s,s.options);d!=g&&e.transformIntoNewTimeline(g)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,r),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,r){for(const s of t){const d=s?.delay;if(d){const g="number"==typeof d?d:fo(N3(d,s?.params??{},e.errors));r.delayNextStep(g)}}}_visitSubInstructions(t,e,r){let d=e.currentTimeline.currentTime;const g=null!=r.duration?fo(r.duration):null,w=null!=r.delay?fo(r.delay):null;return 0!==g&&t.forEach(x=>{const z=e.appendInstructionToTimeline(x,g,w);d=Math.max(d,z.duration+z.delay)}),d}visitReference(t,e){e.updateOptions(t.options,!0),gs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let s=e;const d=t.options;if(d&&(d.params||d.delay)&&(s=e.createSubContext(d),s.transformIntoNewTimeline(),null!=d.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=xa);const g=fo(d.delay);s.delayNextStep(g)}t.steps.length&&(t.steps.forEach(g=>gs(this,g,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let s=e.currentTimeline.currentTime;const d=t.options&&t.options.delay?fo(t.options.delay):0;t.steps.forEach(g=>{const w=e.createSubContext(t.options);d&&w.delayNextStep(d),gs(this,g,w),s=Math.max(s,w.currentTimeline.currentTime),r.push(w.currentTimeline)}),r.forEach(g=>e.currentTimeline.mergeTimelineCollectedStyles(g)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return N1(e.params?N3(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),s.snapshotCurrentStyles());const d=t.style;5==d.type?this.visitKeyframes(d,e):(e.incrementTime(r.duration),this.visitStyle(d,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,s=e.currentAnimateTimings;!s&&r.hasCurrentStyleProperties()&&r.forwardFrame();const d=s&&s.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(d):r.setStyles(t.styles,d,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,s=e.currentTimeline.duration,d=r.duration,w=e.createSubContext().currentTimeline;w.easing=r.easing,t.styles.forEach(x=>{w.forwardTime((x.offset||0)*d),w.setStyles(x.styles,x.easing,e.errors,e.options),w.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(w),e.transformIntoNewTimeline(s+d),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,s=t.options||{},d=s.delay?fo(s.delay):0;d&&(6===e.previousNode.type||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xa);let g=r;const w=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=w.length;let x=null;w.forEach((z,N)=>{e.currentQueryIndex=N;const P=e.createSubContext(t.options,z);d&&P.delayNextStep(d),z===e.element&&(x=P.currentTimeline),gs(this,t.animation,P),P.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,P.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(g),x&&(e.currentTimeline.mergeTimelineCollectedStyles(x),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,s=e.currentTimeline,d=t.timings,g=Math.abs(d.duration),w=g*(e.currentQueryTotal-1);let x=g*e.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":x=w-x;break;case"full":x=r.currentStaggerTime}const N=e.currentTimeline;x&&N.delayNextStep(x);const P=N.currentTime;gs(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=s.currentTime-P+(s.startTime-r.currentTimeline.startTime)}}const xa={};class Tr{constructor(t,e,r,s,d,g,w,x){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=d,this.errors=g,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xa,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=x||new D2(this._driver,e,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let s=this.options;null!=r.duration&&(s.duration=fo(r.duration)),null!=r.delay&&(s.delay=fo(r.delay));const d=r.params;if(d){let g=s.params;g||(g=this.options.params={}),Object.keys(d).forEach(w=>{(!e||!g.hasOwnProperty(w))&&(g[w]=N3(d[w],g,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(s=>{r[s]=e[s]})}}return t}createSubContext(t=null,e,r){const s=e||this.element,d=new Tr(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(t),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(t){return this.previousNode=xa,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(r??0)+t.delay,easing:""},d=new z2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(d),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,s,d,g){let w=[];if(s&&w.push(this.element),t.length>0){t=(t=t.replace(Uu,"."+this._enterClassName)).replace(Ma,"."+this._leaveClassName);let z=this._driver.query(this.element,t,1!=r);0!==r&&(z=r<0?z.slice(z.length+r,z.length):z.slice(0,r)),w.push(...z)}return!d&&0==w.length&&g.push(function Wn(n){return new m.vHH(3014,!1)}()),w}}class D2{constructor(t,e,r,s){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new D2(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Yr),this._currentKeyframe.set(e,Yr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,s){e&&this._previousKeyframe.set("easing",e);const d=s&&s.params||{},g=function z0(n,t){const e=new Map;let r;return n.forEach(s=>{if("*"===s){r=r||t.keys();for(let d of r)e.set(d,Yr)}else ya(s,e)}),e}(t,this._globalTimelineStyles);for(let[w,x]of g){const z=N3(x,d,r);this._pendingStyles.set(w,z),this._localTimelineStyles.has(w)||this._backFill.set(w,this._globalTimelineStyles.get(w)??Yr),this._updateStyle(w,z)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,r)=>{const s=this._styleSummary.get(r);(!s||e.time>s.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((w,x)=>{const z=ya(w,new Map,this._backFill);z.forEach((N,P)=>{N===a1?t.add(P):N===Yr&&e.add(P)}),r||z.set("offset",x/this.duration),s.push(z)});const d=t.size?ql(t.values()):[],g=e.size?ql(e.values()):[];if(r){const w=s[0],x=new Map(w);w.set("offset",0),x.set("offset",1),s=[w,x]}return E0(this.element,s,d,g,this.duration,this.startTime,this.easing,!1)}}class z2 extends D2{constructor(t,e,r,s,d,g,w=!1){super(t,e,g.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=d,this._stretchStartingKeyframe=w,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const d=[],g=r+e,w=e/g,x=ya(t[0]);x.set("offset",0),d.push(x);const z=ya(t[0]);z.set("offset",D0(w)),d.push(z);const N=t.length-1;for(let P=1;P<=N;P++){let W=ya(t[P]);const K=W.get("offset");W.set("offset",D0((e+K*r)/g)),d.push(W)}r=g,e=0,s="",t=d}return E0(this.element,t,this.preStyleProps,this.postStyleProps,r,e,s,!0)}}function D0(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class xi{}const Gu=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class T0 extends xi{normalizePropertyName(t,e){return w0(t)}normalizeStyleValue(t,e,r,s){let d="";const g=r.toString().trim();if(Gu.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)d="px";else{const w=r.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&s.push(function va(n,t){return new m.vHH(3005,!1)}())}return g+d}}function I2(n,t,e,r,s,d,g,w,x,z,N,P,W){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:d,toState:r,toStyles:g,timelines:w,queriedElements:x,preStyleProps:z,postStyleProps:N,totalTime:P,errors:W}}const L0={};class eo{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,s){return function V0(n,t,e,r,s){return n.some(d=>d(t,e,r,s))}(this.ast.matchers,t,e,r,s)}buildStyles(t,e,r){let s=this._stateStyles.get("*");return void 0!==t&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,r):new Map}build(t,e,r,s,d,g,w,x,z,N){const P=[],W=this.ast.options&&this.ast.options.params||L0,ie=this.buildStyles(r,w&&w.params||L0,P),de=x&&x.params||L0,ve=this.buildStyles(s,de,P),Ve=new Set,tt=new Map,st=new Map,ft="void"===s,Dt={params:H0(de,W),delay:this.ast.options?.delay},Ct=N?[]:Qe(t,e,this.ast.animation,d,g,ie,ve,Dt,z,P);let sn=0;if(Ct.forEach(Fr=>{sn=Math.max(Fr.duration+Fr.delay,sn)}),P.length)return I2(e,this._triggerName,r,s,ft,ie,ve,[],[],tt,st,sn,P);Ct.forEach(Fr=>{const K4=Fr.element,Kq=uo(tt,K4,new Set);Fr.preStyleProps.forEach(Cm=>Kq.add(Cm));const Sy=uo(st,K4,new Set);Fr.postStyleProps.forEach(Cm=>Sy.add(Cm)),K4!==e&&Ve.add(K4)});const Ki=ql(Ve.values());return I2(e,this._triggerName,r,s,ft,ie,ve,Ct,Ki,tt,st,sn)}}function H0(n,t){const e=L3(t);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(e[r]=n[r]);return e}class Sa{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r=new Map,s=L3(this.defaultParams);return Object.keys(t).forEach(d=>{const g=t[d];null!==g&&(s[d]=g)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((g,w)=>{g&&(g=N3(g,s,e));const x=this.normalizer.normalizePropertyName(w,e);g=this.normalizer.normalizeStyleValue(w,x,g,e),r.set(w,g)})}),r}}class P0{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{this.states.set(s.name,new Sa(s.style,s.options&&s.options.params||{},r))}),po(this.states,"true","1"),po(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new eo(t,s,this.states))}),this.fallbackTransition=function Kl(n,t,e){return new eo(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,w)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,s){return this.transitionFactories.find(g=>g.match(t,e,r,s))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function po(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const T2=new V1;class R0{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const r=[],s=[],d=Fu(this._driver,e,r,s);if(r.length)throw function _c(n){return new m.vHH(3503,!1)}();this._animations.set(t,d)}_buildPlayer(t,e,r){const s=t.element,d=Xe(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(s,d,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const s=[],d=this._animations.get(t);let g;const w=new Map;if(d?(g=Qe(this._driver,e,d,k2,ba,new Map,new Map,r,T2,s),g.forEach(N=>{const P=uo(w,N.element,new Map);N.postStyleProps.forEach(W=>P.set(W,null))})):(s.push(function z3(){return new m.vHH(3300,!1)}()),g=[]),s.length)throw function g0(n){return new m.vHH(3504,!1)}();w.forEach((N,P)=>{N.forEach((W,K)=>{N.set(K,this._driver.computeStyle(P,K,Yr))})});const z=Jr(g.map(N=>{const P=w.get(N.element);return this._buildPlayer(N,new Map,P)}));return this._playersById.set(t,z),z.onDestroy(()=>this.destroy(t)),this.players.push(z),z}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function bc(n){return new m.vHH(3301,!1)}();return e}listen(t,e,r,s){const d=I3(e,"","","");return yc(this._getPlayer(t),r,d,s),()=>{}}command(t,e,r,s){if("register"==r)return void this.register(t,s[0]);if("create"==r)return void this.create(t,e,s[0]||{});const d=this._getPlayer(t);switch(r){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const qu="ng-animate-queued",O0="ng-animate-disabled",I=[],R={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},re="__ng_removed";class ge{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function F3(n){return n??null}(r?t.value:t),r){const d=L3(t);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(s=>{null==r[s]&&(r[s]=e[s])})}}}const qe="void",et=new ge(qe);class _t{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Fo(e,this._hostClassName)}listen(t,e,r,s){if(!this._triggers.has(e))throw function v0(n,t){return new m.vHH(3302,!1)}();if(null==r||0==r.length)throw function D5(n){return new m.vHH(3303,!1)}();if(!function Si(n){return"start"==n||"done"==n}(r))throw function Fl(n,t){return new m.vHH(3400,!1)}();const d=uo(this._elementListeners,t,[]),g={name:e,phase:r,callback:s};d.push(g);const w=uo(this._engine.statesByElement,t,new Map);return w.has(e)||(Fo(t,A2),Fo(t,A2+"-"+e),w.set(e,et)),()=>{this._engine.afterFlush(()=>{const x=d.indexOf(g);x>=0&&d.splice(x,1),this._triggers.has(e)||w.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Bl(n){return new m.vHH(3401,!1)}();return e}trigger(t,e,r,s=!0){const d=this._getTrigger(e),g=new Tn(this.id,e,t);let w=this._engine.statesByElement.get(t);w||(Fo(t,A2),Fo(t,A2+"-"+e),this._engine.statesByElement.set(t,w=new Map));let x=w.get(e);const z=new ge(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&x&&z.absorbOptions(x.options),w.set(e,z),x||(x=et),z.value!==qe&&x.value===z.value){if(!function U0(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let s=0;s<e.length;s++){const d=e[s];if(!t.hasOwnProperty(d)||n[d]!==t[d])return!1}return!0}(x.params,z.params)){const de=[],ve=d.matchStyles(x.value,x.params,de),Ve=d.matchStyles(z.value,z.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Ca(t,ve),mo(t,Ve)})}return}const W=uo(this._engine.playersByElement,t,[]);W.forEach(de=>{de.namespaceId==this.id&&de.triggerName==e&&de.queued&&de.destroy()});let K=d.matchTransition(x.value,z.value,t,z.params),ie=!1;if(!K){if(!s)return;K=d.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:x,toState:z,player:g,isFallbackTransition:ie}),ie||(Fo(t,qu),g.onStart(()=>{Mc(t,qu)})),g.onDone(()=>{let de=this.players.indexOf(g);de>=0&&this.players.splice(de,1);const ve=this._engine.playersByElement.get(t);if(ve){let Ve=ve.indexOf(g);Ve>=0&&ve.splice(Ve,1)}}),this.players.push(g),W.push(g),g}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Nu,!0);r.forEach(s=>{if(s[re])return;const d=this._engine.fetchNamespacesByElement(s);d.size?d.forEach(g=>g.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,r,s){const d=this._engine.statesByElement.get(t),g=new Map;if(d){const w=[];if(d.forEach((x,z)=>{if(g.set(z,x.value),this._triggers.has(z)){const N=this.trigger(t,z,qe,s);N&&w.push(N)}}),w.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,g),r&&Jr(w).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const s=new Set;e.forEach(d=>{const g=d.name;if(s.has(g))return;s.add(g);const x=this._triggers.get(g).fallbackTransition,z=r.get(g)||et,N=new ge(qe),P=new Tn(this.id,g,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:g,transition:x,fromState:z,toState:N,player:P,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(r.totalAnimations){const d=r.players.length?r.playersByQueriedElement.get(t):[];if(d&&d.length)s=!0;else{let g=t;for(;g=g.parentNode;)if(r.statesByElement.get(g)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)r.markElementAsRemoved(this.id,t,!1,e);else{const d=t[re];(!d||d===R)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Fo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const d=r.element,g=this._elementListeners.get(d);g&&g.forEach(w=>{if(w.name==r.triggerName){const x=I3(d,r.triggerName,r.fromState.value,r.toState.value);x._data=t,yc(r.player,w.phase,x,w.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(r)}),this._queue=[],e.sort((r,s)=>{const d=r.transition.ast.depCount,g=s.transition.ast.depCount;return 0==d||0==g?d-g:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class lt{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,d)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new _t(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,s=this.namespacesByHostElement;if(r.length-1>=0){let g=!1,w=this.driver.getParentElement(e);for(;w;){const x=s.get(w);if(x){const z=r.indexOf(x);r.splice(z+1,0,t),g=!0;break}w=this.driver.getParentElement(w)}g||r.unshift(t)}else r.push(t);return s.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let s=this._namespaceLookup[t];s&&s.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r)for(let s of r.values())if(s.namespaceId){const d=this._fetchNamespace(s.namespaceId);d&&e.add(d)}return e}trigger(t,e,r,s){if(B3(e)){const d=this._fetchNamespace(t);if(d)return d.trigger(e,r,s),!0}return!1}insertNode(t,e,r,s){if(!B3(e))return;const d=e[re];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const g=this.collectedLeaveElements.indexOf(e);g>=0&&this.collectedLeaveElements.splice(g,1)}if(t){const g=this._fetchNamespace(t);g&&g.insertNode(e,r)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fo(t,O0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mc(t,O0))}removeNode(t,e,r,s){if(B3(e)){const d=t?this._fetchNamespace(t):null;if(d?d.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),r){const g=this.namespacesByHostElement.get(e);g&&g.id!==t&&g.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,r,s,d){this.collectedLeaveElements.push(e),e[re]={namespaceId:t,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:d}}listen(t,e,r,s,d){return B3(e)?this._fetchNamespace(t).listen(e,r,s,d):()=>{}}_buildInstruction(t,e,r,s,d){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,s,t.fromState.options,t.toState.options,e,d)}destroyInnerAnimations(t){let e=this.driver.query(t,Nu,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,T3,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Jr(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[re];if(e&&e.setForRemoval){if(t[re]=R,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(O0)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Fo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Jr(e).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(t){throw function ps(n){return new m.vHH(3402,!1)}()}_flushAnimations(t,e){const r=new V1,s=[],d=new Map,g=[],w=new Map,x=new Map,z=new Map,N=new Set;this.disabledNodes.forEach(Ht=>{N.add(Ht);const Xt=this.driver.query(Ht,".ng-animate-queued",!0);for(let an=0;an<Xt.length;an++)N.add(Xt[an])});const P=this.bodyNode,W=Array.from(this.statesByElement.keys()),K=j3(W,this.collectedEnterElements),ie=new Map;let de=0;K.forEach((Ht,Xt)=>{const an=k2+de++;ie.set(Xt,an),Ht.forEach(si=>Fo(si,an))});const ve=[],Ve=new Set,tt=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const Xt=this.collectedLeaveElements[Ht],an=Xt[re];an&&an.setForRemoval&&(ve.push(Xt),Ve.add(Xt),an.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(si=>Ve.add(si)):tt.add(Xt))}const st=new Map,ft=j3(W,Array.from(Ve));ft.forEach((Ht,Xt)=>{const an=ba+de++;st.set(Xt,an),Ht.forEach(si=>Fo(si,an))}),t.push(()=>{K.forEach((Ht,Xt)=>{const an=ie.get(Xt);Ht.forEach(si=>Mc(si,an))}),ft.forEach((Ht,Xt)=>{const an=st.get(Xt);Ht.forEach(si=>Mc(si,an))}),ve.forEach(Ht=>{this.processLeaveNode(Ht)})});const Dt=[],Ct=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(e).forEach(an=>{const si=an.player,Gs=an.element;if(Dt.push(si),this.collectedEnterElements.length){const K1=Gs[re];if(K1&&K1.setForMove){if(K1.previousTriggersValues&&K1.previousTriggersValues.has(an.triggerName)){const wm=K1.previousTriggersValues.get(an.triggerName),gl=this.statesByElement.get(an.element);if(gl&&gl.has(an.triggerName)){const fk=gl.get(an.triggerName);fk.value=wm,gl.set(an.triggerName,fk)}}return void si.destroy()}}const _u=!P||!this.driver.containsElement(P,Gs),Jc=st.get(Gs),b7=ie.get(Gs),so=this._buildInstruction(an,r,b7,Jc,_u);if(so.errors&&so.errors.length)return void Ct.push(so);if(_u)return si.onStart(()=>Ca(Gs,so.fromStyles)),si.onDestroy(()=>mo(Gs,so.toStyles)),void s.push(si);if(an.isFallbackTransition)return si.onStart(()=>Ca(Gs,so.fromStyles)),si.onDestroy(()=>mo(Gs,so.toStyles)),void s.push(si);const Xq=[];so.timelines.forEach(K1=>{K1.stretchStartingKeyframe=!0,this.disabledNodes.has(K1.element)||Xq.push(K1)}),so.timelines=Xq,r.append(Gs,so.timelines),g.push({instruction:so,player:si,element:Gs}),so.queriedElements.forEach(K1=>uo(w,K1,[]).push(si)),so.preStyleProps.forEach((K1,wm)=>{if(K1.size){let gl=x.get(wm);gl||x.set(wm,gl=new Set),K1.forEach((fk,EE)=>gl.add(EE))}}),so.postStyleProps.forEach((K1,wm)=>{let gl=z.get(wm);gl||z.set(wm,gl=new Set),K1.forEach((fk,EE)=>gl.add(EE))})});if(Ct.length){const Ht=[];Ct.forEach(Xt=>{Ht.push(function _a(n,t){return new m.vHH(3505,!1)}())}),Dt.forEach(Xt=>Xt.destroy()),this.reportError(Ht)}const sn=new Map,Ki=new Map;g.forEach(Ht=>{const Xt=Ht.element;r.has(Xt)&&(Ki.set(Xt,Xt),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,sn))}),s.forEach(Ht=>{const Xt=Ht.element;this._getPreviousPlayers(Xt,!1,Ht.namespaceId,Ht.triggerName,null).forEach(si=>{uo(sn,Xt,[]).push(si),si.destroy()})});const Fr=ve.filter(Ht=>G0(Ht,x,z)),K4=new Map;B0(K4,this.driver,tt,z,Yr).forEach(Ht=>{G0(Ht,x,z)&&Fr.push(Ht)});const Sy=new Map;K.forEach((Ht,Xt)=>{B0(Sy,this.driver,new Set(Ht),x,a1)}),Fr.forEach(Ht=>{const Xt=K4.get(Ht),an=Sy.get(Ht);K4.set(Ht,new Map([...Array.from(Xt?.entries()??[]),...Array.from(an?.entries()??[])]))});const Cm=[],Qq=[],Jq={};g.forEach(Ht=>{const{element:Xt,player:an,instruction:si}=Ht;if(r.has(Xt)){if(N.has(Xt))return an.onDestroy(()=>mo(Xt,si.toStyles)),an.disabled=!0,an.overrideTotalTime(si.totalTime),void s.push(an);let Gs=Jq;if(Ki.size>1){let Jc=Xt;const b7=[];for(;Jc=Jc.parentNode;){const so=Ki.get(Jc);if(so){Gs=so;break}b7.push(Jc)}b7.forEach(so=>Ki.set(so,Gs))}const _u=this._buildAnimation(an.namespaceId,si,sn,d,Sy,K4);if(an.setRealPlayer(_u),Gs===Jq)Cm.push(an);else{const Jc=this.playersByElement.get(Gs);Jc&&Jc.length&&(an.parentPlayer=Jr(Jc)),s.push(an)}}else Ca(Xt,si.fromStyles),an.onDestroy(()=>mo(Xt,si.toStyles)),Qq.push(an),N.has(Xt)&&s.push(an)}),Qq.forEach(Ht=>{const Xt=d.get(Ht.element);if(Xt&&Xt.length){const an=Jr(Xt);Ht.setRealPlayer(an)}}),s.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<ve.length;Ht++){const Xt=ve[Ht],an=Xt[re];if(Mc(Xt,ba),an&&an.hasAnimation)continue;let si=[];if(w.size){let _u=w.get(Xt);_u&&_u.length&&si.push(..._u);let Jc=this.driver.query(Xt,T3,!0);for(let b7=0;b7<Jc.length;b7++){let so=w.get(Jc[b7]);so&&so.length&&si.push(...so)}}const Gs=si.filter(_u=>!_u.destroyed);Gs.length?j0(this,Xt,Gs):this.processLeaveNode(Xt)}return ve.length=0,Cm.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const Xt=this.players.indexOf(Ht);this.players.splice(Xt,1)}),Ht.play()}),Cm}elementContainsData(t,e){let r=!1;const s=e[re];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,s,d){let g=[];if(e){const w=this.playersByQueriedElement.get(t);w&&(g=w)}else{const w=this.playersByElement.get(t);if(w){const x=!d||d==qe;w.forEach(z=>{z.queued||!x&&z.triggerName!=s||g.push(z)})}}return(r||s)&&(g=g.filter(w=>!(r&&r!=w.namespaceId||s&&s!=w.triggerName))),g}_beforeAnimationBuild(t,e,r){const d=e.element,g=e.isRemovalTransition?void 0:t,w=e.isRemovalTransition?void 0:e.triggerName;for(const x of e.timelines){const z=x.element,N=z!==d,P=uo(r,z,[]);this._getPreviousPlayers(z,N,g,w,e.toState).forEach(K=>{const ie=K.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),K.destroy(),P.push(K)})}Ca(d,e.fromStyles)}_buildAnimation(t,e,r,s,d,g){const w=e.triggerName,x=e.element,z=[],N=new Set,P=new Set,W=e.timelines.map(ie=>{const de=ie.element;N.add(de);const ve=de[re];if(ve&&ve.removedBeforeQueried)return new s1(ie.duration,ie.delay);const Ve=de!==x,tt=function R5(n){const t=[];return O5(n,t),t}((r.get(de)||I).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===de),st=d.get(de),ft=g.get(de),Dt=Xe(0,this._normalizer,0,ie.keyframes,st,ft),Ct=this._buildPlayer(ie,Dt,tt);if(ie.subTimeline&&s&&P.add(de),Ve){const sn=new Tn(t,w,de);sn.setRealPlayer(Ct),z.push(sn)}return Ct});z.forEach(ie=>{uo(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function vs(n,t,e){let r=n.get(t);if(r){if(r.length){const s=r.indexOf(e);r.splice(s,1)}0==r.length&&n.delete(t)}return r}(this.playersByQueriedElement,ie.element,ie))}),N.forEach(ie=>Fo(ie,b0));const K=Jr(W);return K.onDestroy(()=>{N.forEach(ie=>Mc(ie,b0)),mo(x,e.toStyles)}),P.forEach(ie=>{uo(s,ie,[]).push(K)}),K}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new s1(t.duration,t.delay)}}class Tn{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new s1,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,r)=>{e.forEach(s=>yc(t,r,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){uo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function B3(n){return n&&1===n.nodeType}function F0(n,t){const e=n.style.display;return n.style.display=t??"none",e}function B0(n,t,e,r,s){const d=[];e.forEach(x=>d.push(F0(x)));const g=[];r.forEach((x,z)=>{const N=new Map;x.forEach(P=>{const W=t.computeStyle(z,P,s);N.set(P,W),(!W||0==W.length)&&(z[re]=j,g.push(z))}),n.set(z,N)});let w=0;return e.forEach(x=>F0(x,d[w++])),g}function j3(n,t){const e=new Map;if(n.forEach(w=>e.set(w,[])),0==t.length)return e;const r=1,s=new Set(t),d=new Map;function g(w){if(!w)return r;let x=d.get(w);if(x)return x;const z=w.parentNode;return x=e.has(z)?z:s.has(z)?r:g(z),d.set(w,x),x}return t.forEach(w=>{const x=g(w);x!==r&&e.get(x).push(w)}),e}function Fo(n,t){n.classList?.add(t)}function Mc(n,t){n.classList?.remove(t)}function j0(n,t,e){Jr(e).onDone(()=>n.processLeaveNode(t))}function O5(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof I1?O5(r.players,t):t.push(r)}}function G0(n,t,e){const r=e.get(n);if(!r)return!1;let s=t.get(n);return s?r.forEach(d=>s.add(d)):t.set(n,r),e.delete(n),!0}class F5{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,d)=>{},this._transitionEngine=new lt(t,e,r),this._timelineEngine=new R0(t,e,r),this._transitionEngine.onRemovalComplete=(s,d)=>this.onRemovalComplete(s,d)}registerTrigger(t,e,r,s,d){const g=t+"-"+s;let w=this._triggerCache[g];if(!w){const x=[],z=[],N=Fu(this._driver,d,x,z);if(x.length)throw function p0(n,t){return new m.vHH(3404,!1)}();w=function Yl(n,t,e){return new P0(n,t,e)}(s,N,this._normalizer),this._triggerCache[g]=w}this._transitionEngine.registerTrigger(e,s,w)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,s){this._transitionEngine.insertNode(t,e,r,s)}onRemove(t,e,r,s){this._transitionEngine.removeNode(t,e,s||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,s){if("@"==r.charAt(0)){const[d,g]=jl(r);this._timelineEngine.command(d,e,g,s)}else this._transitionEngine.trigger(t,e,r,s)}listen(t,e,r,s,d){if("@"==r.charAt(0)){const[g,w]=jl(r);return this._timelineEngine.listen(g,e,w,d)}return this._transitionEngine.listen(t,e,r,s,d)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B5=(()=>{class n{constructor(e,r,s){this._element=e,this._startStyles=r,this._endStyles=s,this._state=0;let d=n.initialStylesByElement.get(e);d||n.initialStylesByElement.set(e,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ca(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ca(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Wu(n){let t=null;return n.forEach((e,r)=>{(function M7(n){return"display"===n||"position"===n})(r)&&(t=t||new Map,t.set(r,e))}),t}class H1{constructor(t,e,r,s){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(t,e,r){return t.animate(this._convertKeyframesToObject(e),r)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,s)=>{"offset"!==s&&t.set(s,this._finished?r:A7(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class km{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Zt(t,e)}getParentElement(t){return J(t)}query(t,e,r){return ho(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,s,d,g=[]){const x={duration:r,delay:s,fill:0==s?"both":"forwards"};d&&(x.easing=d);const z=new Map,N=g.filter(K=>K instanceof H1);(function wc(n,t){return 0===n||0===t})(r,s)&&N.forEach(K=>{K.currentSnapshot.forEach((ie,de)=>z.set(de,ie))});let P=function Hu(n){return n.length?n[0]instanceof Map?n:n.map(t=>z5(t)):[]}(e).map(K=>ya(K));P=function k0(n,t,e){if(e.size&&t.length){let r=t[0],s=[];if(e.forEach((d,g)=>{r.has(g)||s.push(g),r.set(g,d)}),s.length)for(let d=1;d<t.length;d++){let g=t[d];s.forEach(w=>g.set(w,A7(n,w)))}}return t}(t,P,z);const W=function U3(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Wu(t[0]),t.length>1&&(r=Wu(t[t.length-1]))):t instanceof Map&&(e=Wu(t)),e||r?new B5(n,e,r):null}(t,P);return new H1(t,P,x,W)}}let q0=(()=>{class n extends Zr{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?Hs(e):e;return $0(this._renderer,null,r,"register",[s]),new xc(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.FYo),m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class xc extends D1{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Am(this._id,t,e||{},this._renderer)}}class Am{constructor(t,e,r,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function $0(n,t,e,r,s){return n.setProperty(t,`@@${e}:${r}`,s)}const j5="@.disabled";let Dv=(()=>{class n{constructor(e,r,s){this.delegate=e,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(d,g)=>{const w=g?.parentNode(d);w&&g.removeChild(w,d)}}createRenderer(e,r){const d=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(d);return N||(N=new U5("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,N)),N}const g=r.id,w=r.id+"-"+this._currentId;this._currentId++,this.engine.register(w,e);const x=N=>{Array.isArray(N)?N.forEach(x):this.engine.registerTrigger(g,w,e,N.name,N)};return r.data.animation.forEach(x),new S7(this,w,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,s){e>=0&&e<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[g,w]=d;g(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.FYo),m.LFG(F5),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class U5{constructor(t,e,r,s){this.namespaceId=t,this.delegate=e,this.engine=r,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?d=>e.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,s=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,s){this.delegate.setAttribute(t,e,r,s)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,s){this.delegate.setStyle(t,e,r,s)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==j5?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class S7 extends U5{constructor(t,e,r,s,d){super(e,r,s,d),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==j5?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.slice(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const s=function Mm(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let d=e.slice(1),g="";return"@"!=d.charAt(0)&&([d,g]=function Ql(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(d)),this.engine.listen(this.namespaceId,s,d,g,w=>{this.factory.scheduleListenerCallback(w._data||-1,r,w)})}return this.delegate.listen(t,e,r)}}let zv=(()=>{class n extends F5{constructor(e,r,s,d){super(e.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(Xr),m.LFG(xi),m.LFG(m.z2F))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const xm=[{provide:Zr,useClass:q0},{provide:xi,useFactory:function E7(){return new T0}},{provide:F5,useClass:zv},{provide:m.FYo,useFactory:function Zu(n,t,e){return new Dv(n,t,e)},deps:[Dr,F5,m.R0b]}],Yu=[{provide:Xr,useFactory:()=>new km},{provide:m.QbO,useValue:"BrowserAnimations"},...xm],Ku=[{provide:Xr,useClass:wn},{provide:m.QbO,useValue:"NoopAnimations"},...xm];let Ea=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Ku:Yu}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:Yu,imports:[es]}),n})();var Jl=Q(3269),ri=Q(8996);function yt(...n){const t=(0,Jl.yG)(n);return(0,ri.D)(n,t)}var Xl=Q(8421),Lr=Q(4482),mr=Q(5403);function Ei(n,t){return(0,Lr.e)((e,r)=>{let s=null,d=0,g=!1;const w=()=>g&&!s&&r.complete();e.subscribe((0,mr.x)(r,x=>{s?.unsubscribe();let z=0;const N=d++;(0,Xl.Xf)(n(x,N)).subscribe(s=(0,mr.x)(r,P=>r.next(t?t(x,P,N,z++):P),()=>{s=null,w()}))},()=>{g=!0,w()}))})}var nn=Q(7579);class _s extends nn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var to=Q(9751),e4=Q(6451),D7=Q(5363),St=Q(4004),Qu=Q(6063);class Em extends nn.x{constructor(t=1/0,e=1/0,r=Qu.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:d,_windowTime:g}=this;e||(r.push(t),!s&&r.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:s}=this,d=s.slice();for(let g=0;g<d.length&&!t.closed;g+=r?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:s}=this,d=(s?1:2)*t;if(t<1/0&&d<r.length&&r.splice(0,r.length-d),!s){const g=e.now();let w=0;for(let x=1;x<r.length&&r[x]<=g;x+=2)w=x;w&&r.splice(0,w+1)}}}var t4=Q(3099);function W0(n,t,e){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:s=!1,scheduler:e}=n):r=n??1/0,(0,t4.B)({connector:()=>new Em(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}const Ju=(0,Q(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function go(n,t){return(0,Lr.e)((e,r)=>{let s=0;e.subscribe((0,mr.x)(r,d=>n.call(t,d,s++)&&r.next(d)))})}var Da=Q(515);function ns(n){return n<=0?()=>Da.E:(0,Lr.e)((t,e)=>{let r=0;t.subscribe((0,mr.x)(e,s=>{++r<=n&&(e.next(s),n<=r&&e.complete())}))})}function Xu(n){return(0,Lr.e)((t,e)=>{let r=!1;t.subscribe((0,mr.x)(e,s=>{r=!0,e.next(s)},()=>{r||e.next(n),e.complete()}))})}function G5(n=ed){return(0,Lr.e)((t,e)=>{let r=!1;t.subscribe((0,mr.x)(e,s=>{r=!0,e.next(s)},()=>r?e.complete():e.error(n())))})}function ed(){return new Ju}var n4=Q(4671);function L2(n,t){const e=arguments.length>=2;return r=>r.pipe(n?go((s,d)=>n(s,d,r)):n4.y,ns(1),e?Xu(t):G5(()=>new Ju))}var P1=Q(576);function Z0(n,t){return(0,P1.m)(t)?Ei(()=>n,t):Ei(()=>n)}var z7=Q(9468),vo=Q(4976),R1=Q(2011);Q(259);var De=Q(5861),Ln=Q(6881),bs=Q(4859),Nt=Q(2090),Bo=Q(1877);const Sc=new Map,Ye={activated:!1,tokenObservers:[]},Q0={initialized:!1,enabled:!1};function qi(n){return Sc.get(n)||Object.assign({},Ye)}function id(){return Q0}const tn="https://content-firebaseappcheck.googleapis.com/v1",Tm="exchangeDebugToken",rd={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nm{constructor(t,e,r,s,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=s,s>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new Nt.BH,yield function Vm(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Nt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const _o=new Nt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function T7(n){if(!qi(n).activated)throw _o.create("use-before-activation",{appName:n.name})}function N2(n,t){return L7.apply(this,arguments)}function L7(){return(L7=(0,De.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},s=e.getImmediate({optional:!0});if(s){const P=yield s.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const d={method:"POST",body:JSON.stringify(t),headers:r};let g,w;try{g=yield fetch(n,d)}catch(P){throw _o.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==g.status)throw _o.create("fetch-status-error",{httpStatus:g.status});try{w=yield g.json()}catch(P){throw _o.create("fetch-parse-error",{originalErrorMessage:P?.message})}const x=w.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw _o.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const z=1e3*Number(x[1]),N=Date.now();return{token:w.token,expireTimeMillis:N+z,issuedAtTimeMillis:N}})).apply(this,arguments)}function Hm(n,t){const{projectId:e,appId:r,apiKey:s}=n.options;return{url:`${tn}/projects/${e}/apps/${r}:${Tm}?key=${s}`,body:{debug_token:t}}}const N7="firebase-app-check-database",Rv=1,$5="firebase-app-check-store";let Ia=null;function e6(n,t){return W5.apply(this,arguments)}function W5(){return(W5=(0,De.Z)(function*(n,t){const r=(yield function Ov(){return Ia||(Ia=new Promise((n,t)=>{try{const e=indexedDB.open(N7,Rv);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var s;t(_o.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($5,{keyPath:"compositeKey"})}}catch(e){t(_o.create("storage-open",{originalErrorMessage:e?.message}))}}),Ia)}()).transaction($5,"readwrite"),d=r.objectStore($5).put({compositeKey:n,value:t});return new Promise((g,w)=>{d.onsuccess=x=>{g()},r.onerror=x=>{var z;w(_o.create("storage-set",{originalErrorMessage:null===(z=x.target.error)||void 0===z?void 0:z.message}))}})})).apply(this,arguments)}const t6=new Bo.Yd("@firebase/app-check");function sd(n,t){return(0,Nt.hl)()?function o4(n,t){return e6(function V7(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{t6.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Y5(){return id().enabled}function n6(){return K5.apply(this,arguments)}function K5(){return(K5=(0,De.Z)(function*(){const n=id();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Bm={error:"UNKNOWN_ERROR"};function Bv(n){return Nt.US.encodeString(JSON.stringify(n),!1)}function V2(n){return Q5.apply(this,arguments)}function Q5(){return(Q5=(0,De.Z)(function*(n,t=!1){const e=n.app;T7(e);const r=qi(e);let d,s=r.token;if(s&&!H2(s)&&(r.token=void 0,s=void 0),!s){const x=yield r.cachedTokenPromise;x&&(H2(x)?s=x:yield sd(e,void 0))}if(!t&&s&&H2(s))return{token:s.token};let w,g=!1;if(Y5()){r.exchangeTokenPromise||(r.exchangeTokenPromise=N2(Hm(e,yield n6()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),g=!0);const x=yield r.exchangeTokenPromise;return yield sd(e,x),r.token=x,{token:x.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),g=!0),s=yield qi(e).exchangeTokenPromise}catch(x){"appCheck/throttled"===x.code?t6.warn(x.message):t6.error(x),d=x}return s?d?w=H2(s)?{token:s.token,internalError:d}:X5(d):(w={token:s.token},r.token=s,yield sd(e,s)):w=X5(d),g&&function J5(n,t){const e=qi(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(e,w),w})).apply(this,arguments)}function i6(n){return s4.apply(this,arguments)}function s4(){return(s4=(0,De.Z)(function*(n){const t=n.app;T7(t);const{provider:e}=qi(t);if(Y5()){const r=yield n6(),{token:s}=yield N2(Hm(t,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function R7(n,t){const e=qi(n),r=e.tokenObservers.filter(s=>s.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function Ta(n){const{app:t}=n,e=qi(t);let r=e.tokenRefresher;r||(r=function r6(n){const{app:t}=n;return new Nm((0,De.Z)(function*(){let r;if(r=qi(t).token?yield V2(n,!0):yield V2(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=qi(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},rd.RETRIAL_MIN_WAIT,rd.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function H2(n){return n.expireTimeMillis-Date.now()>0}function X5(n){return{token:Bv(Bm),error:n}}class e8{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=qi(this.app);for(const e of t)R7(this.app,e.next);return Promise.resolve()}}const no="app-check-internal";!function Os(){(0,Ln._registerComponent)(new bs.wA("app-check",n=>function jm(n,t){return new e8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(no).initialize()})),(0,Ln._registerComponent)(new bs.wA(no,n=>function O7(n){return{getToken:t=>V2(n,t),getLimitedUseToken:()=>i6(n),addTokenListener:t=>function P7(n,t,e,r){const{app:s}=n,d=qi(s);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:r,type:t}],d.token&&H2(d.token)){const w=d.token;Promise.resolve().then(()=>{e({token:w.token}),Ta(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Ta(n))}(n,"INTERNAL",t),removeTokenListener:t=>R7(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ln.registerVersion)("@firebase/app-check","0.8.0")}();class _n{constructor(){return(0,vo.vb)("app-check")}}typeof window<"u"&&window;var Vy=Q(9260);const W7=new m.OlP("angularfire2.auth.use-emulator"),a8=new m.OlP("angularfire2.auth.settings"),Z7=new m.OlP("angularfire2.auth.tenant-id"),c8=new m.OlP("angularfire2.auth.langugage-code"),R2=new m.OlP("angularfire2.auth.use-device-language"),W3=new m.OlP("angularfire.auth.persistence"),c4=(n,t,e,r,s,d,g,w)=>(0,R1.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const x=t.runOutsideAngular(()=>n.auth());if(e&&x.useEmulator(...e),r&&(x.tenantId=r),x.languageCode=s,d&&x.useDeviceLanguage(),g)for(const[z,N]of Object.entries(g))x.settings[z]=N;return w&&x.setPersistence(w),x},[e,r,s,d,g,w]);let l4=(()=>{class n{constructor(e,r,s,d,g,w,x,z,N,P,W,K){const ie=new nn.x,de=yt(void 0).pipe((0,D7.Q)(g.outsideAngular),Ei(()=>d.runOutsideAngular(()=>Promise.resolve().then(Q.bind(Q,2644)))),(0,St.U)(()=>(0,R1.on)(e,d,r)),(0,St.U)(ve=>c4(ve,d,w,z,N,P,x,W)),W0({bufferSize:1,refCount:!1}));if(Ys(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{de.pipe(L2()).subscribe();const Ve=de.pipe(Ei(ft=>ft.getRedirectResult().then(Dt=>Dt,()=>null)),vo.iC,W0({bufferSize:1,refCount:!1})),tt=de.pipe(Ei(ft=>new to.y(Dt=>({unsubscribe:d.runOutsideAngular(()=>ft.onAuthStateChanged(Ct=>Dt.next(Ct),Ct=>Dt.error(Ct),()=>Dt.complete()))})))),st=de.pipe(Ei(ft=>new to.y(Dt=>({unsubscribe:d.runOutsideAngular(()=>ft.onIdTokenChanged(Ct=>Dt.next(Ct),Ct=>Dt.error(Ct),()=>Dt.complete()))}))));this.authState=Ve.pipe(Z0(tt),(0,z7.R)(g.outsideAngular),(0,D7.Q)(g.insideAngular)),this.user=Ve.pipe(Z0(st),(0,z7.R)(g.outsideAngular),(0,D7.Q)(g.insideAngular)),this.idToken=this.user.pipe(Ei(ft=>ft?(0,ri.D)(ft.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(Ei(ft=>ft?(0,ri.D)(ft.getIdTokenResult()):yt(null))),this.credential=(0,e4.T)(Ve,ie,this.authState.pipe(go(ft=>!ft))).pipe((0,St.U)(ft=>ft?.user?ft:null),(0,z7.R)(g.outsideAngular),(0,D7.Q)(g.insideAngular))}return(0,R1.pX)(this,de,d,{spy:{apply:(ve,Ve,tt)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&tt.then(st=>ie.next(st))}}})}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(R1.Dh),m.LFG(R1.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(vo.HU),m.LFG(W7,8),m.LFG(a8,8),m.LFG(Z7,8),m.LFG(c8,8),m.LFG(R2,8),m.LFG(W3,8),m.LFG(_n,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const{isArray:Qm}=Array,{getPrototypeOf:u4,prototype:Zv,keys:Ec}=Object;function o6(n){if(1===n.length){const t=n[0];if(Qm(t))return{args:t,keys:null};if(function Jm(n){return n&&"object"==typeof n&&u4(n)===Zv}(t)){const e=Ec(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:Yv}=Array;function l8(n){return(0,St.U)(t=>function dd(n,t){return Yv(t)?n(...t):n(t)}(n,t))}function Y7(n,t){return n.reduce((e,r,s)=>(e[r]=t[s],e),{})}var Kv=Q(9672);function K7(...n){const t=(0,Jl.yG)(n),e=(0,Jl.jO)(n),{args:r,keys:s}=o6(n);if(0===r.length)return(0,ri.D)([],t);const d=new to.y(Q7(r,t,s?g=>Y7(s,g):n4.y));return e?d.pipe(l8(e)):d}function Q7(n,t,e=n4.y){return r=>{J7(t,()=>{const{length:s}=n,d=new Array(s);let g=s,w=s;for(let x=0;x<s;x++)J7(t,()=>{const z=(0,ri.D)(n[x],t);let N=!1;z.subscribe((0,mr.x)(r,P=>{d[x]=P,N||(N=!0,w--),w||r.next(e(d.slice()))},()=>{--g||r.complete()}))},r)},r)}}function J7(n,t,e){n?(0,Kv.f)(e,n,t):t()}var s6=Q(8189);function a6(...n){return function u8(){return(0,s6.J)(1)}()((0,ri.D)(n,(0,Jl.yG)(n)))}function d4(n){return new to.y(t=>{(0,Xl.Xf)(n()).subscribe(t)})}var X7=Q(9635);function h4(n,t){const e=(0,P1.m)(n)?n:()=>n,r=s=>s.error(e());return new to.y(t?s=>t.schedule(r,0,s):r)}var d1=Q(727);function ef(){return(0,Lr.e)((n,t)=>{let e=null;n._refCount++;const r=(0,mr.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,d=e;e=null,s&&(!d||s===d)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class tf extends to.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new d1.w0;const e=this.getSubject();t.add(this.source.subscribe((0,mr.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=d1.w0.EMPTY)}return t}refCount(){return ef()(this)}}function Z3(...n){const t=(0,Jl.yG)(n);return(0,Lr.e)((e,r)=>{(t?a6(n,e,t):a6(n,e)).subscribe(r)})}var jo=Q(5577);function Dc(n,t){return(0,P1.m)(t)?(0,jo.z)(n,t,1):(0,jo.z)(n,1)}var Ri=Q(8505);function zc(n){return(0,Lr.e)((t,e)=>{let d,r=null,s=!1;r=t.subscribe((0,mr.x)(e,void 0,void 0,g=>{d=(0,Xl.Xf)(n(g,zc(n)(t))),r?(r.unsubscribe(),r=null,d.subscribe(e)):s=!0})),s&&(r.unsubscribe(),r=null,d.subscribe(e))})}function c6(n,t){return(0,Lr.e)(function Hy(n,t,e,r,s){return(d,g)=>{let w=e,x=t,z=0;d.subscribe((0,mr.x)(g,N=>{const P=z++;x=w?n(x,N,P):(w=!0,N),r&&g.next(x)},s&&(()=>{w&&g.next(x),g.complete()})))}}(n,t,arguments.length>=2,!0))}function Xm(n){return n<=0?()=>Da.E:(0,Lr.e)((t,e)=>{let r=[];t.subscribe((0,mr.x)(e,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)e.next(s);e.complete()},void 0,()=>{r=null}))})}function f4(n,t){const e=arguments.length>=2;return r=>r.pipe(n?go((s,d)=>n(s,d,r)):n4.y,Xm(1),e?Xu(t):G5(()=>new Ju))}function m4(n,t=!1){return(0,Lr.e)((e,r)=>{let s=0;e.subscribe((0,mr.x)(r,d=>{const g=n(d,s++);(g||t)&&r.next(d),!g&&r.complete()}))})}function ep(n){return(0,St.U)(()=>n)}function l6(n){return(0,Lr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const hn="primary",Uo=Symbol("RouteTitle");class p4{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function or(n){return new p4(n)}function di(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const s={};for(let d=0;d<r.length;d++){const g=r[d],w=n[d];if(g.startsWith(":"))s[g.substring(1)]=w;else if(g!==w.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function gr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let s;for(let d=0;d<e.length;d++)if(s=e[d],!fd(n[s],t[s]))return!1;return!0}function fd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((s,d)=>r[d]===s)}return n===t}function g4(n){return Array.prototype.concat.apply([],n)}function Ic(n){return n.length>0?n[n.length-1]:null}function sr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function h1(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,ri.D)(Promise.resolve(n)):yt(n)}const O2=!1,u6={exact:function d8(n,t,e){if(!K3(n.segments,t.segments)||!B1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!d8(n.children[r],t.children[r],e))return!1;return!0},subset:h8},v4={exact:function tp(n,t){return gr(n,t)},subset:function np(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>fd(n[e],t[e]))},ignored:()=>!0};function Y3(n,t,e){return u6[e.paths](n.root,t.root,e.matrixParams)&&v4[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function h8(n,t,e){return nf(n,t,t.segments,e)}function nf(n,t,e,r){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!K3(s,e)||t.hasChildren()||!B1(s,e,r))}if(n.segments.length===e.length){if(!K3(n.segments,e)||!B1(n.segments,e,r))return!1;for(const s in t.children)if(!n.children[s]||!h8(n.children[s],t.children[s],r))return!1;return!0}{const s=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(K3(n.segments,s)&&B1(n.segments,s,r)&&n.children[hn])&&nf(n.children[hn],t,d,r)}}function B1(n,t,e){return t.every((r,s)=>v4[e](n[s].parameters,r.parameters))}class La{constructor(t=new pn([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return f8.serialize(this)}}class pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,sr(e,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class _4{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=or(this.parameters)),this._parameterMap}toString(){return p8(this)}}function K3(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let pd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return new gd},providedIn:"root"}),n})();class gd{parse(t){const e=new ap(t);return new La(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${b4(t.root,!0)}`,r=function g8(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(s=>`${Q3(e)}=${Q3(s)}`).join("&"):`${Q3(e)}=${Q3(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function sf(n){return encodeURI(n)}(t.fragment)}`:""}`}}const f8=new gd;function Vr(n){return n.segments.map(t=>p8(t)).join("/")}function b4(n,t){if(!n.hasChildren())return Vr(n);if(t){const e=n.children[hn]?b4(n.children[hn],!1):"",r=[];return sr(n.children,(s,d)=>{d!==hn&&r.push(`${d}:${b4(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function rf(n,t){let e=[];return sr(n.children,(r,s)=>{s===hn&&(e=e.concat(t(r,s)))}),sr(n.children,(r,s)=>{s!==hn&&(e=e.concat(t(r,s)))}),e}(n,(r,s)=>s===hn?[b4(n.children[hn],!1)]:[`${s}:${b4(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[hn]?`${Vr(n)}/${e[0]}`:`${Vr(n)}/(${e.join("//")})`}}function d6(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q3(n){return d6(n).replace(/%3B/gi,";")}function m8(n){return d6(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oi(n){return decodeURIComponent(n)}function y4(n){return Oi(n.replace(/\+/g,"%20"))}function p8(n){return`${m8(n.path)}${function af(n){return Object.keys(n).map(t=>`;${m8(t)}=${m8(n[t])}`).join("")}(n.parameters)}`}const rp=/^[^\/()?;=#]+/;function vd(n){const t=n.match(rp);return t?t[0]:""}const v8=/^[^=?&#]+/,op=/^[^&#]+/;class ap{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[hn]=new pn(t,e)),r}parseSegment(){const t=vd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new m.vHH(4009,O2);return this.capture(t),new _4(Oi(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vd(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=vd(this.remaining);s&&(r=s,this.capture(r))}t[Oi(e)]=Oi(r)}parseQueryParam(t){const e=function cf(n){const t=n.match(v8);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const g=function sp(n){const t=n.match(op);return t?t[0]:""}(this.remaining);g&&(r=g,this.capture(r))}const s=y4(e),d=y4(r);if(t.hasOwnProperty(s)){let g=t[s];Array.isArray(g)||(g=[g],t[s]=g),g.push(d)}else t[s]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vd(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new m.vHH(4010,O2);let d;r.indexOf(":")>-1?(d=r.slice(0,r.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=hn);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[hn]:new pn([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new m.vHH(4011,O2)}}function _8(n){return n.segments.length>0?new pn([],{[hn]:n}):n}function h6(n){const t={};for(const r of Object.keys(n.children)){const d=h6(n.children[r]);(d.segments.length>0||d.hasChildren())&&(t[r]=d)}return function Qv(n){if(1===n.numberOfChildren&&n.children[hn]){const t=n.children[hn];return new pn(n.segments.concat(t.segments),t.children)}return n}(new pn(n.segments,t))}function Tc(n){return n instanceof La}const b8=!1;function cp(n,t,e,r,s){if(0===e.length)return Lc(t.root,t.root,t.root,r,s);const d=function lf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new k8(!0,0,n);let t=0,e=!1;const r=n.reduce((s,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const w={};return sr(d.outlets,(x,z)=>{w[z]="string"==typeof x?x.split("/"):x}),[...s,{outlets:w}]}if(d.segmentPath)return[...s,d.segmentPath]}return"string"!=typeof d?[...s,d]:0===g?(d.split("/").forEach((w,x)=>{0==x&&"."===w||(0==x&&""===w?e=!0:".."===w?t++:""!=w&&s.push(w))}),s):[...s,d]},[]);return new k8(e,t,r)}(e);return d.toRoot()?Lc(t.root,t.root,new pn([],{}),r,s):function g(x){const z=function A8(n,t,e,r){if(n.isAbsolute)return new F2(t.root,!0,0);if(-1===r)return new F2(e,e===t.root,0);return function _d(n,t,e){let r=n,s=t,d=e;for(;d>s;){if(d-=s,r=r.parent,!r)throw new m.vHH(4005,b8&&"Invalid number of '../'");s=r.segments.length}return new F2(r,!1,s-d)}(e,r+(J3(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,x),N=z.processChildren?Vc(z.segmentGroup,z.index,d.commands):Nc(z.segmentGroup,z.index,d.commands);return Lc(t.root,z.segmentGroup,N,r,s)}(n.snapshot?._lastPathIndex)}function J3(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function X3(n){return"object"==typeof n&&null!=n&&n.outlets}function Lc(n,t,e,r,s){let g,d={};r&&sr(r,(x,z)=>{d[z]=Array.isArray(x)?x.map(N=>`${N}`):`${x}`}),g=n===t?e:w8(n,t,e);const w=_8(h6(g));return new La(w,d,s)}function w8(n,t,e){const r={};return sr(n.children,(s,d)=>{r[d]=s===t?e:w8(s,t,e)}),new pn(n.segments,r)}class k8{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&J3(r[0]))throw new m.vHH(4003,b8&&"Root segment cannot have matrix parameters");const s=r.find(X3);if(s&&s!==Ic(r))throw new m.vHH(4004,b8&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class F2{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Nc(n,t,e){if(n||(n=new pn([],{})),0===n.segments.length&&n.hasChildren())return Vc(n,t,e);const r=function Xv(n,t,e){let r=0,s=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=e.length)return d;const g=n.segments[s],w=e[r];if(X3(w))break;const x=`${w}`,z=r<e.length-1?e[r+1]:null;if(s>0&&void 0===x)break;if(x&&z&&"object"==typeof z&&void 0===z.outlets){if(!up(x,z,g))return d;r+=2}else{if(!up(x,{},g))return d;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,t,e),s=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const d=new pn(n.segments.slice(0,r.pathIndex),{});return d.children[hn]=new pn(n.segments.slice(r.pathIndex),n.children),Vc(d,0,s)}return r.match&&0===s.length?new pn(n.segments,{}):r.match&&!n.hasChildren()?Hc(n,t,e):r.match?Vc(n,0,s):Hc(n,t,e)}function Vc(n,t,e){if(0===e.length)return new pn(n.segments,{});{const r=function uf(n){return X3(n[0])?n[0].outlets:{[hn]:n}}(e),s={};if(!r[hn]&&n.children[hn]&&1===n.numberOfChildren&&0===n.children[hn].segments.length){const d=Vc(n.children[hn],t,e);return new pn(n.segments,d.children)}return sr(r,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(s[g]=Nc(n.children[g],t,d))}),sr(n.children,(d,g)=>{void 0===r[g]&&(s[g]=d)}),new pn(n.segments,s)}}function Hc(n,t,e){const r=n.segments.slice(0,t);let s=0;for(;s<e.length;){const d=e[s];if(X3(d)){const x=Py(d.outlets);return new pn(r,x)}if(0===s&&J3(e[0])){r.push(new _4(n.segments[t].path,lp(e[0]))),s++;continue}const g=X3(d)?d.outlets[hn]:`${d}`,w=s<e.length-1?e[s+1]:null;g&&w&&J3(w)?(r.push(new _4(g,lp(w))),s+=2):(r.push(new _4(g,{})),s++)}return new pn(r,{})}function Py(n){const t={};return sr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Hc(new pn([],{}),0,e))}),t}function lp(n){const t={};return sr(n,(e,r)=>t[r]=`${e}`),t}function up(n,t,e){return n==e.path&&gr(t,e.parameters)}const M8="imperative";class Na{constructor(t,e){this.id=t,this.url=e}}class x8 extends Na{constructor(t,e,r="imperative",s=null){super(t,e),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Di extends Na{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bd extends Na{constructor(t,e,r,s){super(t,e),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class S8 extends Na{constructor(t,e,r,s){super(t,e),this.reason=r,this.code=s,this.type=16}}class f6 extends Na{constructor(t,e,r,s){super(t,e),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class E8 extends Na{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dp extends Na{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class df extends Na{constructor(t,e,r,s,d){super(t,e),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Va extends Na{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C4 extends Na{constructor(t,e,r,s){super(t,e),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mp{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hf{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yd{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Cd=(()=>{class n{createUrlTree(e,r,s,d,g,w){return cp(e||r.root,s,d,g,w)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(t){return Cd.\u0275fac(t)},providedIn:"root"}),n})();class io{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=f1(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=f1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return wd(t,this._root).map(e=>e.value)}}function f1(n,t){if(n===t.value)return t;for(const e of t.children){const r=f1(n,e);if(r)return r}return null}function wd(n,t){if(n===t.value)return[t];for(const e of t.children){const r=wd(n,e);if(r.length)return r.unshift(t),r}return[]}class Ha{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function w4(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class D8 extends io{constructor(t,e){super(t),this.snapshot=e,T8(this,t)}toString(){return this.snapshot.toString()}}function z8(n,t){const e=function I8(n,t){const g=new kd([],{},{},"",{},hn,t,null,n.root,-1,{});return new ff("",new Ha(g,[]))}(n,t),r=new _s([new _4("",{})]),s=new _s({}),d=new _s({}),g=new _s({}),w=new _s(""),x=new Fs(r,s,g,w,d,hn,t,e.root);return x.snapshot=e.root,new D8(new Ha(x,[]),e)}class Fs{constructor(t,e,r,s,d,g,w,x){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=d,this.outlet=g,this.component=w,this.title=this.data?.pipe((0,St.U)(z=>z[Uo]))??yt(void 0),this._futureSnapshot=x}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(t=>or(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(t=>or(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k4(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const s=e[r],d=e[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(d.component)break;r--}}return function n_(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(r))}class kd{get title(){return this.data?.[Uo]}constructor(t,e,r,s,d,g,w,x,z,N,P){this.url=t,this.params=e,this.queryParams=r,this.fragment=s,this.data=d,this.outlet=g,this.component=w,this.routeConfig=x,this._urlSegment=z,this._lastPathIndex=N,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=or(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=or(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ff extends io{constructor(t,e){super(e),this.url=t,T8(this,e)}toString(){return mf(this._root)}}function T8(n,t){t.value._routerState=n,t.children.forEach(e=>T8(n,e))}function mf(n){const t=n.children.length>0?` { ${n.children.map(mf).join(", ")} } `:"";return`${n.value}${t}`}function L8(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,gr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),gr(t.params,e.params)||n.params.next(e.params),function hd(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!gr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),gr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function m6(n,t){const e=gr(n.params,t.params)&&function ip(n,t){return K3(n,t)&&n.every((e,r)=>gr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||m6(n.parent,t.parent))}function Pa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const s=function A4(n,t,e){return t.children.map(r=>{for(const s of e.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Pa(n,r,s);return Pa(n,r)})}(n,t,e);return new Ha(r,s)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(w=>Pa(n,w)),g}}const r=function N8(n){return new Fs(new _s(n.url),new _s(n.params),new _s(n.queryParams),new _s(n.fragment),new _s(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(d=>Pa(n,d));return new Ha(r,s)}}const M4="ngNavigationCancelingError";function V8(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Tc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=H8(!1,0,t);return s.url=e,s.navigationBehaviorOptions=r,s}function H8(n,t,e){const r=new Error("NavigationCancelingError: "+(n||""));return r[M4]=!0,r.cancellationCode=t,e&&(r.url=e),r}function pf(n){return P8(n)&&Tc(n.url)}function P8(n){return n&&n[M4]}class Ad{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new p6,this.attachRef=null}}let p6=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const s=this.getOrCreateContext(e);s.outlet=r,this.contexts.set(e,s)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ad,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g6=!1;let v6=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=hn,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(p6),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:s}=e.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,g6);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,g6);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,g6);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new m.vHH(4013,g6);this._activatedRoute=e;const s=this.location,g=e.snapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,x=new gp(e,w,s.injector);if(r&&function r_(n){return!!n.resolveComponentFactory}(r)){const z=r.resolveComponentFactory(g);this.activated=s.createComponent(z,s.length,x)}else this.activated=s.createComponent(g,{index:s.length,injector:x,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),n})();class gp{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Fs?this.route:t===p6?this.childContexts:this.parent.get(t,e)}}let Md=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(e,r){1&e&&m._UZ(0,"router-outlet")},dependencies:[v6],encapsulation:2}),n})();function vp(n,t){return n.providers&&!n._injector&&(n._injector=(0,m.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function R8(n){const t=n.children&&n.children.map(R8),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==hn&&(e.component=Md),e}function m1(n){return n.outlet||hn}function _f(n,t){const e=n.filter(r=>m1(r)===t);return e.push(...n.filter(r=>m1(r)!==t)),e}function xd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class x4{constructor(t,e,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=s}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),L8(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const s=w4(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,s[g],r),delete s[g]}),sr(s,(d,g)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(t,e,r){const s=t.value,d=e?e.value:null;if(s===d)if(s.component){const g=r.getContext(s.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,r);else d&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,d=w4(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],s);if(r&&r.outlet){const g=r.outlet.detach(),w=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:w})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),s=r&&t.value.component?r.children:e,d=w4(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const s=w4(e);t.children.forEach(d=>{this.activateRoutes(d,s[d.value.outlet],r),this.forwardEvent(new t_(d.value.snapshot))}),t.children.length&&this.forwardEvent(new mp(t.value.snapshot))}activateRoutes(t,e,r){const s=t.value,d=e?e.value:null;if(L8(s),s===d)if(s.component){const g=r.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,r);else if(s.component){const g=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const w=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),g.children.onOutletReAttached(w.contexts),g.attachRef=w.componentRef,g.route=w.route.value,g.outlet&&g.outlet.attach(w.componentRef,w.route.value),L8(w.route.value),this.activateChildRoutes(t,null,g.children)}else{const w=xd(s.snapshot),x=w?.get(m._Vd)??null;g.attachRef=null,g.route=s,g.resolver=x,g.injector=w,g.outlet&&g.outlet.activateWith(s,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,r)}}class U2{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _6{constructor(t,e){this.component=t,this.route=e}}function _p(n,t,e){const r=n._root;return E4(r,t?t._root:null,e,[r.value])}function S4(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,m.Z0I)(n)?t.get(n):n:r}function E4(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const d=w4(t);return n.children.forEach(g=>{(function bp(n,t,e,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,w=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const x=function yp(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!K3(n.url,t.url);case"pathParamsOrQueryParamsChange":return!K3(n.url,t.url)||!gr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m6(n,t)||!gr(n.queryParams,t.queryParams);default:return!m6(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);x?s.canActivateChecks.push(new U2(r)):(d.data=g.data,d._resolvedData=g._resolvedData),E4(n,t,d.component?w?w.children:null:e,r,s),x&&w&&w.outlet&&w.outlet.isActivated&&s.canDeactivateChecks.push(new _6(w.outlet.component,g))}else g&&D4(t,w,s),s.canActivateChecks.push(new U2(r)),E4(n,null,d.component?w?w.children:null:e,r,s)})(g,d[g.value.outlet],e,r.concat([g.value]),s),delete d[g.value.outlet]}),sr(d,(g,w)=>D4(g,e.getContext(w),s)),s}function D4(n,t,e){const r=w4(n),s=n.value;sr(r,(d,g)=>{D4(d,s.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new _6(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function tl(n){return"function"==typeof n}function Cf(n){return n instanceof Ju||"EmptyError"===n?.name}const b6=Symbol("INITIAL_VALUE");function Ed(){return Ei(n=>K7(n.map(t=>t.pipe(ns(1),Z3(b6)))).pipe((0,St.U)(t=>{for(const e of t)if(!0!==e){if(e===b6)return b6;if(!1===e||e instanceof La)return e}return!0}),go(t=>t!==b6),ns(1)))}function h_(n){return(0,X7.z)((0,Ri.b)(t=>{if(Tc(t))throw V8(0,t)}),(0,St.U)(t=>!0===t))}const F8={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kf(n,t,e,r,s){const d=B8(n,t,e);return d.matched?function wf(n,t,e,r){const s=t.canMatch;return s&&0!==s.length?yt(s.map(g=>{const w=S4(g,n);return h1(function l_(n){return n&&tl(n.canMatch)}(w)?w.canMatch(t,e):n.runInContext(()=>w(t,e)))})).pipe(Ed(),h_()):yt(!0)}(r=vp(t,r),t,e).pipe((0,St.U)(g=>!0===g?d:{...F8})):yt(d)}function B8(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...F8}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||di)(e,n,t);if(!s)return{...F8};const d={};sr(s.posParams,(w,x)=>{d[x]=w.path});const g=s.consumed.length>0?{...d,...s.consumed[s.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:g,positionalParamSegments:s.posParams??{}}}function Id(n,t,e,r){if(e.length>0&&function Mp(n,t,e){return e.some(r=>j8(n,t,r)&&m1(r)!==hn)}(n,e,r)){const d=new pn(t,function Ap(n,t,e,r){const s={};s[hn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&m1(d)!==hn){const g=new pn([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,s[m1(d)]=g}return s}(n,t,r,new pn(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function f_(n,t,e){return e.some(r=>j8(n,t,r))}(n,e,r)){const d=new pn(n.segments,function kp(n,t,e,r,s){const d={};for(const g of r)if(j8(n,e,g)&&!s[m1(g)]){const w=new pn([],{});w._sourceSegment=n,w._segmentIndexShift=t.length,d[m1(g)]=w}return{...s,...d}}(n,t,e,r,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const s=new pn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function j8(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function C6(n,t,e,r){return!!(m1(n)===r||r!==hn&&j8(t,e,n))&&("**"===n.path||B8(t,n,e).matched)}function xp(n,t,e){return 0===t.length&&!n.children[e]}const U8=!1;class Td{constructor(t){this.segmentGroup=t||null}}class w6{constructor(t){this.urlTree=t}}function k6(n){return h4(new Td(n))}function G8(n){return h4(new w6(n))}class Ld{constructor(t,e,r,s,d){this.injector=t,this.configLoader=e,this.urlSerializer=r,this.urlTree=s,this.config=d,this.allowRedirects=!0}apply(){const t=Id(this.urlTree.root,[],[],this.config).segmentGroup,e=new pn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,hn).pipe((0,St.U)(d=>this.createUrlTree(h6(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zc(d=>{if(d instanceof w6)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Td?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,hn).pipe((0,St.U)(s=>this.createUrlTree(h6(s),t.queryParams,t.fragment))).pipe(zc(s=>{throw s instanceof Td?this.noMatchError(s):s}))}noMatchError(t){return new m.vHH(4002,U8)}createUrlTree(t,e,r){const s=_8(t);return new La(s,e,r)}expandSegmentGroup(t,e,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,St.U)(d=>new pn([],d))):this.expandSegment(t,r,e,r.segments,s,!0)}expandChildren(t,e,r){const s=[];for(const d of Object.keys(r.children))"primary"===d?s.unshift(d):s.push(d);return(0,ri.D)(s).pipe(Dc(d=>{const g=r.children[d],w=_f(e,d);return this.expandSegmentGroup(t,w,g,d).pipe((0,St.U)(x=>({segment:x,outlet:d})))}),c6((d,g)=>(d[g.outlet]=g.segment,d),{}),f4())}expandSegment(t,e,r,s,d,g){return(0,ri.D)(r).pipe(Dc(w=>this.expandSegmentAgainstRoute(t,e,r,w,s,d,g).pipe(zc(z=>{if(z instanceof Td)return yt(null);throw z}))),L2(w=>!!w),zc((w,x)=>{if(Cf(w))return xp(e,s,d)?yt(new pn([],{})):k6(e);throw w}))}expandSegmentAgainstRoute(t,e,r,s,d,g,w){return C6(s,e,d,g)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,d,g):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,s,d,g):k6(e):k6(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,s,d,g){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,s,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,s){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?G8(d):this.lineralizeSegments(r,d).pipe((0,jo.z)(g=>{const w=new pn(g,{});return this.expandSegment(t,w,e,g,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,s,d,g){const{matched:w,consumedSegments:x,remainingSegments:z,positionalParamSegments:N}=B8(e,s,d);if(!w)return k6(e);const P=this.applyRedirectCommands(x,s.redirectTo,N);return s.redirectTo.startsWith("/")?G8(P):this.lineralizeSegments(s,P).pipe((0,jo.z)(W=>this.expandSegment(t,e,r,W.concat(z),g,!1)))}matchSegmentAgainstRoute(t,e,r,s,d){return"**"===r.path?(t=vp(r,t),r.loadChildren?(r._loadedRoutes?yt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe((0,St.U)(w=>(r._loadedRoutes=w.routes,r._loadedInjector=w.injector,new pn(s,{})))):yt(new pn(s,{}))):kf(e,r,s,t).pipe(Ei(({matched:g,consumedSegments:w,remainingSegments:x})=>g?this.getChildConfig(t=r._injector??t,r,s).pipe((0,jo.z)(N=>{const P=N.injector??t,W=N.routes,{segmentGroup:K,slicedSegments:ie}=Id(e,w,x,W),de=new pn(K.segments,K.children);if(0===ie.length&&de.hasChildren())return this.expandChildren(P,W,de).pipe((0,St.U)(st=>new pn(w,st)));if(0===W.length&&0===ie.length)return yt(new pn(w,{}));const ve=m1(r)===d;return this.expandSegment(P,de,W,ie,ve?hn:d,!0).pipe((0,St.U)(tt=>new pn(w.concat(tt.segments),tt.children)))})):k6(e)))}getChildConfig(t,e,r){return e.children?yt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?yt({routes:e._loadedRoutes,injector:e._loadedInjector}):function $i(n,t,e,r){const s=t.canLoad;return void 0===s||0===s.length?yt(!0):yt(s.map(g=>{const w=S4(g,n);return h1(function z4(n){return n&&tl(n.canLoad)}(w)?w.canLoad(t,e):n.runInContext(()=>w(t,e)))})).pipe(Ed(),h_())}(t,e,r).pipe((0,jo.z)(s=>s?this.configLoader.loadChildren(t,e).pipe((0,Ri.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function Ra(n){return h4(H8(U8,3))}())):yt({routes:[],injector:t})}lineralizeSegments(t,e){let r=[],s=e.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return yt(r);if(s.numberOfChildren>1||!s.children[hn])return t.redirectTo,h4(new m.vHH(4e3,U8));s=s.children[hn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreateUrlTree(t,e,r,s){const d=this.createSegmentGroup(t,e.root,r,s);return new La(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return sr(t,(s,d)=>{if("string"==typeof s&&s.startsWith(":")){const w=s.substring(1);r[d]=e[w]}else r[d]=s}),r}createSegmentGroup(t,e,r,s){const d=this.createSegments(t,e.segments,r,s);let g={};return sr(e.children,(w,x)=>{g[x]=this.createSegmentGroup(t,w,r,s)}),new pn(d,g)}createSegments(t,e,r,s){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,s):this.findOrReturn(d,r))}findPosParam(t,e,r){const s=r[e.path.substring(1)];if(!s)throw new m.vHH(4001,U8);return s}findOrReturn(t,e){let r=0;for(const s of e){if(s.path===t.path)return e.splice(r),s;r++}return t}}class Ep{}class zp{constructor(t,e,r,s,d,g,w){this.injector=t,this.rootComponentType=e,this.config=r,this.urlTree=s,this.url=d,this.paramsInheritanceStrategy=g,this.urlSerializer=w}recognize(){const t=Id(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,hn).pipe((0,St.U)(e=>{if(null===e)return null;const r=new kd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ha(r,e),d=new ff(this.url,s);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,r=k4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r):this.processSegment(t,e,r,r.segments,s)}processChildren(t,e,r){return(0,ri.D)(Object.keys(r.children)).pipe(Dc(s=>{const d=r.children[s],g=_f(e,s);return this.processSegmentGroup(t,g,d,s)}),c6((s,d)=>s&&d?(s.push(...d),s):null),m4(s=>null!==s),Xu(null),f4(),(0,St.U)(s=>{if(null===s)return null;const d=Nd(s);return function nl(n){n.sort((t,e)=>t.value.outlet===hn?-1:e.value.outlet===hn?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,r,s,d){return(0,ri.D)(e).pipe(Dc(g=>this.processSegmentAgainstRoute(g._injector??t,g,r,s,d)),L2(g=>!!g),zc(g=>{if(Cf(g))return xp(r,s,d)?yt([]):yt(null);throw g}))}processSegmentAgainstRoute(t,e,r,s,d){if(e.redirectTo||!C6(e,r,s,d))return yt(null);let g;if("**"===e.path){const w=s.length>0?Ic(s).parameters:{},x=g_(r)+s.length;g=yt({snapshot:new kd(s,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xf(e),m1(e),e.component??e._loadedComponent??null,e,M6(r),x,G2(e)),consumedSegments:[],remainingSegments:[]})}else g=kf(r,e,s,t).pipe((0,St.U)(({matched:w,consumedSegments:x,remainingSegments:z,parameters:N})=>{if(!w)return null;const P=g_(r)+x.length;return{snapshot:new kd(x,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xf(e),m1(e),e.component??e._loadedComponent??null,e,M6(r),P,G2(e)),consumedSegments:x,remainingSegments:z}}));return g.pipe(Ei(w=>{if(null===w)return yt(null);const{snapshot:x,consumedSegments:z,remainingSegments:N}=w;t=e._injector??t;const P=e._loadedInjector??t,W=function I4(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:K,slicedSegments:ie}=Id(r,z,N,W.filter(ve=>void 0===ve.redirectTo));if(0===ie.length&&K.hasChildren())return this.processChildren(P,W,K).pipe((0,St.U)(ve=>null===ve?null:[new Ha(x,ve)]));if(0===W.length&&0===ie.length)return yt([new Ha(x,[])]);const de=m1(e)===d;return this.processSegment(P,W,K,ie,de?hn:d).pipe((0,St.U)(ve=>null===ve?null:[new Ha(x,ve)]))}))}}function Ip(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Nd(n){const t=[],e=new Set;for(const r of n){if(!Ip(r)){t.push(r);continue}const s=t.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==s?(s.children.push(...r.children),e.add(s)):t.push(r)}for(const r of e){const s=Nd(r.children);t.push(new Ha(r.value,s))}return t.filter(r=>!e.has(r))}function M6(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g_(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function xf(n){return n.data||{}}function G2(n){return n.resolve||{}}function Ef(n){return"string"==typeof n.title||null===n.title}function Df(n){return Ei(t=>{const e=n(t);return e?(0,ri.D)(e).pipe((0,St.U)(()=>t)):yt(t)})}const x6=new m.OlP("ROUTES");let $8=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.f3M)(m.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return yt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=h1(e.loadComponent()).pipe((0,St.U)(Vp),(0,Ri.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),l6(()=>{this.componentLoaders.delete(e)})),s=new tf(r,()=>new nn.x).pipe(ef());return this.componentLoaders.set(e,s),s}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const d=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(w=>{this.onLoadEndListener&&this.onLoadEndListener(r);let x,z,N=!1;Array.isArray(w)?z=w:(x=w.create(e).injector,z=g4(x.get(x6,[],m.XFs.Self|m.XFs.Optional)));return{routes:z.map(R8),injector:x}}),l6(()=>{this.childrenLoaders.delete(r)})),g=new tf(d,()=>new nn.x).pipe(ef());return this.childrenLoaders.set(r,g),g}loadModuleFactoryOrRoutes(e){return h1(e()).pipe((0,St.U)(Vp),(0,jo.z)(r=>r instanceof m.YKP||Array.isArray(r)?yt(r):(0,ri.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vp(n){return function b_(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let W8=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nn.x,this.configLoader=(0,m.f3M)($8),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(pd),this.rootContexts=(0,m.f3M)(p6),this.navigationId=0,this.afterPreactivation=()=>yt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new hp(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new e_(s))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e){return this.transitions=new _s({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:M8,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(go(r=>0!==r.id),(0,St.U)(r=>({...r,extractedUrl:e.urlHandlingStrategy.extract(r.rawUrl)})),Ei(r=>{let s=!1,d=!1;return yt(r).pipe((0,Ri.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ei(g=>{const w=e.browserUrlTree.toString(),x=!e.navigated||g.extractedUrl.toString()!==w||w!==e.currentUrlTree.toString();if(!x&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const N="";return this.events.next(new S8(g.id,e.serializeUrl(r.rawUrl),N,0)),e.rawUrlTree=g.rawUrl,g.resolve(null),Da.E}if(e.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Z8(g.source)&&(e.browserUrlTree=g.extractedUrl),yt(g).pipe(Ei(N=>{const P=this.transitions?.getValue();return this.events.next(new x8(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),P!==this.transitions?.getValue()?Da.E:Promise.resolve(N)}),function m_(n,t,e,r){return Ei(s=>function A6(n,t,e,r,s){return new Ld(n,t,e,r,s).apply()}(n,t,e,s.extractedUrl,r).pipe((0,St.U)(d=>({...s,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Ri.b)(N=>{this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects},r.urlAfterRedirects=N.urlAfterRedirects}),function __(n,t,e,r,s){return(0,jo.z)(d=>function Dp(n,t,e,r,s,d,g="emptyOnly"){return new zp(n,t,e,r,s,g,d).recognize().pipe(Ei(w=>null===w?function Mf(n){return new to.y(t=>t.error(n))}(new Ep):yt(w)))}(n,t,e,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,s).pipe((0,St.U)(g=>({...d,targetSnapshot:g}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Ri.b)(N=>{if(r.targetSnapshot=N.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!N.extras.skipLocationChange){const W=e.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);e.setBrowserUrl(W,N)}e.browserUrlTree=N.urlAfterRedirects}const P=new E8(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(P)}));if(x&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:N,extractedUrl:P,source:W,restoredState:K,extras:ie}=g,de=new x8(N,this.urlSerializer.serialize(P),W,K);this.events.next(de);const ve=z8(P,this.rootComponentType).snapshot;return yt(r={...g,targetSnapshot:ve,urlAfterRedirects:P,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}{const N="";return this.events.next(new S8(g.id,e.serializeUrl(r.extractedUrl),N,1)),e.rawUrlTree=g.rawUrl,g.resolve(null),Da.E}}),(0,Ri.b)(g=>{const w=new dp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),(0,St.U)(g=>r={...g,guards:_p(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function qt(n,t){return(0,jo.z)(e=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?yt({...e,guardsResult:!0}):function u_(n,t,e,r){return(0,ri.D)(n).pipe((0,jo.z)(s=>function zd(n,t,e,r,s){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?yt(d.map(w=>{const x=xd(t)??s,z=S4(w,x);return h1(function Rc(n){return n&&tl(n.canDeactivate)}(z)?z.canDeactivate(n,t,e,r):x.runInContext(()=>z(n,t,e,r))).pipe(L2())})).pipe(Ed()):yt(!0)}(s.component,s.route,e,t,r)),L2(s=>!0!==s,!0))}(g,r,s,n).pipe((0,jo.z)(w=>w&&function O8(n){return"boolean"==typeof n}(w)?function Cp(n,t,e,r){return(0,ri.D)(t).pipe(Dc(s=>a6(function y6(n,t){return null!==n&&t&&t(new fp(n)),yt(!0)}(s.route.parent,r),function d_(n,t){return null!==n&&t&&t(new hf(n)),yt(!0)}(s.route,r),function Dd(n,t,e){const r=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function bf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>d4(()=>yt(g.guards.map(x=>{const z=xd(g.node)??e,N=S4(x,z);return h1(function c_(n){return n&&tl(n.canActivateChild)}(N)?N.canActivateChild(r,n):z.runInContext(()=>N(r,n))).pipe(L2())})).pipe(Ed())));return yt(d).pipe(Ed())}(n,s.path,e),function wp(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const s=r.map(d=>d4(()=>{const g=xd(t)??e,w=S4(d,g);return h1(function Sd(n){return n&&tl(n.canActivate)}(w)?w.canActivate(t,n):g.runInContext(()=>w(t,n))).pipe(L2())}));return yt(s).pipe(Ed())}(n,s.route,e))),L2(s=>!0!==s,!0))}(r,d,n,t):yt(w)),(0,St.U)(w=>({...e,guardsResult:w})))})}(this.environmentInjector,g=>this.events.next(g)),(0,Ri.b)(g=>{if(r.guardsResult=g.guardsResult,Tc(g.guardsResult))throw V8(0,g.guardsResult);const w=new df(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(w)}),go(g=>!!g.guardsResult||(e.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),Df(g=>{if(g.guards.canActivateChecks.length)return yt(g).pipe((0,Ri.b)(w=>{const x=new Va(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}),Ei(w=>{let x=!1;return yt(w).pipe(function Sf(n,t){return(0,jo.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=e;if(!s.length)return yt(e);let d=0;return(0,ri.D)(s).pipe(Dc(g=>function Tp(n,t,e,r){const s=n.routeConfig,d=n._resolve;return void 0!==s?.title&&!Ef(s)&&(d[Uo]=s.title),function Vd(n,t,e,r){const s=function q8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return yt({});const d={};return(0,ri.D)(s).pipe((0,jo.z)(g=>function Lp(n,t,e,r){const s=xd(t)??r,d=S4(n,s);return h1(d.resolve?d.resolve(t,e):s.runInContext(()=>d(t,e)))}(n[g],t,e,r).pipe(L2(),(0,Ri.b)(w=>{d[g]=w}))),Xm(1),ep(d),zc(g=>Cf(g)?Da.E:h4(g)))}(d,n,t,r).pipe((0,St.U)(g=>(n._resolvedData=g,n.data=k4(n,e).resolve,s&&Ef(s)&&(n.data[Uo]=s.title),null)))}(g.route,r,n,t)),(0,Ri.b)(()=>d++),Xm(1),(0,jo.z)(g=>d===s.length?yt(e):Da.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Ri.b)({next:()=>x=!0,complete:()=>{x||(e.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,Ri.b)(w=>{const x=new C4(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(x)}))}),Df(g=>{const w=x=>{const z=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&z.push(this.configLoader.loadComponent(x.routeConfig).pipe((0,Ri.b)(N=>{x.component=N}),(0,St.U)(()=>{})));for(const N of x.children)z.push(...w(N));return z};return K7(w(g.targetSnapshot.root)).pipe(Xu(),ns(1))}),Df(()=>this.afterPreactivation()),(0,St.U)(g=>{const w=function i_(n,t,e){const r=Pa(n,t._root,e?e._root:void 0);return new D8(r,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return r={...g,targetRouterState:w}}),(0,Ri.b)(g=>{e.currentUrlTree=g.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),e.routerState=g.targetRouterState,"deferred"===e.urlUpdateStrategy&&(g.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,g),e.browserUrlTree=g.urlAfterRedirects)}),((n,t,e)=>(0,St.U)(r=>(new x4(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g)),ns(1),(0,Ri.b)({next:g=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Di(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{s=!0}}),l6(()=>{s||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zc(g=>{if(d=!0,P8(g)){pf(g)||(e.navigated=!0,e.restoreHistory(r,!0));const w=new bd(r.id,this.urlSerializer.serialize(r.extractedUrl),g.message,g.cancellationCode);if(this.events.next(w),pf(g)){const x=e.urlHandlingStrategy.merge(g.url,e.rawUrlTree),z={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Z8(r.source)};e.scheduleNavigation(x,M8,null,z,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{e.restoreHistory(r,!0);const w=new f6(r.id,this.urlSerializer.serialize(r.extractedUrl),g,r.targetSnapshot??void 0);this.events.next(w);try{r.resolve(e.errorHandler(g))}catch(x){r.reject(x)}}return Da.E}))}))}cancelNavigationTransition(e,r,s){const d=new bd(e.id,this.urlSerializer.serialize(e.extractedUrl),r,s);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z8(n){return n!==M8}let zf=(()=>{class n{buildTitle(e){let r,s=e.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(d=>d.outlet===hn);return r}getResolvedTitleForRoute(e){return e.data[Uo]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(If)},providedIn:"root"}),n})(),If=(()=>{class n extends zf{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(h0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(Pp)},providedIn:"root"}),n})();class Hp{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Pp=(()=>{class n extends Hp{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y8=new m.OlP("",{providedIn:"root",factory:()=>({})});let Rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(Lf)},providedIn:"root"}),n})(),Lf=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C_(n){throw n}function Op(n,t,e){return t.parse("/")}const Nf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Y8,{optional:!0})||{},this.errorHandler=this.options.errorHandler||C_,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Op,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Rp),this.routeReuseStrategy=(0,m.f3M)(y_),this.urlCreationStrategy=(0,m.f3M)(j2),this.titleStrategy=(0,m.f3M)(zf),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=g4((0,m.f3M)(x6,{optional:!0})??[]),this.navigationTransitions=(0,m.f3M)(W8),this.urlSerializer=(0,m.f3M)(pd),this.location=(0,m.f3M)(Ze),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new La,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=z8(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),M8,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,r,e.state)},0)}))}navigateToSyncWithBrowser(e,r,s){const d={replaceUrl:!0},g=s?.navigationId?s:null;if(s){const x={...s};delete x.navigationId,delete x.\u0275routerPageId,0!==Object.keys(x).length&&(d.state=x)}const w=this.parseUrl(e);this.scheduleNavigation(w,r,g,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(R8),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:s,queryParams:d,fragment:g,queryParamsHandling:w,preserveFragment:x}=r,z=x?this.currentUrlTree.fragment:g;let N=null;switch(w){case"merge":N={...this.currentUrlTree.queryParams,...d};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=d||null}return null!==N&&(N=this.removeEmptyProps(N)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,e,N,z??null)}navigateByUrl(e,r={skipLocationChange:!1}){const s=Tc(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(d,M8,null,r)}navigate(e,r={skipLocationChange:!1}){return function Fp(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new m.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return r}isActive(e,r){let s;if(s=!0===r?{...Nf}:!1===r?{...w_}:r,Tc(e))return Y3(this.currentUrlTree,e,s);const d=this.parseUrl(e);return Y3(this.currentUrlTree,d,s)}removeEmptyProps(e){return Object.keys(e).reduce((r,s)=>{const d=e[s];return null!=d&&(r[s]=d),r},{})}scheduleNavigation(e,r,s,d,g){if(this.disposed)return Promise.resolve(!1);let w,x,z,N;return g?(w=g.resolve,x=g.reject,z=g.promise):z=new Promise((P,W)=>{w=P,x=W}),N="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:N,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:w,reject:x,promise:z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),z.catch(P=>Promise.reject(P))}setBrowserUrl(e,r){const s=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const g={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",g)}else{const d={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",d)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-(this.browserPageId??this.currentPageId);0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pd=(()=>{class n{constructor(e,r,s,d,g,w){this.router=e,this.route=r,this.tabIndexAttribute=s,this.renderer=d,this.el=g,this.locationStrategy=w,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new nn.x;const x=g.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===x||"area"===x,this.isAnchorElement?this.subscription=e.events.subscribe(z=>{z instanceof Di&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,m.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,m.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,m.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,s,d,g){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||r||s||d||g||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,m.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,r){const s=this.renderer,d=this.el.nativeElement;null!==r?s.setAttribute(d,e,r):s.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Hr),m.Y36(Fs),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(ct))},n.\u0275dir=m.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,r){1&e&&m.NdJ("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&m.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[m.TTD]}),n})(),Bp=(()=>{class n{get isActive(){return this._isActive}constructor(e,r,s,d,g){this.router=e,this.element=r,this.renderer=s,this.cdr=d,this.link=g,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.vpe,this.routerEventsSubscription=e.events.subscribe(w=>{w instanceof Di&&this.update()})}ngAfterContentInit(){yt(this.links.changes,yt(null)).pipe((0,s6.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,ri.D)(e).pipe((0,s6.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function k_(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,r)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Hr),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(Pd,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,r,s){if(1&e&&m.Suo(s,Pd,5),2&e){let d;m.iGM(d=m.CRH())&&(r.links=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[m.TTD]}),n})();class jp{}let Rd=(()=>{class n{constructor(e,r,s,d,g){this.router=e,this.injector=s,this.preloadingStrategy=d,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(go(e=>e instanceof Di),Dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const s=[];for(const d of r){d.providers&&!d._injector&&(d._injector=(0,m.MMx)(d.providers,e,`Route: ${d.path}`));const g=d._injector??e,w=d._loadedInjector??g;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&s.push(this.preloadConfig(g,d)),(d.children||d._loadedRoutes)&&s.push(this.processRoutes(w,d.children??d._loadedRoutes))}return(0,ri.D)(s).pipe((0,s6.J)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):yt(null);const d=s.pipe((0,jo.z)(g=>null===g?yt(void 0):(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(r.loadComponent&&!r._loadedComponent){const g=this.loader.loadComponent(r);return(0,ri.D)([d,g]).pipe((0,s6.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Hr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(jp),m.LFG($8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K8=new m.OlP("");let Q8=(()=>{class n{constructor(e,r,s,d,g={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=s,this.zone=d,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof x8?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Di&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yd&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yd(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();var Bs=(()=>((Bs=Bs||{})[Bs.COMPLETE=0]="COMPLETE",Bs[Bs.FAILED=1]="FAILED",Bs[Bs.REDIRECTING=2]="REDIRECTING",Bs))();const rl=!1;function ol(n,t){return{\u0275kind:n,\u0275providers:t}}const S6=new m.OlP("",{providedIn:"root",factory:()=>!1});function Hf(){const n=(0,m.f3M)(m.zs3);return t=>{const e=n.get(m.z2F);if(t!==e.components[0])return;const r=n.get(Hr),s=n.get(Gp);1===n.get(E6)&&r.initialNavigation(),n.get(Rf,null,m.XFs.Optional)?.setUpPreloading(),n.get(K8,null,m.XFs.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const Gp=new m.OlP(rl?"bootstrap done indicator":"",{factory:()=>new nn.x}),E6=new m.OlP(rl?"initial navigation":"",{providedIn:"root",factory:()=>1});function D6(){let n=[];return n=rl?[{provide:m.Xts,multi:!0,useFactory:()=>{const t=(0,m.f3M)(Hr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function B2(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],ol(1,n)}const Rf=new m.OlP(rl?"router preloader":"");function qp(n){return ol(0,[{provide:Rf,useExisting:Rd},{provide:jp,useExisting:n}])}const sl=!1,Zp=new m.OlP(sl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Yp=[Ze,{provide:pd,useClass:gd},Hr,p6,{provide:Fs,useFactory:function Up(n){return n.routerState.root},deps:[Hr]},$8,sl?{provide:S6,useValue:!0}:[]];function Od(){return new m.PXZ("Router",Hr)}let Fd=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[Yp,sl&&r?.enableTracing?D6().\u0275providers:[],{provide:x6,multi:!0,useValue:e},{provide:Zp,useFactory:S_,deps:[[Hr,new m.FiY,new m.tp0]]},{provide:Y8,useValue:r||{}},r?.useHash?{provide:ct,useClass:je}:{provide:ct,useClass:We},{provide:K8,useFactory:()=>{const n=(0,m.f3M)(na),t=(0,m.f3M)(m.R0b),e=(0,m.f3M)(Y8),r=(0,m.f3M)(W8),s=(0,m.f3M)(pd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Q8(s,r,n,t,e)}},r?.preloadingStrategy?qp(r.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Od},r?.initialNavigation?E_(r):[],[{provide:Qp,useFactory:Hf},{provide:m.tb,multi:!0,useExisting:Qp}]]}}static forChild(e){return{ngModule:n,providers:[{provide:x6,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Zp,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Md]}),n})();function S_(n){if(sl&&n)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function E_(n){return["disabled"===n.initialNavigation?ol(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const t=(0,m.f3M)(Hr);return()=>{t.setUpLocationChangeListener()}}},{provide:E6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ol(2,[{provide:E6,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:t=>{const e=t.get(ee,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(Hr),d=t.get(Gp);(function M_(n,t){n.events.pipe(go(e=>e instanceof Di||e instanceof bd||e instanceof f6||e instanceof S8),(0,St.U)(e=>e instanceof Di||e instanceof S8?Bs.COMPLETE:e instanceof bd&&(0===e.code||1===e.code)?Bs.REDIRECTING:Bs.FAILED),go(e=>e!==Bs.REDIRECTING),ns(1)).subscribe(()=>{t()})})(s,()=>{r(!0)}),t.get(W8).afterPreactivation=()=>(r(!0),d.closed?yt(void 0):d),s.initialNavigation()}))}}]).\u0275providers:[]]}const Qp=new m.OlP(sl?"Router Initializer":"");var X8=Q(4986);function eh(){return(0,Lr.e)((n,t)=>{let e,r=!1;n.subscribe((0,mr.x)(t,s=>{const d=e;e=s,r&&t.next([d,s]),r=!0}))})}function th(n,t=n4.y){return n=n??z_,(0,Lr.e)((e,r)=>{let s,d=!0;e.subscribe((0,mr.x)(r,g=>{const w=t(g);(d||!n(s,w))&&(d=!1,s=w,r.next(g))}))})}function z_(n,t){return n===t}Q(2644);var pt,I_=Q(3942),Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p1={},z6=z6||{},rn=Xp||self;function Bd(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function al(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nh="closure_uid_"+(1e9*Math.random()>>>0),tg=0;function jf(n,t,e){return n.call.apply(n.bind,arguments)}function I6(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(t,s)}}return function(){return n.apply(t,arguments)}}function bo(n,t,e){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jf:I6).apply(null,arguments)}function T6(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ro(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(r,s,d){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return t.prototype[s].apply(r,g)}}function Oc(){this.s=this.s,this.o=this.o}Oc.prototype.s=!1,Oc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eg(n){Object.prototype.hasOwnProperty.call(n,nh)&&n[nh]||(n[nh]=++tg)}(this)},Oc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ih=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function rh(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function ng(n,t){for(let e=1;e<arguments.length;e++){const r=arguments[e];if(Bd(r)){const s=n.length||0,d=r.length||0;n.length=s+d;for(let g=0;g<d;g++)n[s+g]=r[g]}else n.push(r)}}function Go(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Go.prototype.h=function(){this.defaultPrevented=!0};var Gf=function(){if(!rn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rn.addEventListener("test",()=>{},t),rn.removeEventListener("test",()=>{},t)}catch{}return n}();function jd(n){return/^[\s\xa0]*$/.test(n)}function Ud(){var n=rn.navigator;return n&&(n=n.userAgent)?n:""}function q2(n){return-1!=Ud().indexOf(n)}function cl(n){return cl[" "](n),n}cl[" "]=function(){};var sh,n,oh=q2("Opera"),ks=q2("Trident")||q2("MSIE"),ig=q2("Edge"),T4=ig||ks,L4=q2("Gecko")&&!(-1!=Ud().toLowerCase().indexOf("webkit")&&!q2("Edge"))&&!(q2("Trident")||q2("MSIE"))&&!q2("Edge"),rg=-1!=Ud().toLowerCase().indexOf("webkit")&&!q2("Edge");function qf(){var n=rn.document;return n?n.documentMode:void 0}e:{var L6="",N6=(n=Ud(),L4?/rv:([^\);]+)(\)|;)/.exec(n):ig?/Edge\/([\d\.]+)/.exec(n):ks?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rg?/WebKit\/(\S+)/.exec(n):oh?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(N6&&(L6=N6?N6[1]:""),ks){var $f=qf();if(null!=$f&&$f>parseFloat(L6)){sh=String($f);break e}}sh=L6}var Zf=rn.document&&ks&&(qf()||parseInt(sh,10))||void 0;function N4(n,t){if(Go.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(L4){e:{try{cl(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:og[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&N4.$.h.call(this)}}ro(N4,Go);var og={2:"touch",3:"pen",4:"mouse"};N4.prototype.h=function(){N4.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var V4="closure_listenable_"+(1e6*Math.random()|0),Yf=0;function Kf(n,t,e,r,s){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.la=s,this.key=++Yf,this.fa=this.ia=!1}function V6(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function H6(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function ch(n){const t={};for(const e in n)t[e]=n[e];return t}const lh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qf(n,t){let e,r;for(let s=1;s<arguments.length;s++){for(e in r=arguments[s],r)n[e]=r[e];for(let d=0;d<lh.length;d++)e=lh[d],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function P6(n){this.src=n,this.g={},this.h=0}function R6(n,t){var e=t.type;if(e in n.g){var d,r=n.g[e],s=ih(r,t);(d=0<=s)&&Array.prototype.splice.call(r,s,1),d&&(V6(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Gd(n,t,e,r){for(var s=0;s<n.length;++s){var d=n[s];if(!d.fa&&d.listener==t&&d.capture==!!e&&d.la==r)return s}return-1}P6.prototype.add=function(n,t,e,r,s){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var g=Gd(n,t,r,s);return-1<g?(t=n[g],e||(t.ia=!1)):((t=new Kf(t,this.src,d,!!r,s)).ia=e,n.push(t)),t};var qd="closure_lm_"+(1e6*Math.random()|0),uh={};function Jf(n,t,e,r,s){if(r&&r.once)return Xf(n,t,e,r,s);if(Array.isArray(t)){for(var d=0;d<t.length;d++)Jf(n,t[d],e,r,s);return null}return e=hh(e),n&&n[V4]?n.O(t,e,al(r)?!!r.capture:!!r,s):sg(n,t,e,!1,r,s)}function sg(n,t,e,r,s,d){if(!t)throw Error("Invalid event type");var g=al(s)?!!s.capture:!!s,w=ll(n);if(w||(n[qd]=w=new P6(n)),(e=w.add(t,e,r,g,d)).proxy)return e;if(r=function ag(){const t=As;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)Gf||(s=g),void 0===s&&(s=!1),n.addEventListener(t.toString(),r,s);else if(n.attachEvent)n.attachEvent(e9(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function Xf(n,t,e,r,s){if(Array.isArray(t)){for(var d=0;d<t.length;d++)Xf(n,t[d],e,r,s);return null}return e=hh(e),n&&n[V4]?n.P(t,e,al(r)?!!r.capture:!!r,s):sg(n,t,e,!0,r,s)}function cg(n,t,e,r,s){if(Array.isArray(t))for(var d=0;d<t.length;d++)cg(n,t[d],e,r,s);else r=al(r)?!!r.capture:!!r,e=hh(e),n&&n[V4]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Gd(d=n.g[t],e,r,s))&&(V6(d[e]),Array.prototype.splice.call(d,e,1),0==d.length&&(delete n.g[t],n.h--))):n&&(n=ll(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Gd(t,e,r,s)),(e=-1<n?t[n]:null)&&dh(e))}function dh(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[V4])R6(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(e9(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=ll(t))?(R6(e,n),0==e.h&&(e.src=null,t[qd]=null)):V6(n)}}}function e9(n){return n in uh?uh[n]:uh[n]="on"+n}function As(n,t){if(n.fa)n=!0;else{t=new N4(t,this);var e=n.listener,r=n.la||n.src;n.ia&&dh(n),n=e.call(r,t)}return n}function ll(n){return(n=n[qd])instanceof P6?n:null}var $d="__closure_events_fn_"+(1e9*Math.random()>>>0);function hh(n){return"function"==typeof n?n:(n[$d]||(n[$d]=function(t){return n.handleEvent(t)}),n[$d])}function yo(){Oc.call(this),this.i=new P6(this),this.S=this,this.J=null}function Co(n,t){var e,r=n.J;if(r)for(e=[];r;r=r.J)e.push(r);if(n=n.S,r=t.type||t,"string"==typeof t)t=new Go(t,n);else if(t instanceof Go)t.target=t.target||n;else{var s=t;Qf(t=new Go(r,n),s)}if(s=!0,e)for(var d=e.length-1;0<=d;d--){var g=t.g=e[d];s=H4(g,r,!0,t)&&s}if(s=H4(g=t.g=n,r,!0,t)&&s,s=H4(g,r,!1,t)&&s,e)for(d=0;d<e.length;d++)s=H4(g=t.g=e[d],r,!1,t)&&s}function H4(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,d=0;d<t.length;++d){var g=t[d];if(g&&!g.fa&&g.capture==e){var w=g.listener,x=g.la||g.src;g.ia&&R6(n.i,g),s=!1!==w.call(x,r)&&s}}return s&&!r.defaultPrevented}ro(yo,Oc),yo.prototype[V4]=!0,yo.prototype.removeEventListener=function(n,t,e,r){cg(this,n,t,e,r)},yo.prototype.N=function(){if(yo.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)V6(e[r]);delete n.g[t],n.h--}}this.J=null},yo.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},yo.prototype.P=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var O6=rn.JSON.stringify;function N_(){var n=B6;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var n9=new class F6{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new i9,n=>n.reset());class i9{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function V_(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function lg(n){rn.setTimeout(()=>{throw n},0)}let Wd,P4=!1,B6=new class t9{constructor(){this.h=this.g=null}add(t,e){const r=n9.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}},fh=()=>{const n=rn.Promise.resolve(void 0);Wd=()=>{n.then(j6)}};var j6=()=>{for(var n;n=N_();){try{n.h.call(n.g)}catch(e){lg(e)}var t=n9;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}P4=!1};function R4(n,t){yo.call(this),this.h=n||1,this.g=t||rn,this.j=bo(this.qb,this),this.l=Date.now()}function ug(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function mh(n,t,e){if("function"==typeof n)e&&(n=bo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bo(n.handleEvent,n)}return 2147483647<Number(t)?-1:rn.setTimeout(n,t||0)}function r9(n){n.g=mh(()=>{n.g=null,n.i&&(n.i=!1,r9(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ro(R4,yo),(pt=R4.prototype).ga=!1,pt.T=null,pt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Co(this,"tick"),this.ga&&(ug(this),this.start()))}},pt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.N=function(){R4.$.N.call(this),ug(this),delete this.g};class dg extends Oc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:r9(this)}N(){super.N(),this.g&&(rn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $2(n){Oc.call(this),this.h=n,this.g={}}ro($2,Oc);var Oa=[];function o9(n,t,e,r){Array.isArray(e)||(e&&(Oa[0]=e.toString()),e=Oa);for(var s=0;s<e.length;s++){var d=Jf(t,e[s],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function U6(n){H6(n.g,function(t,e){this.g.hasOwnProperty(e)&&dh(t)},n),n.g={}}function s9(){this.g=!0}function G6(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function fg(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var d=s[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<s.length;g++)s[g]=""}}}return O6(e)}catch{return t}}(n,e)+(r?" "+r:"")})}$2.prototype.N=function(){$2.$.N.call(this),U6(this)},$2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},s9.prototype.Ea=function(){this.g=!1},s9.prototype.info=function(){};var Fc={},ph=null;function Zd(){return ph=ph||new yo}function a9(n){Go.call(this,Fc.Ta,n)}function O4(n){const t=Zd();Co(t,new a9(t))}function g1(n,t){Go.call(this,Fc.STAT_EVENT,n),this.stat=t}function is(n){const t=Zd();Co(t,new g1(t,n))}function gh(n,t){Go.call(this,Fc.Ua,n),this.size=t}function q6(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rn.setTimeout(function(){n()},t)}Fc.Ta="serverreachability",ro(a9,Go),Fc.STAT_EVENT="statevent",ro(g1,Go),Fc.Ua="timingevent",ro(gh,Go);var F4={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},c9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vh(){}function mg(){}vh.prototype.h=null;var u9,$6={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pg(){Go.call(this,"d")}function _h(){Go.call(this,"c")}function d9(){}function bh(n,t,e,r){this.l=n,this.j=t,this.m=e,this.W=r||1,this.U=new $2(this),this.P=Uy,this.V=new R4(n=T4?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new gg}function gg(){this.i=null,this.g="",this.h=!1}ro(pg,Go),ro(_h,Go),ro(d9,vh),d9.prototype.g=function(){return new XMLHttpRequest},d9.prototype.i=function(){return{}},u9=new d9;var Uy=45e3,h9={},f9={};function vg(n,t,e){n.L=1,n.v=kh(Fa(t)),n.s=e,n.S=!0,W6(n,null)}function W6(n,t){n.G=Date.now(),Y6(n),n.A=Fa(n.v);var e=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Sh(e.i,"t",r),n.C=0,e=n.l.J,n.h=new gg,n.g=E9(n.l,e?t:null,!n.s),0<n.O&&(n.M=new dg(bo(n.Pa,n,n.g),n.O)),o9(n.U,n.g,"readystatechange",n.nb),t=n.I?ch(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),O4(),function H_(n,t,e,r,s,d){n.info(function(){if(n.g)if(d)for(var g="",w=d.split("&"),x=0;x<w.length;x++){var z=w[x].split("=");if(1<z.length){var N=z[0];z=z[1];var P=N.split("_");g=2<=P.length&&"type"==P[1]?g+(N+"=")+z+"&":g+(N+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+e+"\n"+g})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Z6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function yh(n,t,e){let s,r=!0;for(;!n.J&&n.C<e.length;){if(s=Ch(n,e),s==f9){4==t&&(n.o=4,is(14),r=!1),G6(n.j,n.m,null,"[Incomplete Response]");break}if(s==h9){n.o=4,is(15),G6(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}G6(n.j,n.m,s,null),wh(n,s)}Z6(n)&&s!=f9&&s!=h9&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,is(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),Sg(t),t.M=!0,is(11))):(G6(n.j,n.m,e,"[Invalid Chunked Response]"),Bc(n),ul(n))}function Ch(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?f9:(e=Number(t.substring(e,r)),isNaN(e)?h9:(r+=1)+e>t.length?f9:(t=t.slice(r,r+e),n.C=r+e,t))}function Y6(n){n.Y=Date.now()+n.P,Yd(n,n.P)}function Yd(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=q6(bo(n.lb,n),t)}function m9(n){n.B&&(rn.clearTimeout(n.B),n.B=null)}function ul(n){0==n.l.H||n.J||e5(n.l,n)}function Bc(n){m9(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,ug(n.V),U6(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function wh(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||J6(e.i,n)))if(!n.K&&J6(e.i,n)&&3==e.H){try{var r=e.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Ph(e),Hh(e)}xg(e),is(18)}}else e.Fa=s[1],0<e.Fa-e.V&&37500>s[2]&&e.G&&0==e.A&&!e.v&&(e.v=q6(bo(e.ib,e),6e3));if(1>=jc(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else hl(e,11)}else if((n.K||e.g==n)&&Ph(e),!jd(t))for(s=e.Ja.g.parse(t),t=0;t<s.length;t++){let z=s[t];if(e.V=z[0],z=z[1],2==e.H)if("c"==z[0]){e.K=z[1],e.pa=z[2];const N=z[3];null!=N&&(e.ra=N,e.l.info("VER="+e.ra));const P=z[4];null!=P&&(e.Ga=P,e.l.info("SVER="+e.Ga));const W=z[5];null!=W&&"number"==typeof W&&0<W&&(e.L=r=1.5*W,e.l.info("backChannelRequestTimeoutMs_="+r)),r=e;const K=n.g;if(K){const ie=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var d=r.i;d.g||-1==ie.indexOf("spdy")&&-1==ie.indexOf("quic")&&-1==ie.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(y9(d,d.h),d.h=null))}if(r.F){const de=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.Da=de,Ii(r.I,r.F,de))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var g=n;if((r=e).wa=fl(r,r.J?r.pa:null,r.Y),g.K){Dh(r.i,g);var w=g,x=r.L;x&&w.setTimeout(x),w.B&&(m9(w),Y6(w)),r.g=g}else q_(r);0<e.j.length&&Xd(e)}else"stop"!=z[0]&&"close"!=z[0]||hl(e,7);else 3==e.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?hl(e,7):dl(e):"noop"!=z[0]&&e.h&&e.h.Aa(z),e.A=0)}O4()}catch{}}function _g(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Bd(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function R_(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Bd(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const r in n)t[e++]=r;return t}}}(n),r=function P_(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Bd(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),s=r.length,d=0;d<s;d++)t.call(void 0,r[d],e&&e[d],n)}(pt=bh.prototype).setTimeout=function(n){this.P=n},pt.nb=function(n){n=n.target;const t=this.M;t&&3==U1(n)?t.l():this.Pa(n)},pt.Pa=function(n){try{if(n==this.g)e:{const N=U1(this.g);var t=this.g.Ia();if(this.g.da(),!(3>N)&&(3!=N||T4||this.g&&(this.h.h||this.g.ja()||x9(this.g)))){this.J||4!=N||7==t||O4(),m9(this);var e=this.g.da();this.ca=e;t:if(Z6(this)){var r=x9(this.g);n="";var s=r.length,d=4==U1(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Bc(this),ul(this);var g="";break t}this.h.i=new rn.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:d&&t==s-1});r.splice(0,s),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.ja();if(this.i=200==e,function jy(n,t,e,r,s,d,g){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.W,N,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var w,x=this.g;if((w=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jd(w)){var z=w;break t}}z=null}if(!(e=z)){this.i=!1,this.o=3,is(12),Bc(this),ul(this);break e}G6(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wh(this,e)}this.S?(yh(this,N,g),T4&&this.i&&3==N&&(o9(this.U,this.V,"tick",this.mb),this.V.start())):(G6(this.j,this.m,g,null),wh(this,g)),4==N&&Bc(this),this.i&&!this.J&&(4==N?e5(this.l,this):(this.i=!1,Y6(this)))}else(function Lh(n){const t={};n=(n.g&&2<=U1(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(jd(n[r]))continue;var e=V_(n[r]);const s=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const d=t[s]||[];t[s]=d,d.push(e)}!function L_(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(r){return r.join(", ")})})(this.g),400==e&&0<g.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Bc(this),ul(this)}}}catch{}},pt.mb=function(){if(this.g){var n=U1(this.g),t=this.g.ja();this.C<t.length&&(m9(this),yh(this,n,t),this.i&&4!=n&&Y6(this))}},pt.cancel=function(){this.J=!0,Bc(this)},pt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hg(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(O4(),is(17)),Bc(this),this.o=2,ul(this)):Yd(this,this.Y-n)};var p9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B4(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof B4){this.h=n.h,g9(this,n.j),this.s=n.s,this.g=n.g,v9(this,n.m),this.l=n.l;var t=n.i,e=new Qd;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),_9(this,e),this.o=n.o}else n&&(t=String(n).match(p9))?(this.h=!1,g9(this,t[1]||"",!0),this.s=Ah(t[2]||""),this.g=Ah(t[3]||"",!0),v9(this,t[4]),this.l=Ah(t[5]||"",!0),_9(this,t[6]||"",!0),this.o=Ah(t[7]||"")):(this.h=!1,this.i=new Qd(null,this.h))}function Fa(n){return new B4(n)}function g9(n,t,e){n.j=e?Ah(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function v9(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function _9(n,t,e){t instanceof Qd?(n.i=t,function B_(n,t){t&&!n.j&&(j4(n),n.i=null,n.g.forEach(function(e,r){var s=r.toLowerCase();r!=s&&(v1(this,r),Sh(this,s,e))},n)),n.j=t}(n.i,n.h)):(e||(t=K6(t,F_)),n.i=new Qd(t,n.h))}function Ii(n,t,e){n.i.set(t,e)}function kh(n){return Ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ah(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function K6(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,bg),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}B4.prototype.toString=function(){var n=[],t=this.j;t&&n.push(K6(t,Mh,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(K6(t,Mh,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(K6(e,"/"==e.charAt(0)?Ba:O_,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",K6(e,xh)),n.join("")};var Mh=/[#\/\?@]/g,O_=/[#\?:]/g,Ba=/[#\?]/g,F_=/[#\?@]/g,xh=/#/g;function Qd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function j4(n){n.g||(n.g=new Map,n.h=0,n.i&&function Kd(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),s=null;if(0<=r){var d=n[e].substring(0,r);s=n[e].substring(r+1)}else d=n[e];t(d,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function v1(n,t){j4(n),t=Q6(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function yg(n,t){return j4(n),t=Q6(n,t),n.g.has(t)}function Sh(n,t,e){v1(n,t),0<e.length&&(n.i=null,n.g.set(Q6(n,t),rh(e)),n.h+=e.length)}function Q6(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Eh(n){this.l=n||Cg,n=rn.PerformanceNavigationTiming?0<(n=rn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rn.g&&rn.g.Ka&&rn.g.Ka()&&rn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Qd.prototype).add=function(n,t){j4(this),this.i=null,n=Q6(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},pt.forEach=function(n,t){j4(this),this.g.forEach(function(e,r){e.forEach(function(s){n.call(t,s,r,this)},this)},this)},pt.ta=function(){j4(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let r=0;r<t.length;r++){const s=n[r];for(let d=0;d<s.length;d++)e.push(t[r])}return e},pt.Z=function(n){j4(this);let t=[];if("string"==typeof n)yg(this,n)&&(t=t.concat(this.g.get(Q6(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},pt.set=function(n,t){return j4(this),this.i=null,yg(this,n=Q6(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},pt.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var r=t[e];const d=encodeURIComponent(String(r)),g=this.Z(r);for(r=0;r<g.length;r++){var s=d;""!==g[r]&&(s+="="+encodeURIComponent(String(g[r]))),n.push(s)}}return this.i=n.join("&")};var Cg=10;function Wi(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jc(n){return n.h?1:n.g?n.g.size:0}function J6(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function y9(n,t){n.g?n.g.add(t):n.h=t}function Dh(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function wg(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return rh(n.i)}Eh.prototype.cancel=function(){if(this.i=wg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Zn=class{stringify(n){return rn.JSON.stringify(n,void 0)}parse(n){return rn.JSON.parse(n,void 0)}};function Uc(){this.g=new Zn}function Gc(n,t,e){const r=e||"";try{_g(n,function(s,d){let g=s;al(s)&&(g=O6(s)),t.push(r+d+"="+encodeURIComponent(g))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function U4(n,t,e,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function G4(n){this.l=n.fc||null,this.j=n.ob||!1}function zh(n,t){yo.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=w9,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ro(G4,vh),G4.prototype.g=function(){return new zh(this.l,this.j)},G4.prototype.i=function(n){return function(){return n}}({}),ro(zh,yo);var w9=0;function k9(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function X6(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eu(n)}function eu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=zh.prototype).open=function(n,t){if(this.readyState!=w9)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,eu(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||rn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,X6(this)),this.readyState=w9},pt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k9(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},pt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?X6(this):eu(this),3==this.readyState&&k9(this)}},pt.Za=function(n){this.g&&(this.response=this.responseText=n,X6(this))},pt.Ya=function(n){this.g&&(this.response=n,X6(this))},pt.ka=function(){this.g&&X6(this)},pt.setRequestHeader=function(n,t){this.v.append(n,t)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(zh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kg=rn.JSON.parse;function Fi(n){yo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ag,this.L=this.M=!1}ro(Fi,yo);var Ag="",A9=/^https?$/i,Mg=["POST","PUT"];function M9(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,tu(n),nu(n)}function tu(n){n.F||(n.F=!0,Co(n,"complete"),Co(n,"error"))}function Th(n){if(n.h&&typeof z6<"u"&&(!n.C[1]||4!=U1(n)||2!=n.da()))if(n.v&&4==U1(n))mh(n.La,0,n);else if(Co(n,"readystatechange"),4==U1(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===g){var s=String(n.I).match(p9)[1]||null;!s&&rn.self&&rn.self.location&&(s=rn.self.location.protocol.slice(0,-1)),r=!A9.test(s?s.toLowerCase():"")}e=r}if(e)Co(n,"complete"),Co(n,"success");else{n.m=6;try{var d=2<U1(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.da()+"]",tu(n)}}finally{nu(n)}}}function nu(n,t){if(n.g){iu(n);const e=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Co(n,"ready");try{e.onreadystatechange=r}catch{}}}function iu(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rn.clearTimeout(n.A),n.A=null)}function U1(n){return n.g?n.g.readyState:0}function x9(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Ag:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Jd(n){let t="";return H6(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function Nh(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=Jd(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ii(n,t,e))}function vr(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Vh(n){this.Ga=0,this.j=[],this.l=new s9,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vr("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vr("baseRetryDelayMs",5e3,n),this.hb=vr("retryDelaySeedMs",1e4,n),this.eb=vr("forwardChannelMaxRetries",2,n),this.xa=vr("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Eh(n&&n.concurrentRequestLimit),this.Ja=new Uc,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dl(n){if(j_(n),3==n.H){var t=n.W++,e=Fa(n.I);if(Ii(e,"SID",n.K),Ii(e,"RID",t),Ii(e,"TYPE","terminate"),ru(n,e),(t=new bh(n,n.l,t)).L=2,t.v=kh(Fa(e)),e=!1,rn.navigator&&rn.navigator.sendBeacon)try{e=rn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&rn.Image&&((new Image).src=t.v,e=!0),e||(t.g=E9(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Y6(t)}t5(n)}function Hh(n){n.g&&(Sg(n),n.g.cancel(),n.g=null)}function j_(n){Hh(n),n.u&&(rn.clearTimeout(n.u),n.u=null),Ph(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rn.clearTimeout(n.m),n.m=null)}function Xd(n){if(!Wi(n.i)&&!n.m){n.m=!0;var t=n.Na;Wd||fh(),P4||(Wd(),P4=!0),B6.add(t,n),n.C=0}}function S9(n,t){var e;e=t?t.m:n.W++;const r=Fa(n.I);Ii(r,"SID",n.K),Ii(r,"RID",e),Ii(r,"AID",n.V),ru(n,r),n.o&&n.s&&Nh(r,n.o,n.s),e=new bh(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=G_(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),y9(n.i,e),vg(e,r,t)}function ru(n,t){n.na&&H6(n.na,function(e,r){Ii(t,r,e)}),n.h&&_g({},function(e,r){Ii(t,r,e)})}function G_(n,t,e){e=Math.min(n.j.length,e);var r=n.h?bo(n.h.Va,n.h,n):null;e:{var s=n.j;let d=-1;for(;;){const g=["count="+e];-1==d?0<e?(d=s[0].g,g.push("ofs="+d)):d=0:g.push("ofs="+d);let w=!0;for(let x=0;x<e;x++){let z=s[x].g;const N=s[x].map;if(z-=d,0>z)d=Math.max(0,s[x].g-100),w=!1;else try{Gc(N,g,"req"+z+"_")}catch{r&&r(N)}}if(w){r=g.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,r}function q_(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Wd||fh(),P4||(Wd(),P4=!0),B6.add(t,n),n.A=0}}function xg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=q6(bo(n.Ma,n),Eg(n,n.A)),n.A++,0))}function Sg(n){null!=n.B&&(rn.clearTimeout(n.B),n.B=null)}function $_(n){n.g=new bh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Fa(n.wa);Ii(t,"RID","rpc"),Ii(t,"SID",n.K),Ii(t,"AID",n.V),Ii(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ii(t,"TO",n.qa),Ii(t,"TYPE","xmlhttp"),ru(n,t),n.o&&n.s&&Nh(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=kh(Fa(t)),e.s=null,e.S=!0,W6(e,n)}function Ph(n){null!=n.v&&(rn.clearTimeout(n.v),n.v=null)}function e5(n,t){var e=null;if(n.g==t){Ph(n),Sg(n),n.g=null;var r=2}else{if(!J6(n.i,t))return;e=t.F,Dh(n.i,t),r=1}if(0!=n.H)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.G;var s=n.C;Co(r=Zd(),new gh(r,e)),Xd(n)}else q_(n);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&function U_(n,t){return!(jc(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=q6(bo(n.Na,n,t),Eg(n,n.C)),n.C++,0)))}(n,t)||2==r&&xg(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),s){case 1:hl(n,5);break;case 4:hl(n,10);break;case 3:hl(n,6);break;default:hl(n,2)}}function Eg(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function hl(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var r=bo(n.pb,n);e||(e=new B4("//www.google.com/images/cleardot.gif"),rn.location&&"http"==rn.location.protocol||g9(e,"https"),kh(e)),function C9(n,t){const e=new s9;if(rn.Image){const r=new Image;r.onload=T6(U4,e,r,"TestLoadImage: loaded",!0,t),r.onerror=T6(U4,e,r,"TestLoadImage: error",!1,t),r.onabort=T6(U4,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=T6(U4,e,r,"TestLoadImage: timeout",!1,t),rn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else is(2);n.H=0,n.h&&n.h.za(t),t5(n),j_(n)}function t5(n){if(n.H=0,n.ma=[],n.h){const t=wg(n.i);(0!=t.length||0!=n.j.length)&&(ng(n.ma,t),ng(n.ma,n.j),n.i.i.length=0,rh(n.j),n.j.length=0),n.h.ya()}}function fl(n,t,e){var r=e instanceof B4?Fa(e):new B4(e);if(""!=r.g)t&&(r.g=t+"."+r.g),v9(r,r.m);else{var s=rn.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var d=new B4(null);r&&g9(d,r),t&&(d.g=t),s&&v9(d,s),e&&(d.l=e),r=d}return t=n.Da,(e=n.F)&&t&&Ii(r,e,t),Ii(r,"VER",n.ra),ru(n,r),r}function E9(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Fi(e&&n.Ha&&!n.va?new G4({ob:!0}):n.va)).Oa(n.J),t}function n5(){}function ou(){if(ks&&!(10<=Number(Zf)))throw Error("Environmental error: no available transport.")}function _1(n,t){yo.call(this),this.g=new Vh(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!jd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jd(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new qc(this)}function i5(n){pg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function r5(){_h.call(this),this.status=1}function qc(n){this.g=n}function W2(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Dg(n,t,e){e||(e=0);var r=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(s=0;16>s;++s)r[s]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var d=n.g[3],g=(t=n.g[0])+(d^(e=n.g[1])&((s=n.g[2])^d))+r[0]+3614090360&4294967295;g=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=(e=(s=(d=(t=e+(g<<7&4294967295|g>>>25))+((g=d+(s^t&(e^s))+r[1]+3905402710&4294967295)<<12&4294967295|g>>>20))+((g=s+(e^d&(t^e))+r[2]+606105819&4294967295)<<17&4294967295|g>>>15))+((g=e+(t^s&(d^t))+r[3]+3250441966&4294967295)<<22&4294967295|g>>>10))+((g=t+(d^e&(s^d))+r[4]+4118548399&4294967295)<<7&4294967295|g>>>25))+((g=d+(s^t&(e^s))+r[5]+1200080426&4294967295)<<12&4294967295|g>>>20))+((g=s+(e^d&(t^e))+r[6]+2821735955&4294967295)<<17&4294967295|g>>>15))+((g=e+(t^s&(d^t))+r[7]+4249261313&4294967295)<<22&4294967295|g>>>10))+((g=t+(d^e&(s^d))+r[8]+1770035416&4294967295)<<7&4294967295|g>>>25))+((g=d+(s^t&(e^s))+r[9]+2336552879&4294967295)<<12&4294967295|g>>>20))+((g=s+(e^d&(t^e))+r[10]+4294925233&4294967295)<<17&4294967295|g>>>15))+((g=e+(t^s&(d^t))+r[11]+2304563134&4294967295)<<22&4294967295|g>>>10))+((g=t+(d^e&(s^d))+r[12]+1804603682&4294967295)<<7&4294967295|g>>>25))+((g=d+(s^t&(e^s))+r[13]+4254626195&4294967295)<<12&4294967295|g>>>20))+((g=s+(e^d&(t^e))+r[14]+2792965006&4294967295)<<17&4294967295|g>>>15))+((g=e+(t^s&(d^t))+r[15]+1236535329&4294967295)<<22&4294967295|g>>>10))+((g=t+(s^d&(e^s))+r[1]+4129170786&4294967295)<<5&4294967295|g>>>27))+((g=d+(e^s&(t^e))+r[6]+3225465664&4294967295)<<9&4294967295|g>>>23))+((g=s+(t^e&(d^t))+r[11]+643717713&4294967295)<<14&4294967295|g>>>18))+((g=e+(d^t&(s^d))+r[0]+3921069994&4294967295)<<20&4294967295|g>>>12))+((g=t+(s^d&(e^s))+r[5]+3593408605&4294967295)<<5&4294967295|g>>>27))+((g=d+(e^s&(t^e))+r[10]+38016083&4294967295)<<9&4294967295|g>>>23))+((g=s+(t^e&(d^t))+r[15]+3634488961&4294967295)<<14&4294967295|g>>>18))+((g=e+(d^t&(s^d))+r[4]+3889429448&4294967295)<<20&4294967295|g>>>12))+((g=t+(s^d&(e^s))+r[9]+568446438&4294967295)<<5&4294967295|g>>>27))+((g=d+(e^s&(t^e))+r[14]+3275163606&4294967295)<<9&4294967295|g>>>23))+((g=s+(t^e&(d^t))+r[3]+4107603335&4294967295)<<14&4294967295|g>>>18))+((g=e+(d^t&(s^d))+r[8]+1163531501&4294967295)<<20&4294967295|g>>>12))+((g=t+(s^d&(e^s))+r[13]+2850285829&4294967295)<<5&4294967295|g>>>27))+((g=d+(e^s&(t^e))+r[2]+4243563512&4294967295)<<9&4294967295|g>>>23))+((g=s+(t^e&(d^t))+r[7]+1735328473&4294967295)<<14&4294967295|g>>>18))+((g=e+(d^t&(s^d))+r[12]+2368359562&4294967295)<<20&4294967295|g>>>12))+((g=t+(e^s^d)+r[5]+4294588738&4294967295)<<4&4294967295|g>>>28))+((g=d+(t^e^s)+r[8]+2272392833&4294967295)<<11&4294967295|g>>>21))+((g=s+(d^t^e)+r[11]+1839030562&4294967295)<<16&4294967295|g>>>16))+((g=e+(s^d^t)+r[14]+4259657740&4294967295)<<23&4294967295|g>>>9))+((g=t+(e^s^d)+r[1]+2763975236&4294967295)<<4&4294967295|g>>>28))+((g=d+(t^e^s)+r[4]+1272893353&4294967295)<<11&4294967295|g>>>21))+((g=s+(d^t^e)+r[7]+4139469664&4294967295)<<16&4294967295|g>>>16))+((g=e+(s^d^t)+r[10]+3200236656&4294967295)<<23&4294967295|g>>>9))+((g=t+(e^s^d)+r[13]+681279174&4294967295)<<4&4294967295|g>>>28))+((g=d+(t^e^s)+r[0]+3936430074&4294967295)<<11&4294967295|g>>>21))+((g=s+(d^t^e)+r[3]+3572445317&4294967295)<<16&4294967295|g>>>16))+((g=e+(s^d^t)+r[6]+76029189&4294967295)<<23&4294967295|g>>>9))+((g=t+(e^s^d)+r[9]+3654602809&4294967295)<<4&4294967295|g>>>28))+((g=d+(t^e^s)+r[12]+3873151461&4294967295)<<11&4294967295|g>>>21))+((g=s+(d^t^e)+r[15]+530742520&4294967295)<<16&4294967295|g>>>16))+((g=e+(s^d^t)+r[2]+3299628645&4294967295)<<23&4294967295|g>>>9))+((g=t+(s^(e|~d))+r[0]+4096336452&4294967295)<<6&4294967295|g>>>26))+((g=d+(e^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|g>>>22))+((g=s+(t^(d|~e))+r[14]+2878612391&4294967295)<<15&4294967295|g>>>17))+((g=e+(d^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|g>>>11))+((g=t+(s^(e|~d))+r[12]+1700485571&4294967295)<<6&4294967295|g>>>26))+((g=d+(e^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|g>>>22))+((g=s+(t^(d|~e))+r[10]+4293915773&4294967295)<<15&4294967295|g>>>17))+((g=e+(d^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|g>>>11))+((g=t+(s^(e|~d))+r[8]+1873313359&4294967295)<<6&4294967295|g>>>26))+((g=d+(e^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|g>>>22))+((g=s+(t^(d|~e))+r[6]+2734768916&4294967295)<<15&4294967295|g>>>17))+((g=e+(d^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|g>>>11))+((d=(t=e+((g=t+(s^(e|~d))+r[4]+4149444226&4294967295)<<6&4294967295|g>>>26))+((g=d+(e^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|g>>>22))^((s=d+((g=s+(t^(d|~e))+r[2]+718787259&4294967295)<<15&4294967295|g>>>17))|~t))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(s+(g<<21&4294967295|g>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+d&4294967295}function oi(n,t){this.h=t;for(var e=[],r=!0,s=n.length-1;0<=s;s--){var d=0|n[s];r&&d==t||(e[s]=d,r=!1)}this.g=e}(pt=Fi.prototype).Oa=function(n){this.M=n},pt.ha=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():u9.g(),this.C=function l9(n){return n.h||(n.h=n.i())}(this.u?this.u:u9),this.g.onreadystatechange=bo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(d){return void M9(this,d)}if(n=e||"",e=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)e.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const d of r.keys())e.set(d,r.get(d))}r=Array.from(e.keys()).find(d=>"content-type"==d.toLowerCase()),s=rn.FormData&&n instanceof rn.FormData,!(0<=ih(Mg,t))||r||s||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of e)this.g.setRequestHeader(d,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iu(this),0<this.B&&((this.L=function Ih(n){return ks&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bo(this.ua,this)):this.A=mh(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){M9(this,d)}},pt.ua=function(){typeof z6<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Co(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Co(this,"complete"),Co(this,"abort"),nu(this))},pt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nu(this,!0)),Fi.$.N.call(this)},pt.La=function(){this.s||(this.G||this.v||this.l?Th(this):this.kb())},pt.kb=function(){Th(this)},pt.isActive=function(){return!!this.g},pt.da=function(){try{return 2<U1(this)?this.g.status:-1}catch{return-1}},pt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),kg(t)}},pt.Ia=function(){return this.m},pt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=Vh.prototype).ra=8,pt.H=1,pt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new bh(this,this.l,n);let d=this.s;if(this.U&&(d?(d=ch(d),Qf(d,this.U)):d=this.U),null!==this.o||this.O||(s.I=d,d=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var r=this.j[e];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=G_(this,s,t),Ii(e=Fa(this.I),"RID",n),Ii(e,"CVER",22),this.F&&Ii(e,"X-HTTP-Session-Id",this.F),ru(this,e),d&&(this.O?t="headers="+encodeURIComponent(String(Jd(d)))+"&"+t:this.o&&Nh(e,this.o,d)),y9(this.i,s),this.bb&&Ii(e,"TYPE","init"),this.P?(Ii(e,"$req",t),Ii(e,"SID","null"),s.aa=!0,vg(s,e,null)):vg(s,e,t),this.H=2}}else 3==this.H&&(n?S9(this,n):0==this.j.length||Wi(this.i)||S9(this))},pt.Ma=function(){if(this.u=null,$_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=q6(bo(this.jb,this),n)}},pt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,is(10),Hh(this),$_(this))},pt.ib=function(){null!=this.v&&(this.v=null,Hh(this),xg(this),is(19))},pt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),is(2)):(this.l.info("Failed to ping google.com"),is(1))},pt.isActive=function(){return!!this.h&&this.h.isActive(this)},(pt=n5.prototype).Ba=function(){},pt.Aa=function(){},pt.za=function(){},pt.ya=function(){},pt.isActive=function(){return!0},pt.Va=function(){},ou.prototype.g=function(n,t){return new _1(n,t)},ro(_1,yo),_1.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;is(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=fl(n,null,n.Y),Xd(n)},_1.prototype.close=function(){dl(this.g)},_1.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=O6(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&Xd(t)},_1.prototype.N=function(){this.g.h=null,delete this.j,dl(this.g),delete this.g,_1.$.N.call(this)},ro(i5,pg),ro(r5,_h),ro(qc,n5),qc.prototype.Ba=function(){Co(this.g,"a")},qc.prototype.Aa=function(n){Co(this.g,new i5(n))},qc.prototype.za=function(n){Co(this.g,new r5)},qc.prototype.ya=function(){Co(this.g,"b")},ro(W2,function Gy(){this.blockSize=-1}),W2.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},W2.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,r=this.m,s=this.h,d=0;d<t;){if(0==s)for(;d<=e;)Dg(this,n,d),d+=this.blockSize;if("string"==typeof n){for(;d<t;)if(r[s++]=n.charCodeAt(d++),s==this.blockSize){Dg(this,r),s=0;break}}else for(;d<t;)if(r[s++]=n[d++],s==this.blockSize){Dg(this,r),s=0;break}}this.h=s,this.i+=t},W2.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var r=0;32>r;r+=8)n[e++]=this.g[t]>>>r&255;return n};var zg={};function $c(n){return-128<=n&&128>n?function T_(n,t){var e=zg;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new oi([0|t],0>t?-1:0)}):new oi([0|n],0>n?-1:0)}function Z2(n){if(isNaN(n)||!isFinite(n))return Wc;if(0>n)return oo(Z2(-n));for(var t=[],e=1,r=0;n>=e;r++)t[r]=n/e|0,e*=o5;return new oi(t,0)}var o5=4294967296,Wc=$c(0),s5=$c(1),z9=$c(16777216);function Zc(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function G1(n){return-1==n.h}function oo(n){for(var t=n.g.length,e=[],r=0;r<t;r++)e[r]=~n.g[r];return new oi(e,~n.h).add(s5)}function q4(n,t){return n.add(oo(t))}function I9(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function su(n,t){this.g=n,this.h=t}function au(n,t){if(Zc(t))throw Error("division by zero");if(Zc(n))return new su(Wc,Wc);if(G1(n))return t=au(oo(n),t),new su(oo(t.g),oo(t.h));if(G1(t))return t=au(n,oo(t)),new su(oo(t.g),t.h);if(30<n.g.length){if(G1(n)||G1(t))throw Error("slowDivide_ only works with positive integers.");for(var e=s5,r=t;0>=r.X(n);)e=T9(e),r=T9(r);var s=ml(e,1),d=ml(r,1);for(r=ml(r,2),e=ml(e,2);!Zc(r);){var g=d.add(r);0>=g.X(n)&&(s=s.add(e),d=g),r=ml(r,1),e=ml(e,1)}return t=q4(n,s.R(t)),new su(s,t)}for(s=Wc;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,r-48),g=(d=Z2(e)).R(t);G1(g)||0<g.X(n);)g=(d=Z2(e-=r)).R(t);Zc(d)&&(d=s5),s=s.add(d),n=q4(n,g)}return new su(s,n)}function T9(n){for(var t=n.g.length+1,e=[],r=0;r<t;r++)e[r]=n.D(r)<<1|n.D(r-1)>>>31;return new oi(e,n.h)}function ml(n,t){var e=t>>5;t%=32;for(var r=n.g.length-e,s=[],d=0;d<r;d++)s[d]=0<t?n.D(d+e)>>>t|n.D(d+e+1)<<32-t:n.D(d+e);return new oi(s,n.h)}(pt=oi.prototype).ea=function(){if(G1(this))return-oo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var r=this.D(e);n+=(0<=r?r:o5+r)*t,t*=o5}return n},pt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Zc(this))return"0";if(G1(this))return"-"+oo(this).toString(n);for(var t=Z2(Math.pow(n,6)),e=this,r="";;){var s=au(e,t).g,d=((0<(e=q4(e,s.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Zc(e=s))return d+r;for(;6>d.length;)d="0"+d;r=d+r}},pt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},pt.X=function(n){return G1(n=q4(this,n))?-1:Zc(n)?0:1},pt.abs=function(){return G1(this)?oo(this):this},pt.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0,s=0;s<=t;s++){var d=r+(65535&this.D(s))+(65535&n.D(s)),g=(d>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=g>>>16,e[s]=(g&=65535)<<16|(d&=65535)}return new oi(e,-2147483648&e[e.length-1]?-1:0)},pt.R=function(n){if(Zc(this)||Zc(n))return Wc;if(G1(this))return G1(n)?oo(this).R(oo(n)):oo(oo(this).R(n));if(G1(n))return oo(this.R(oo(n)));if(0>this.X(z9)&&0>n.X(z9))return Z2(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],r=0;r<2*t;r++)e[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var d=this.D(r)>>>16,g=65535&this.D(r),w=n.D(s)>>>16,x=65535&n.D(s);e[2*r+2*s]+=g*x,I9(e,2*r+2*s),e[2*r+2*s+1]+=d*x,I9(e,2*r+2*s+1),e[2*r+2*s+1]+=g*w,I9(e,2*r+2*s+1),e[2*r+2*s+2]+=d*w,I9(e,2*r+2*s+2)}for(r=0;r<t;r++)e[r]=e[2*r+1]<<16|e[2*r];for(r=t;r<2*t;r++)e[r]=0;return new oi(e,0)},pt.gb=function(n){return au(this,n).h},pt.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)&n.D(r);return new oi(e,this.h&n.h)},pt.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)|n.D(r);return new oi(e,this.h|n.h)},pt.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],r=0;r<t;r++)e[r]=this.D(r)^n.D(r);return new oi(e,this.h^n.h)},ou.prototype.createWebChannel=ou.prototype.g,_1.prototype.send=_1.prototype.u,_1.prototype.open=_1.prototype.m,_1.prototype.close=_1.prototype.close,F4.NO_ERROR=0,F4.TIMEOUT=8,F4.HTTP_ERROR=6,c9.COMPLETE="complete",mg.EventType=$6,$6.OPEN="a",$6.CLOSE="b",$6.ERROR="c",$6.MESSAGE="d",yo.prototype.listen=yo.prototype.O,Fi.prototype.listenOnce=Fi.prototype.P,Fi.prototype.getLastError=Fi.prototype.Sa,Fi.prototype.getLastErrorCode=Fi.prototype.Ia,Fi.prototype.getStatus=Fi.prototype.da,Fi.prototype.getResponseJson=Fi.prototype.Wa,Fi.prototype.getResponseText=Fi.prototype.ja,Fi.prototype.send=Fi.prototype.ha,Fi.prototype.setWithCredentials=Fi.prototype.Oa,W2.prototype.digest=W2.prototype.l,W2.prototype.reset=W2.prototype.reset,W2.prototype.update=W2.prototype.j,oi.prototype.add=oi.prototype.add,oi.prototype.multiply=oi.prototype.R,oi.prototype.modulo=oi.prototype.gb,oi.prototype.compare=oi.prototype.X,oi.prototype.toNumber=oi.prototype.ea,oi.prototype.toString=oi.prototype.toString,oi.prototype.getBits=oi.prototype.D,oi.fromNumber=Z2,oi.fromString=function D9(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return oo(D9(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Z2(Math.pow(t,8)),r=Wc,s=0;s<n.length;s+=8){var d=Math.min(8,n.length-s),g=parseInt(n.substring(s,s+d),t);8>d?(d=Z2(Math.pow(t,d)),r=r.R(d).add(Z2(g))):r=(r=r.R(e)).add(Z2(g))}return r};var W_=p1.createWebChannelTransport=function(){return new ou},L9=p1.getStatEventTarget=function(){return Zd()},N9=p1.ErrorCode=F4,V9=p1.EventType=c9,Ig=p1.Event=Fc,Z_=p1.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qy=p1.FetchXmlHttpFactory=G4,a5=p1.WebChannel=mg,f=p1.XhrIo=Fi,i=p1.Md5=W2,o=p1.Integer=oi;const l="@firebase/firestore";class h{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}h.UNAUTHENTICATED=new h(null),h.GOOGLE_CREDENTIALS=new h("google-credentials-uid"),h.FIRST_PARTY=new h("first-party-uid"),h.MOCK_USER=new h("mock-user");let v="9.23.0";const b=new Bo.Yd("@firebase/firestore");function C(){return b.logLevel}function c(n,...t){if(b.logLevel<=Bo.in.DEBUG){const e=t.map(_);b.debug(`Firestore (${v}): ${n}`,...e)}}function u(n,...t){if(b.logLevel<=Bo.in.ERROR){const e=t.map(_);b.error(`Firestore (${v}): ${n}`,...e)}}function p(n,...t){if(b.logLevel<=Bo.in.WARN){const e=t.map(_);b.warn(`Firestore (${v}): ${n}`,...e)}}function _(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function y(n="Unexpected state"){const t=`FIRESTORE (${v}) INTERNAL ASSERTION FAILED: `+n;throw u(t),new Error(t)}function A(n,t){n||y()}function E(n,t){return n}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends Nt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class B{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class X{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class le{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(h.UNAUTHENTICATED))}shutdown(){}}class ke{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Oe{constructor(t){this.t=t,this.currentUser=h.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let s=this.i;const d=z=>this.i!==s?(s=this.i,e(z)):Promise.resolve();let g=new B;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new B,t.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const z=g;t.enqueueRetryable((0,De.Z)(function*(){yield z.promise,yield d(r.currentUser)}))},x=z=>{c("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(z=>x(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?x(z):(c("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new B)}},0),w()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(c("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(A("string"==typeof r.accessToken),new X(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return A(null===t||"string"==typeof t),new h(t)}}class rt{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=h.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dt{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new rt(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(h.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $e{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const r=d=>{null!=d.error&&c("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.T;return this.T=d.token,c("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?e(d.token):Promise.resolve()};this.o=d=>{t.enqueueRetryable(()=>r(d))};const s=d=>{c("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.I.onInit(d=>s(d)),setTimeout(()=>{if(!this.appCheck){const d=this.I.getImmediate({optional:!0});d?s(d):c("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(A("string"==typeof e.token),this.T=e.token,new Pt(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bn(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Xn{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=Bn(40);for(let d=0;d<s.length;++d)r.length<20&&s[d]<e&&(r+=t.charAt(s[d]%t.length))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function c5(n,t,e){return n.length===t.length&&n.every((r,s)=>e(r,t[s]))}function Y_(n){return n+"\0"}class Pr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new V(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new V(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new V(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new V(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Pr.fromMillis(Date.now())}static fromDate(t){return Pr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Pr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Pr(0,0))}static max(){return new Ut(new Pr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class K_{constructor(t,e,r){void 0===e?e=0:e>t.length&&y(),void 0===r?r=t.length-e:r>t.length-e&&y(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===K_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof K_?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const d=t.get(s),g=e.get(s);if(d<g)return-1;if(d>g)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ei extends K_{construct(t,e,r){return new ei(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new V(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(s=>s.length>0))}return new ei(e)}static emptyPath(){return new ei([])}}const e$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wo extends K_{construct(t,e,r){return new wo(t,e,r)}static isValidIdentifier(t){return e$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wo.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wo(["__name__"])}static fromServerFormat(t){const e=[];let r="",s=0;const d=()=>{if(0===r.length)throw new V(T.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let g=!1;for(;s<t.length;){const w=t[s];if("\\"===w){if(s+1===t.length)throw new V(T.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[s+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new V(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=x,s+=2}else"`"===w?(g=!g,s++):"."!==w||g?(r+=w,s++):(d(),s++)}if(d(),g)throw new V(T.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wo(e)}static emptyPath(){return new wo([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(ei.fromString(t))}static fromName(t){return new bt(ei.fromString(t).popFirst(5))}static empty(){return new bt(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ei.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ei.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new ei(t.slice()))}}class $y{constructor(t,e,r,s){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=s}}function vk(n){return n.fields.find(t=>2===t.kind)}function H9(n){return n.fields.filter(t=>2!==t.kind)}$y.UNKNOWN_ID=-1;class Wy{constructor(t,e){this.fieldPath=t,this.kind=e}}class Q_{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Q_(0,Yc.min())}}function DE(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ut.fromTimestamp(1e9===r?new Pr(e+1,0):new Pr(e,r));return new Yc(s,bt.empty(),t)}function zE(n){return new Yc(n.readTime,n.key,-1)}class Yc{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Yc(Ut.min(),bt.empty(),-1)}static max(){return new Yc(Ut.max(),bt.empty(),-1)}}function _k(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=bt.comparator(n.documentKey,t.documentKey),0!==e?e:Kt(n.largestBatchId,t.largestBatchId))}const IE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Rh(n){return bk.apply(this,arguments)}function bk(){return bk=(0,De.Z)(function*(n){if(n.code!==T.FAILED_PRECONDITION||n.message!==IE)throw n;c("LocalStore","Unexpectedly lost primary lease")}),bk.apply(this,arguments)}class Ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ae((r,s)=>{this.nextCallback=d=>{this.wrapSuccess(t,d).next(r,s)},this.catchCallback=d=>{this.wrapFailure(e,d).next(r,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ae?e:Ae.resolve(e)}catch(e){return Ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.reject(e)}static resolve(t){return new Ae((e,r)=>{e(t)})}static reject(t){return new Ae((e,r)=>{r(t)})}static waitFor(t){return new Ae((e,r)=>{let s=0,d=0,g=!1;t.forEach(w=>{++s,w.next(()=>{++d,g&&d===s&&e()},x=>r(x))}),g=!0,d===s&&e()})}static or(t){let e=Ae.resolve(!1);for(const r of t)e=e.next(s=>s?Ae.resolve(s):r());return e}static forEach(t,e){const r=[];return t.forEach((s,d)=>{r.push(e.call(this,s,d))}),this.waitFor(r)}static mapArray(t,e){return new Ae((r,s)=>{const d=t.length,g=new Array(d);let w=0;for(let x=0;x<d;x++){const z=x;e(t[z]).next(N=>{g[z]=N,++w,w===d&&r(g)},N=>s(N))}})}static doWhile(t,e){return new Ae((r,s)=>{const d=()=>{!0===t()?e().next(()=>{d()},s):r()};d()})}}class Zy{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new B,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new J_(t,e.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=yk(r.target.error);this.v.reject(new J_(t,s))}}static open(t,e,r,s){try{return new Zy(e,t.transaction(s,r))}catch(d){throw new J_(e,d)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(c("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new r$(e)}}class $4{constructor(t,e,r){this.name=t,this.version=e,this.V=r,12.2===$4.S((0,Nt.z$)())&&u("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return c("SimpleDb","Removing database:",t),P9(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Nt.hl)())return!1;if($4.C())return!0;const t=(0,Nt.z$)(),e=$4.S(t),r=0<e&&e<10,s=$4.N(t),d=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||d)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(t){var e=this;return(0,De.Z)(function*(){return e.db||(c("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,s)=>{const d=indexedDB.open(e.name,e.version);d.onsuccess=g=>{r(g.target.result)},d.onblocked=()=>{s(new J_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const w=g.target.error;s("VersionError"===w.name?new V(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new V(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new J_(t,w))},d.onupgradeneeded=g=>{c("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',g.oldVersion),e.V.O(g.target.result,d.transaction,g.oldVersion,e.version).next(()=>{c("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=r=>e.F(r)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,s){var d=this;return(0,De.Z)(function*(){const g="readonly"===e;let w=0;for(;;){++w;try{d.db=yield d.$(t);const x=Zy.open(d.db,t,g?"readonly":"readwrite",r),z=s(x).next(N=>(x.P(),N)).catch(N=>(x.abort(N),Ae.reject(N))).toPromise();return z.catch(()=>{}),yield x.R,z}catch(x){const z=x,N="FirebaseError"!==z.name&&w<3;if(c("SimpleDb","Transaction failed with error:",z.message,"Retrying:",N),d.close(),!N)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class i${constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return P9(this.L.delete())}}class J_ extends V{constructor(t,e){super(T.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Oh(n){return"IndexedDbTransactionError"===n.name}class r${constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(c("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(c("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),P9(r)}add(t){return c("SimpleDb","ADD",this.store.name,t,t),P9(this.store.add(t))}get(t){return P9(this.store.get(t)).next(e=>(void 0===e&&(e=null),c("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return c("SimpleDb","DELETE",this.store.name,t),P9(this.store.delete(t))}count(){return c("SimpleDb","COUNT",this.store.name),P9(this.store.count())}j(t,e){const r=this.options(t,e);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),d=[];return this.W(s,(g,w)=>{d.push(w)}).next(()=>d)}{const s=this.store.getAll(r.range);return new Ae((d,g)=>{s.onerror=w=>{g(w.target.error)},s.onsuccess=w=>{d(w.target.result)}})}}H(t,e){const r=this.store.getAll(t,null===e?void 0:e);return new Ae((s,d)=>{r.onerror=g=>{d(g.target.error)},r.onsuccess=g=>{s(g.target.result)}})}J(t,e){c("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Y=!1;const s=this.cursor(r);return this.W(s,(d,g,w)=>w.delete())}X(t,e){let r;e?r=t:(r={},e=t);const s=this.cursor(r);return this.W(s,e)}Z(t){const e=this.cursor({});return new Ae((r,s)=>{e.onerror=d=>{const g=yk(d.target.error);s(g)},e.onsuccess=d=>{const g=d.target.result;g?t(g.primaryKey,g.value).next(w=>{w?g.continue():r()}):r()}})}W(t,e){const r=[];return new Ae((s,d)=>{t.onerror=g=>{d(g.target.error)},t.onsuccess=g=>{const w=g.target.result;if(!w)return void s();const x=new i$(w),z=e(w.primaryKey,w.value,x);if(z instanceof Ae){const N=z.catch(P=>(x.done(),Ae.reject(P)));r.push(N)}x.isDone?s():null===x.K?w.continue():w.continue(x.K)}}).next(()=>Ae.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function P9(n){return new Ae((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const s=yk(r.target.error);e(s)}})}let LE=!1;function yk(n){const t=$4.S((0,Nt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new V("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return LE||(LE=!0,setTimeout(()=>{throw r},0)),r}}return n}class o${constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;c("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{c("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(r){Oh(r)?c("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Rh(r)}yield e.et(6e4)}))}}class s${constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))})()}st(t,e){const r=new Set;let s=e,d=!0;return Ae.doWhile(()=>!0===d&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(g=>{if(null!==g&&!r.has(g))return c("IndexBackiller",`Processing collection: ${g}`),this.it(t,g,s).next(w=>{s-=w,r.add(g)});d=!1})).next(()=>e-s)}it(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(s=>this.localStore.localDocuments.getNextDocuments(t,e,s,r).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(t,g).next(()=>this.rt(s,d)).next(w=>(c("IndexBackiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(t,e,w))).next(()=>g.size)}))}rt(t,e){let r=t;return e.changes.forEach((s,d)=>{const g=zE(d);_k(g,r)>0&&(r=g)}),new Yc(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Kc=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function X_(n){return null==n}function eb(n){return 0===n&&1/n==-1/0}function NE(n){return"number"==typeof n&&Number.isInteger(n)&&!eb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function q1(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=VE(t)),t=a$(n.get(e),t);return VE(t)}function a$(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const d=n.charAt(s);switch(d){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=d}}return e}function VE(n){return n+"\x01\x01"}function cu(n){const t=n.length;if(A(t>=2),2===t)return A("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ei.emptyPath();const e=t-2,r=[];let s="";for(let d=0;d<t;){const g=n.indexOf("\x01",d);switch((g<0||g>e)&&y(),n.charAt(g+1)){case"\x01":const w=n.substring(d,g);let x;0===s.length?x=w:(s+=w,x=s,s=""),r.push(x);break;case"\x10":s+=n.substring(d,g),s+="\0";break;case"\x11":s+=n.substring(d,g+1);break;default:y()}d=g+2}return new ei(r)}const HE=["userId","batchId"];function Yy(n,t){return[n,q1(t)]}function PE(n,t,e){return[n,q1(t),e]}const c$={},l$=["prefixPath","collectionGroup","readTime","documentId"],u$=["prefixPath","collectionGroup","documentId"],d$=["collectionGroup","readTime","prefixPath","documentId"],h$=["canonicalId","targetId"],f$=["targetId","path"],m$=["path","targetId"],p$=["collectionId","parent"],g$=["indexId","uid"],v$=["uid","sequenceNumber"],_$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b$=["indexId","uid","orderedDocumentKey"],y$=["userId","collectionPath","documentId"],C$=["userId","collectionPath","largestBatchId"],w$=["userId","collectionGroup","largestBatchId"],RE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k$=[...RE,"documentOverlays"],OE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FE=OE,A$=[...FE,"indexConfiguration","indexState","indexEntries"];class Ck extends TE{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function js(n,t){const e=E(n);return $4.M(e.ht,t)}function BE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Fh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ar{constructor(t,e){this.comparator=t,this.root=e||b1.EMPTY}insert(t,e){return new ar(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,b1.BLACK,null,null))}remove(t){return new ar(this.comparator,this.root.remove(t,this.comparator).copy(null,null,b1.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ky(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ky(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ky(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ky(this.root,t,this.comparator,!0)}}class Ky{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let d=1;for(;!t.isEmpty();)if(d=e?r(t.key,e):1,e&&s&&(d*=-1),d<0)t=this.isReverse?t.left:t.right;else{if(0===d){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class b1{constructor(t,e,r,s,d){this.key=t,this.value=e,this.color=r??b1.RED,this.left=s??b1.EMPTY,this.right=d??b1.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,d){return new b1(t??this.key,e??this.value,r??this.color,s??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const d=r(t,s.key);return s=d<0?s.copy(null,null,null,s.left.insert(t,e,r),null):0===d?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return b1.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return b1.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,b1.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,b1.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const t=this.left.check();if(t!==this.right.check())throw y();return t+(this.isRed()?0:1)}}b1.EMPTY=null,b1.RED=!0,b1.BLACK=!1,b1.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(n,t,e,r,s){return this}insert(n,t,e){return new b1(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(t){this.comparator=t,this.data=new ar(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(t){return new UE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof _r)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,d=r.getNext().key;if(0!==this.comparator(s,d))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new _r(this.comparator);return e.data=t,e}}class UE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tg(n){return n.hasNext()?n.getNext():void 0}class Y2{constructor(t){this.fields=t,t.sort(wo.comparator)}static empty(){return new Y2([])}unionWith(t){let e=new _r(wo.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Y2(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return c5(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ms{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GE("Invalid base64 string: "+s):s}}(t);return new Ms(e)}static fromUint8Array(t){const e=function(r){let s="";for(let d=0;d<r.length;++d)s+=String.fromCharCode(r[d]);return s}(t);return new Ms(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ms.EMPTY_BYTE_STRING=new Ms("");const x$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bh(n){if(A(!!n),"string"==typeof n){let t=0;const e=x$.exec(n);if(A(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ko(n.seconds),nanos:ko(n.nanos)}}function ko(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function l5(n){return"string"==typeof n?Ms.fromBase64String(n):Ms.fromUint8Array(n)}function Qy(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Jy(n){const t=n.mapValue.fields.__previous_value__;return Qy(t)?Jy(t):t}function tb(n){const t=Bh(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(t.seconds,t.nanos)}class S${constructor(t,e,r,s,d,g,w,x,z){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.longPollingOptions=x,this.useFetchStreams=z}}class jh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new jh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof jh&&t.projectId===this.projectId&&t.database===this.database}}const Uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xy={nullValue:"NULL_VALUE"};function Gh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qy(n)?4:ZE(n)?9007199254740991:10:y()}function lu(n,t){if(n===t)return!0;const e=Gh(n);if(e!==Gh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return tb(n).isEqual(tb(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const d=Bh(r.timestampValue),g=Bh(s.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,l5(n.bytesValue).isEqual(l5(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return ko(r.geoPointValue.latitude)===ko(s.geoPointValue.latitude)&&ko(r.geoPointValue.longitude)===ko(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ko(r.integerValue)===ko(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const d=ko(r.doubleValue),g=ko(s.doubleValue);return d===g?eb(d)===eb(g):isNaN(d)&&isNaN(g)}return!1}(n,t);case 9:return c5(n.arrayValue.values||[],t.arrayValue.values||[],lu);case 10:return function(r,s){const d=r.mapValue.fields||{},g=s.mapValue.fields||{};if(BE(d)!==BE(g))return!1;for(const w in d)if(d.hasOwnProperty(w)&&(void 0===g[w]||!lu(d[w],g[w])))return!1;return!0}(n,t);default:return y()}var s}function nb(n,t){return void 0!==(n.values||[]).find(e=>lu(e,t))}function qh(n,t){if(n===t)return 0;const e=Gh(n),r=Gh(t);if(e!==r)return Kt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(s,d){const g=ko(s.integerValue||s.doubleValue),w=ko(d.integerValue||d.doubleValue);return g<w?-1:g>w?1:g===w?0:isNaN(g)?isNaN(w)?0:-1:1}(n,t);case 3:return qE(n.timestampValue,t.timestampValue);case 4:return qE(tb(n),tb(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(s,d){const g=l5(s),w=l5(d);return g.compareTo(w)}(n.bytesValue,t.bytesValue);case 7:return function(s,d){const g=s.split("/"),w=d.split("/");for(let x=0;x<g.length&&x<w.length;x++){const z=Kt(g[x],w[x]);if(0!==z)return z}return Kt(g.length,w.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,d){const g=Kt(ko(s.latitude),ko(d.latitude));return 0!==g?g:Kt(ko(s.longitude),ko(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(s,d){const g=s.values||[],w=d.values||[];for(let x=0;x<g.length&&x<w.length;++x){const z=qh(g[x],w[x]);if(z)return z}return Kt(g.length,w.length)}(n.arrayValue,t.arrayValue);case 10:return function(s,d){if(s===Uh.mapValue&&d===Uh.mapValue)return 0;if(s===Uh.mapValue)return 1;if(d===Uh.mapValue)return-1;const g=s.fields||{},w=Object.keys(g),x=d.fields||{},z=Object.keys(x);w.sort(),z.sort();for(let N=0;N<w.length&&N<z.length;++N){const P=Kt(w[N],z[N]);if(0!==P)return P;const W=qh(g[w[N]],x[z[N]]);if(0!==W)return W}return Kt(w.length,z.length)}(n.mapValue,t.mapValue);default:throw y()}}function qE(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=Bh(n),r=Bh(t),s=Kt(e.seconds,r.seconds);return 0!==s?s:Kt(e.nanos,r.nanos)}function Lg(n){return wk(n)}function wk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Bh(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?l5(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let s="[",d=!0;for(const g of r.values||[])d?d=!1:s+=",",s+=wk(g);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let d="{",g=!0;for(const w of s)g?g=!1:d+=",",d+=`${w}:${wk(r.fields[w])}`;return d+"}"}(n.mapValue):y();var t}function R9(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function kk(n){return!!n&&"integerValue"in n}function ib(n){return!!n&&"arrayValue"in n}function $E(n){return!!n&&"nullValue"in n}function WE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tC(n){return!!n&&"mapValue"in n}function rb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fh(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=rb(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=rb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function E$(n){return"nullValue"in n?Xy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?R9(jh.empty(),bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:y()}function D$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?R9(jh.empty(),bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Uh:y()}function YE(n,t){const e=qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function KE(n,t){const e=qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class y1{constructor(t){this.value=t}static empty(){return new y1({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!tC(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rb(e)}setAll(t){let e=wo.emptyPath(),r={},s=[];t.forEach((g,w)=>{if(!e.isImmediateParentOf(w)){const x=this.getFieldsMap(e);this.applyChanges(x,r,s),r={},s=[],e=w.popLast()}g?r[w.lastSegment()]=rb(g):s.push(w.lastSegment())});const d=this.getFieldsMap(e);this.applyChanges(d,r,s)}delete(t){const e=this.field(t.popLast());tC(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return lu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];tC(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){Fh(e,(s,d)=>t[s]=d);for(const s of r)delete t[s]}clone(){return new y1(rb(this.value))}}function QE(n){const t=[];return Fh(n.fields,(e,r)=>{const s=new wo([e]);if(tC(r)){const d=QE(r.mapValue).fields;if(0===d.length)t.push(s);else for(const g of d)t.push(s.child(g))}else t.push(s)}),new Y2(t)}class br{constructor(t,e,r,s,d,g,w){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=d,this.data=g,this.documentState=w}static newInvalidDocument(t){return new br(t,0,Ut.min(),Ut.min(),Ut.min(),y1.empty(),0)}static newFoundDocument(t,e,r,s){return new br(t,1,e,Ut.min(),r,s,0)}static newNoDocument(t,e){return new br(t,2,e,Ut.min(),Ut.min(),y1.empty(),0)}static newUnknownDocument(t,e){return new br(t,3,e,Ut.min(),Ut.min(),y1.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=y1.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=y1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof br&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $h{constructor(t,e){this.position=t,this.inclusive=e}}function JE(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const d=t[s],g=n.position[s];if(r=d.field.isKeyField()?bt.comparator(bt.fromName(g.referenceValue),e.key):qh(g,e.data.field(d.field)),"desc"===d.dir&&(r*=-1),0!==r)break}return r}function XE(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!lu(n.position[e],t.position[e]))return!1;return!0}class Ng{constructor(t,e="asc"){this.field=t,this.dir=e}}function z$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class eD{}class jn extends eD{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new I$(t,e,r):"array-contains"===e?new N$(t,r):"in"===e?new sD(t,r):"not-in"===e?new V$(t,r):"array-contains-any"===e?new H$(t,r):new jn(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new T$(t,r):new L$(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(qh(e,this.value)):null!==e&&Gh(this.value)===Gh(e)&&this.matchesComparison(qh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ti extends eD{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Ti(t,e)}matches(t){return Vg(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Vg(n){return"and"===n.op}function Ak(n){return"or"===n.op}function Mk(n){return tD(n)&&Vg(n)}function tD(n){for(const t of n.filters)if(t instanceof Ti)return!1;return!0}function xk(n){if(n instanceof jn)return n.field.canonicalString()+n.op.toString()+Lg(n.value);if(Mk(n))return n.filters.map(t=>xk(t)).join(",");{const t=n.filters.map(e=>xk(e)).join(",");return`${n.op}(${t})`}}function nD(n,t){return n instanceof jn?(e=n,(r=t)instanceof jn&&e.op===r.op&&e.field.isEqual(r.field)&&lu(e.value,r.value)):n instanceof Ti?function(e,r){return r instanceof Ti&&e.op===r.op&&e.filters.length===r.filters.length&&e.filters.reduce((s,d,g)=>s&&nD(d,r.filters[g]),!0)}(n,t):void y();var e,r}function iD(n,t){const e=n.filters.concat(t);return Ti.create(e,n.op)}function rD(n){return n instanceof jn?`${(t=n).field.canonicalString()} ${t.op} ${Lg(t.value)}`:n instanceof Ti?function(t){return t.op.toString()+" {"+t.getFilters().map(rD).join(" ,")+"}"}(n):"Filter";var t}class I$ extends jn{constructor(t,e,r){super(t,e,r),this.key=bt.fromName(r.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class T$ extends jn{constructor(t,e){super(t,"in",e),this.keys=oD(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class L$ extends jn{constructor(t,e){super(t,"not-in",e),this.keys=oD(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function oD(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>bt.fromName(r.referenceValue))}class N$ extends jn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ib(e)&&nb(e.arrayValue,this.value)}}class sD extends jn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&nb(this.value.arrayValue,e)}}class V$ extends jn{constructor(t,e){super(t,"not-in",e)}matches(t){if(nb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!nb(this.value.arrayValue,e)}}class H$ extends jn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ib(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>nb(this.value.arrayValue,r))}}class P${constructor(t,e=null,r=[],s=[],d=null,g=null,w=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=d,this.startAt=g,this.endAt=w,this.dt=null}}function Sk(n,t=null,e=[],r=[],s=null,d=null,g=null){return new P$(n,t,e,r,s,d,g)}function O9(n){const t=E(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>xk(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),X_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Lg(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Lg(r)).join(",")),t.dt=e}return t.dt}function ob(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!z$(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!nD(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!XE(n.startAt,t.startAt)&&XE(n.endAt,t.endAt)}function nC(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function iC(n,t){return n.filters.filter(e=>e instanceof jn&&e.field.isEqual(t))}function aD(n,t,e){let r=Xy,s=!0;for(const d of iC(n,t)){let g=Xy,w=!0;switch(d.op){case"<":case"<=":g=E$(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,w=!1;break;case"!=":case"not-in":g=Xy}YE({value:r,inclusive:s},{value:g,inclusive:w})<0&&(r=g,s=w)}if(null!==e)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(t)){const g=e.position[d];YE({value:r,inclusive:s},{value:g,inclusive:e.inclusive})<0&&(r=g,s=e.inclusive);break}return{value:r,inclusive:s}}function cD(n,t,e){let r=Uh,s=!0;for(const d of iC(n,t)){let g=Uh,w=!0;switch(d.op){case">=":case">":g=D$(d.value),w=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,w=!1;break;case"!=":case"not-in":g=Uh}KE({value:r,inclusive:s},{value:g,inclusive:w})>0&&(r=g,s=w)}if(null!==e)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(t)){const g=e.position[d];KE({value:r,inclusive:s},{value:g,inclusive:e.inclusive})>0&&(r=g,s=e.inclusive);break}return{value:r,inclusive:s}}class u5{constructor(t,e=null,r=[],s=[],d=null,g="F",w=null,x=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=d,this.limitType=g,this.startAt=w,this.endAt=x,this.wt=null,this._t=null}}function lD(n,t,e,r,s,d,g,w){return new u5(n,t,e,r,s,d,g,w)}function Hg(n){return new u5(n)}function uD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ek(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rC(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Dk(n){return null!==n.collectionGroup}function F9(n){const t=E(n);if(null===t.wt){t.wt=[];const e=rC(t),r=Ek(t);if(null!==e&&null===r)e.isKeyField()||t.wt.push(new Ng(e)),t.wt.push(new Ng(wo.keyField(),"asc"));else{let s=!1;for(const d of t.explicitOrderBy)t.wt.push(d),d.field.isKeyField()&&(s=!0);if(!s){const d=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ng(wo.keyField(),d))}}}return t.wt}function ja(n){const t=E(n);if(!t._t)if("F"===t.limitType)t._t=Sk(t.path,t.collectionGroup,F9(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const d of F9(t))e.push(new Ng(d.field,"desc"===d.dir?"asc":"desc"));const r=t.endAt?new $h(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $h(t.startAt.position,t.startAt.inclusive):null;t._t=Sk(t.path,t.collectionGroup,e,t.filters,t.limit,r,s)}return t._t}function zk(n,t){t.getFirstInequalityField(),rC(n);const e=n.filters.concat([t]);return new u5(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function oC(n,t,e){return new u5(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sb(n,t){return ob(ja(n),ja(t))&&n.limitType===t.limitType}function dD(n){return`${O9(ja(n))}|lt:${n.limitType}`}function Ik(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(r=>rD(r)).join(", ")}]`),X_(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Lg(r)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Lg(r)).join(",")),`Target(${e})`}(ja(n))}; limitType=${n.limitType})`}function ab(n,t){return t.isFoundDocument()&&function(e,r){const s=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):bt.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s)}(n,t)&&function(e,r){for(const s of F9(e))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(e,r){for(const s of e.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!function(s,d,g){const w=JE(s,d,g);return s.inclusive?w<=0:w<0}(e.startAt,F9(e),r)||e.endAt&&!function(s,d,g){const w=JE(s,d,g);return s.inclusive?w>=0:w>0}(e.endAt,F9(e),r)));var e,r}function hD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fD(n){return(t,e)=>{let r=!1;for(const s of F9(n)){const d=R$(s,t,e);if(0!==d)return d;r=r||s.field.isKeyField()}return 0}}function R$(n,t,e){const r=n.field.isKeyField()?bt.comparator(t.key,e.key):function(s,d,g){const w=d.data.field(s),x=g.data.field(s);return null!==w&&null!==x?qh(w,x):y()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}class d5{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[s,d]of r)if(this.equalsFn(s,t))return d}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0===s)return this.inner[r]=[[t,e]],void this.innerSize++;for(let d=0;d<s.length;d++)if(this.equalsFn(s[d][0],t))return void(s[d]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return 1===r.length?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Fh(this.inner,(e,r)=>{for(const[s,d]of r)t(s,d)})}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}const O$=new ar(bt.comparator);function K2(){return O$}const mD=new ar(bt.comparator);function cb(...n){let t=mD;for(const e of n)t=t.insert(e.key,e);return t}function pD(n){let t=mD;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function uu(){return lb()}function gD(){return lb()}function lb(){return new d5(n=>n.toString(),(n,t)=>n.isEqual(t))}const F$=new ar(bt.comparator),B$=new _r(bt.comparator);function kn(...n){let t=B$;for(const e of n)t=t.add(e);return t}const j$=new _r(Kt);function Tk(){return j$}function vD(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eb(t)?"-0":t}}function _D(n){return{integerValue:""+n}}function bD(n,t){return NE(t)?_D(t):vD(n,t)}class sC{constructor(){this._=void 0}}function U$(n,t,e){return n instanceof Pg?function(r,s){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Qy(s)&&(s=Jy(s)),s&&(d.fields.__previous_value__=s),{mapValue:d}}(e,t):n instanceof B9?CD(n,t):n instanceof j9?wD(n,t):function(r,s){const d=yD(r,s),g=kD(d)+kD(r.gt);return kk(d)&&kk(r.gt)?_D(g):vD(r.serializer,g)}(n,t)}function G$(n,t,e){return n instanceof B9?CD(n,t):n instanceof j9?wD(n,t):e}function yD(n,t){return n instanceof Rg?kk(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class Pg extends sC{}class B9 extends sC{constructor(t){super(),this.elements=t}}function CD(n,t){const e=AD(t);for(const r of n.elements)e.some(s=>lu(s,r))||e.push(r);return{arrayValue:{values:e}}}class j9 extends sC{constructor(t){super(),this.elements=t}}function wD(n,t){let e=AD(t);for(const r of n.elements)e=e.filter(s=>!lu(s,r));return{arrayValue:{values:e}}}class Rg extends sC{constructor(t,e){super(),this.serializer=t,this.gt=e}}function kD(n){return ko(n.integerValue||n.doubleValue)}function AD(n){return ib(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ub{constructor(t,e){this.field=t,this.transform=e}}class $${constructor(t,e){this.version=t,this.transformResults=e}}class Rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Rr}static exists(t){return new Rr(void 0,t)}static updateTime(t){return new Rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function aC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class cC{}function MD(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Fg(n.key,Rr.none()):new Og(n.key,n.data,Rr.none());{const e=n.data,r=y1.empty();let s=new _r(wo.comparator);for(let d of t.fields)if(!s.has(d)){let g=e.field(d);null===g&&d.length>1&&(d=d.popLast(),g=e.field(d)),null===g?r.delete(d):r.set(d,g),s=s.add(d)}return new h5(n.key,r,new Y2(s.toArray()),Rr.none())}}function W$(n,t,e){n instanceof Og?function(r,s,d){const g=r.value.clone(),w=ED(r.fieldTransforms,s,d.transformResults);g.setAll(w),s.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,t,e):n instanceof h5?function(r,s,d){if(!aC(r.precondition,s))return void s.convertToUnknownDocument(d.version);const g=ED(r.fieldTransforms,s,d.transformResults),w=s.data;w.setAll(SD(r)),w.setAll(g),s.convertToFoundDocument(d.version,w).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function db(n,t,e,r){return n instanceof Og?function(s,d,g,w){if(!aC(s.precondition,d))return g;const x=s.value.clone(),z=DD(s.fieldTransforms,w,d);return x.setAll(z),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),null}(n,t,e,r):n instanceof h5?function(s,d,g,w){if(!aC(s.precondition,d))return g;const x=DD(s.fieldTransforms,w,d),z=d.data;return z.setAll(SD(s)),z.setAll(x),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===g?null:g.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(N=>N.field))}(n,t,e,r):(g=e,aC(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function Z$(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),d=yD(r.transform,s||null);null!=d&&(null===e&&(e=y1.empty()),e.set(r.field,d))}return e||null}function xD(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&c5(e,r,(s,d)=>function q$(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof B9&&r instanceof B9||e instanceof j9&&r instanceof j9?c5(e.elements,r.elements,lu):e instanceof Rg&&r instanceof Rg?lu(e.gt,r.gt):e instanceof Pg&&r instanceof Pg);var e,r}(s,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}class Og extends cC{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class h5 extends cC{constructor(t,e,r,s,d=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function SD(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function ED(n,t,e){const r=new Map;A(n.length===e.length);for(let s=0;s<e.length;s++){const d=n[s],g=d.transform,w=t.data.field(d.field);r.set(d.field,G$(g,w,e[s]))}return r}function DD(n,t,e){const r=new Map;for(const s of n){const d=s.transform,g=e.data.field(s.field);r.set(s.field,U$(d,g,t))}return r}class Fg extends cC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lk extends cC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const d=this.mutations[s];d.key.isEqual(t.key)&&W$(d,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=db(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=db(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=gD();return this.mutations.forEach(s=>{const d=t.get(s.key),g=d.overlayedDocument;let w=this.applyToLocalView(g,d.mutatedFields);w=e.has(s.key)?null:w;const x=MD(g,w);null!==x&&r.set(s.key,x),g.isValidDocument()||g.convertToNoDocument(Ut.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),kn())}isEqual(t){return this.batchId===t.batchId&&c5(this.mutations,t.mutations,(e,r)=>xD(e,r))&&c5(this.baseMutations,t.baseMutations,(e,r)=>xD(e,r))}}class Vk{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){A(t.mutations.length===r.length);let s=F$;const d=t.mutations;for(let g=0;g<d.length;g++)s=s.insert(d[g].key,r[g].version);return new Vk(t,e,r,s)}}class Hk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class K${constructor(t,e){this.count=t,this.unchangedNames=e}}var rs,ti;function zD(n){switch(n){default:return y();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function ID(n){if(void 0===n)return u("GRPC error has no .code"),T.UNKNOWN;switch(n){case rs.OK:return T.OK;case rs.CANCELLED:return T.CANCELLED;case rs.UNKNOWN:return T.UNKNOWN;case rs.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case rs.INTERNAL:return T.INTERNAL;case rs.UNAVAILABLE:return T.UNAVAILABLE;case rs.UNAUTHENTICATED:return T.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case rs.NOT_FOUND:return T.NOT_FOUND;case rs.ALREADY_EXISTS:return T.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return T.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case rs.ABORTED:return T.ABORTED;case rs.OUT_OF_RANGE:return T.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return T.UNIMPLEMENTED;case rs.DATA_LOSS:return T.DATA_LOSS;default:return y()}}(ti=rs||(rs={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class Pk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return lC}static getOrCreateInstance(){return null===lC&&(lC=new Pk),lC}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let lC=null;function TD(){return new TextEncoder}const Q$=new o([4294967295,4294967295],0);function LD(n){const t=TD().encode(n),e=new i;return e.update(t),new Uint8Array(e.digest())}function ND(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),d=t.getUint32(12,!0);return[new o([e,r],0),new o([s,d],0)]}class Rk{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new hb(`Invalid padding: ${e}`);if(r<0)throw new hb(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new hb(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new hb(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=o.fromNumber(this.It)}Et(t,e,r){let s=t.add(e.multiply(o.fromNumber(r)));return 1===s.compare(Q$)&&(s=new o([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=LD(t),[r,s]=ND(e);for(let d=0;d<this.hashCount;d++){const g=this.Et(r,s,d);if(!this.At(g))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,d=new Uint8Array(Math.ceil(t/8)),g=new Rk(d,s,e);return r.forEach(w=>g.insert(w)),g}insert(t){if(0===this.It)return;const e=LD(t),[r,s]=ND(e);for(let d=0;d<this.hashCount;d++){const g=this.Et(r,s,d);this.Rt(g)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class hb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fb{constructor(t,e,r,s,d){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,mb.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new fb(Ut.min(),s,new ar(Kt),K2(),kn())}}class mb{constructor(t,e,r,s,d){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new mb(r,e,kn(),kn(),kn())}}class uC{constructor(t,e,r,s){this.Pt=t,this.removedTargetIds=e,this.key=r,this.bt=s}}class VD{constructor(t,e){this.targetId=t,this.Vt=e}}class HD{constructor(t,e,r=Ms.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class PD{constructor(){this.St=0,this.Dt=OD(),this.Ct=Ms.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=kn(),e=kn(),r=kn();return this.Dt.forEach((s,d)=>{switch(d){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:y()}}),new mb(this.Ct,this.xt,t,e,r)}Ft(){this.Nt=!1,this.Dt=OD()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class J${constructor(t){this.Gt=t,this.Qt=new Map,this.jt=K2(),this.zt=RD(),this.Wt=new ar(Kt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const r=this.Zt(e);switch(t.state){case 0:this.te(e)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(e);break;case 3:this.te(e)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),r.$t(t.resumeToken));break;default:y()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((r,s)=>{this.te(s)&&e(s)})}ne(t){var e;const r=t.targetId,s=t.Vt.count,d=this.se(r);if(d){const g=d.target;if(nC(g))if(0===s){const w=new bt(g.path);this.Yt(r,w,br.newNoDocument(w,Ut.min()))}else A(1===s);else{const w=this.ie(r);if(w!==s){const x=this.re(t,w);0!==x&&(this.ee(r),this.Wt=this.Wt.insert(r,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=Pk.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(z,N,P){var W,K,ie,de,ve,Ve;const tt={localCacheCount:N,existenceFilterCount:P.count},st=P.unchangedNames;return st&&(tt.bloomFilter={applied:0===z,hashCount:null!==(W=st?.hashCount)&&void 0!==W?W:0,bitmapLength:null!==(de=null===(ie=null===(K=st?.bits)||void 0===K?void 0:K.bitmap)||void 0===ie?void 0:ie.length)&&void 0!==de?de:0,padding:null!==(Ve=null===(ve=st?.bits)||void 0===ve?void 0:ve.padding)&&void 0!==Ve?Ve:0}),tt}(x,w,t.Vt))}}}}re(t,e){const{unchangedNames:r,count:s}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:d="",padding:g=0},hashCount:w=0}=r;let x,z;try{x=l5(d).toUint8Array()}catch(N){if(N instanceof GE)return p("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw N}try{z=new Rk(x,g,w)}catch(N){return p(N instanceof hb?"BloomFilter error: ":"Applying bloom filter failed: ",N),1}return 0===z.It?1:s!==e-this.oe(t.targetId,z)?2:0}oe(t,e){const r=this.Gt.getRemoteKeysForTarget(t);let s=0;return r.forEach(d=>{const g=this.Gt.ue(),w=`projects/${g.projectId}/databases/${g.database}/documents/${d.path.canonicalString()}`;e.vt(w)||(this.Yt(t,d,null),s++)}),s}ce(t){const e=new Map;this.Qt.forEach((d,g)=>{const w=this.se(g);if(w){if(d.current&&nC(w.target)){const x=new bt(w.target.path);null!==this.jt.get(x)||this.ae(g,x)||this.Yt(g,x,br.newNoDocument(x,t))}d.Mt&&(e.set(g,d.Ot()),d.Ft())}});let r=kn();this.zt.forEach((d,g)=>{let w=!0;g.forEachWhile(x=>{const z=this.se(x);return!z||"TargetPurposeLimboResolution"===z.purpose||(w=!1,!1)}),w&&(r=r.add(d))}),this.jt.forEach((d,g)=>g.setReadTime(t));const s=new fb(t,e,this.Wt,this.jt,r);return this.jt=K2(),this.zt=RD(),this.Wt=new ar(Kt),s}Jt(t,e){if(!this.te(t))return;const r=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,r),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,r){if(!this.te(t))return;const s=this.Zt(t);this.ae(t,e)?s.Bt(e,1):s.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),r&&(this.jt=this.jt.insert(e,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new PD,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new _r(Kt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||c("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new PD),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function RD(){return new ar(bt.comparator)}function OD(){return new ar(bt.comparator)}const X$={asc:"ASCENDING",desc:"DESCENDING"},eW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tW={and:"AND",or:"OR"};class nW{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ok(n,t){return n.useProto3Json||X_(t)?t:{value:t}}function Bg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FD(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function iW(n,t){return Bg(n,t.toTimestamp())}function qo(n){return A(!!n),Ut.fromTimestamp(function(t){const e=Bh(t);return new Pr(e.seconds,e.nanos)}(n))}function Fk(n,t){return(e=n,new ei(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function BD(n){const t=ei.fromString(n);return A(KD(t)),t}function pb(n,t){return Fk(n.databaseId,t.path)}function du(n,t){const e=BD(t);if(e.get(1)!==n.databaseId.projectId)throw new V(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new V(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(UD(e))}function Bk(n,t){return Fk(n.databaseId,t)}function jD(n){const t=BD(n);return 4===t.length?ei.emptyPath():UD(t)}function gb(n){return new ei(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UD(n){return A(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GD(n,t,e){return{name:pb(n,t),fields:e.value.mapValue.fields}}function qD(n,t,e){const r=du(n,t.name),s=qo(t.updateTime),d=t.createTime?qo(t.createTime):Ut.min(),g=new y1({mapValue:{fields:t.fields}}),w=br.newFoundDocument(r,s,d,g);return e&&w.setHasCommittedMutations(),e?w.setHasCommittedMutations():w}function vb(n,t){let e;if(t instanceof Og)e={update:GD(n,t.key,t.value)};else if(t instanceof Fg)e={delete:pb(n,t.key)};else if(t instanceof h5)e={update:GD(n,t.key,t.data),updateMask:dW(t.fieldMask)};else{if(!(t instanceof Lk))return y();e={verify:pb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(s,d){const g=d.transform;if(g instanceof Pg)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof B9)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof j9)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rg)return{fieldPath:d.field.canonicalString(),increment:g.gt};throw y()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:iW(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:y()),e;var s}function jk(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?Rr.updateTime(qo(s.updateTime)):void 0!==s.exists?Rr.exists(s.exists):Rr.none():Rr.none(),r=t.updateTransforms?t.updateTransforms.map(s=>function(d,g){let w=null;"setToServerValue"in g?(A("REQUEST_TIME"===g.setToServerValue),w=new Pg):"appendMissingElements"in g?w=new B9(g.appendMissingElements.values||[]):"removeAllFromArray"in g?w=new j9(g.removeAllFromArray.values||[]):"increment"in g?w=new Rg(d,g.increment):y();const x=wo.fromServerFormat(g.fieldPath);return new ub(x,w)}(n,s)):[];var s;if(t.update){const s=du(n,t.update.name),d=new y1({mapValue:{fields:t.update.fields}});if(t.updateMask){const g=new Y2((t.updateMask.fieldPaths||[]).map(z=>wo.fromServerFormat(z)));return new h5(s,d,g,e,r)}return new Og(s,d,e,r)}if(t.delete){const s=du(n,t.delete);return new Fg(s,e)}if(t.verify){const s=du(n,t.verify);return new Lk(s,e)}return y()}function $D(n,t){return{documents:[Bk(n,t.path)]}}function Uk(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=Bk(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Bk(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(x){if(0!==x.length)return YD(Ti.create(x,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const d=function(x){if(0!==x.length)return x.map(z=>{return{field:Wh((N=z).field),direction:cW(N.dir)};var N})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const g=Ok(n,t.limit);var w,x;return null!==g&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt={before:!(x=t.endAt).inclusive,values:x.position}),e}function WD(n){let t=jD(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){A(1===r);const N=e.from[0];N.allDescendants?s=N.collectionId:t=t.child(N.collectionId)}let d=[];e.where&&(d=function(N){const P=ZD(N);return P instanceof Ti&&Mk(P)?P.getFilters():[P]}(e.where));let g=[];e.orderBy&&(g=e.orderBy.map(N=>{return new Ng(jg((P=N).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let w=null;e.limit&&(w=function(N){let P;return P="object"==typeof N?N.value:N,X_(P)?null:P}(e.limit));let x=null;var N;e.startAt&&(x=new $h((N=e.startAt).values||[],!!N.before));let z=null;return e.endAt&&(z=function(N){return new $h(N.values||[],!N.before)}(e.endAt)),lD(t,s,g,d,w,"F",x,z)}function ZD(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=jg(t.unaryFilter.field);return jn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=jg(t.unaryFilter.field);return jn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jg(t.unaryFilter.field);return jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=jg(t.unaryFilter.field);return jn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(n):void 0!==n.fieldFilter?jn.create(jg((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ti.create(t.compositeFilter.filters.map(e=>ZD(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return y()}}(t.compositeFilter.op))}(n):y();var t}function cW(n){return X$[n]}function lW(n){return eW[n]}function uW(n){return tW[n]}function Wh(n){return{fieldPath:n.canonicalString()}}function jg(n){return wo.fromServerFormat(n.fieldPath)}function YD(n){return n instanceof jn?function(t){if("=="===t.op){if(WE(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NAN"}};if($E(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(WE(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NAN"}};if($E(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(t.field),op:lW(t.op),value:t.value}}}(n):n instanceof Ti?function(t){const e=t.getFilters().map(r=>YD(r));return 1===e.length?e[0]:{compositeFilter:{op:uW(t.op),filters:e}}}(n):y()}function dW(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function KD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class f5{constructor(t,e,r,s,d=Ut.min(),g=Ut.min(),w=Ms.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w,this.expectedCount=x}withSequenceNumber(t){return new f5(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new f5(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new f5(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new f5(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QD{constructor(t){this.fe=t}}function JD(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:dC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:pb(s=n.fe,(d=t).key),fields:d.data.value.mapValue.fields,updateTime:Bg(s,d.version.toTimestamp()),createTime:Bg(s,d.createTime.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:U9(t.version)};else{if(!t.isUnknownDocument())return y();r.unknownDocument={path:e.path.toArray(),version:U9(t.version)}}var s,d;return r}function dC(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function U9(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function G9(n){const t=new Pr(n.seconds,n.nanoseconds);return Ut.fromTimestamp(t)}function q9(n,t){const e=(t.baseMutations||[]).map(d=>jk(n.fe,d));for(let d=0;d<t.mutations.length-1;++d)d+1<t.mutations.length&&void 0!==t.mutations[d+1].transform&&(t.mutations[d].updateTransforms=t.mutations[d+1].transform.fieldTransforms,t.mutations.splice(d+1,1),++d);const r=t.mutations.map(d=>jk(n.fe,d)),s=Pr.fromMillis(t.localWriteTimeMs);return new Nk(t.batchId,s,e,r)}function _b(n){const t=G9(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?G9(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var s;return void 0!==n.query.documents?(A(1===(s=n.query).documents.length),r=ja(Hg(jD(s.documents[0])))):r=ja(WD(n.query)),new f5(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ms.fromBase64String(n.resumeToken))}function XD(n,t){const e=U9(t.snapshotVersion),r=U9(t.lastLimboFreeSnapshotVersion);let s;s=nC(t.target)?$D(n.fe,t.target):Uk(n.fe,t.target);const d=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:O9(t.target),readTime:e,resumeToken:d,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Gk(n){const t=WD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?oC(t,t.limit,"L"):t}function qk(n,t){return new Hk(t.largestBatchId,jk(n.fe,t.overlayMutation))}function ez(n,t){const e=t.path.lastSegment();return[n,q1(t.path.popLast()),e]}function tz(n,t,e,r){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:U9(r.readTime),documentKey:q1(r.documentKey.path),largestBatchId:r.largestBatchId}}class fW{getBundleMetadata(t,e){return nz(t).get(e).next(r=>{if(r)return{id:(s=r).bundleId,createTime:G9(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return nz(t).put({bundleId:(r=e).id,createTime:U9(qo(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return iz(t).get(e).next(r=>{if(r)return{name:(s=r).name,query:Gk(s.bundledQuery),readTime:G9(s.readTime)};var s})}saveNamedQuery(t,e){return iz(t).put({name:(r=e).name,readTime:U9(qo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nz(n){return js(n,"bundles")}function iz(n){return js(n,"namedQueries")}class hC{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new hC(t,e.uid||"")}getOverlay(t,e){return bb(t).get(ez(this.userId,e)).next(r=>r?qk(this.serializer,r):null)}getOverlays(t,e){const r=uu();return Ae.forEach(e,s=>this.getOverlay(t,s).next(d=>{null!==d&&r.set(s,d)})).next(()=>r)}saveOverlays(t,e,r){const s=[];return r.forEach((d,g)=>{const w=new Hk(e,g);s.push(this.we(t,w))}),Ae.waitFor(s)}removeOverlaysForBatchId(t,e,r){const s=new Set;e.forEach(g=>s.add(q1(g.getCollectionPath())));const d=[];return s.forEach(g=>{const w=IDBKeyRange.bound([this.userId,g,r],[this.userId,g,r+1],!1,!0);d.push(bb(t).J("collectionPathOverlayIndex",w))}),Ae.waitFor(d)}getOverlaysForCollection(t,e,r){const s=uu(),d=q1(e),g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,Number.POSITIVE_INFINITY],!0);return bb(t).j("collectionPathOverlayIndex",g).next(w=>{for(const x of w){const z=qk(this.serializer,x);s.set(z.getKey(),z)}return s})}getOverlaysForCollectionGroup(t,e,r,s){const d=uu();let g;const w=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return bb(t).X({index:"collectionGroupOverlayIndex",range:w},(x,z,N)=>{const P=qk(this.serializer,z);d.size()<s||P.largestBatchId===g?(d.set(P.getKey(),P),g=P.largestBatchId):N.done()}).next(()=>d)}we(t,e){return bb(t).put(function(r,s,d){const[g,w,x]=ez(s,d.mutation.key);return{userId:s,collectionPath:w,documentId:x,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:vb(r.fe,d.mutation)}}(this.serializer,this.userId,e))}}function bb(n){return js(n,"documentOverlays")}class $9{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(ko(t.integerValue));else if("doubleValue"in t){const r=ko(t.doubleValue);isNaN(r)?this.ye(e,13):(this.ye(e,15),eb(r)?e.pe(0):e.pe(r))}else if("timestampValue"in t){const r=t.timestampValue;this.ye(e,20),"string"==typeof r?e.Ie(r):(e.Ie(`${r.seconds||""}`),e.pe(r.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(l5(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ye(e,45),e.pe(r.latitude||0),e.pe(r.longitude||0)}else"mapValue"in t?ZE(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):y()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const r=t.fields||{};this.ye(e,55);for(const s of Object.keys(r))this.Te(s,e),this.me(r[s],e)}Pe(t,e){const r=t.values||[];this.ye(e,50);for(const s of r)this.me(s,e)}ve(t,e){this.ye(e,37),bt.fromName(t).path.forEach(r=>{this.ye(e,60),this.be(r,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function mW(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function rz(n){const t=64-function(e){let r=0;for(let s=0;s<8;++s){const d=mW(255&e[s]);if(r+=d,8!==d)break}return r}(n);return Math.ceil(t/8)}$9.Ve=new $9;class pW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.De(r.value),r=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Ne(r.value),r=e.next();this.ke()}Me(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=e.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=e.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(t){const e=this.Fe(t),r=rz(e);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=e.length-r;s<e.length;++s)this.buffer[this.position++]=255&e[s]}Le(t){const e=this.Fe(t),r=rz(e);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=e.length-r;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(s){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,s,!1),new Uint8Array(d.buffer)}(t),r=0!=(128&e[0]);e[0]^=r?255:128;for(let s=1;s<e.length;++s)e[s]^=r?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class gW{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class vW{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class yb{constructor(){this.je=new pW,this.ze=new gW(this.je),this.We=new vW(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class W9{constructor(t,e,r,s){this.indexId=t,this.documentKey=e,this.arrayValue=r,this.directionalValue=s}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(e);return r.set(this.directionalValue,0),e!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new W9(this.indexId,this.documentKey,this.arrayValue,r)}}function Zh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=oz(n.arrayValue,t.arrayValue),0!==e?e:(e=oz(n.directionalValue,t.directionalValue),0!==e?e:bt.comparator(n.documentKey,t.documentKey)))}function oz(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(0!==r)return r}return n.length-t.length}class _W{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const r=e;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(t){A(t.collectionGroup===this.collectionId);const e=vk(t);if(void 0!==e&&!this.en(e))return!1;const r=H9(t);let s=new Set,d=0,g=0;for(;d<r.length&&this.en(r[d]);++d)s=s.add(r[d].fieldPath.canonicalString());if(d===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const w=r[d];if(!this.nn(this.Ze,w)||!this.sn(this.Ye[g++],w))return!1}++d}for(;d<r.length;++d)if(g>=this.Ye.length||!this.sn(this.Ye[g++],r[d]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function sz(n){var t,e;if(A(n instanceof jn||n instanceof Ti),n instanceof jn){if(n instanceof sD){const s=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(d=>jn.create(n.field,"==",d)))||[];return Ti.create(s,"or")}return n}const r=n.filters.map(s=>sz(s));return Ti.create(r,n.op)}function bW(n){if(0===n.getFilters().length)return[];const t=Zk(sz(n));return A(az(t)),$k(t)||Wk(t)?[t]:t.getFilters()}function $k(n){return n instanceof jn}function Wk(n){return n instanceof Ti&&Mk(n)}function az(n){return $k(n)||Wk(n)||function(t){if(t instanceof Ti&&Ak(t)){for(const e of t.getFilters())if(!$k(e)&&!Wk(e))return!1;return!0}return!1}(n)}function Zk(n){if(A(n instanceof jn||n instanceof Ti),n instanceof jn)return n;if(1===n.filters.length)return Zk(n.filters[0]);const t=n.filters.map(r=>Zk(r));let e=Ti.create(t,n.op);return e=fC(e),az(e)?e:(A(e instanceof Ti),A(Vg(e)),A(e.filters.length>1),e.filters.reduce((r,s)=>Yk(r,s)))}function Yk(n,t){let e;return A(n instanceof jn||n instanceof Ti),A(t instanceof jn||t instanceof Ti),e=n instanceof jn?t instanceof jn?Ti.create([n,t],"and"):cz(n,t):t instanceof jn?cz(t,n):function(r,s){if(A(r.filters.length>0&&s.filters.length>0),Vg(r)&&Vg(s))return iD(r,s.getFilters());const d=Ak(r)?r:s,g=Ak(r)?s:r,w=d.filters.map(x=>Yk(x,g));return Ti.create(w,"or")}(n,t),fC(e)}function cz(n,t){if(Vg(t))return iD(t,n.getFilters());{const e=t.filters.map(r=>Yk(n,r));return Ti.create(e,"or")}}function fC(n){if(A(n instanceof jn||n instanceof Ti),n instanceof jn)return n;const t=n.getFilters();if(1===t.length)return fC(t[0]);if(tD(n))return n;const e=t.map(s=>fC(s)),r=[];return e.forEach(s=>{s instanceof jn?r.push(s):s instanceof Ti&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:Ti.create(r,n.op)}class yW{constructor(){this.rn=new Kk}addToCollectionParentIndex(t,e){return this.rn.add(e),Ae.resolve()}getCollectionParents(t,e){return Ae.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ae.resolve()}deleteFieldIndex(t,e){return Ae.resolve()}getDocumentsMatchingTarget(t,e){return Ae.resolve(null)}getIndexType(t,e){return Ae.resolve(0)}getFieldIndexes(t,e){return Ae.resolve([])}getNextCollectionGroupToUpdate(t){return Ae.resolve(null)}getMinOffset(t,e){return Ae.resolve(Yc.min())}getMinOffsetFromCollectionGroup(t,e){return Ae.resolve(Yc.min())}updateCollectionGroup(t,e,r){return Ae.resolve()}updateIndexEntries(t,e){return Ae.resolve()}}class Kk{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new _r(ei.comparator),d=!s.has(r);return this.index[e]=s.add(r),d}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new _r(ei.comparator)).toArray()}}const mC=new Uint8Array(0);class CW{constructor(t,e){this.user=t,this.databaseId=e,this.on=new Kk,this.un=new d5(r=>O9(r),(r,s)=>ob(r,s)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const r=e.lastSegment(),s=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const d={collectionId:r,parent:q1(s)};return lz(t).put(d)}return Ae.resolve()}getCollectionParents(t,e){const r=[],s=IDBKeyRange.bound([e,""],[Y_(e),""],!1,!0);return lz(t).j(s).next(d=>{for(const g of d){if(g.collectionId!==e)break;r.push(cu(g.parent))}return r})}addFieldIndex(t,e){const r=pC(t),s={indexId:(g=e).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(w=>[w.fieldPath.canonicalString(),w.kind])};var g;delete s.indexId;const d=r.add(s);if(e.indexState){const g=wb(t);return d.next(w=>{g.put(tz(w,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return d.next()}deleteFieldIndex(t,e){const r=pC(t),s=wb(t),d=Cb(t);return r.delete(e.indexId).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const r=Cb(t);let s=!0;const d=new Map;return Ae.forEach(this.cn(e),g=>this.an(t,g).next(w=>{s&&(s=!!w),d.set(g,w)})).next(()=>{if(s){let g=kn();const w=[];return Ae.forEach(d,(x,z)=>{var N;c("IndexedDbIndexManager",`Using index ${N=x,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(st=>`${st.fieldPath}:${st.kind}`).join(",")}`} to execute ${O9(e)}`);const P=function(st,ft){const Dt=vk(ft);if(void 0===Dt)return null;for(const Ct of iC(st,Dt.fieldPath))switch(Ct.op){case"array-contains-any":return Ct.value.arrayValue.values||[];case"array-contains":return[Ct.value]}return null}(z,x),W=function(st,ft){const Dt=new Map;for(const Ct of H9(ft))for(const sn of iC(st,Ct.fieldPath))switch(sn.op){case"==":case"in":Dt.set(Ct.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return Dt.set(Ct.fieldPath.canonicalString(),sn.value),Array.from(Dt.values())}return null}(z,x),K=function(st,ft){const Dt=[];let Ct=!0;for(const sn of H9(ft)){const Ki=0===sn.kind?aD(st,sn.fieldPath,st.startAt):cD(st,sn.fieldPath,st.startAt);Dt.push(Ki.value),Ct&&(Ct=Ki.inclusive)}return new $h(Dt,Ct)}(z,x),ie=function(st,ft){const Dt=[];let Ct=!0;for(const sn of H9(ft)){const Ki=0===sn.kind?cD(st,sn.fieldPath,st.endAt):aD(st,sn.fieldPath,st.endAt);Dt.push(Ki.value),Ct&&(Ct=Ki.inclusive)}return new $h(Dt,Ct)}(z,x),de=this.hn(x,z,K),ve=this.hn(x,z,ie),Ve=this.ln(x,z,W),tt=this.fn(x.indexId,P,de,K.inclusive,ve,ie.inclusive,Ve);return Ae.forEach(tt,st=>r.H(st,e.limit).next(ft=>{ft.forEach(Dt=>{const Ct=bt.fromSegments(Dt.documentKey);g.has(Ct)||(g=g.add(Ct),w.push(Ct))})}))}).next(()=>w)}return Ae.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:bW(Ti.create(t.filters,"and")).map(r=>Sk(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,r,s,d,g,w){const x=(null!=e?e.length:1)*Math.max(r.length,d.length),z=x/(null!=e?e.length:1),N=[];for(let P=0;P<x;++P){const W=e?this.dn(e[P/z]):mC,K=this.wn(t,W,r[P%z],s),ie=this._n(t,W,d[P%z],g),de=w.map(ve=>this.wn(t,W,ve,!0));N.push(...this.createRange(K,ie,de))}return N}wn(t,e,r,s){const d=new W9(t,bt.empty(),e,r);return s?d:d.Je()}_n(t,e,r,s){const d=new W9(t,bt.empty(),e,r);return s?d.Je():d}an(t,e){const r=new _W(e),s=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next(d=>{let g=null;for(const w of d)r.tn(w)&&(!g||w.fields.length>g.fields.length)&&(g=w);return g})}getIndexType(t,e){let r=2;const s=this.cn(e);return Ae.forEach(s,d=>this.an(t,d).next(g=>{g?0!==r&&g.fields.length<function(w){let x=new _r(wo.comparator),z=!1;for(const N of w.filters)for(const P of N.getFlattenedFilters())P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?z=!0:x=x.add(P.field));for(const N of w.orderBy)N.field.isKeyField()||(x=x.add(N.field));return x.size+(z?1:0)}(d)&&(r=1):r=0})).next(()=>null!==e.limit&&s.length>1&&2===r?1:r)}mn(t,e){const r=new yb;for(const s of H9(t)){const d=e.data.field(s.fieldPath);if(null==d)return null;const g=r.He(s.kind);$9.Ve._e(d,g)}return r.Qe()}dn(t){const e=new yb;return $9.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const r=new yb;return $9.Ve._e(R9(this.databaseId,e),r.He(function(s){const d=H9(s);return 0===d.length?0:d[d.length-1].kind}(t))),r.Qe()}ln(t,e,r){if(null===r)return[];let s=[];s.push(new yb);let d=0;for(const g of H9(t)){const w=r[d++];for(const x of s)if(this.yn(e,g.fieldPath)&&ib(w))s=this.pn(s,g,w);else{const z=x.He(g.kind);$9.Ve._e(w,z)}}return this.In(s)}hn(t,e,r){return this.ln(t,e,r.position)}In(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].Qe();return e}pn(t,e,r){const s=[...t],d=[];for(const g of r.arrayValue.values||[])for(const w of s){const x=new yb;x.seed(w.Qe()),$9.Ve._e(g,x.He(e.kind)),d.push(x)}return d}yn(t,e){return!!t.filters.find(r=>r instanceof jn&&r.field.isEqual(e)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(t,e){const r=pC(t),s=wb(t);return(e?r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):r.j()).next(d=>{const g=[];return Ae.forEach(d,w=>s.get([w.indexId,this.uid]).next(x=>{g.push(function(z,N){const P=N?new Q_(N.sequenceNumber,new Yc(G9(N.readTime),new bt(cu(N.documentKey)),N.largestBatchId)):Q_.empty(),W=z.fields.map(([K,ie])=>new Wy(wo.fromServerFormat(K),ie));return new $y(z.indexId,z.collectionGroup,W,P)}(w,x))})).next(()=>g)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((r,s)=>{const d=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==d?d:Kt(r.collectionGroup,s.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,r){const s=pC(t),d=wb(t);return this.Tn(t).next(g=>s.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(w=>Ae.forEach(w,x=>d.put(tz(x.indexId,this.user,g,r)))))}updateIndexEntries(t,e){const r=new Map;return Ae.forEach(e,(s,d)=>{const g=r.get(s.collectionGroup);return(g?Ae.resolve(g):this.getFieldIndexes(t,s.collectionGroup)).next(w=>(r.set(s.collectionGroup,w),Ae.forEach(w,x=>this.En(t,s,x).next(z=>{const N=this.An(d,x);return z.isEqual(N)?Ae.resolve():this.vn(t,d,x,z,N)}))))})}Rn(t,e,r,s){return Cb(t).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,r,s){return Cb(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,e.key),e.key.path.toArray()])}En(t,e,r){const s=Cb(t);let d=new _r(Zh);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,e)])},(g,w)=>{d=d.add(new W9(r.indexId,e,w.arrayValue,w.directionalValue))}).next(()=>d)}An(t,e){let r=new _r(Zh);const s=this.mn(e,t);if(null==s)return r;const d=vk(e);if(null!=d){const g=t.data.field(d.fieldPath);if(ib(g))for(const w of g.arrayValue.values||[])r=r.add(new W9(e.indexId,t.key,this.dn(w),s))}else r=r.add(new W9(e.indexId,t.key,mC,s));return r}vn(t,e,r,s,d){c("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const g=[];return function(w,x,z,N,P){const W=w.getIterator(),K=x.getIterator();let ie=Tg(W),de=Tg(K);for(;ie||de;){let ve=!1,Ve=!1;if(ie&&de){const tt=z(ie,de);tt<0?Ve=!0:tt>0&&(ve=!0)}else null!=ie?Ve=!0:ve=!0;ve?(N(de),de=Tg(K)):Ve?(P(ie),ie=Tg(W)):(ie=Tg(W),de=Tg(K))}}(s,d,Zh,w=>{g.push(this.Rn(t,e,r,w))},w=>{g.push(this.Pn(t,e,r,w))}),Ae.waitFor(g)}Tn(t){let e=1;return wb(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,d)=>{d.done(),e=s.sequenceNumber+1}).next(()=>e)}createRange(t,e,r){r=r.sort((g,w)=>Zh(g,w)).filter((g,w,x)=>!w||0!==Zh(g,x[w-1]));const s=[];s.push(t);for(const g of r){const w=Zh(g,t),x=Zh(g,e);if(0===w)s[0]=t.Je();else if(w>0&&x<0)s.push(g),s.push(g.Je());else if(x>0)break}s.push(e);const d=[];for(let g=0;g<s.length;g+=2){if(this.bn(s[g],s[g+1]))return[];d.push(IDBKeyRange.bound([s[g].indexId,this.uid,s[g].arrayValue,s[g].directionalValue,mC,[]],[s[g+1].indexId,this.uid,s[g+1].arrayValue,s[g+1].directionalValue,mC,[]]))}return d}bn(t,e){return Zh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(uz)}getMinOffset(t,e){return Ae.mapArray(this.cn(e),r=>this.an(t,r).next(s=>s||y())).next(uz)}}function lz(n){return js(n,"collectionParents")}function Cb(n){return js(n,"indexEntries")}function pC(n){return js(n,"indexConfiguration")}function wb(n){return js(n,"indexState")}function uz(n){A(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;_k(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new Yc(t.readTime,t.documentKey,e)}const dz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $1{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new $1(t,$1.DEFAULT_COLLECTION_PERCENTILE,$1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hz(n,t,e){const r=n.store("mutations"),s=n.store("documentMutations"),d=[],g=IDBKeyRange.only(e.batchId);let w=0;const x=r.X({range:g},(N,P,W)=>(w++,W.delete()));d.push(x.next(()=>{A(1===w)}));const z=[];for(const N of e.mutations){const P=PE(t,N.key.path,e.batchId);d.push(s.delete(P)),z.push(N.key)}return Ae.waitFor(d).next(()=>z)}function gC(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw y();t=n.noDocument}return JSON.stringify(t).length}$1.DEFAULT_COLLECTION_PERCENTILE=10,$1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$1.DEFAULT=new $1(41943040,$1.DEFAULT_COLLECTION_PERCENTILE,$1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$1.DISABLED=new $1(-1,0,0);class vC{constructor(t,e,r,s){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(t,e,r,s){A(""!==t.uid);const d=t.isAuthenticated()?t.uid:"";return new vC(d,e,r,s)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yh(t).X({index:"userMutationsIndex",range:r},(s,d,g)=>{e=!1,g.done()}).next(()=>e)}addMutationBatch(t,e,r,s){const d=Ug(t),g=Yh(t);return g.add({}).next(w=>{A("number"==typeof w);const x=new Nk(w,e,r,s),z=function(W,K,ie){const de=ie.baseMutations.map(Ve=>vb(W.fe,Ve)),ve=ie.mutations.map(Ve=>vb(W.fe,Ve));return{userId:K,batchId:ie.batchId,localWriteTimeMs:ie.localWriteTime.toMillis(),baseMutations:de,mutations:ve}}(this.serializer,this.userId,x),N=[];let P=new _r((W,K)=>Kt(W.canonicalString(),K.canonicalString()));for(const W of s){const K=PE(this.userId,W.key.path,w);P=P.add(W.key.path.popLast()),N.push(g.put(z)),N.push(d.put(K,c$))}return P.forEach(W=>{N.push(this.indexManager.addToCollectionParentIndex(t,W))}),t.addOnCommittedListener(()=>{this.Vn[w]=x.keys()}),Ae.waitFor(N).next(()=>x)})}lookupMutationBatch(t,e){return Yh(t).get(e).next(r=>r?(A(r.userId===this.userId),q9(this.serializer,r)):null)}Sn(t,e){return this.Vn[e]?Ae.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const s=r.keys();return this.Vn[e]=s,s}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=IDBKeyRange.lowerBound([this.userId,r]);let d=null;return Yh(t).X({index:"userMutationsIndex",range:s},(g,w,x)=>{w.userId===this.userId&&(A(w.batchId>=r),d=q9(this.serializer,w)),x.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yh(t).X({index:"userMutationsIndex",range:e,reverse:!0},(s,d,g)=>{r=d.batchId,g.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yh(t).j("userMutationsIndex",e).next(r=>r.map(s=>q9(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Yy(this.userId,e.path),s=IDBKeyRange.lowerBound(r),d=[];return Ug(t).X({range:s},(g,w,x)=>{const[z,N,P]=g,W=cu(N);if(z===this.userId&&e.path.isEqual(W))return Yh(t).get(P).next(K=>{if(!K)throw y();A(K.userId===this.userId),d.push(q9(this.serializer,K))});x.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new _r(Kt);const s=[];return e.forEach(d=>{const g=Yy(this.userId,d.path),w=IDBKeyRange.lowerBound(g),x=Ug(t).X({range:w},(z,N,P)=>{const[W,K,ie]=z,de=cu(K);W===this.userId&&d.path.isEqual(de)?r=r.add(ie):P.done()});s.push(x)}),Ae.waitFor(s).next(()=>this.Dn(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1,d=Yy(this.userId,r),g=IDBKeyRange.lowerBound(d);let w=new _r(Kt);return Ug(t).X({range:g},(x,z,N)=>{const[P,W,K]=x,ie=cu(W);P===this.userId&&r.isPrefixOf(ie)?ie.length===s&&(w=w.add(K)):N.done()}).next(()=>this.Dn(t,w))}Dn(t,e){const r=[],s=[];return e.forEach(d=>{s.push(Yh(t).get(d).next(g=>{if(null===g)throw y();A(g.userId===this.userId),r.push(q9(this.serializer,g))}))}),Ae.waitFor(s).next(()=>r)}removeMutationBatch(t,e){return hz(t.ht,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ae.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Ug(t).X({range:r},(d,g,w)=>{if(d[0]===this.userId){const x=cu(d[1]);s.push(x)}else w.done()}).next(()=>{A(0===s.length)})})}containsKey(t,e){return fz(t,this.userId,e)}xn(t){return mz(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fz(n,t,e){const r=Yy(t,e.path),s=r[1],d=IDBKeyRange.lowerBound(r);let g=!1;return Ug(n).X({range:d,Y:!0},(w,x,z)=>{const[N,P,W]=w;N===t&&P===s&&(g=!0),z.done()}).next(()=>g)}function Yh(n){return js(n,"mutations")}function Ug(n){return js(n,"documentMutations")}function mz(n){return js(n,"mutationQueues")}class Z9{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Z9(0)}static Mn(){return new Z9(-1)}}class wW{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const r=new Z9(e.highestTargetId);return e.highestTargetId=r.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Ut.fromTimestamp(new Pr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.$n(t).next(s=>(s.highestListenSequenceNumber=e,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.On(t,s)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(r=>(r.targetCount+=1,this.Bn(e,r),this.On(t,r))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Gg(t).delete(e.targetId)).next(()=>this.$n(t)).next(r=>(A(r.targetCount>0),r.targetCount-=1,this.On(t,r)))}removeTargets(t,e,r){let s=0;const d=[];return Gg(t).X((g,w)=>{const x=_b(w);x.sequenceNumber<=e&&null===r.get(x.targetId)&&(s++,d.push(this.removeTargetData(t,x)))}).next(()=>Ae.waitFor(d)).next(()=>s)}forEachTarget(t,e){return Gg(t).X((r,s)=>{const d=_b(s);e(d)})}$n(t){return pz(t).get("targetGlobalKey").next(e=>(A(null!==e),e))}On(t,e){return pz(t).put("targetGlobalKey",e)}Fn(t,e){return Gg(t).put(XD(this.serializer,e))}Bn(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const r=O9(e),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let d=null;return Gg(t).X({range:s,index:"queryTargetsIndex"},(g,w,x)=>{const z=_b(w);ob(e,z.target)&&(d=z,x.done())}).next(()=>d)}addMatchingKeys(t,e,r){const s=[],d=Kh(t);return e.forEach(g=>{const w=q1(g.path);s.push(d.put({targetId:r,path:w})),s.push(this.referenceDelegate.addReference(t,r,g))}),Ae.waitFor(s)}removeMatchingKeys(t,e,r){const s=Kh(t);return Ae.forEach(e,d=>{const g=q1(d.path);return Ae.waitFor([s.delete([r,g]),this.referenceDelegate.removeReference(t,r,d)])})}removeMatchingKeysForTargetId(t,e){const r=Kh(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),s=Kh(t);let d=kn();return s.X({range:r,Y:!0},(g,w,x)=>{const z=cu(g[1]),N=new bt(z);d=d.add(N)}).next(()=>d)}containsKey(t,e){const r=q1(e.path),s=IDBKeyRange.bound([r],[Y_(r)],!1,!0);let d=0;return Kh(t).X({index:"documentTargetsIndex",Y:!0,range:s},([g,w],x,z)=>{0!==g&&(d++,z.done())}).next(()=>d>0)}le(t,e){return Gg(t).get(e).next(r=>r?_b(r):null)}}function Gg(n){return js(n,"targets")}function pz(n){return js(n,"targetGlobal")}function Kh(n){return js(n,"targetDocuments")}function gz([n,t],[e,r]){const s=Kt(n,e);return 0===s?Kt(t,r):s}class kW{constructor(t){this.Ln=t,this.buffer=new _r(gz),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();gz(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vz{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;c("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){Oh(r)?c("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Rh(r)}yield e.Qn(3e5)}))}}class AW{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Ae.resolve(Kc.ct);const r=new kW(e);return this.jn.forEachTarget(t,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(t,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.jn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(c("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(dz)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(c("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dz):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let r,s,d,g,w,x,z;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(c("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),s=this.params.maximumSequenceNumbersToCollect):s=P,g=Date.now(),this.nthSequenceNumber(t,s))).next(P=>(r=P,w=Date.now(),this.removeTargets(t,r,e))).next(P=>(d=P,x=Date.now(),this.removeOrphanedDocuments(t,r))).next(P=>(z=Date.now(),C()<=Bo.in.DEBUG&&c("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-N}ms\n\tDetermined least recently used ${s} in `+(w-g)+`ms\n\tRemoved ${d} targets in `+(x-w)+`ms\n\tRemoved ${P} documents in `+(z-x)+`ms\nTotal Duration: ${z-N}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:d,documentsRemoved:P})))}}class MW{constructor(t,e){this.db=t,this.garbageCollector=function _z(n,t){return new AW(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(s=>r+s))}Jn(t){let e=0;return this.Wn(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(r,s)=>e(s))}addReference(t,e,r){return _C(t,r)}removeReference(t,e,r){return _C(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return _C(t,e)}Xn(t,e){return function(r,s){let d=!1;return mz(r).Z(g=>fz(r,g,s).next(w=>(w&&(d=!0),Ae.resolve(!w)))).next(()=>d)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let d=0;return this.Yn(t,(g,w)=>{if(w<=e){const x=this.Xn(t,g).next(z=>{if(!z)return d++,r.getEntry(t,g).next(()=>(r.removeEntry(g,Ut.min()),Kh(t).delete([0,q1(g.path)])))});s.push(x)}}).next(()=>Ae.waitFor(s)).next(()=>r.apply(t)).next(()=>d)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return _C(t,e)}Yn(t,e){const r=Kh(t);let s,d=Kc.ct;return r.X({index:"documentTargetsIndex"},([g,w],{path:x,sequenceNumber:z})=>{0===g?(d!==Kc.ct&&e(new bt(cu(s)),d),d=z,s=x):d=Kc.ct}).next(()=>{d!==Kc.ct&&e(new bt(cu(s)),d)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function _C(n,t){return Kh(n).put((r=n.currentSequenceNumber,{targetId:0,path:q1(t.path),sequenceNumber:r}));var r}class bz{constructor(){this.changes=new d5(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,br.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Ae.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xW{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Y9(t).put(r)}removeEntry(t,e,r){return Y9(t).delete(function(s,d){const g=s.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],dC(d),g[g.length-1]]}(e,r))}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Zn(t,r)))}getEntry(t,e){let r=br.newInvalidDocument(e);return Y9(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(kb(e))},(s,d)=>{r=this.ts(e,d)}).next(()=>r)}es(t,e){let r={size:0,document:br.newInvalidDocument(e)};return Y9(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(kb(e))},(s,d)=>{r={document:this.ts(e,d),size:gC(d)}}).next(()=>r)}getEntries(t,e){let r=K2();return this.ns(t,e,(s,d)=>{const g=this.ts(s,d);r=r.insert(s,g)}).next(()=>r)}ss(t,e){let r=K2(),s=new ar(bt.comparator);return this.ns(t,e,(d,g)=>{const w=this.ts(d,g);r=r.insert(d,w),s=s.insert(d,gC(g))}).next(()=>({documents:r,rs:s}))}ns(t,e,r){if(e.isEmpty())return Ae.resolve();let s=new _r(kz);e.forEach(x=>s=s.add(x));const d=IDBKeyRange.bound(kb(s.first()),kb(s.last())),g=s.getIterator();let w=g.getNext();return Y9(t).X({index:"documentKeyIndex",range:d},(x,z,N)=>{const P=bt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;w&&kz(w,P)<0;)r(w,null),w=g.getNext();w&&w.isEqual(P)&&(r(w,z),w=g.hasNext()?g.getNext():null),w?N.G(kb(w)):N.done()}).next(()=>{for(;w;)r(w,null),w=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(t,e,r,s){const d=e.path,g=[d.popLast().toArray(),d.lastSegment(),dC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],w=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Y9(t).j(IDBKeyRange.bound(g,w,!0)).next(x=>{let z=K2();for(const N of x){const P=this.ts(bt.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);P.isFoundDocument()&&(ab(e,P)||s.has(P.key))&&(z=z.insert(P.key,P))}return z})}getAllFromCollectionGroup(t,e,r,s){let d=K2();const g=wz(e,r),w=wz(e,Yc.max());return Y9(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,w,!0)},(x,z,N)=>{const P=this.ts(bt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(P.key,P),d.size===s&&N.done()}).next(()=>d)}newChangeBuffer(t){return new SW(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Cz(t).get("remoteDocumentGlobalKey").next(e=>(A(!!e),e))}Zn(t,e){return Cz(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const r=function hW(n,t){let e;if(t.document)e=qD(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=bt.fromSegments(t.noDocument.path),s=G9(t.noDocument.readTime);e=br.newNoDocument(r,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return y();{const r=bt.fromSegments(t.unknownDocument.path),s=G9(t.unknownDocument.version);e=br.newUnknownDocument(r,s)}}return t.readTime&&e.setReadTime(function(r){const s=new Pr(r[0],r[1]);return Ut.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return br.newInvalidDocument(t)}}function yz(n){return new xW(n)}class SW extends bz{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new d5(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(t){const e=[];let r=0,s=new _r((d,g)=>Kt(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const w=this.us.get(d);if(e.push(this.os.removeEntry(t,d,w.readTime)),g.isValidDocument()){const x=JD(this.os.serializer,g);s=s.add(d.path.popLast());const z=gC(x);r+=z-w.size,e.push(this.os.addEntry(t,d,x))}else if(r-=w.size,this.trackRemovals){const x=JD(this.os.serializer,g.convertToNoDocument(Ut.min()));e.push(this.os.addEntry(t,d,x))}}),s.forEach(d=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,d))}),e.push(this.os.updateMetadata(t,r)),Ae.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(r=>(this.us.set(e,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:r,rs:s})=>(s.forEach((d,g)=>{this.us.set(d,{size:g,readTime:r.get(d).readTime})}),r))}}function Cz(n){return js(n,"remoteDocumentGlobal")}function Y9(n){return js(n,"remoteDocumentsV14")}function kb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wz(n,t){const e=t.documentKey.path.toArray();return[n,dC(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function kz(n,t){const e=n.path.toArray(),r=t.path.toArray();let s=0;for(let d=0;d<e.length-2&&d<r.length-2;++d)if(s=Kt(e[d],r[d]),s)return s;return s=Kt(e.length,r.length),s||(s=Kt(e[e.length-2],r[r.length-2]),s||Kt(e[e.length-1],r[r.length-1]))}class EW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Az{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(null!==r&&db(r.mutation,s,Y2.empty(),Pr.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,kn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=kn()){const s=uu();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,r).next(d=>{let g=cb();return d.forEach((w,x)=>{g=g.insert(w,x.overlayedDocument)}),g}))}getOverlayedDocuments(t,e){const r=uu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,kn()))}populateOverlays(t,e,r){const s=[];return r.forEach(d=>{e.has(d)||s.push(d)}),this.documentOverlayCache.getOverlays(t,s).next(d=>{d.forEach((g,w)=>{e.set(g,w)})})}computeViews(t,e,r,s){let d=K2();const g=lb(),w=lb();return e.forEach((x,z)=>{const N=r.get(z.key);s.has(z.key)&&(void 0===N||N.mutation instanceof h5)?d=d.insert(z.key,z):void 0!==N?(g.set(z.key,N.mutation.getFieldMask()),db(N.mutation,z,N.mutation.getFieldMask(),Pr.now())):g.set(z.key,Y2.empty())}),this.recalculateAndSaveOverlays(t,d).next(x=>(x.forEach((z,N)=>g.set(z,N)),e.forEach((z,N)=>{var P;return w.set(z,new EW(N,null!==(P=g.get(z))&&void 0!==P?P:null))}),w))}recalculateAndSaveOverlays(t,e){const r=lb();let s=new ar((g,w)=>g-w),d=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(g=>{for(const w of g)w.keys().forEach(x=>{const z=e.get(x);if(null===z)return;let N=r.get(x)||Y2.empty();N=w.applyToLocalView(z,N),r.set(x,N);const P=(s.get(w.batchId)||kn()).add(x);s=s.insert(w.batchId,P)})}).next(()=>{const g=[],w=s.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),z=x.key,N=x.value,P=gD();N.forEach(W=>{if(!d.has(W)){const K=MD(e.get(W),r.get(W));null!==K&&P.set(W,K),d=d.add(W)}}),g.push(this.documentOverlayCache.saveOverlays(t,z,P))}return Ae.waitFor(g)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r){return bt.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Dk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r):this.getDocumentsMatchingCollectionQuery(t,e,r);var s}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next(d=>{const g=s-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-d.size):Ae.resolve(uu());let w=-1,x=d;return g.next(z=>Ae.forEach(z,(N,P)=>(w<P.largestBatchId&&(w=P.largestBatchId),d.get(N)?Ae.resolve():this.remoteDocumentCache.getEntry(t,N).next(W=>{x=x.insert(N,W)}))).next(()=>this.populateOverlays(t,z,d)).next(()=>this.computeViews(t,x,z,kn())).next(N=>({batchId:w,changes:pD(N)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next(r=>{let s=cb();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,r){const s=e.collectionGroup;let d=cb();return this.indexManager.getCollectionParents(t,s).next(g=>Ae.forEach(g,w=>{const x=(z=e,N=w.child(s),new u5(N,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,N;return this.getDocumentsMatchingCollectionQuery(t,x,r).next(z=>{z.forEach((N,P)=>{d=d.insert(N,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(d=>(s=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s))).next(d=>{s.forEach((w,x)=>{const z=x.getKey();null===d.get(z)&&(d=d.insert(z,br.newInvalidDocument(z)))});let g=cb();return d.forEach((w,x)=>{const z=s.get(w);void 0!==z&&db(z.mutation,x,Y2.empty(),Pr.now()),ab(e,x)&&(g=g.insert(w,x))}),g})}}class DW{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ae.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var r;return this.cs.set(e.id,{id:(r=e).id,version:r.version,createTime:qo(r.createTime)}),Ae.resolve()}getNamedQuery(t,e){return Ae.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(r=e).name,query:Gk(r.bundledQuery),readTime:qo(r.readTime)}),Ae.resolve();var r}}class zW{constructor(){this.overlays=new ar(bt.comparator),this.ls=new Map}getOverlay(t,e){return Ae.resolve(this.overlays.get(e))}getOverlays(t,e){const r=uu();return Ae.forEach(e,s=>this.getOverlay(t,s).next(d=>{null!==d&&r.set(s,d)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((s,d)=>{this.we(t,e,d)}),Ae.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(d=>this.overlays=this.overlays.remove(d)),this.ls.delete(r)),Ae.resolve()}getOverlaysForCollection(t,e,r){const s=uu(),d=e.length+1,g=new bt(e.child("")),w=this.overlays.getIteratorFrom(g);for(;w.hasNext();){const x=w.getNext().value,z=x.getKey();if(!e.isPrefixOf(z.path))break;z.path.length===d&&x.largestBatchId>r&&s.set(x.getKey(),x)}return Ae.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let d=new ar((z,N)=>z-N);const g=this.overlays.getIterator();for(;g.hasNext();){const z=g.getNext().value;if(z.getKey().getCollectionGroup()===e&&z.largestBatchId>r){let N=d.get(z.largestBatchId);null===N&&(N=uu(),d=d.insert(z.largestBatchId,N)),N.set(z.getKey(),z)}}const w=uu(),x=d.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((z,N)=>w.set(z,N)),!(w.size()>=s)););return Ae.resolve(w)}we(t,e,r){const s=this.overlays.get(r.key);if(null!==s){const g=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,g)}this.overlays=this.overlays.insert(r.key,new Hk(e,r));let d=this.ls.get(e);void 0===d&&(d=kn(),this.ls.set(e,d)),this.ls.set(e,d.add(r.key))}}class Qk{constructor(){this.fs=new _r(Us.ds),this.ws=new _r(Us._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const r=new Us(t,e);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.ys(new Us(t,e))}ps(t,e){t.forEach(r=>this.removeReference(r,e))}Is(t){const e=new bt(new ei([])),r=new Us(e,t),s=new Us(e,t+1),d=[];return this.ws.forEachInRange([r,s],g=>{this.ys(g),d.push(g.key)}),d}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new bt(new ei([])),r=new Us(e,t),s=new Us(e,t+1);let d=kn();return this.ws.forEachInRange([r,s],g=>{d=d.add(g.key)}),d}containsKey(t){const e=new Us(t,0),r=this.fs.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Us{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return bt.comparator(t.key,e.key)||Kt(t.As,e.As)}static _s(t,e){return Kt(t.As,e.As)||bt.comparator(t.key,e.key)}}class IW{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new _r(Us.ds)}checkEmpty(t){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,s){const d=this.vs;this.vs++;const g=new Nk(d,e,r,s);this.mutationQueue.push(g);for(const w of s)this.Rs=this.Rs.add(new Us(w.key,d)),this.indexManager.addToCollectionParentIndex(t,w.key.path.popLast());return Ae.resolve(g)}lookupMutationBatch(t,e){return Ae.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const s=this.bs(e+1),d=s<0?0:s;return Ae.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Us(e,0),s=new Us(e,Number.POSITIVE_INFINITY),d=[];return this.Rs.forEachInRange([r,s],g=>{const w=this.Ps(g.As);d.push(w)}),Ae.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new _r(Kt);return e.forEach(s=>{const d=new Us(s,0),g=new Us(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([d,g],w=>{r=r.add(w.As)})}),Ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let d=r;bt.isDocumentKey(d)||(d=d.child(""));const g=new Us(new bt(d),0);let w=new _r(Kt);return this.Rs.forEachWhile(x=>{const z=x.key.path;return!!r.isPrefixOf(z)&&(z.length===s&&(w=w.add(x.As)),!0)},g),Ae.resolve(this.Vs(w))}Vs(t){const e=[];return t.forEach(r=>{const s=this.Ps(r);null!==s&&e.push(s)}),e}removeMutationBatch(t,e){A(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ae.forEach(e.mutations,s=>{const d=new Us(s.key,e.batchId);return r=r.delete(d),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,e){const r=new Us(e,0),s=this.Rs.firstAfterOrEqual(r);return Ae.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return Ae.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class TW{constructor(t){this.Ds=t,this.docs=new ar(bt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),d=s?s.size:0,g=this.Ds(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Ae.resolve(r?r.document.mutableCopy():br.newInvalidDocument(e))}getEntries(t,e){let r=K2();return e.forEach(s=>{const d=this.docs.get(s);r=r.insert(s,d?d.document.mutableCopy():br.newInvalidDocument(s))}),Ae.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let d=K2();const g=e.path,w=new bt(g.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:z,value:{document:N}}=x.getNext();if(!g.isPrefixOf(z.path))break;z.path.length>g.length+1||_k(zE(N),r)<=0||(s.has(N.key)||ab(e,N))&&(d=d.insert(N.key,N.mutableCopy()))}return Ae.resolve(d)}getAllFromCollectionGroup(t,e,r,s){y()}Cs(t,e){return Ae.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new LW(this)}getSize(t){return Ae.resolve(this.size)}}class LW extends bz{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?e.push(this.os.addEntry(t,s)):this.os.removeEntry(r)}),Ae.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class NW{constructor(t){this.persistence=t,this.xs=new d5(e=>O9(e),ob),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qk,this.targetCount=0,this.Ms=Z9.kn()}forEachTarget(t,e){return this.xs.forEach((r,s)=>e(s)),Ae.resolve()}getLastRemoteSnapshotVersion(t){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ae.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Ns&&(this.Ns=e),Ae.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Z9(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ae.resolve()}updateTargetData(t,e){return this.Fn(e),Ae.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(t,e,r){let s=0;const d=[];return this.xs.forEach((g,w)=>{w.sequenceNumber<=e&&null===r.get(w.targetId)&&(this.xs.delete(g),d.push(this.removeMatchingKeysForTargetId(t,w.targetId)),s++)}),Ae.waitFor(d).next(()=>s)}getTargetCount(t){return Ae.resolve(this.targetCount)}getTargetData(t,e){const r=this.xs.get(e)||null;return Ae.resolve(r)}addMatchingKeys(t,e,r){return this.ks.gs(e,r),Ae.resolve()}removeMatchingKeys(t,e,r){this.ks.ps(e,r);const s=this.persistence.referenceDelegate,d=[];return s&&e.forEach(g=>{d.push(s.markPotentiallyOrphaned(t,g))}),Ae.waitFor(d)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ae.resolve()}getMatchingKeysForTargetId(t,e){const r=this.ks.Es(e);return Ae.resolve(r)}containsKey(t,e){return Ae.resolve(this.ks.containsKey(e))}}class Jk{constructor(t,e){this.$s={},this.overlays={},this.Os=new Kc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new NW(this),this.indexManager=new yW,this.remoteDocumentCache=new TW(r=>this.referenceDelegate.Ls(r)),this.serializer=new QD(e),this.qs=new DW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zW,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.$s[t.toKey()];return r||(r=new IW(e,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,r){c("MemoryPersistence","Starting transaction:",t);const s=new VW(this.Os.next());return this.referenceDelegate.Us(),r(s).next(d=>this.referenceDelegate.Ks(s).next(()=>d)).toPromise().then(d=>(s.raiseOnCommittedEvent(),d))}Gs(t,e){return Ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,e)))}}class VW extends TE{constructor(t){super(),this.currentSequenceNumber=t}}class bC{constructor(t){this.persistence=t,this.Qs=new Qk,this.js=null}static zs(t){return new bC(t)}get Ws(){if(this.js)return this.js;throw y()}addReference(t,e,r){return this.Qs.addReference(r,e),this.Ws.delete(r.toString()),Ae.resolve()}removeReference(t,e,r){return this.Qs.removeReference(r,e),this.Ws.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ae.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(d=>this.Ws.add(d.toString()))}).next(()=>r.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ws,r=>{const s=bt.fromPath(r);return this.Hs(t,s).next(d=>{d||e.removeEntry(s,Ut.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(r=>{r?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ae.or([()=>Ae.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class HW{constructor(t){this.serializer=t}O(t,e,r,s){const d=new Zy("createOrUpgrade",e);var w;r<1&&s>=1&&(t.createObjectStore("owner"),(w=t).createObjectStore("mutationQueues",{keyPath:"userId"}),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0}),w.createObjectStore("documentMutations"),Mz(t),function(w){w.createObjectStore("remoteDocuments")}(t));let g=Ae.resolve();return r<3&&s>=3&&(0!==r&&(function(w){w.deleteObjectStore("targetDocuments"),w.deleteObjectStore("targets"),w.deleteObjectStore("targetGlobal")}(t),Mz(t)),g=g.next(()=>function(w){const x=w.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return x.put("targetGlobalKey",z)}(d))),r<4&&s>=4&&(0!==r&&(g=g.next(()=>function(w,x){return x.store("mutations").j().next(z=>{w.deleteObjectStore("mutations"),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",HE,{unique:!0});const N=x.store("mutations"),P=z.map(W=>N.put(W));return Ae.waitFor(P)})}(t,d))),g=g.next(()=>{!function(w){w.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),r<5&&s>=5&&(g=g.next(()=>this.Ys(d))),r<6&&s>=6&&(g=g.next(()=>(function(w){w.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(d)))),r<7&&s>=7&&(g=g.next(()=>this.Zs(d))),r<8&&s>=8&&(g=g.next(()=>this.ti(t,d))),r<9&&s>=9&&(g=g.next(()=>{!function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")}(t)})),r<10&&s>=10&&(g=g.next(()=>this.ei(d))),r<11&&s>=11&&(g=g.next(()=>{(function(w){w.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(w){w.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),r<12&&s>=12&&(g=g.next(()=>{!function(w){const x=w.createObjectStore("documentOverlays",{keyPath:y$});x.createIndex("collectionPathOverlayIndex",C$,{unique:!1}),x.createIndex("collectionGroupOverlayIndex",w$,{unique:!1})}(t)})),r<13&&s>=13&&(g=g.next(()=>function(w){const x=w.createObjectStore("remoteDocumentsV14",{keyPath:l$});x.createIndex("documentKeyIndex",u$),x.createIndex("collectionGroupIndex",d$)}(t)).next(()=>this.ni(t,d)).next(()=>t.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(g=g.next(()=>this.si(t,d))),r<15&&s>=15&&(g=g.next(()=>function(w){w.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),w.createObjectStore("indexState",{keyPath:g$}).createIndex("sequenceNumberIndex",v$,{unique:!1}),w.createObjectStore("indexEntries",{keyPath:_$}).createIndex("documentKeyIndex",b$,{unique:!1})}(t))),g}Xs(t){let e=0;return t.store("remoteDocuments").X((r,s)=>{e+=gC(s)}).next(()=>{const r={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(t){const e=t.store("mutationQueues"),r=t.store("mutations");return e.j().next(s=>Ae.forEach(s,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",g).next(w=>Ae.forEach(w,x=>{A(x.userId===d.userId);const z=q9(this.serializer,x);return hz(t,d.userId,z).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),r=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(s=>{const d=[];return r.X((g,w)=>{const x=new ei(g),z=[0,q1(x)];d.push(e.get(z).next(N=>N?Ae.resolve():e.put({targetId:0,path:q1(x),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>Ae.waitFor(d))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:p$});const r=e.store("collectionParents"),s=new Kk,d=g=>{if(s.add(g)){const w=g.lastSegment(),x=g.popLast();return r.put({collectionId:w,parent:q1(x)})}};return e.store("remoteDocuments").X({Y:!0},(g,w)=>{const x=new ei(g);return d(x.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([g,w,x],z)=>{const N=cu(w);return d(N.popLast())}))}ei(t){const e=t.store("targets");return e.X((r,s)=>{const d=_b(s),g=XD(this.serializer,d);return e.put(g)})}ni(t,e){const r=e.store("remoteDocuments"),s=[];return r.X((d,g)=>{const w=e.store("remoteDocumentsV14"),x=(z=g,z.document?new bt(ei.fromString(z.document.name).popFirst(5)):z.noDocument?bt.fromSegments(z.noDocument.path):z.unknownDocument?bt.fromSegments(z.unknownDocument.path):y()).path.toArray();var z;const N={prefixPath:x.slice(0,x.length-2),collectionGroup:x[x.length-2],documentId:x[x.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};s.push(w.put(N))}).next(()=>Ae.waitFor(s))}si(t,e){const r=e.store("mutations"),s=yz(this.serializer),d=new Jk(bC.zs,this.serializer.fe);return r.j().next(g=>{const w=new Map;return g.forEach(x=>{var z;let N=null!==(z=w.get(x.userId))&&void 0!==z?z:kn();q9(this.serializer,x).keys().forEach(P=>N=N.add(P)),w.set(x.userId,N)}),Ae.forEach(w,(x,z)=>{const N=new h(z),P=hC.de(this.serializer,N),W=d.getIndexManager(N),K=vC.de(N,this.serializer,W,d.referenceDelegate);return new Az(s,K,P,W).recalculateAndSaveOverlaysForDocumentKeys(new Ck(e,Kc.ct),x).next()})})}}function Mz(n){n.createObjectStore("targetDocuments",{keyPath:f$}).createIndex("documentTargetsIndex",m$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",h$,{unique:!0}),n.createObjectStore("targetGlobal")}const Xk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eA{constructor(t,e,r,s,d,g,w,x,z,N,P=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.ii=d,this.window=g,this.document=w,this.ri=z,this.oi=N,this.ui=P,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=W=>Promise.resolve(),!eA.D())throw new V(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MW(this,s),this.di=e+"main",this.serializer=new QD(x),this.wi=new $4(this.di,this.ui,new HW(this.serializer)),this.Bs=new wW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yz(this.serializer),this.qs=new fW,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===N&&u("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new V(T.FAILED_PRECONDITION,Xk);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Kc(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var r=(0,De.Z)(function*(s){if(e.started)return t(s)});return function(s){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,De.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>CC(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Oh(t))return c("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return c("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Ab(t).get("owner").next(e=>Ae.resolve(this.Ri(e)))}Pi(t){return CC(t).delete(this.clientId)}bi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=js(r,"clientMetadata");return s.j().next(d=>{const g=t.Si(d,18e5),w=d.filter(x=>-1===g.indexOf(x));return Ae.forEach(w,x=>s.delete(x.clientId)).next(()=>w)})}).catch(()=>[]);if(t._i)for(const r of e)t._i.removeItem(t.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ae.resolve(!0):Ab(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new V(T.FAILED_PRECONDITION,Xk);return!1}}return!(!this.networkEnabled||!this.inForeground)||CC(t).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(e=>(this.isPrimary!==e&&c("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new Ck(e,Kc.ct);return t.Ai(r).next(()=>t.Pi(r))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(r=>this.Vi(r.updateTimeMs,e)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>CC(t).j().next(e=>this.Si(e,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return vC.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new CW(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return hC.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,r){c("IndexedDbPersistence","Starting transaction:",t);const s="readonly"===e?"readonly":"readwrite",d=15===(g=this.ui)?A$:14===g?FE:13===g?OE:12===g?k$:11===g?RE:void y();var g;let w;return this.wi.runTransaction(t,s,d,x=>(w=new Ck(x,this.Os?this.Os.next():Kc.ct),"readwrite-primary"===e?this.Ti(w).next(z=>!!z||this.Ei(w)).next(z=>{if(!z)throw u(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new V(T.FAILED_PRECONDITION,IE);return r(w)}).next(z=>this.vi(w).next(()=>z)):this.Oi(w).next(()=>r(w)))).then(x=>(w.raiseOnCommittedEvent(),x))}Oi(t){return Ab(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new V(T.FAILED_PRECONDITION,Xk)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ab(t).put("owner",e)}static D(){return $4.D()}Ai(t){const e=Ab(t);return e.get("owner").next(r=>this.Ri(r)?(c("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ae.resolve())}Vi(t,e){const r=Date.now();return!(t<r-e||t>r&&(u(`Detected an update time that is in the future: ${t} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,Nt.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const r=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return c("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return u("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){u("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ab(n){return js(n,"owner")}function CC(n){return js(n,"clientMetadata")}function tA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class nA{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Fi=r,this.Bi=s}static Li(t,e){let r=kn(),s=kn();for(const d of e.docChanges)switch(d.type){case 0:r=r.add(d.doc.key);break;case 1:s=s.add(d.doc.key)}return new nA(t,e.fromCache,r,s)}}class xz{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,r,s){return this.Ki(t,e).next(d=>d||this.Gi(t,e,s,r)).next(d=>d||this.Qi(t,e))}Ki(t,e){if(uD(e))return Ae.resolve(null);let r=ja(e);return this.indexManager.getIndexType(t,r).next(s=>0===s?null:(null!==e.limit&&1===s&&(e=oC(e,null,"F"),r=ja(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(d=>{const g=kn(...d);return this.Ui.getDocuments(t,g).next(w=>this.indexManager.getMinOffset(t,r).next(x=>{const z=this.ji(e,w);return this.zi(e,z,g,x.readTime)?this.Ki(t,oC(e,null,"F")):this.Wi(t,z,e,x)}))})))}Gi(t,e,r,s){return uD(e)||s.isEqual(Ut.min())?this.Qi(t,e):this.Ui.getDocuments(t,r).next(d=>{const g=this.ji(e,d);return this.zi(e,g,r,s)?this.Qi(t,e):(C()<=Bo.in.DEBUG&&c("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ik(e)),this.Wi(t,g,e,DE(s,-1)))})}ji(t,e){let r=new _r(fD(t));return e.forEach((s,d)=>{ab(t,d)&&(r=r.add(d))}),r}zi(t,e,r,s){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const d="F"===t.limitType?e.last():e.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(s)>0)}Qi(t,e){return C()<=Bo.in.DEBUG&&c("QueryEngine","Using full collection scan to execute query:",Ik(e)),this.Ui.getDocumentsMatchingQuery(t,e,Yc.min())}Wi(t,e,r,s){return this.Ui.getDocumentsMatchingQuery(t,r,s).next(d=>(e.forEach(g=>{d=d.insert(g.key,g)}),d))}}class PW{constructor(t,e,r,s){this.persistence=t,this.Hi=e,this.serializer=s,this.Ji=new ar(Kt),this.Yi=new d5(d=>O9(d),ob),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Az(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function Sz(n,t,e,r){return new PW(n,t,e,r)}function Ez(n,t){return iA.apply(this,arguments)}function iA(){return iA=(0,De.Z)(function*(n,t){const e=E(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next(d=>(s=d,e.tr(t),e.mutationQueue.getAllMutationBatches(r))).next(d=>{const g=[],w=[];let x=kn();for(const z of s){g.push(z.batchId);for(const N of z.mutations)x=x.add(N.key)}for(const z of d){w.push(z.batchId);for(const N of z.mutations)x=x.add(N.key)}return e.localDocuments.getDocuments(r,x).next(z=>({er:z,removedBatchIds:g,addedBatchIds:w}))})})}),iA.apply(this,arguments)}function Dz(n){const t=E(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function zz(n,t,e){let r=kn(),s=kn();return e.forEach(d=>r=r.add(d)),t.getEntries(n,r).next(d=>{let g=K2();return e.forEach((w,x)=>{const z=d.get(w);x.isFoundDocument()!==z.isFoundDocument()&&(s=s.add(w)),x.isNoDocument()&&x.version.isEqual(Ut.min())?(t.removeEntry(w,x.readTime),g=g.insert(w,x)):!z.isValidDocument()||x.version.compareTo(z.version)>0||0===x.version.compareTo(z.version)&&z.hasPendingWrites?(t.addEntry(x),g=g.insert(w,x)):c("LocalStore","Ignoring outdated watch update for ",w,". Current version:",z.version," Watch version:",x.version)}),{nr:g,sr:s}})}function FW(n,t){const e=E(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function qg(n,t){const e=E(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return e.Bs.getTargetData(r,t).next(d=>d?(s=d,Ae.resolve(s)):e.Bs.allocateTargetId(r).next(g=>(s=new f5(t,g,"TargetPurposeListen",r.currentSequenceNumber),e.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=e.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(r.targetId,r),e.Yi.set(t,r.targetId)),r})}function $g(n,t,e){return rA.apply(this,arguments)}function rA(){return rA=(0,De.Z)(function*(n,t,e){const r=E(n),s=r.Ji.get(t),d=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",d,g=>r.persistence.referenceDelegate.removeTarget(g,s)))}catch(g){if(!Oh(g))throw g;c("LocalStore",`Failed to update sequence numbers for target ${t}: ${g}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(s.target)}),rA.apply(this,arguments)}function wC(n,t,e){const r=E(n);let s=Ut.min(),d=kn();return r.persistence.runTransaction("Execute query","readonly",g=>function(w,x,z){const N=E(w),P=N.Yi.get(z);return void 0!==P?Ae.resolve(N.Ji.get(P)):N.Bs.getTargetData(x,z)}(r,g,ja(t)).next(w=>{if(w)return s=w.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(g,w.targetId).next(x=>{d=x})}).next(()=>r.Hi.getDocumentsMatchingQuery(g,t,e?s:Ut.min(),e?d:kn())).next(w=>(Lz(r,hD(t),w),{documents:w,ir:d})))}function Iz(n,t){const e=E(n),r=E(e.Bs),s=e.Ji.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",d=>r.le(d,t).next(g=>g?g.target:null))}function Tz(n,t){const e=E(n),r=e.Xi.get(t)||Ut.min();return e.persistence.runTransaction("Get new document changes","readonly",s=>e.Zi.getAllFromCollectionGroup(s,t,DE(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Lz(e,t,s),s))}function Lz(n,t,e){let r=n.Xi.get(t)||Ut.min();e.forEach((s,d)=>{d.readTime.compareTo(r)>0&&(r=d.readTime)}),n.Xi.set(t,r)}function oA(){return oA=(0,De.Z)(function*(n,t,e,r){const s=E(n);let d=kn(),g=K2();for(const z of e){const N=t.rr(z.metadata.name);z.document&&(d=d.add(N));const P=t.ur(z);P.setReadTime(t.cr(z.metadata.readTime)),g=g.insert(N,P)}const w=s.Zi.newChangeBuffer({trackRemovals:!0}),x=yield qg(s,(z=r,ja(Hg(ei.fromString(`__bundle__/docs/${z}`)))));var z;return s.persistence.runTransaction("Apply bundle documents","readwrite",z=>zz(z,w,g).next(N=>(w.apply(z),N)).next(N=>s.Bs.removeMatchingKeysForTargetId(z,x.targetId).next(()=>s.Bs.addMatchingKeys(z,d,x.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(z,N.nr,N.sr)).next(()=>N.nr)))}),oA.apply(this,arguments)}function jW(n,t){return sA.apply(this,arguments)}function sA(){return sA=(0,De.Z)(function*(n,t,e=kn()){const r=yield qg(n,ja(Gk(t.bundledQuery))),s=E(n);return s.persistence.runTransaction("Save named query","readwrite",d=>{const g=qo(t.readTime);if(r.snapshotVersion.compareTo(g)>=0)return s.qs.saveNamedQuery(d,t);const w=r.withResumeToken(Ms.EMPTY_BYTE_STRING,g);return s.Ji=s.Ji.insert(w.targetId,w),s.Bs.updateTargetData(d,w).next(()=>s.Bs.removeMatchingKeysForTargetId(d,r.targetId)).next(()=>s.Bs.addMatchingKeys(d,e,r.targetId)).next(()=>s.qs.saveNamedQuery(d,t))})}),sA.apply(this,arguments)}function Nz(n,t){return`firestore_clients_${n}_${t}`}function Vz(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function aA(n,t){return`firestore_targets_${n}_${t}`}class kC{constructor(t,e,r,s){this.user=t,this.batchId=e,this.state=r,this.error=s}static ar(t,e,r){const s=JSON.parse(r);let d,g="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return g&&s.error&&(g="string"==typeof s.error.message&&"string"==typeof s.error.code,g&&(d=new V(s.error.code,s.error.message))),g?new kC(t,e,s.state,d):(u("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Mb{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static ar(t,e){const r=JSON.parse(e);let s,d="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(s=new V(r.error.code,r.error.message))),d?new Mb(t,r.state,s):(u("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class AC{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const r=JSON.parse(e);let s="object"==typeof r&&r.activeTargetIds instanceof Array,d=Tk();for(let g=0;s&&g<r.activeTargetIds.length;++g)s=NE(r.activeTargetIds[g]),d=d.add(r.activeTargetIds[g]);return s?new AC(t,d):(u("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class cA{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new cA(e.clientId,e.onlineState):(u("SharedClientState",`Failed to parse online state: ${t}`),null)}}class lA{constructor(){this.activeTargetIds=Tk()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uA{constructor(t,e,r,s,d){this.window=t,this.ii=e,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ar(Kt),this.started=!1,this.yr=[];const g=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.pr=Nz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new lA),this.Tr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(w){return`firestore_bundle_loaded_v2_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.$i();for(const s of e){if(s===t.wr)continue;const d=t.getItem(Nz(t.persistenceKey,s));if(d){const g=AC.ar(s,d);g&&(t.gr=t.gr.insert(g.clientId,g))}}t.Pr();const r=t.storage.getItem(t.vr);if(r){const s=t.br(r);s&&t.Vr(s)}for(const s of t.yr)t.mr(s);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,r){this.Dr(t,e,r),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(aA(this.persistenceKey,t));if(r){const s=Mb.ar(t,r);s&&(e=s.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(aA(this.persistenceKey,t))}updateQueryState(t,e,r){this.kr(t,e,r)}handleUserChange(t,e,r){e.forEach(s=>{this.Cr(s)}),this.currentUser=t,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return c("SharedClientState","READ",t,e),e}setItem(t,e){c("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){c("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const r=t;if(r.storageArea===this.storage){if(c("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void u("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==r.key)if(e.Tr.test(r.key)){if(null==r.newValue){const s=e.Or(r.key);return e.Fr(s,null)}{const s=e.Br(r.key,r.newValue);if(s)return e.Fr(s.clientId,s)}}else if(e.Er.test(r.key)){if(null!==r.newValue){const s=e.Lr(r.key,r.newValue);if(s)return e.qr(s)}}else if(e.Ar.test(r.key)){if(null!==r.newValue){const s=e.Ur(r.key,r.newValue);if(s)return e.Kr(s)}}else if(r.key===e.vr){if(null!==r.newValue){const s=e.br(r.newValue);if(s)return e.Vr(s)}}else if(r.key===e.Ir){const s=function(d){let g=Kc.ct;if(null!=d)try{const w=JSON.parse(d);A("number"==typeof w),g=w}catch(w){u("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue);s!==Kc.ct&&e.sequenceNumberHandler(s)}else if(r.key===e.Rr){const s=e.Gr(r.newValue);yield Promise.all(s.map(d=>e.syncEngine.Qr(d)))}}else e.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,r){const s=new kC(this.currentUser,t,e,r),d=Vz(this.persistenceKey,this.currentUser,t);this.setItem(d,s.hr())}Cr(t){const e=Vz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,r){const s=aA(this.persistenceKey,t),d=new Mb(t,e,r);this.setItem(s,d.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const r=this.Or(t);return AC.ar(r,e)}Lr(t,e){const r=this.Er.exec(t),s=Number(r[1]);return kC.ar(new h(void 0!==r[2]?r[2]:null),s,e)}Ur(t,e){const r=this.Ar.exec(t),s=Number(r[1]);return Mb.ar(s,e)}br(t){return cA.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);c("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const r=e?this.gr.insert(t,e):this.gr.remove(t),s=this.Sr(this.gr),d=this.Sr(r),g=[],w=[];return d.forEach(x=>{s.has(x)||g.push(x)}),s.forEach(x=>{d.has(x)||w.push(x)}),this.syncEngine.Wr(g,w).then(()=>{this.gr=r})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Tk();return t.forEach((r,s)=>{e=e.unionWith(s.activeTargetIds)}),e}}class Hz{constructor(){this.Hr=new lA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,r){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new lA,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UW{Yr(t){}shutdown(){}}class Pz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let MC=null;function dA(){return null===MC?MC=268435456+Math.round(2147483648*Math.random()):MC++,"0x"+MC.toString(16)}const GW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qW{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const W1="WebChannelConnection";class $W extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,r,s,d){const g=dA(),w=this.To(t,e);c("RestConnection",`Sending RPC '${t}' ${g}:`,w,r);const x={};return this.Eo(x,s,d),this.Ao(t,w,x,r).then(z=>(c("RestConnection",`Received RPC '${t}' ${g}: `,z),z),z=>{throw p("RestConnection",`RPC '${t}' ${g} failed with error: `,z,"url: ",w,"request:",r),z})}vo(t,e,r,s,d,g){return this.Io(t,e,r,s,d)}Eo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+v,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,d)=>t[d]=s),r&&r.headers.forEach((s,d)=>t[d]=s)}To(t,e){return`${this.mo}/v1/${e}:${GW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,r,s){const d=dA();return new Promise((g,w)=>{const x=new f;x.setWithCredentials(!0),x.listenOnce(V9.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case N9.NO_ERROR:const N=x.getResponseJson();c(W1,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(N)),g(N);break;case N9.TIMEOUT:c(W1,`RPC '${t}' ${d} timed out`),w(new V(T.DEADLINE_EXCEEDED,"Request time out"));break;case N9.HTTP_ERROR:const P=x.getStatus();if(c(W1,`RPC '${t}' ${d} failed with status:`,P,"response text:",x.getResponseText()),P>0){let W=x.getResponseJson();Array.isArray(W)&&(W=W[0]);const K=W?.error;if(K&&K.status&&K.message){const ie=function(de){const ve=de.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(ve)>=0?ve:T.UNKNOWN}(K.status);w(new V(ie,K.message))}else w(new V(T.UNKNOWN,"Server responded with status "+x.getStatus()))}else w(new V(T.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{c(W1,`RPC '${t}' ${d} completed.`)}});const z=JSON.stringify(s);c(W1,`RPC '${t}' ${d} sending request:`,s),x.send(e,"POST",z,r,15)})}Ro(t,e,r){const s=dA(),d=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],g=W_(),w=L9(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(x.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(x.xmlHttpFactory=new qy({})),this.Eo(x.initMessageHeaders,e,r),x.encodeInitMessageHeaders=!0;const N=d.join("");c(W1,`Creating RPC '${t}' stream ${s}: ${N}`,x);const P=g.createWebChannel(N,x);let W=!1,K=!1;const ie=new qW({ro:ve=>{K?c(W1,`Not sending because RPC '${t}' stream ${s} is closed:`,ve):(W||(c(W1,`Opening RPC '${t}' stream ${s} transport.`),P.open(),W=!0),c(W1,`RPC '${t}' stream ${s} sending:`,ve),P.send(ve))},oo:()=>P.close()}),de=(ve,Ve,tt)=>{ve.listen(Ve,st=>{try{tt(st)}catch(ft){setTimeout(()=>{throw ft},0)}})};return de(P,a5.EventType.OPEN,()=>{K||c(W1,`RPC '${t}' stream ${s} transport opened.`)}),de(P,a5.EventType.CLOSE,()=>{K||(K=!0,c(W1,`RPC '${t}' stream ${s} transport closed`),ie.wo())}),de(P,a5.EventType.ERROR,ve=>{K||(K=!0,p(W1,`RPC '${t}' stream ${s} transport errored:`,ve),ie.wo(new V(T.UNAVAILABLE,"The operation could not be completed")))}),de(P,a5.EventType.MESSAGE,ve=>{var Ve;if(!K){const tt=ve.data[0];A(!!tt);const ft=tt.error||(null===(Ve=tt[0])||void 0===Ve?void 0:Ve.error);if(ft){c(W1,`RPC '${t}' stream ${s} received error:`,ft);const Dt=ft.status;let Ct=function(Ki){const Fr=rs[Ki];if(void 0!==Fr)return ID(Fr)}(Dt),sn=ft.message;void 0===Ct&&(Ct=T.INTERNAL,sn="Unknown error status: "+Dt+" with message "+ft.message),K=!0,ie.wo(new V(Ct,sn)),P.close()}else c(W1,`RPC '${t}' stream ${s} received:`,tt),ie._o(tt)}}),de(w,Ig.STAT_EVENT,ve=>{ve.stat===Z_.PROXY?c(W1,`RPC '${t}' stream ${s} detected buffering proxy`):ve.stat===Z_.NOPROXY&&c(W1,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ie.fo()},0),ie}}function Rz(){return typeof window<"u"?window:null}function xC(){return typeof document<"u"?document:null}function xb(n){return new nW(n,!0)}class hA{constructor(t,e,r=1e3,s=1.5,d=6e4){this.ii=t,this.timerId=e,this.Po=r,this.bo=s,this.Vo=d,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,e-r);s>0&&c("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Oz{constructor(t,e,r,s,d,g,w,x){this.ii=t,this.$o=r,this.Oo=s,this.connection=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hA(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,De.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,De.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var r=this;return(0,De.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==t?r.qo.reset():e&&e.code===T.RESOURCE_EXHAUSTED?(u(e.toString()),u("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):e&&e.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===e&&this.Zo(r,s)},r=>{t(()=>{const s=new V(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(t,e){const r=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var t=this;this.state=5,this.qo.No((0,De.Z)(function*(){t.state=0,t.start()}))}tu(t){return c("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WW extends Oz{constructor(t,e,r,s,d,g){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,g),this.serializer=d}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function oW(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(x=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:y(),s=t.targetChange.targetIds||[],d=function(x,z){return x.useProto3Json?(A(void 0===z||"string"==typeof z),Ms.fromBase64String(z||"")):(A(void 0===z||z instanceof Uint8Array),Ms.fromUint8Array(z||new Uint8Array))}(n,t.targetChange.resumeToken),g=t.targetChange.cause,w=g&&function(x){const z=void 0===x.code?T.UNKNOWN:ID(x.code);return new V(z,x.message||"")}(g);e=new HD(r,s,d,w||null)}else if("documentChange"in t){const r=t.documentChange,s=du(n,r.document.name),d=qo(r.document.updateTime),g=r.document.createTime?qo(r.document.createTime):Ut.min(),w=new y1({mapValue:{fields:r.document.fields}}),x=br.newFoundDocument(s,d,g,w);e=new uC(r.targetIds||[],r.removedTargetIds||[],x.key,x)}else if("documentDelete"in t){const r=t.documentDelete,s=du(n,r.document),d=r.readTime?qo(r.readTime):Ut.min(),g=br.newNoDocument(s,d);e=new uC([],r.removedTargetIds||[],g.key,g)}else if("documentRemove"in t){const r=t.documentRemove,s=du(n,r.document);e=new uC([],r.removedTargetIds||[],s,null)}else{if(!("filter"in t))return y();{const r=t.filter,{count:s=0,unchangedNames:d}=r,g=new K$(s,d);e=new VD(r.targetId,g)}}var x;return e}(this.serializer,t),r=function(s){if(!("targetChange"in s))return Ut.min();const d=s.targetChange;return d.targetIds&&d.targetIds.length?Ut.min():d.readTime?qo(d.readTime):Ut.min()}(t);return this.listener.nu(e,r)}su(t){const e={};e.database=gb(this.serializer),e.addTarget=function(s,d){let g;const w=d.target;if(g=nC(w)?{documents:$D(s,w)}:{query:Uk(s,w)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=FD(s,d.resumeToken);const x=Ok(s,d.expectedCount);null!==x&&(g.expectedCount=x)}else if(d.snapshotVersion.compareTo(Ut.min())>0){g.readTime=Bg(s,d.snapshotVersion.toTimestamp());const x=Ok(s,d.expectedCount);null!==x&&(g.expectedCount=x)}return g}(this.serializer,t);const r=function aW(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.Wo(e)}iu(t){const e={};e.database=gb(this.serializer),e.removeTarget=t,this.Wo(e)}}class ZW extends Oz{constructor(t,e,r,s,d,g){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,g),this.serializer=d,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(A(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function sW(n,t){return n&&n.length>0?(A(void 0!==t),n.map(e=>function(r,s){let d=qo(r.updateTime?r.updateTime:s);return d.isEqual(Ut.min())&&(d=qo(s)),new $$(d,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=qo(t.commitTime);return this.listener.cu(r,e)}return A(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=gb(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>vb(this.serializer,r))};this.Wo(e)}}class YW extends class{}{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new V(T.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,d])=>this.connection.Io(t,e,r,s,d)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(T.UNKNOWN,s.toString())})}vo(t,e,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.vo(t,e,r,d,g,s)).catch(d=>{throw"FirebaseError"===d.name?(d.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new V(T.UNKNOWN,d.toString())})}terminate(){this.lu=!0}}class QW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(u(e),this.mu=!1):c("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JW{constructor(t,e,r,s,d){var g=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=d,this.Pu.Yr(w=>{r.enqueueAndForget((0,De.Z)(function*(){var x;Qh(g)&&(c("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,De.Z)(function*(z){const N=E(z);N.vu.add(4),yield Wg(N),N.bu.set("Unknown"),N.vu.delete(4),yield Sb(N)}),function(z){return x.apply(this,arguments)})(g))}))}),this.bu=new QW(r,s)}}function Sb(n){return mA.apply(this,arguments)}function mA(){return mA=(0,De.Z)(function*(n){if(Qh(n))for(const t of n.Ru)yield t(!0)}),mA.apply(this,arguments)}function Wg(n){return pA.apply(this,arguments)}function pA(){return pA=(0,De.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),pA.apply(this,arguments)}function SC(n,t){const e=E(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),_A(e)?vA(e):Yg(e).Ko()&&gA(e,t))}function Eb(n,t){const e=E(n),r=Yg(e);e.Au.delete(t),r.Ko()&&Fz(e,t),0===e.Au.size&&(r.Ko()?r.jo():Qh(e)&&e.bu.set("Unknown"))}function gA(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yg(n).su(t)}function Fz(n,t){n.Vu.qt(t),Yg(n).iu(t)}function vA(n){n.Vu=new J$({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),Yg(n).start(),n.bu.gu()}function _A(n){return Qh(n)&&!Yg(n).Uo()&&n.Au.size>0}function Qh(n){return 0===E(n).vu.size}function Bz(n){n.Vu=void 0}function XW(n){return bA.apply(this,arguments)}function bA(){return bA=(0,De.Z)(function*(n){n.Au.forEach((t,e)=>{gA(n,t)})}),bA.apply(this,arguments)}function eZ(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,De.Z)(function*(n,t){Bz(n),_A(n)?(n.bu.Iu(t),vA(n)):n.bu.set("Unknown")}),yA.apply(this,arguments)}function tZ(n,t,e){return CA.apply(this,arguments)}function CA(){return CA=(0,De.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof HD&&2===t.state&&t.cause)try{yield(r=(0,De.Z)(function*(s,d){const g=d.cause;for(const w of d.targetIds)s.Au.has(w)&&(yield s.remoteSyncer.rejectListen(w,g),s.Au.delete(w),s.Vu.removeTarget(w))}),function(s,d){return r.apply(this,arguments)})(n,t)}catch(r){c("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield EC(n,r)}else if(t instanceof uC?n.Vu.Ht(t):t instanceof VD?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Ut.min()))try{const r=yield Dz(n.localStore);e.compareTo(r)>=0&&(yield function(s,d){const g=s.Vu.ce(d);return g.targetChanges.forEach((w,x)=>{if(w.resumeToken.approximateByteSize()>0){const z=s.Au.get(x);z&&s.Au.set(x,z.withResumeToken(w.resumeToken,d))}}),g.targetMismatches.forEach((w,x)=>{const z=s.Au.get(w);if(!z)return;s.Au.set(w,z.withResumeToken(Ms.EMPTY_BYTE_STRING,z.snapshotVersion)),Fz(s,w);const N=new f5(z.target,w,x,z.sequenceNumber);gA(s,N)}),s.remoteSyncer.applyRemoteEvent(g)}(n,e))}catch(r){c("RemoteStore","Failed to raise snapshot:",r),yield EC(n,r)}var r}),CA.apply(this,arguments)}function EC(n,t,e){return wA.apply(this,arguments)}function wA(){return wA=(0,De.Z)(function*(n,t,e){if(!Oh(t))throw t;n.vu.add(1),yield Wg(n),n.bu.set("Offline"),e||(e=()=>Dz(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){c("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Sb(n)}))}),wA.apply(this,arguments)}function jz(n,t){return t().catch(e=>EC(n,e,t))}function Zg(n){return kA.apply(this,arguments)}function kA(){return kA=(0,De.Z)(function*(n){const t=E(n),e=Jh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;nZ(t);)try{const s=yield FW(t.localStore,r);if(null===s){0===t.Eu.length&&e.jo();break}r=s.batchId,iZ(t,s)}catch(s){yield EC(t,s)}Uz(t)&&Gz(t)}),kA.apply(this,arguments)}function nZ(n){return Qh(n)&&n.Eu.length<10}function iZ(n,t){n.Eu.push(t);const e=Jh(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function Uz(n){return Qh(n)&&!Jh(n).Uo()&&n.Eu.length>0}function Gz(n){Jh(n).start()}function rZ(n){return AA.apply(this,arguments)}function AA(){return AA=(0,De.Z)(function*(n){Jh(n).hu()}),AA.apply(this,arguments)}function oZ(n){return MA.apply(this,arguments)}function MA(){return MA=(0,De.Z)(function*(n){const t=Jh(n);for(const e of n.Eu)t.uu(e.mutations)}),MA.apply(this,arguments)}function sZ(n,t,e){return xA.apply(this,arguments)}function xA(){return xA=(0,De.Z)(function*(n,t,e){const r=n.Eu.shift(),s=Vk.from(r,t,e);yield jz(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Zg(n)}),xA.apply(this,arguments)}function aZ(n,t){return SA.apply(this,arguments)}function SA(){return SA=(0,De.Z)(function*(n,t){var e;t&&Jh(n).ou&&(yield(e=(0,De.Z)(function*(r,s){if(zD(d=s.code)&&d!==T.ABORTED){const g=r.Eu.shift();Jh(r).Qo(),yield jz(r,()=>r.remoteSyncer.rejectFailedWrite(g.batchId,s)),yield Zg(r)}var d}),function(r,s){return e.apply(this,arguments)})(n,t)),Uz(n)&&Gz(n)}),SA.apply(this,arguments)}function qz(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,De.Z)(function*(n,t){const e=E(n);e.asyncQueue.verifyOperationInProgress(),c("RemoteStore","RemoteStore received new credentials");const r=Qh(e);e.vu.add(3),yield Wg(e),r&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Sb(e)}),EA.apply(this,arguments)}function DA(n,t){return zA.apply(this,arguments)}function zA(){return zA=(0,De.Z)(function*(n,t){const e=E(n);t?(e.vu.delete(2),yield Sb(e)):t||(e.vu.add(2),yield Wg(e),e.bu.set("Unknown"))}),zA.apply(this,arguments)}function Yg(n){return n.Su||(n.Su=function(t,e,r){const s=E(t);return s.fu(),new WW(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:XW.bind(null,n),ao:eZ.bind(null,n),nu:tZ.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Su.Qo(),_A(n)?vA(n):n.bu.set("Unknown")):(yield n.Su.stop(),Bz(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Jh(n){return n.Du||(n.Du=function(t,e,r){const s=E(t);return s.fu(),new ZW(e,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:rZ.bind(null,n),ao:aZ.bind(null,n),au:oZ.bind(null,n),cu:sZ.bind(null,n)}),n.Ru.push(function(){var t=(0,De.Z)(function*(e){e?(n.Du.Qo(),yield Zg(n)):(yield n.Du.stop(),n.Eu.length>0&&(c("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class IA{constructor(t,e,r,s,d){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=d,this.deferred=new B,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(t,e,r,s,d){const g=Date.now()+r,w=new IA(t,e,g,s,d);return w.start(r),w}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(n,t){if(u("AsyncQueue",`${t}: ${n}`),Oh(n))return new V(T.UNAVAILABLE,`${t}: ${n}`);throw n}class Qg{constructor(t){this.comparator=t?(e,r)=>t(e,r)||bt.comparator(e.key,r.key):(e,r)=>bt.comparator(e.key,r.key),this.keyedMap=cb(),this.sortedSet=new ar(this.comparator)}static emptySet(t){return new Qg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Qg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,d=r.getNext().key;if(!s.isEqual(d))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Qg;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class $z{constructor(){this.Cu=new ar(bt.comparator)}track(t){const e=t.doc.key,r=this.Cu.get(e);r?0!==t.type&&3===r.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==r.type?this.Cu=this.Cu.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Cu=this.Cu.remove(e):1===t.type&&2===r.type?this.Cu=this.Cu.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):y():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,r)=>{t.push(r)}),t}}class Jg{constructor(t,e,r,s,d,g,w,x,z){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=z}static fromInitialDocuments(t,e,r,s,d){const g=[];return e.forEach(w=>{g.push({type:0,doc:w})}),new Jg(t,e,Qg.emptySet(e),g,r,s,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}class cZ{constructor(){this.Nu=void 0,this.listeners=[]}}class lZ{constructor(){this.queries=new d5(t=>dD(t),sb),this.onlineState="Unknown",this.ku=new Set}}function TA(n,t){return LA.apply(this,arguments)}function LA(){return LA=(0,De.Z)(function*(n,t){const e=E(n),r=t.query;let s=!1,d=e.queries.get(r);if(d||(s=!0,d=new cZ),s)try{d.Nu=yield e.onListen(r)}catch(g){const w=Kg(g,`Initialization of query '${Ik(t.query)}' failed`);return void t.onError(w)}e.queries.set(r,d),d.listeners.push(t),t.Mu(e.onlineState),d.Nu&&t.$u(d.Nu)&&HA(e)}),LA.apply(this,arguments)}function NA(n,t){return VA.apply(this,arguments)}function VA(){return VA=(0,De.Z)(function*(n,t){const e=E(n),r=t.query;let s=!1;const d=e.queries.get(r);if(d){const g=d.listeners.indexOf(t);g>=0&&(d.listeners.splice(g,1),s=0===d.listeners.length)}if(s)return e.queries.delete(r),e.onUnlisten(r)}),VA.apply(this,arguments)}function uZ(n,t){const e=E(n);let r=!1;for(const s of t){const g=e.queries.get(s.query);if(g){for(const w of g.listeners)w.$u(s)&&(r=!0);g.Nu=s}}r&&HA(e)}function dZ(n,t,e){const r=E(n),s=r.queries.get(t);if(s)for(const d of s.listeners)d.onError(e);r.queries.delete(t)}function HA(n){n.ku.forEach(t=>{t.next()})}class PA{constructor(t,e,r){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)3!==s.type&&r.push(s);t=new Jg(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Jg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class hZ{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Wz{constructor(t){this.serializer=t}rr(t){return du(this.serializer,t)}ur(t){return t.metadata.exists?qD(this.serializer,t.document,!1):br.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return qo(t)}}class fZ{constructor(t,e,r){this.ju=t,this.localStore=e,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zz(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const r=ei.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,r=new Wz(this.serializer);for(const s of t)if(s.metadata.queries){const d=r.rr(s.metadata.name);for(const g of s.metadata.queries){const w=(e.get(g)||kn()).add(d);e.set(g,w)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function BW(n,t,e,r){return oA.apply(this,arguments)}(t.localStore,new Wz(t.serializer),t.documents,t.ju.id),r=t.Wu(t.documents);for(const s of t.queries)yield jW(t.localStore,s,r.get(s.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function Zz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Yz{constructor(t){this.key=t}}class Kz{constructor(t){this.key=t}}class Qz{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=kn(),this.mutatedKeys=kn(),this.tc=fD(t),this.ec=new Qg(this.tc)}get nc(){return this.Yu}sc(t,e){const r=e?e.ic:new $z,s=e?e.ec:this.ec;let d=e?e.mutatedKeys:this.mutatedKeys,g=s,w=!1;const x="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,z="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((N,P)=>{const W=s.get(N),K=ab(this.query,P)?P:null,ie=!!W&&this.mutatedKeys.has(W.key),de=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ve=!1;W&&K?W.data.isEqual(K.data)?ie!==de&&(r.track({type:3,doc:K}),ve=!0):this.rc(W,K)||(r.track({type:2,doc:K}),ve=!0,(x&&this.tc(K,x)>0||z&&this.tc(K,z)<0)&&(w=!0)):!W&&K?(r.track({type:0,doc:K}),ve=!0):W&&!K&&(r.track({type:1,doc:W}),ve=!0,(x||z)&&(w=!0)),ve&&(K?(g=g.add(K),d=de?d.add(N):d.delete(N)):(g=g.delete(N),d=d.delete(N)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const N="F"===this.query.limitType?g.last():g.first();g=g.delete(N.key),d=d.delete(N.key),r.track({type:1,doc:N})}return{ec:g,ic:r,zi:w,mutatedKeys:d}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const s=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const d=t.ic.xu();d.sort((z,N)=>function(P,W){const K=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return K(P)-K(W)}(z.type,N.type)||this.tc(z.doc,N.doc)),this.oc(r);const g=e?this.uc():[],w=0===this.Zu.size&&this.current?1:0,x=w!==this.Xu;return this.Xu=w,0!==d.length||x?{snapshot:new Jg(this.query,t.ec,s,d,t.mutatedKeys,0===w,x,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:g}:{cc:g}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $z,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=kn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const e=[];return t.forEach(r=>{this.Zu.has(r)||e.push(new Kz(r))}),this.Zu.forEach(r=>{t.has(r)||e.push(new Yz(r))}),e}hc(t){this.Yu=t.ir,this.Zu=kn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Jg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class mZ{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class pZ{constructor(t){this.key=t,this.fc=!1}}class gZ{constructor(t,e,r,s,d,g){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.dc={},this.wc=new d5(w=>dD(w),sb),this._c=new Map,this.mc=new Set,this.gc=new ar(bt.comparator),this.yc=new Map,this.Ic=new Qk,this.Tc={},this.Ec=new Map,this.Ac=Z9.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function vZ(n,t){return RA.apply(this,arguments)}function RA(){return RA=(0,De.Z)(function*(n,t){const e=aM(n);let r,s;const d=e.wc.get(t);if(d)r=d.targetId,e.sharedClientState.addLocalQueryTarget(r),s=d.view.lc();else{const g=yield qg(e.localStore,ja(t)),w=e.sharedClientState.addLocalQueryTarget(g.targetId);r=g.targetId,s=yield OA(e,t,r,"current"===w,g.resumeToken),e.isPrimaryClient&&SC(e.remoteStore,g)}return s}),RA.apply(this,arguments)}function OA(n,t,e,r,s){return FA.apply(this,arguments)}function FA(){return FA=(0,De.Z)(function*(n,t,e,r,s){n.Rc=(P,W,K)=>{return(ie=(0,De.Z)(function*(de,ve,Ve,tt){let st=ve.view.sc(Ve);st.zi&&(st=yield wC(de.localStore,ve.query,!1).then(({documents:Ct})=>ve.view.sc(Ct,st)));const ft=tt&&tt.targetChanges.get(ve.targetId),Dt=ve.view.applyChanges(st,de.isPrimaryClient,ft);return KA(de,ve.targetId,Dt.cc),Dt.snapshot}),function(de,ve,Ve,tt){return ie.apply(this,arguments)})(n,P,W,K);var ie};const d=yield wC(n.localStore,t,!0),g=new Qz(t,d.ir),w=g.sc(d.documents),x=mb.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,s),z=g.applyChanges(w,n.isPrimaryClient,x);KA(n,e,z.cc);const N=new mZ(t,e,g);return n.wc.set(t,N),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),z.snapshot}),FA.apply(this,arguments)}function _Z(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,De.Z)(function*(n,t){const e=E(n),r=e.wc.get(t),s=e._c.get(r.targetId);if(s.length>1)return e._c.set(r.targetId,s.filter(d=>!sb(d,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $g(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),Eb(e.remoteStore,r.targetId),Xg(e,r.targetId)}).catch(Rh))):(Xg(e,r.targetId),yield $g(e.localStore,r.targetId,!0))}),BA.apply(this,arguments)}function jA(){return jA=(0,De.Z)(function*(n,t,e){const r=cM(n);try{const s=yield function(d,g){const w=E(d),x=Pr.now(),z=g.reduce((W,K)=>W.add(K.key),kn());let N,P;return w.persistence.runTransaction("Locally write mutations","readwrite",W=>{let K=K2(),ie=kn();return w.Zi.getEntries(W,z).next(de=>{K=de,K.forEach((ve,Ve)=>{Ve.isValidDocument()||(ie=ie.add(ve))})}).next(()=>w.localDocuments.getOverlayedDocuments(W,K)).next(de=>{N=de;const ve=[];for(const Ve of g){const tt=Z$(Ve,N.get(Ve.key).overlayedDocument);null!=tt&&ve.push(new h5(Ve.key,tt,QE(tt.value.mapValue),Rr.exists(!0)))}return w.mutationQueue.addMutationBatch(W,x,ve,g)}).next(de=>{P=de;const ve=de.applyToLocalDocumentSet(N,ie);return w.documentOverlayCache.saveOverlays(W,de.batchId,ve)})}).then(()=>({batchId:P.batchId,changes:pD(N)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(d,g,w){let x=d.Tc[d.currentUser.toKey()];x||(x=new ar(Kt)),x=x.insert(g,w),d.Tc[d.currentUser.toKey()]=x}(r,s.batchId,e),yield m5(r,s.changes),yield Zg(r.remoteStore)}catch(s){const d=Kg(s,"Failed to persist write");e.reject(d)}}),jA.apply(this,arguments)}function Jz(n,t){return UA.apply(this,arguments)}function UA(){return UA=(0,De.Z)(function*(n,t){const e=E(n);try{const r=yield function OW(n,t){const e=E(n),r=t.snapshotVersion;let s=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=e.Zi.newChangeBuffer({trackRemovals:!0});s=e.Ji;const w=[];t.targetChanges.forEach((N,P)=>{const W=s.get(P);if(!W)return;w.push(e.Bs.removeMatchingKeys(d,N.removedDocuments,P).next(()=>e.Bs.addMatchingKeys(d,N.addedDocuments,P)));let K=W.withSequenceNumber(d.currentSequenceNumber);var ie,de,ve;null!==t.targetMismatches.get(P)?K=K.withResumeToken(Ms.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):N.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(N.resumeToken,r)),s=s.insert(P,K),de=K,ve=N,(0===(ie=W).resumeToken.approximateByteSize()||de.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&w.push(e.Bs.updateTargetData(d,K))});let x=K2(),z=kn();if(t.documentUpdates.forEach(N=>{t.resolvedLimboDocuments.has(N)&&w.push(e.persistence.referenceDelegate.updateLimboDocument(d,N))}),w.push(zz(d,g,t.documentUpdates).next(N=>{x=N.nr,z=N.sr})),!r.isEqual(Ut.min())){const N=e.Bs.getLastRemoteSnapshotVersion(d).next(P=>e.Bs.setTargetsMetadata(d,d.currentSequenceNumber,r));w.push(N)}return Ae.waitFor(w).next(()=>g.apply(d)).next(()=>e.localDocuments.getLocalViewOfDocuments(d,x,z)).next(()=>x)}).then(d=>(e.Ji=s,d))}(e.localStore,t);t.targetChanges.forEach((s,d)=>{const g=e.yc.get(d);g&&(A(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?g.fc=!0:s.modifiedDocuments.size>0?A(g.fc):s.removedDocuments.size>0&&(A(g.fc),g.fc=!1))}),yield m5(e,r,t)}catch(r){yield Rh(r)}}),UA.apply(this,arguments)}function Xz(n,t,e){const r=E(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const s=[];r.wc.forEach((d,g)=>{const w=g.view.Mu(t);w.snapshot&&s.push(w.snapshot)}),function(d,g){const w=E(d);w.onlineState=g;let x=!1;w.queries.forEach((z,N)=>{for(const P of N.listeners)P.Mu(g)&&(x=!0)}),x&&HA(w)}(r.eventManager,t),s.length&&r.dc.nu(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yZ(n,t,e){return GA.apply(this,arguments)}function GA(){return GA=(0,De.Z)(function*(n,t,e){const r=E(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.yc.get(t),d=s&&s.key;if(d){let g=new ar(bt.comparator);g=g.insert(d,br.newNoDocument(d,Ut.min()));const w=kn().add(d),x=new fb(Ut.min(),new Map,new ar(Kt),g,w);yield Jz(r,x),r.gc=r.gc.remove(d),r.yc.delete(t),QA(r)}else yield $g(r.localStore,t,!1).then(()=>Xg(r,t,e)).catch(Rh)}),GA.apply(this,arguments)}function CZ(n,t){return qA.apply(this,arguments)}function qA(){return qA=(0,De.Z)(function*(n,t){const e=E(n),r=t.batch.batchId;try{const s=yield function RW(n,t){const e=E(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),d=e.Zi.newChangeBuffer({trackRemovals:!0});return function(g,w,x,z){const N=x.batch,P=N.keys();let W=Ae.resolve();return P.forEach(K=>{W=W.next(()=>z.getEntry(w,K)).next(ie=>{const de=x.docVersions.get(K);A(null!==de),ie.version.compareTo(de)<0&&(N.applyToRemoteDocument(ie,x),ie.isValidDocument()&&(ie.setReadTime(x.commitVersion),z.addEntry(ie)))})}),W.next(()=>g.mutationQueue.removeMutationBatch(w,N))}(e,r,t,d).next(()=>d.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let w=kn();for(let x=0;x<g.mutationResults.length;++x)g.mutationResults[x].transformResults.length>0&&(w=w.add(g.batch.mutations[x].key));return w}(t))).next(()=>e.localDocuments.getDocuments(r,s))})}(e.localStore,t);YA(e,r,null),ZA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield m5(e,s)}catch(s){yield Rh(s)}}),qA.apply(this,arguments)}function wZ(n,t,e){return $A.apply(this,arguments)}function $A(){return $A=(0,De.Z)(function*(n,t,e){const r=E(n);try{const s=yield function(d,g){const w=E(d);return w.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let z;return w.mutationQueue.lookupMutationBatch(x,g).next(N=>(A(null!==N),z=N.keys(),w.mutationQueue.removeMutationBatch(x,N))).next(()=>w.mutationQueue.performConsistencyCheck(x)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(x,z,g)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,z)).next(()=>w.localDocuments.getDocuments(x,z))})}(r.localStore,t);YA(r,t,e),ZA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield m5(r,s)}catch(s){yield Rh(s)}}),$A.apply(this,arguments)}function WA(){return WA=(0,De.Z)(function*(n,t){const e=E(n);Qh(e.remoteStore)||c("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const g=E(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>g.mutationQueue.getHighestUnacknowledgedBatchId(w))}(e.localStore);if(-1===r)return void t.resolve();const s=e.Ec.get(r)||[];s.push(t),e.Ec.set(r,s)}catch(r){const s=Kg(r,"Initialization of waitForPendingWrites() operation failed");t.reject(s)}}),WA.apply(this,arguments)}function ZA(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function YA(n,t,e){const r=E(n);let s=r.Tc[r.currentUser.toKey()];if(s){const d=s.get(t);d&&(e?d.reject(e):d.resolve(),s=s.remove(t)),r.Tc[r.currentUser.toKey()]=s}}function Xg(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n._c.get(t))n.wc.delete(r),e&&n.dc.Pc(r,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(r=>{n.Ic.containsKey(r)||eI(n,r)})}function eI(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Eb(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),QA(n))}function KA(n,t,e){for(const r of e)r instanceof Yz?(n.Ic.addReference(r.key,t),AZ(n,r)):r instanceof Kz?(c("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,t),n.Ic.containsKey(r.key)||eI(n,r.key)):y()}function AZ(n,t){const e=t.key,r=e.path.canonicalString();n.gc.get(e)||n.mc.has(r)||(c("SyncEngine","New document in limbo: "+e),n.mc.add(r),QA(n))}function QA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new bt(ei.fromString(t)),r=n.Ac.next();n.yc.set(r,new pZ(e)),n.gc=n.gc.insert(e,r),SC(n.remoteStore,new f5(ja(Hg(e.path)),r,"TargetPurposeLimboResolution",Kc.ct))}}function m5(n,t,e){return JA.apply(this,arguments)}function JA(){return JA=(0,De.Z)(function*(n,t,e){const r=E(n),s=[],d=[],g=[];var w;r.wc.isEmpty()||(r.wc.forEach((w,x)=>{g.push(r.Rc(x,t,e).then(z=>{if((z||e)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(x.targetId,z?.fromCache?"not-current":"current"),z){s.push(z);const N=nA.Li(x.targetId,z);d.push(N)}}))}),yield Promise.all(g),r.dc.nu(s),yield(w=(0,De.Z)(function*(x,z){const N=E(x);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Ae.forEach(z,W=>Ae.forEach(W.Fi,K=>N.persistence.referenceDelegate.addReference(P,W.targetId,K)).next(()=>Ae.forEach(W.Bi,K=>N.persistence.referenceDelegate.removeReference(P,W.targetId,K)))))}catch(P){if(!Oh(P))throw P;c("LocalStore","Failed to update sequence numbers: "+P)}for(const P of z){const W=P.targetId;if(!P.fromCache){const K=N.Ji.get(W),de=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);N.Ji=N.Ji.insert(W,de)}}}),function(x,z){return w.apply(this,arguments)})(r.localStore,d))}),JA.apply(this,arguments)}function MZ(n,t){return XA.apply(this,arguments)}function XA(){return XA=(0,De.Z)(function*(n,t){const e=E(n);if(!e.currentUser.isEqual(t)){c("SyncEngine","User change. New user:",t.toKey());const r=yield Ez(e.localStore,t);e.currentUser=t,(s=e).Ec.forEach(g=>{g.forEach(w=>{w.reject(new V(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield m5(e,r.er)}var s}),XA.apply(this,arguments)}function xZ(n,t){const e=E(n),r=e.yc.get(t);if(r&&r.fc)return kn().add(r.key);{let s=kn();const d=e._c.get(t);if(!d)return s;for(const g of d){const w=e.wc.get(g);s=s.unionWith(w.view.nc)}return s}}function SZ(n,t){return eM.apply(this,arguments)}function eM(){return eM=(0,De.Z)(function*(n,t){const e=E(n),r=yield wC(e.localStore,t.query,!0),s=t.view.hc(r);return e.isPrimaryClient&&KA(e,t.targetId,s.cc),s}),eM.apply(this,arguments)}function EZ(n,t){return tM.apply(this,arguments)}function tM(){return tM=(0,De.Z)(function*(n,t){const e=E(n);return Tz(e.localStore,t).then(r=>m5(e,r))}),tM.apply(this,arguments)}function DZ(n,t,e,r){return nM.apply(this,arguments)}function nM(){return nM=(0,De.Z)(function*(n,t,e,r){const s=E(n),d=yield function(g,w){const x=E(g),z=E(x.mutationQueue);return x.persistence.runTransaction("Lookup mutation documents","readonly",N=>z.Sn(N,w).next(P=>P?x.localDocuments.getDocuments(N,P):Ae.resolve(null)))}(s.localStore,t);var w;null!==d?("pending"===e?yield Zg(s.remoteStore):"acknowledged"===e||"rejected"===e?(YA(s,t,r||null),ZA(s,t),w=t,E(E(s.localStore).mutationQueue).Cn(w)):y(),yield m5(s,d)):c("SyncEngine","Cannot apply mutation batch with id: "+t)}),nM.apply(this,arguments)}function iM(){return iM=(0,De.Z)(function*(n,t){const e=E(n);if(aM(e),cM(e),!0===t&&!0!==e.vc){const r=e.sharedClientState.getAllActiveQueryTargets(),s=yield tI(e,r.toArray());e.vc=!0,yield DA(e.remoteStore,!0);for(const d of s)SC(e.remoteStore,d)}else if(!1===t&&!1!==e.vc){const r=[];let s=Promise.resolve();e._c.forEach((d,g)=>{e.sharedClientState.isLocalQueryTarget(g)?r.push(g):s=s.then(()=>(Xg(e,g),$g(e.localStore,g,!0))),Eb(e.remoteStore,g)}),yield s,yield tI(e,r),function(d){const g=E(d);g.yc.forEach((w,x)=>{Eb(g.remoteStore,x)}),g.Ic.Ts(),g.yc=new Map,g.gc=new ar(bt.comparator)}(e),e.vc=!1,yield DA(e.remoteStore,!1)}}),iM.apply(this,arguments)}function tI(n,t,e){return rM.apply(this,arguments)}function rM(){return rM=(0,De.Z)(function*(n,t,e){const r=E(n),s=[],d=[];for(const g of t){let w;const x=r._c.get(g);if(x&&0!==x.length){w=yield qg(r.localStore,ja(x[0]));for(const z of x){const N=r.wc.get(z),P=yield SZ(r,N);P.snapshot&&d.push(P.snapshot)}}else{const z=yield Iz(r.localStore,g);w=yield qg(r.localStore,z),yield OA(r,nI(z),g,!1,w.resumeToken)}s.push(w)}return r.dc.nu(d),s}),rM.apply(this,arguments)}function nI(n){return lD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function IZ(n){const t=E(n);return E(E(t.localStore).persistence).$i()}function TZ(n,t,e,r){return oM.apply(this,arguments)}function oM(){return oM=(0,De.Z)(function*(n,t,e,r){const s=E(n);if(s.vc)return void c("SyncEngine","Ignoring unexpected query state notification.");const d=s._c.get(t);if(d&&d.length>0)switch(e){case"current":case"not-current":{const g=yield Tz(s.localStore,hD(d[0])),w=fb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ms.EMPTY_BYTE_STRING);yield m5(s,g,w);break}case"rejected":yield $g(s.localStore,t,!0),Xg(s,t,r);break;default:y()}}),oM.apply(this,arguments)}function LZ(n,t,e){return sM.apply(this,arguments)}function sM(){return sM=(0,De.Z)(function*(n,t,e){const r=aM(n);if(r.vc){for(const s of t){if(r._c.has(s)){c("SyncEngine","Adding an already active target "+s);continue}const d=yield Iz(r.localStore,s),g=yield qg(r.localStore,d);yield OA(r,nI(d),g.targetId,!1,g.resumeToken),SC(r.remoteStore,g)}for(const s of e)r._c.has(s)&&(yield $g(r.localStore,s,!1).then(()=>{Eb(r.remoteStore,s),Xg(r,s)}).catch(Rh))}}),sM.apply(this,arguments)}function aM(n){const t=E(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xZ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yZ.bind(null,t),t.dc.nu=uZ.bind(null,t.eventManager),t.dc.Pc=dZ.bind(null,t.eventManager),t}function cM(n){const t=E(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CZ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wZ.bind(null,t),t}class Db{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.serializer=xb(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return Sz(this.persistence,new xz,t.initialUser,this.serializer)}createPersistence(t){return new Jk(bC.zs,this.serializer)}createSharedClientState(t){return new Hz}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class lM extends Db{constructor(t,e,r){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield e().call(r,t),yield r.Vc.initialize(r,t),yield cM(r.Vc.syncEngine),yield Zg(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Sz(this.persistence,new xz,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new vz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const r=new s$(e,this.persistence);return new o$(t.asyncQueue,r)}createPersistence(t){const e=tA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?$1.withCacheSize(this.cacheSizeBytes):$1.DEFAULT;return new eA(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,Rz(),xC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Hz}}class iI extends lM{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,De.Z)(function*(){yield e().call(r,t);const s=r.Vc.syncEngine;r.sharedClientState instanceof uA&&(r.sharedClientState.syncEngine={jr:DZ.bind(null,s),zr:TZ.bind(null,s),Wr:LZ.bind(null,s),$i:IZ.bind(null,s),Qr:EZ.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var d=(0,De.Z)(function*(g){yield function zZ(n,t){return iM.apply(this,arguments)}(r.Vc.syncEngine,g),r.gcScheduler&&(g&&!r.gcScheduler.started?r.gcScheduler.start():g||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(g&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():g||r.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}createSharedClientState(t){const e=Rz();if(!uA.D(e))throw new V(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new uA(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class ev{initialize(t,e){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>Xz(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=MZ.bind(null,r.syncEngine),yield DA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new lZ}createDatastore(t){const e=xb(t.databaseInfo.databaseId),r=new $W(t.databaseInfo);return new YW(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,s=t.asyncQueue,d=w=>Xz(this.syncEngine,w,0),g=Pz.D()?new Pz:new UW,new JW(e,r,s,d,g);var e,r,s,d,g}createSyncEngine(t,e){return function(r,s,d,g,w,x,z){const N=new gZ(r,s,d,g,w,x);return z&&(N.vc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const r=E(e);c("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Wg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function rI(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class DC{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):u("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class HZ{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new B,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,De.Z)(function*(){const e=yield t.kc();if(null===e)return null;const r=t.xc.decode(e),s=Number(r);isNaN(s)&&t.Mc(`length string (${r}) is not valid number`);const d=yield t.$c(s);return new hZ(JSON.parse(d),e.length+s)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,De.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}$c(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const r=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class PZ{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new V(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,De.Z)(function*(d,g){const w=E(d),x=gb(w.serializer)+"/documents",z={documents:g.map(K=>pb(w.serializer,K))},N=yield w.vo("BatchGetDocuments",x,z,g.length),P=new Map;N.forEach(K=>{const ie=function rW(n,t){return"found"in t?function(e,r){A(!!r.found);const s=du(e,r.found.name),d=qo(r.found.updateTime),g=r.found.createTime?qo(r.found.createTime):Ut.min(),w=new y1({mapValue:{fields:r.found.fields}});return br.newFoundDocument(s,d,g,w)}(n,t):"missing"in t?function(e,r){A(!!r.missing),A(!!r.readTime);const s=du(e,r.missing),d=qo(r.readTime);return br.newNoDocument(s,d)}(n,t):y()}(w.serializer,K);P.set(ie.key.toString(),ie)});const W=[];return g.forEach(K=>{const ie=P.get(K.toString());A(!!ie),W.push(ie)}),W}),function(d,g){return s.apply(this,arguments)})(e.datastore,t);var s;return r.forEach(s=>e.recordVersion(s)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Fg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,s)=>{const d=bt.fromPath(s);t.mutations.push(new Lk(d,t.precondition(d)))}),yield(r=(0,De.Z)(function*(s,d){const g=E(s),w=gb(g.serializer)+"/documents",x={writes:d.map(z=>vb(g.serializer,z))};yield g.Io("Commit",w,x)}),function(s,d){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw y();e=Ut.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new V(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ut.min())?Rr.exists(!1):Rr.updateTime(e):Rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ut.min()))throw new V(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rr.updateTime(e)}return Rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class RZ{constructor(t,e,r,s,d){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=s,this.deferred=d,this.Bc=r.maxAttempts,this.qo=new hA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,De.Z)(function*(){const e=new PZ(t.datastore),r=t.qc(e);r&&r.then(s=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(s)}).catch(d=>{t.Uc(d)}))}).catch(s=>{t.Uc(s)})}))}qc(t){try{const e=this.updateFunction(t);return!X_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!zD(e)}return!1}}class OZ{constructor(t,e,r,s){var d=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=s,this.user=h.UNAUTHENTICATED,this.clientId=Xn.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var g=(0,De.Z)(function*(w){c("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(r,g=>(c("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new B;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Kg(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}function zC(n,t){return uM.apply(this,arguments)}function uM(){return uM=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),c("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var s=(0,De.Z)(function*(d){r.isEqual(d)||(yield Ez(t.localStore,d),r=d)});return function(d){return s.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),uM.apply(this,arguments)}function dM(n,t){return hM.apply(this,arguments)}function hM(){return hM=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield fM(n);c("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(s=>qz(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,d)=>qz(t.remoteStore,d)),n._onlineComponents=t}),hM.apply(this,arguments)}function oI(n){return"FirebaseError"===n.name?n.code===T.FAILED_PRECONDITION||n.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function fM(n){return mM.apply(this,arguments)}function mM(){return mM=(0,De.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){c("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zC(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!oI(e))throw e;p("Error using user provided cache. Falling back to memory cache: "+e),yield zC(n,new Db)}}else c("FirestoreClient","Using default OfflineComponentProvider"),yield zC(n,new Db);return n._offlineComponents}),mM.apply(this,arguments)}function IC(n){return pM.apply(this,arguments)}function pM(){return pM=(0,De.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(c("FirestoreClient","Using user provided OnlineComponentProvider"),yield dM(n,n._uninitializedComponentsProvider._online)):(c("FirestoreClient","Using default OnlineComponentProvider"),yield dM(n,new ev))),n._onlineComponents}),pM.apply(this,arguments)}function sI(n){return fM(n).then(t=>t.persistence)}function TC(n){return fM(n).then(t=>t.localStore)}function aI(n){return IC(n).then(t=>t.remoteStore)}function gM(n){return IC(n).then(t=>t.syncEngine)}function tv(n){return vM.apply(this,arguments)}function vM(){return vM=(0,De.Z)(function*(n){const t=yield IC(n),e=t.eventManager;return e.onListen=vZ.bind(null,t.syncEngine),e.onUnlisten=_Z.bind(null,t.syncEngine),e}),vM.apply(this,arguments)}function lI(n,t,e={}){const r=new B;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(s,d,g,w,x){const z=new DC({next:P=>{d.enqueueAndForget(()=>NA(s,N));const W=P.docs.has(g);!W&&P.fromCache?x.reject(new V(T.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&P.fromCache&&w&&"server"===w.source?x.reject(new V(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(P)},error:P=>x.reject(P)}),N=new PA(Hg(g.path),z,{includeMetadataChanges:!0,Ku:!0});return TA(s,N)}(yield tv(n),n.asyncQueue,t,e,r)})),r.promise}function uI(n,t,e={}){const r=new B;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(s,d,g,w,x){const z=new DC({next:P=>{d.enqueueAndForget(()=>NA(s,N)),P.fromCache&&"server"===w.source?x.reject(new V(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(P)},error:P=>x.reject(P)}),N=new PA(g,z,{includeMetadataChanges:!0,Ku:!0});return TA(s,N)}(yield tv(n),n.asyncQueue,t,e,r)})),r.promise}function dI(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const hI=new Map;function _M(n,t,e){if(!e)throw new V(T.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function fI(n,t,e,r){if(!0===t&&!0===r)throw new V(T.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function mI(n){if(!bt.isDocumentKey(n))throw new V(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pI(n){if(bt.isDocumentKey(n))throw new V(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":y()}function Un(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new V(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=LC(n);throw new V(T.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function gI(n,t){if(t<=0)throw new V(T.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class vI{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new V(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new V(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dI(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new V(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zb{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new V(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new le;switch(e.type){case"firstParty":return new dt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new V(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=hI.get(t);e&&(c("ComponentProvider","Removing Datastore"),hI.delete(t),e.terminate())}(this),Promise.resolve()}}class yr{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yr(this.firestore,t,this._key)}}class C1{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new C1(this.firestore,t,this._query)}}class hu extends C1{constructor(t,e,r){super(t,e,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yr(this.firestore,null,new bt(t))}withConverter(t){return new hu(this.firestore,t,this._path)}}function bI(n,t,...e){if(n=(0,Nt.m9)(n),_M("collection","path",t),n instanceof zb){const r=ei.fromString(t,...e);return pI(r),new hu(n,null,r)}{if(!(n instanceof yr||n instanceof hu))throw new V(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ei.fromString(t,...e));return pI(r),new hu(n.firestore,null,r)}}function NC(n,t,...e){if(n=(0,Nt.m9)(n),1===arguments.length&&(t=Xn.A()),_M("doc","path",t),n instanceof zb){const r=ei.fromString(t,...e);return mI(r),new yr(n,null,new bt(r))}{if(!(n instanceof yr||n instanceof hu))throw new V(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ei.fromString(t,...e));return mI(r),new yr(n.firestore,n instanceof hu?n.converter:null,new bt(r))}}function yI(n,t){return n=(0,Nt.m9)(n),t=(0,Nt.m9)(t),(n instanceof yr||n instanceof hu)&&(t instanceof yr||t instanceof hu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function bM(n,t){return n=(0,Nt.m9)(n),t=(0,Nt.m9)(t),n instanceof C1&&t instanceof C1&&n.firestore===t.firestore&&sb(n._query,t._query)&&n.converter===t.converter}class YZ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hA(this,"async_queue_retry"),this.Xc=()=>{const e=xC();e&&c("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=xC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=xC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new B;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,De.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Oh(e))throw e;c("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{throw this.Wc=r,this.Hc=!1,u("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=e,e}enqueueAfterDelay(t,e,r){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const s=IA.createAndSchedule(this,t,e,r,d=>this.na(d));return this.zc.push(s),s}Zc(){this.Wc&&y()}verifyOperationInProgress(){}sa(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function yM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class KZ{constructor(){this._progressObserver={},this._taskCompletionResolver=new B,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Cr extends zb{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new YZ,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||CI(this),this._firestoreClient.terminate()}}function $o(n){return n._firestoreClient||CI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function CI(n){var t,e,r;const s=n._freezeSettings(),d=(w=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new S$(n._databaseId,w,n._persistenceKey,(z=s).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,dI(z.experimentalLongPollingOptions),z.useFetchStreams));var w,z;n._firestoreClient=new OZ(n._authCredentials,n._appCheckCredentials,n._queue,d),null!==(e=s.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function wI(n,t,e){const r=new B;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield zC(n,e),yield dM(n,t),r.resolve()}catch(s){const d=s;if(!oI(d))throw d;p("Error enabling indexeddb cache. Falling back to memory cache: "+d),r.reject(d)}})).then(()=>r.promise)}function kI(n){if(n._initialized||n._terminated)throw new V(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fu(Ms.fromBase64String(t))}catch(e){throw new V(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new fu(Ms.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class p5{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new V(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class K9{constructor(t){this._methodName=t}}class VC{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new V(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new V(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const aY=/^__.*__$/;class cY{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new h5(t,this.data,this.fieldMask,e,this.fieldTransforms):new Og(t,this.data,e,this.fieldTransforms)}}class AI{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new h5(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function MI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class HC{constructor(t,e,r,s,d,g){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===d&&this.ua(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new HC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.aa({path:r,la:!1});return s.fa(t),s}da(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.aa({path:r,la:!1});return s.ua(),s}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return OC(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(MI(this.ca)&&aY.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class lY{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||xb(t)}ya(t,e,r,s=!1){return new HC({ca:t,methodName:e,ga:r,path:wo.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q9(n){const t=n._freezeSettings(),e=xb(n._databaseId);return new lY(n._databaseId,!!t.ignoreUndefinedProperties,e)}function PC(n,t,e,r,s,d={}){const g=n.ya(d.merge||d.mergeFields?2:0,t,e,s);AM("Data must be an object, but it was:",g,r);const w=EI(r,g);let x,z;if(d.merge)x=new Y2(g.fieldMask),z=g.fieldTransforms;else if(d.mergeFields){const N=[];for(const P of d.mergeFields){const W=Lb(t,P,e);if(!g.contains(W))throw new V(T.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);zI(N,W)||N.push(W)}x=new Y2(N),z=g.fieldTransforms.filter(P=>x.covers(P.field))}else x=null,z=g.fieldTransforms;return new cY(new y1(w),x,z)}class Tb extends K9{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Tb}}function xI(n,t,e){return new HC({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CM extends K9{_toFieldTransform(t){return new ub(t.path,new Pg)}isEqual(t){return t instanceof CM}}class uY extends K9{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xI(this,t,!0),r=this.pa.map(d=>J9(d,e)),s=new B9(r);return new ub(t.path,s)}isEqual(t){return this===t}}class dY extends K9{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=xI(this,t,!0),r=this.pa.map(d=>J9(d,e)),s=new j9(r);return new ub(t.path,s)}isEqual(t){return this===t}}class hY extends K9{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Rg(t.serializer,bD(t.serializer,this.Ia));return new ub(t.path,e)}isEqual(t){return this===t}}function wM(n,t,e,r){const s=n.ya(1,t,e);AM("Data must be an object, but it was:",s,r);const d=[],g=y1.empty();Fh(r,(x,z)=>{const N=RC(t,x,e);z=(0,Nt.m9)(z);const P=s.da(N);if(z instanceof Tb)d.push(N);else{const W=J9(z,P);null!=W&&(d.push(N),g.set(N,W))}});const w=new Y2(d);return new AI(g,w,s.fieldTransforms)}function kM(n,t,e,r,s,d){const g=n.ya(1,t,e),w=[Lb(t,r,e)],x=[s];if(d.length%2!=0)throw new V(T.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<d.length;W+=2)w.push(Lb(t,d[W])),x.push(d[W+1]);const z=[],N=y1.empty();for(let W=w.length-1;W>=0;--W)if(!zI(z,w[W])){const K=w[W];let ie=x[W];ie=(0,Nt.m9)(ie);const de=g.da(K);if(ie instanceof Tb)z.push(K);else{const ve=J9(ie,de);null!=ve&&(z.push(K),N.set(K,ve))}}const P=new Y2(z);return new AI(N,P,g.fieldTransforms)}function SI(n,t,e,r=!1){return J9(e,n.ya(r?4:3,t))}function J9(n,t){if(DI(n=(0,Nt.m9)(n)))return AM("Unsupported field value:",t,n),EI(n,t);if(n instanceof K9)return function(e,r){if(!MI(r.ca))throw r._a(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${e._methodName}() is not currently supported inside arrays`);const s=e._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,r){const s=[];let d=0;for(const g of e){let w=J9(g,r.wa(d));null==w&&(w={nullValue:"NULL_VALUE"}),s.push(w),d++}return{arrayValue:{values:s}}}(n,t)}return function(e,r){if(null===(e=(0,Nt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bD(r.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const s=Pr.fromDate(e);return{timestampValue:Bg(r.serializer,s)}}if(e instanceof Pr){const s=new Pr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bg(r.serializer,s)}}if(e instanceof VC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fu)return{bytesValue:FD(r.serializer,e._byteString)};if(e instanceof yr){const s=r.databaseId,d=e.firestore._databaseId;if(!d.isEqual(s))throw r._a(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fk(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r._a(`Unsupported field value: ${LC(e)}`)}(n,t)}function EI(n,t){const e={};return jE(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fh(n,(r,s)=>{const d=J9(s,t.ha(r));null!=d&&(e[r]=d)}),{mapValue:{fields:e}}}function DI(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof VC||n instanceof fu||n instanceof yr||n instanceof K9)}function AM(n,t,e){if(!DI(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=LC(e);throw t._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Lb(n,t,e){if((t=(0,Nt.m9)(t))instanceof p5)return t._internalPath;if("string"==typeof t)return RC(n,t);throw OC("Field path arguments must be of type string or ",n,!1,void 0,e)}const fY=new RegExp("[~\\*/\\[\\]]");function RC(n,t,e){if(t.search(fY)>=0)throw OC(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new p5(...t.split("."))._internalPath}catch{throw OC(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function OC(n,t,e,r,s){const d=r&&!r.isEmpty(),g=void 0!==s;let w=`Function ${t}() called with invalid data`;e&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(d||g)&&(x+=" (found",d&&(x+=` in field ${r}`),g&&(x+=` in document ${s}`),x+=")"),new V(T.INVALID_ARGUMENT,w+n+x)}function zI(n,t){return n.some(e=>e.isEqual(t))}class Nb{constructor(t,e,r,s,d){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new mY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(FC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class mY extends Nb{data(){return super.data()}}function FC(n,t){return"string"==typeof t?RC(n,t):t instanceof p5?t._internalPath:t._delegate._internalPath}function II(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new V(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MM{}class Vb extends MM{}function Xh(n,t,...e){let r=[];t instanceof MM&&r.push(t),r=r.concat(e),function(s){const d=s.filter(w=>w instanceof nv).length,g=s.filter(w=>w instanceof Hb).length;if(d>1||d>0&&g>0)throw new V(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class Hb extends Vb{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Hb(t,e,r)}_apply(t){const e=this._parse(t);return VI(t._query,e),new C1(t.firestore,t.converter,zk(t._query,e))}_parse(t){const e=Q9(t.firestore);return function(s,d,g,w,x,z,N){let P;if(x.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new V(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){NI(N,z);const W=[];for(const K of N)W.push(LI(w,s,K));P={arrayValue:{values:W}}}else P=LI(w,s,N)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||NI(N,z),P=SI(g,"where",N,"in"===z||"not-in"===z);return jn.create(x,z,P)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class nv extends MM{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new nv(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Ti.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let d=r;const g=s.getFlattenedFilters();for(const w of g)VI(d,w),d=zk(d,w)}(t._query,e),new C1(t.firestore,t.converter,zk(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xM extends Vb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new xM(t,e)}_apply(t){const e=function(r,s,d){if(null!==r.startAt)throw new V(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new V(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Ng(s,d);return function(w,x){if(null===Ek(w)){const z=rC(w);null!==z&&HI(0,z,x.field)}}(r,g),g}(t._query,this._field,this._direction);return new C1(t.firestore,t.converter,function(r,s){const d=r.explicitOrderBy.concat([s]);return new u5(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class BC extends Vb{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new BC(t,e,r)}_apply(t){return new C1(t.firestore,t.converter,oC(t._query,this._limit,this._limitType))}}class jC extends Vb{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new jC(t,e,r)}_apply(t){const e=TI(t,this.type,this._docOrFields,this._inclusive);return new C1(t.firestore,t.converter,(s=e,new u5((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class UC extends Vb{constructor(t,e,r){super(),this.type=t,this._docOrFields=e,this._inclusive=r}static _create(t,e,r){return new UC(t,e,r)}_apply(t){const e=TI(t,this.type,this._docOrFields,this._inclusive);return new C1(t.firestore,t.converter,(s=e,new u5((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function TI(n,t,e,r){if(e[0]=(0,Nt.m9)(e[0]),e[0]instanceof Nb)return function(s,d,g,w,x){if(!w)throw new V(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const z=[];for(const N of F9(s))if(N.field.isKeyField())z.push(R9(d,w.key));else{const P=w.data.field(N.field);if(Qy(P))throw new V(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const W=N.field.canonicalString();throw new V(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}z.push(P)}return new $h(z,x)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const s=Q9(n.firestore);return function(d,g,w,x,z,N){const P=d.explicitOrderBy;if(z.length>P.length)throw new V(T.INVALID_ARGUMENT,`Too many arguments provided to ${x}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let K=0;K<z.length;K++){const ie=z[K];if(P[K].field.isKeyField()){if("string"!=typeof ie)throw new V(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${x}(), but got a ${typeof ie}`);if(!Dk(d)&&-1!==ie.indexOf("/"))throw new V(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${x}() must be a plain document ID, but '${ie}' contains a slash.`);const de=d.path.child(ei.fromString(ie));if(!bt.isDocumentKey(de))throw new V(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${x}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const ve=new bt(de);W.push(R9(g,ve))}else{const de=SI(w,x,ie);W.push(de)}}return new $h(W,N)}(n._query,n.firestore._databaseId,s,t,e,r)}}function LI(n,t,e){if("string"==typeof(e=(0,Nt.m9)(e))){if(""===e)throw new V(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dk(t)&&-1!==e.indexOf("/"))throw new V(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ei.fromString(e));if(!bt.isDocumentKey(r))throw new V(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R9(n,new bt(r))}if(e instanceof yr)return R9(n,e._key);throw new V(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LC(e)}.`)}function NI(n,t){if(!Array.isArray(n)||0===n.length)throw new V(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VI(n,t){if(t.isInequality()){const r=rC(n),s=t.field;if(null!==r&&!r.isEqual(s))throw new V(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const d=Ek(n);null!==d&&HI(0,s,d)}const e=function(r,s){for(const d of r)for(const g of d.getFlattenedFilters())if(s.indexOf(g.op)>=0)return g.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new V(T.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function HI(n,t,e){if(!e.isEqual(t))throw new V(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class SM{convertValue(t,e="none"){switch(Gh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ko(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(l5(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw y()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Fh(t,(s,d)=>{r[s]=this.convertValue(d,e)}),r}convertGeoPoint(t){return new VC(ko(t.latitude),ko(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Jy(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(tb(t));default:return null}}convertTimestamp(t){const e=Bh(t);return new Pr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ei.fromString(t);A(KD(r));const s=new jh(r.get(1),r.get(3)),d=new bt(r.popFirst(5));return s.isEqual(e)||u(`Document ${d} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),d}}function GC(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class kY extends SM{constructor(t){super(),this.firestore=t}convertBytes(t){return new fu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yr(this.firestore,null,e)}}class X9{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class g5 extends Nb{constructor(t,e,r,s,d,g){super(t,e,r,s,g),this._firestore=t,this._firestoreImpl=t,this.metadata=d}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Pb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(FC("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Pb extends g5{data(t={}){return super.data(t)}}class e7{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new X9(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Pb(this._firestore,this._userDataWriter,r.key,r,new X9(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new V(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(g=>({type:"added",doc:new Pb(r._firestore,r._userDataWriter,g.doc.key,g.doc,new X9(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(g=>s||3!==g.type).map(g=>{const w=new Pb(r._firestore,r._userDataWriter,g.doc.key,g.doc,new X9(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter);let x=-1,z=-1;return 0!==g.type&&(x=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),z=d.indexOf(g.doc.key)),{type:MY(g.type),doc:w,oldIndex:x,newIndex:z}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function RI(n,t){return n instanceof g5&&t instanceof g5?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof e7&&t instanceof e7&&n._firestore===t._firestore&&bM(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class t7 extends SM{constructor(t){super(),this.firestore=t}convertBytes(t){return new fu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yr(this.firestore,null,e)}}function OI(n,t,e){n=Un(n,yr);const r=Un(n.firestore,Cr),s=GC(n.converter,t,e);return iv(r,[PC(Q9(r),"setDoc",n._key,s,null!==n.converter,e).toMutation(n._key,Rr.none())])}function FI(n,t,e,...r){n=Un(n,yr);const s=Un(n.firestore,Cr),d=Q9(s);let g;return g="string"==typeof(t=(0,Nt.m9)(t))||t instanceof p5?kM(d,"updateDoc",n._key,t,e,r):wM(d,"updateDoc",n._key,t),iv(s,[g.toMutation(n._key,Rr.exists(!0))])}function BI(n,...t){var e,r,s;n=(0,Nt.m9)(n);let d={includeMetadataChanges:!1},g=0;"object"!=typeof t[g]||yM(t[g])||(d=t[g],g++);const w={includeMetadataChanges:d.includeMetadataChanges};if(yM(t[g])){const P=t[g];t[g]=null===(e=P.next)||void 0===e?void 0:e.bind(P),t[g+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),t[g+2]=null===(s=P.complete)||void 0===s?void 0:s.bind(P)}let x,z,N;if(n instanceof yr)z=Un(n.firestore,Cr),N=Hg(n._key.path),x={next:P=>{t[g]&&t[g](EM(z,n,P))},error:t[g+1],complete:t[g+2]};else{const P=Un(n,C1);z=Un(P.firestore,Cr),N=P._query;const W=new t7(z);x={next:K=>{t[g]&&t[g](new e7(z,W,P,K))},error:t[g+1],complete:t[g+2]},II(n._query)}return function(P,W,K,ie){const de=new DC(ie),ve=new PA(W,de,K);return P.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return TA(yield tv(P),ve)})),()=>{de.Dc(),P.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return NA(yield tv(P),ve)}))}}($o(z),N,w,x)}function iv(n,t){return function(e,r){const s=new B;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function bZ(n,t,e){return jA.apply(this,arguments)}(yield gM(e),r,s)})),s.promise}($o(n),t)}function EM(n,t,e){const r=e.docs.get(t._key),s=new t7(n);return new g5(n,s,t._key,r,new X9(e.hasPendingWrites,e.fromCache),t.converter)}const UY={maxAttempts:5};class jI{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Q9(t)}set(t,e,r){this._verifyNotCommitted();const s=n7(t,this._firestore),d=GC(s.converter,e,r),g=PC(this._dataReader,"WriteBatch.set",s._key,d,null!==s.converter,r);return this._mutations.push(g.toMutation(s._key,Rr.none())),this}update(t,e,r,...s){this._verifyNotCommitted();const d=n7(t,this._firestore);let g;return g="string"==typeof(e=(0,Nt.m9)(e))||e instanceof p5?kM(this._dataReader,"WriteBatch.update",d._key,e,r,s):wM(this._dataReader,"WriteBatch.update",d._key,e),this._mutations.push(g.toMutation(d._key,Rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=n7(t,this._firestore);return this._mutations=this._mutations.concat(new Fg(e._key,Rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new V(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function n7(n,t){if((n=(0,Nt.m9)(n)).firestore!==t)throw new V(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GY extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Q9(t)}get(t){const e=n7(t,this._firestore),r=new kY(this._firestore);return this._transaction.lookup([e._key]).then(s=>{if(!s||1!==s.length)return y();const d=s[0];if(d.isFoundDocument())return new Nb(this._firestore,r,d.key,d,e.converter);if(d.isNoDocument())return new Nb(this._firestore,r,e._key,null,e.converter);throw y()})}set(t,e,r){const s=n7(t,this._firestore),d=GC(s.converter,e,r),g=PC(this._dataReader,"Transaction.set",s._key,d,null!==s.converter,r);return this._transaction.set(s._key,g),this}update(t,e,r,...s){const d=n7(t,this._firestore);let g;return g="string"==typeof(e=(0,Nt.m9)(e))||e instanceof p5?kM(this._dataReader,"Transaction.update",d._key,e,r,s):wM(this._dataReader,"Transaction.update",d._key,e),this._transaction.update(d._key,g),this}delete(t){const e=n7(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=n7(t,this._firestore),r=new t7(this._firestore);return super.get(t).then(s=>new g5(this._firestore,r,e._key,s._document,new X9(!1,!1),e.converter))}}!function(n,t=!0){v=Ln.SDK_VERSION,(0,Ln._registerComponent)(new bs.wA("firestore",(e,{instanceIdentifier:r,options:s})=>{const d=e.getProvider("app").getImmediate(),g=new Cr(new Oe(e.getProvider("auth-internal")),new $e(e.getProvider("app-check-internal")),function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new V(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(w.options.projectId,x)}(d,r),d);return s=Object.assign({useFetchStreams:t},s),g._setSettings(s),g},"PUBLIC").setMultipleInstances(!0)),(0,Ln.registerVersion)(l,"3.13.0",n),(0,Ln.registerVersion)(l,"3.13.0","esm2017")}();function DM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new V("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function GI(){if(typeof Uint8Array>"u")throw new V("unimplemented","Uint8Arrays are not available in this environment.")}function qI(){if(!function M$(){return typeof atob<"u"}())throw new V("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Rb{constructor(t){this._delegate=t}static fromBase64String(t){return qI(),new Rb(fu.fromBase64String(t))}static fromUint8Array(t){return GI(),new Rb(fu.fromUint8Array(t))}toBase64(){return qI(),this._delegate.toBase64()}toUint8Array(){return GI(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zM(n){return function XY(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(n,["next","error","complete"])}class eK{enableIndexedDbPersistence(t,e){return function JZ(n,t){kI(n=Un(n,Cr));const e=$o(n);if(e._uninitializedComponentsProvider)throw new V(T.FAILED_PRECONDITION,"SDK cache is already specified.");p("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new ev;return wI(e,s,new lM(s,r.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function XZ(n){kI(n=Un(n,Cr));const t=$o(n);if(t._uninitializedComponentsProvider)throw new V(T.FAILED_PRECONDITION,"SDK cache is already specified.");p("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),r=new ev;return wI(t,r,new iI(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function eY(n){if(n._initialized&&!n._terminated)throw new V(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new B;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(r){if(!$4.D())return Promise.resolve();const s=r+"main";yield $4.delete(s)}),function(r){return e.apply(this,arguments)})(tA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class $I{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof jh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function _I(n,t,e,r={}){var s;const d=(n=Un(n,zb))._getSettings(),g=`${t}:${e}`;if("firestore.googleapis.com"!==d.host&&d.host!==g&&p("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},d),{host:g,ssl:!1})),r.mockUserToken){let w,x;if("string"==typeof r.mockUserToken)w=r.mockUserToken,x=h.MOCK_USER;else{w=(0,Nt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const z=r.mockUserToken.sub||r.mockUserToken.user_id;if(!z)throw new V(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new h(z)}n._authCredentials=new ke(new X(w,x))}}(this._delegate,t,e,r)}enableNetwork(){return function nY(n){return function FZ(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield sI(n),e=yield aI(n);return t.setNetworkEnabled(!0),function(r){const s=E(r);return s.vu.delete(0),Sb(s)}(e)}))}($o(n=Un(n,Cr)))}(this._delegate)}disableNetwork(){return function iY(n){return function BZ(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield sI(n),e=yield aI(n);return t.setNetworkEnabled(!1),(r=(0,De.Z)(function*(s){const d=E(s);d.vu.add(0),yield Wg(d),d.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(e);var r}))}($o(n=Un(n,Cr)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,fI("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function tY(n){return function(t){const e=new B;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function kZ(n,t){return WA.apply(this,arguments)}(yield gM(t),e)})),e.promise}($o(n=Un(n,Cr)))}(this._delegate)}onSnapshotsInSync(t){return function NY(n,t){return function GZ(n,t){const e=new DC(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield tv(n),s=e,E(r).ku.add(s),void s.next();var r,s})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return r=yield tv(n),s=e,void E(r).ku.delete(s);var r,s}))}}($o(n=Un(n,Cr)),yM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new V("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new rv(this,bI(this._delegate,t))}catch(e){throw Ua(e,"collection()","Firestore.collection()")}}doc(t){try{return new pl(this,NC(this._delegate,t))}catch(e){throw Ua(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ga(this,function ZZ(n,t){if(n=Un(n,zb),_M("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new V(T.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new C1(n,null,(e=t,new u5(ei.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ua(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function qY(n,t,e){n=Un(n,Cr);const r=Object.assign(Object.assign({},UY),e);return function(s){if(s.maxAttempts<1)throw new V(T.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,d,g){const w=new B;return s.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const x=yield function cI(n){return IC(n).then(t=>t.datastore)}(s);new RZ(s.asyncQueue,x,g,d,w).run()})),w.promise}($o(n),s=>t(new GY(n,s)),r)}(this._delegate,e=>t(new WI(this,e)))}batch(){return $o(this._delegate),new ZI(new jI(this._delegate,t=>iv(this._delegate,t)))}loadBundle(t){return function rY(n,t){const e=$o(n=Un(n,Cr)),r=new KZ;return function qZ(n,t,e,r){const s=function(d,g){let w;return w="string"==typeof d?TD().encode(d):d,x=function(x,z){if(x instanceof Uint8Array)return rI(x,z);if(x instanceof ArrayBuffer)return rI(new Uint8Array(x),z);if(x instanceof ReadableStream)return x.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new HZ(x,g);var x}(e,xb(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function NZ(n,t,e){const r=E(n);var s;(s=(0,De.Z)(function*(d,g,w){try{const x=yield g.getMetadata();if(yield function(W,K){const ie=E(W),de=qo(K.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",ve=>ie.qs.getBundleMetadata(ve,K.id)).then(ve=>!!ve&&ve.createTime.compareTo(de)>=0)}(d.localStore,x))return yield g.close(),w._completeWith({taskState:"Success",documentsLoaded:(W=x).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);w._updateProgress(Zz(x));const z=new fZ(x,d.localStore,g.serializer);let N=yield g.bc();for(;N;){const W=yield z.zu(N);W&&w._updateProgress(W),N=yield g.bc()}const P=yield z.complete();return yield m5(d,P.Ju,void 0),yield function(W,K){const ie=E(W);return ie.persistence.runTransaction("Save bundle","readwrite",de=>ie.qs.saveBundleMetadata(de,K))}(d.localStore,x),w._completeWith(P.progress),Promise.resolve(P.Hu)}catch(x){return p("SyncEngine",`Loading bundle failed with ${x}`),w._failWith(x),Promise.resolve(new Set)}var W}),function(d,g,w){return s.apply(this,arguments)})(r,t,e).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield gM(n),s,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function oY(n,t){return function $Z(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,r){const s=E(e);return s.persistence.runTransaction("Get named query","readonly",d=>s.qs.getNamedQuery(d,r))}(yield TC(n),t)}))}($o(n=Un(n,Cr)),t).then(e=>e?new C1(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ga(this,e):null)}}class qC extends SM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rb(new fu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return pl.forKey(e,this.firestore,null)}}class WI{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new qC(t)}get(t){const e=tm(t);return this._delegate.get(e).then(r=>new Ob(this._firestore,new g5(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const s=tm(t);return r?(DM("Transaction.set",r),this._delegate.set(s,e,r)):this._delegate.set(s,e),this}update(t,e,r,...s){const d=tm(t);return 2===arguments.length?this._delegate.update(d,e):this._delegate.update(d,e,r,...s),this}delete(t){const e=tm(t);return this._delegate.delete(e),this}}class ZI{constructor(t){this._delegate=t}set(t,e,r){const s=tm(t);return r?(DM("WriteBatch.set",r),this._delegate.set(s,e,r)):this._delegate.set(s,e),this}update(t,e,r,...s){const d=tm(t);return 2===arguments.length?this._delegate.update(d,e):this._delegate.update(d,e,r,...s),this}delete(t){const e=tm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class em{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Pb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fb(this._firestore,r),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=em.INSTANCES;let s=r.get(t);s||(s=new WeakMap,r.set(t,s));let d=s.get(e);return d||(d=new em(t,new qC(t),e),s.set(e,d)),d}}em.INSTANCES=new WeakMap;class pl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qC(t)}static forPath(t,e,r){if(t.length%2!=0)throw new V("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new pl(e,new yr(e._delegate,r,new bt(t)))}static forKey(t,e,r){return new pl(e,new yr(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new rv(this.firestore,bI(this._delegate,t))}catch(e){throw Ua(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Nt.m9)(t))instanceof yr&&yI(this._delegate,t)}set(t,e){e=DM("DocumentReference.set",e);try{return e?OI(this._delegate,t,e):OI(this._delegate,t)}catch(r){throw Ua(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?FI(this._delegate,t):FI(this._delegate,t,e,...r)}catch(s){throw Ua(s,"updateDoc()","DocumentReference.update()")}}delete(){return function TY(n){return iv(Un(n.firestore,Cr),[new Fg(n._key,Rr.none())])}(this._delegate)}onSnapshot(...t){const e=YI(t),r=KI(t,s=>new Ob(this.firestore,new g5(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return BI(this._delegate,e,r)}get(t){let e;return e="cache"===t?.source?function SY(n){n=Un(n,yr);const t=Un(n.firestore,Cr),e=$o(t),r=new t7(t);return function jZ(n,t){const e=new B;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(s,d,g){try{const w=yield function(x,z){const N=E(x);return N.persistence.runTransaction("read document","readonly",P=>N.localDocuments.getDocument(P,z))}(s,d);w.isFoundDocument()?g.resolve(w):w.isNoDocument()?g.resolve(null):g.reject(new V(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const x=Kg(w,`Failed to get document '${d} from cache`);g.reject(x)}}),function(s,d,g){return r.apply(this,arguments)})(yield TC(n),t,e);var r})),e.promise}(e,n._key).then(s=>new g5(t,r,n._key,s,new X9(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function EY(n){n=Un(n,yr);const t=Un(n.firestore,Cr);return lI($o(t),n._key,{source:"server"}).then(e=>EM(t,n,e))}(this._delegate):function xY(n){n=Un(n,yr);const t=Un(n.firestore,Cr);return lI($o(t),n._key).then(e=>EM(t,n,e))}(this._delegate),e.then(r=>new Ob(this.firestore,new g5(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new pl(this.firestore,this._delegate.withConverter(t?em.getInstance(this.firestore,t):null))}}function Ua(n,t,e){return n.message=n.message.replace(t,e),n}function YI(n){for(const t of n)if("object"==typeof t&&!zM(t))return t;return{}}function KI(n,t){var e,r;let s;return s=zM(n[0])?n[0]:zM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{s.next&&s.next(t(d))},error:null===(e=s.error)||void 0===e?void 0:e.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class Ob{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return RI(this._delegate,t._delegate)}}class Fb extends Ob{data(t){const e=this._delegate.data(t);return function S(n,t){n||y()}(void 0!==e),e}}class Ga{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new qC(t)}where(t,e,r){try{return new Ga(this.firestore,Xh(this._delegate,function pY(n,t,e){const r=t,s=FC("where",n);return Hb._create(s,r,e)}(t,e,r)))}catch(s){throw Ua(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ga(this.firestore,Xh(this._delegate,function gY(n,t="asc"){const e=t,r=FC("orderBy",n);return xM._create(r,e)}(t,e)))}catch(r){throw Ua(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ga(this.firestore,Xh(this._delegate,function vY(n){return gI("limit",n),BC._create("limit",n,"F")}(t)))}catch(e){throw Ua(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ga(this.firestore,Xh(this._delegate,function _Y(n){return gI("limitToLast",n),BC._create("limitToLast",n,"L")}(t)))}catch(e){throw Ua(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ga(this.firestore,Xh(this._delegate,function bY(...n){return jC._create("startAt",n,!0)}(...t)))}catch(e){throw Ua(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ga(this.firestore,Xh(this._delegate,function yY(...n){return jC._create("startAfter",n,!1)}(...t)))}catch(e){throw Ua(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ga(this.firestore,Xh(this._delegate,function CY(...n){return UC._create("endBefore",n,!1)}(...t)))}catch(e){throw Ua(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ga(this.firestore,Xh(this._delegate,function wY(...n){return UC._create("endAt",n,!0)}(...t)))}catch(e){throw Ua(e,"endAt()","Query.endAt()")}}isEqual(t){return bM(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function zY(n){n=Un(n,C1);const t=Un(n.firestore,Cr),e=$o(t),r=new t7(t);return function UZ(n,t){const e=new B;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(s,d,g){try{const w=yield wC(s,d,!0),x=new Qz(d,w.ir),z=x.sc(w.documents),N=x.applyChanges(z,!1);g.resolve(N.snapshot)}catch(w){const x=Kg(w,`Failed to execute query '${d} against cache`);g.reject(x)}}),function(s,d,g){return r.apply(this,arguments)})(yield TC(n),t,e);var r})),e.promise}(e,n._query).then(s=>new e7(t,r,n,s))}(this._delegate):"server"===t?.source?function IY(n){n=Un(n,C1);const t=Un(n.firestore,Cr),e=$o(t),r=new t7(t);return uI(e,n._query,{source:"server"}).then(s=>new e7(t,r,n,s))}(this._delegate):function DY(n){n=Un(n,C1);const t=Un(n.firestore,Cr),e=$o(t),r=new t7(t);return II(n._query),uI(e,n._query).then(s=>new e7(t,r,n,s))}(this._delegate),e.then(r=>new IM(this.firestore,new e7(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=YI(t),r=KI(t,s=>new IM(this.firestore,new e7(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return BI(this._delegate,e,r)}withConverter(t){return new Ga(this.firestore,this._delegate.withConverter(t?em.getInstance(this.firestore,t):null))}}class nK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Fb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Fb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new nK(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new Fb(this._firestore,r))})}isEqual(t){return RI(this._delegate,t._delegate)}}class rv extends Ga{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new pl(this.firestore,t):null}doc(t){try{return new pl(this.firestore,void 0===t?NC(this._delegate):NC(this._delegate,t))}catch(e){throw Ua(e,"doc()","CollectionReference.doc()")}}add(t){return function LY(n,t){const e=Un(n.firestore,Cr),r=NC(n),s=GC(n.converter,t);return iv(e,[PC(Q9(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new pl(this.firestore,e))}isEqual(t){return yI(this._delegate,t._delegate)}withConverter(t){return new rv(this.firestore,this._delegate.withConverter(t?em.getInstance(this.firestore,t):null))}}function tm(n){return Un(n,yr)}class TM{constructor(...t){this._delegate=new p5(...t)}static documentId(){return new TM(wo.keyField().canonicalString())}isEqual(t){return(t=(0,Nt.m9)(t))instanceof p5&&this._delegate._internalPath.isEqual(t._internalPath)}}class nm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function WY(){return new CM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new nm(t)}static delete(){const t=function $Y(){return new Tb("deleteField")}();return t._methodName="FieldValue.delete",new nm(t)}static arrayUnion(...t){const e=function ZY(...n){return new uY("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new nm(e)}static arrayRemove(...t){const e=function YY(...n){return new dY("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new nm(e)}static increment(t){const e=function KY(n){return new hY("increment",n)}(t);return e._methodName="FieldValue.increment",new nm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const iK={Firestore:$I,GeoPoint:VC,Timestamp:Pr,Blob:Rb,Transaction:WI,WriteBatch:ZI,DocumentReference:pl,DocumentSnapshot:Ob,Query:Ga,QueryDocumentSnapshot:Fb,QuerySnapshot:IM,CollectionReference:rv,FieldPath:TM,FieldValue:nm,setLogLevel:function tK(n){!function a(n){b.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function QI(n,t){return function sK(n,t=X8.z){return new to.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{r?.()}})}(n,t)}function LM(n,t){return QI(n,t).pipe((0,St.U)(e=>({payload:e,type:"query"})))}function $C(n,t){return LM(n,t).pipe(Z3(void 0),eh(),(0,St.U)(([e,r])=>{const s=r.payload.docChanges(),d=s.map(g=>({type:g.type,payload:g}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((g,w)=>{const x=s.find(N=>N.doc.ref.isEqual(g.ref)),z=e?.payload.docs.find(N=>N.ref.isEqual(g.ref));x&&JSON.stringify(x.doc.metadata)===JSON.stringify(g.metadata)||!x&&z&&JSON.stringify(z.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:g}})}),d}))}function JI(n,t,e){return $C(n,e).pipe(c6((r,s)=>function cK(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function lK(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return NM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return NM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return NM(n,t.oldIndex,1)}return n}(n,r))}),n}(r,s.map(d=>d.payload),t),[]),th(),(0,St.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function NM(n,t,e,...r){const s=n.slice();return s.splice(t,e,...r),s}function XI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function oK(n){(function rK(n,t){n.INTERNAL.registerComponent(new bs.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("firestore").getImmediate();return t(r,s)},"PUBLIC").setServiceProps(Object.assign({},iK)))})(n,(t,e)=>new $I(t,e,new eK)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(I_.Z);class eT{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=$C(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,St.U)(r=>r.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(Z3(void 0),eh(),go(([r,s])=>s.length>0||!r),(0,St.U)(([r,s])=>s),vo.iC)}auditTrail(t){return this.stateChanges(t).pipe(c6((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=XI(t);return JI(this.query,e,this.afs.schedulers.outsideAngular).pipe(vo.iC)}valueChanges(t={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),vo.iC)}get(t){return(0,ri.D)(this.query.get(t)).pipe(vo.iC)}add(t){return this.ref.add(t)}doc(t){return new tT(this.ref.doc(t),this.afs)}}class tT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:s,query:d}=rT(r,e);return new eT(s,d,this.afs)}snapshotChanges(){return function aK(n,t){return QI(n,t).pipe(Z3(void 0),eh(),(0,St.U)(([e,r])=>r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vo.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,St.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ri.D)(this.ref.get(t)).pipe(vo.iC)}}class uK{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?$C(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),go(e=>e.length>0),vo.iC):$C(this.query,this.afs.schedulers.outsideAngular).pipe(vo.iC)}auditTrail(t){return this.stateChanges(t).pipe(c6((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=XI(t);return JI(this.query,e,this.afs.schedulers.outsideAngular).pipe(vo.iC)}valueChanges(t={}){return LM(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),vo.iC)}get(t){return(0,ri.D)(this.query.get(t)).pipe(vo.iC)}}const nT=new m.OlP("angularfire2.enableFirestorePersistence"),iT=new m.OlP("angularfire2.firestore.persistenceSettings"),dK=new m.OlP("angularfire2.firestore.settings"),hK=new m.OlP("angularfire2.firestore.use-emulator");function rT(n,t=(e=>e)){return{query:t(n),ref:n}}let VM=(()=>{class n{constructor(e,r,s,d,g,w,x,z,N,P,W,K,ie,de,ve,Ve,tt){this.schedulers=x;const st=(0,R1.on)(e,w,r),ft=N;P&&c4(st,w,W,ie,de,ve,K,Ve),[this.firestore,this.persistenceEnabled$]=(0,R1.cc)(`${st.name}.firestore`,"AngularFirestore",st.name,()=>{const Dt=w.runOutsideAngular(()=>st.firestore());if(d&&Dt.settings(d),ft&&Dt.useEmulator(...ft),s&&!Ys(g)){const Ct=()=>{try{return(0,ri.D)(Dt.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(sn){return typeof console<"u"&&console.warn(sn),yt(!1)}};return[Dt,w.runOutsideAngular(Ct)]}return[Dt,yt(!1)]},[d,ft,s])}collection(e,r){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:d,query:g}=rT(s,r),w=this.schedulers.ngZone.run(()=>d);return new eT(w,g,this)}collectionGroup(e,r){const s=r||(g=>g),d=this.firestore.collectionGroup(e);return new uK(s(d),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>r);return new tT(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(R1.Dh),m.LFG(R1.xv,8),m.LFG(nT,8),m.LFG(dK,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(vo.HU),m.LFG(iT,8),m.LFG(hK,8),m.LFG(l4,8),m.LFG(W7,8),m.LFG(a8,8),m.LFG(Z7,8),m.LFG(c8,8),m.LFG(R2,8),m.LFG(W3,8),m.LFG(_n,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fK=(()=>{class n{constructor(){Vy.Z.registerVersion("angularfire",vo.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:nT,useValue:!0},{provide:iT,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[VM]}),n})(),ov=(()=>{class n{constructor(e,r,s,d){this.afAuth=e,this.route=r,this.router=s,this.db=d,this.currentUserSubject=new _s(null),this.appUser$=this.afAuth.authState.pipe(Ei(g=>g?this.db.doc(`appusers/${g.uid}`).valueChanges():yt(null)))}login(e,r){}signup(e){sessionStorage.setItem("userData",JSON.stringify(e)),this.currentUserSubject.next(e)}logout(){sessionStorage.removeItem("userData"),this.currentUserSubject.next(null)}getCurrentUser(){return this.currentUserSubject.asObservable()}updateUserData(e){return this.db.doc(`appusers/${e.uid}`).set({name:e.displayName,email:e.email,photoURL:e.photoURL},{merge:!0})}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(l4),m.LFG(Fs),m.LFG(Hr),m.LFG(VM))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HT={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},RT={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"]},PM={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},RM={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},ZT={prefix:"fab",iconName:"telegram",icon:[496,512,[62462,"telegram-plane"],"f2c6","M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"]};let OM;try{OM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{OM=!1}let sv,Ao=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function t3(n){return n===X4}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.Lbi))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),noe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const XT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function eL(){if(sv)return sv;if("object"!=typeof document||!document)return sv=new Set(XT),sv;let n=document.createElement("input");return sv=new Set(XT.filter(t=>(n.setAttribute("type",t),n.type===t))),sv}let Bb,WC,rm,FM;function im(n){return function ioe(){if(null==Bb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bb=!0}))}finally{Bb=Bb||!1}return Bb}()?n:!!n.capture}function tL(){if(null==rm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return rm=!1,rm;if("scrollBehavior"in document.documentElement.style)rm=!0;else{const n=Element.prototype.scrollTo;rm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return rm}function jb(){if("object"!=typeof document||!document)return 0;if(null==WC){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),WC=0,0===n.scrollLeft&&(n.scrollLeft=1,WC=0===n.scrollLeft?1:2),n.remove()}return WC}function i7(n){return n.composedPath?n.composedPath()[0]:n.target}function BM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function av(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $M(n,t=X8.z){return(0,Lr.e)((e,r)=>{let s=null,d=null,g=null;const w=()=>{if(s){s.unsubscribe(),s=null;const z=d;d=null,r.next(z)}};function x(){const z=g+n,N=t.now();if(N<z)return s=this.schedule(void 0,z-N),void r.add(s);w()}e.subscribe((0,mr.x)(r,z=>{d=z,g=t.now(),s||(s=t.schedule(x,n),r.add(s))},()=>{w(),r.complete()},void 0,()=>{d=s=null}))})}function sL(n){return go((t,e)=>n<=e)}var aL=Q(5032);function Zi(n){return(0,Lr.e)((t,e)=>{(0,Xl.Xf)(n).subscribe((0,mr.x)(e,()=>e.complete(),aL.Z)),!e.closed&&t.subscribe(e)})}function Or(n){return null!=n&&"false"!=`${n}`}function r7(n,t=0){return function boe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function ZC(n){return Array.isArray(n)?n:[n]}function os(n){return null==n?"":"string"==typeof n?n:`${n}px`}function v5(n){return n instanceof m.SBq?n.nativeElement:n}let cL=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yoe=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=v5(e);return new to.y(s=>{const g=this._observeElement(r).subscribe(s);return()=>{g.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new nn.x,s=this._mutationObserverFactory.create(d=>r.next(d));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:s}=this._observedElements.get(e);r&&r.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(cL))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Coe=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Or(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=r7(e),this._subscribe()}constructor(e,r,s){this._contentObserver=e,this._elementRef=r,this._ngZone=s,this.event=new m.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe($M(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(yoe),m.Y36(m.SBq),m.Y36(m.R0b))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[cL]}),n})();const uL=new Set;let cv,woe=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Aoe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function koe(n){if(!uL.has(n))try{cv||(cv=document.createElement("style"),cv.setAttribute("type","text/css"),document.head.appendChild(cv)),cv.sheet&&(cv.sheet.insertRule(`@media ${n} {body{ }}`,0),uL.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ao))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Aoe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let WM=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new nn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return dL(ZC(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let d=K7(dL(ZC(e)).map(g=>this._registerQuery(g).observable));return d=a6(d.pipe(ns(1)),d.pipe(sL(1),$M(0))),d.pipe((0,St.U)(g=>{const w={matches:!1,breakpoints:{}};return g.forEach(({matches:x,query:z})=>{w.matches=w.matches||x,w.breakpoints[z]=x}),w}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),d={observable:new to.y(g=>{const w=x=>this._zone.run(()=>g.next(x));return r.addListener(w),()=>{r.removeListener(w)}}).pipe(Z3(r),(0,St.U)(({matches:g})=>({query:e,matches:g})),Zi(this._destroySubject)),mql:r};return this._queries.set(e,d),d}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(woe),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dL(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function YC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const fL="cdk-describedby-message",KC="cdk-describedby-host";let ZM=0,Eoe=(()=>{class n{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ZM++,this._document=e,this._id=(0,m.f3M)(m.AFp)+"-"+ZM++}describe(e,r,s){if(!this._canBeDescribed(e,r))return;const d=YM(r,s);"string"!=typeof r?(mL(r,this._id),this._messageRegistry.set(d,{messageElement:r,referenceCount:0})):this._messageRegistry.has(d)||this._createMessageElement(r,s),this._isElementDescribedByMessage(e,d)||this._addMessageReference(e,d)}removeDescription(e,r,s){if(!r||!this._isElementNode(e))return;const d=YM(r,s);if(this._isElementDescribedByMessage(e,d)&&this._removeMessageReference(e,d),"string"==typeof r){const g=this._messageRegistry.get(d);g&&0===g.referenceCount&&this._deleteMessageElement(d)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${KC}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(KC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){const s=this._document.createElement("div");mL(s,this._id),s.textContent=e,r&&s.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(s),this._messageRegistry.set(YM(e,r),{messageElement:s,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let d=0;d<r.length;d++)r[d].remove();const s=this._document.createElement("div");s.style.visibility="hidden",s.classList.add(e),s.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&s.setAttribute("platform","server"),this._document.body.appendChild(s),this._messagesContainer=s}_removeCdkDescribedByReferenceIds(e){const r=YC(e,"aria-describedby").filter(s=>0!=s.indexOf(fL));e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){const s=this._messageRegistry.get(r);(function xoe(n,t,e){const r=YC(n,t);r.some(s=>s.trim()==e.trim())||(r.push(e.trim()),n.setAttribute(t,r.join(" ")))})(e,"aria-describedby",s.messageElement.id),e.setAttribute(KC,this._id),s.referenceCount++}_removeMessageReference(e,r){const s=this._messageRegistry.get(r);s.referenceCount--,function Soe(n,t,e){const s=YC(n,t).filter(d=>d!=e.trim());s.length?n.setAttribute(t,s.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",s.messageElement.id),e.removeAttribute(KC)}_isElementDescribedByMessage(e,r){const s=YC(e,"aria-describedby"),d=this._messageRegistry.get(r),g=d&&d.messageElement.id;return!!g&&-1!=s.indexOf(g)}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&"object"==typeof r)return!0;const s=null==r?"":`${r}`.trim(),d=e.getAttribute("aria-label");return!(!s||d&&d.trim()===s)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(Ao))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YM(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function mL(n,t){n.id||(n.id=`${fL}-${t}-${ZM++}`)}class Doe{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new nn.x,this._typeaheadSubscription=d1.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new nn.x,this.change=new nn.x,t instanceof m.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ri.b)(e=>this._pressedLetters.push(e)),$M(t),go(()=>this._pressedLetters.length>0),(0,St.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let s=1;s<r.length+1;s++){const d=(this._activeItemIndex+s)%r.length,g=r[d];if(!this._skipPredicateFn(g)&&0===g.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(d);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(d=>!t[d]||this._allowedModifierKeys.indexOf(d)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&s){const d=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(d>0?d:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&s){const d=this._activeItemIndex+this._pageUpAndDown.delta,g=this._getItemsArray().length;this._setActiveItemByIndex(d<g?d:g-1,-1);break}return;default:return void((s||av(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const s=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof m.n_E?this._items.toArray():this._items}}class zoe extends Doe{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}function gL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function vL(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Hoe=new m.OlP("cdk-input-modality-detector-options"),Poe={ignoreKeys:[18,17,224,91,16]},lv=im({passive:!0,capture:!0});let Roe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,s,d){this._platform=e,this._mostRecentTarget=null,this._modality=new _s(null),this._lastTouchMs=0,this._onKeydown=g=>{this._options?.ignoreKeys?.some(w=>w===g.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=i7(g))},this._onMousedown=g=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gL(g)?"keyboard":"mouse"),this._mostRecentTarget=i7(g))},this._onTouchstart=g=>{vL(g)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=i7(g))},this._options={...Poe,...d},this.modalityDetected=this._modality.pipe(sL(1)),this.modalityChanged=this.modalityDetected.pipe(th()),e.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,lv),s.addEventListener("mousedown",this._onMousedown,lv),s.addEventListener("touchstart",this._onTouchstart,lv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lv),document.removeEventListener("mousedown",this._onMousedown,lv),document.removeEventListener("touchstart",this._onTouchstart,lv))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ao),m.LFG(m.R0b),m.LFG(Z),m.LFG(Hoe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ooe=new m.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Foe(){return null}}),Boe=new m.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let joe=0,KM=(()=>{class n{constructor(e,r,s,d){this._ngZone=r,this._defaultOptions=d,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...r){const s=this._defaultOptions;let d,g;return 1===r.length&&"number"==typeof r[0]?g=r[0]:[d,g]=r,this.clear(),clearTimeout(this._previousTimeout),d||(d=s&&s.politeness?s.politeness:"polite"),null==g&&s&&(g=s.duration),this._liveElement.setAttribute("aria-live",d),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(w=>this._currentResolve=w)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof g&&(this._previousTimeout=setTimeout(()=>this.clear(),g)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let d=0;d<r.length;d++)r[d].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id="cdk-live-announcer-"+joe++,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const d=r[s],g=d.getAttribute("aria-owns");g?-1===g.indexOf(e)&&d.setAttribute("aria-owns",g+" "+e):d.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ooe,8),m.LFG(m.R0b),m.LFG(Z),m.LFG(Boe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uoe=new m.OlP("cdk-focus-monitor-default-options"),QC=im({passive:!0,capture:!0});let bL=(()=>{class n{constructor(e,r,s,d,g){this._ngZone=e,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=w=>{for(let z=i7(w);z;z=z.parentElement)"focus"===w.type?this._onFocus(w,z):this._onBlur(w,z)},this._document=d,this._detectionMode=g?.detectionMode||0}monitor(e,r=!1){const s=v5(e);if(!this._platform.isBrowser||1!==s.nodeType)return yt(null);const d=function ooe(n){if(function roe(){if(null==FM){const n=typeof document<"u"?document.head:null;FM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),g=this._elementInfo.get(s);if(g)return r&&(g.checkChildren=!0),g.subject;const w={checkChildren:r,subject:new nn.x,rootNode:d};return this._elementInfo.set(s,w),this._registerGlobalListeners(w),w.subject}stopMonitoring(e){const r=v5(e),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(e,r,s){const d=v5(e);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([w,x])=>this._originChanged(w,r,x)):(this._setOrigin(r),"function"==typeof d.focus&&d.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const s=this._elementInfo.get(r),d=i7(e);!s||!s.checkChildren&&r!==d||this._originChanged(r,this._getFocusOrigin(d),s)}_onBlur(e,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,QC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,QC)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zi(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,QC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,QC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,s){this._setClasses(e,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((s,d)=>{(d===e||s.checkChildren&&d.contains(e))&&r.push([d,s])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const d=e.labels;if(d)for(let g=0;g<d.length;g++)if(d[g].contains(r))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.R0b),m.LFG(Ao),m.LFG(Roe),m.LFG(Z,8),m.LFG(Uoe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yL="cdk-high-contrast-black-on-white",CL="cdk-high-contrast-white-on-black",QM="cdk-high-contrast-active";let wL=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,m.f3M)(WM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(e):null,d=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),d){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(QM,yL,CL),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?e.add(QM,yL):2===r&&e.add(QM,CL)}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ao),m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Goe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(wL))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[lL]}),n})();const qoe=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function $oe(){return(0,m.f3M)(Z)}}),Woe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let o7=(()=>{class n{constructor(e){this.value="ltr",this.change=new m.vpe,e&&(this.value=function Zoe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Woe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(qoe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ub=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const Yoe=["text"];function Koe(n,t){if(1&n&&m._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=m.oxw();m.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Qoe(n,t){if(1&n&&m._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=m.oxw();m.Q6J("disabled",e.disabled)}}function Joe(n,t){if(1&n&&(m.TgZ(0,"span",8),m._uU(1),m.qZA()),2&n){const e=m.oxw();m.xp6(1),m.hij("(",e.group.label,")")}}const Xoe=[[["mat-icon"]],"*"],ese=["mat-icon","*"],nse=new m.OlP("mat-sanity-checks",{providedIn:"root",factory:function tse(){return!0}});let Yi=(()=>{class n{constructor(e,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!BM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(wL),m.LFG(nse,8),m.LFG(Z))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ub,Ub]}),n})();function ML(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Or(t)}constructor(...t){super(...t),this._disabled=!1}}}function JC(n,t){return class extends n{get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function xL(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Or(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function ise(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?r7(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function SL(n){return class extends n{updateErrorState(){const t=this.errorState,d=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);d!==t&&(this.errorState=d,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let EL=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ose{constructor(t,e,r,s=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const DL=im({passive:!0,capture:!0});class sse{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=i7(t);e&&this._events.get(t.type)?.forEach((r,s)=>{(s===e||s.contains(e))&&r.forEach(d=>d.handleEvent(t))})}}addHandler(t,e,r,s){const d=this._events.get(e);if(d){const g=d.get(r);g?g.add(s):d.set(r,new Set([s]))}else this._events.set(e,new Map([[r,new Set([s])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,DL)})}removeHandler(t,e,r){const s=this._events.get(t);if(!s)return;const d=s.get(e);d&&(d.delete(r),0===d.size&&s.delete(e),0===s.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,DL)))}}const zL={enterDuration:225,exitDuration:150},IL=im({passive:!0,capture:!0}),TL=["mousedown","touchstart"],LL=["mouseup","mouseleave","touchend","touchcancel"];class qb{constructor(t,e,r,s){this._target=t,this._ngZone=e,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=v5(r))}fadeInRipple(t,e,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d={...zL,...r.animation};r.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const g=r.radius||function cse(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+s*s)}(t,e,s),w=t-s.left,x=e-s.top,z=d.enterDuration,N=document.createElement("div");N.classList.add("mat-ripple-element"),N.style.left=w-g+"px",N.style.top=x-g+"px",N.style.height=2*g+"px",N.style.width=2*g+"px",null!=r.color&&(N.style.backgroundColor=r.color),N.style.transitionDuration=`${z}ms`,this._containerElement.appendChild(N);const P=window.getComputedStyle(N),K=P.transitionDuration,ie="none"===P.transitionProperty||"0s"===K||"0s, 0s"===K||0===s.width&&0===s.height,de=new ose(this,N,r,ie);N.style.transform="scale3d(1, 1, 1)",de.state=0,r.persistent||(this._mostRecentTransientRipple=de);let ve=null;return!ie&&(z||d.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ve=()=>this._finishRippleTransition(de),tt=()=>this._destroyRipple(de);N.addEventListener("transitionend",Ve),N.addEventListener("transitioncancel",tt),ve={onTransitionEnd:Ve,onTransitionCancel:tt}}),this._activeRipples.set(de,ve),(ie||!z)&&this._finishRippleTransition(de),de}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,r={...zL,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=v5(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,TL.forEach(r=>{qb._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{LL.forEach(e=>{this._triggerElement.addEventListener(e,this,IL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=1,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=gL(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!vL(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(TL.forEach(e=>qb._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&LL.forEach(e=>t.removeEventListener(e,this,IL)))}}qb._eventManager=new sse;const lse=new m.OlP("mat-ripple-global-options");let $b=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,s,d,g){this._elementRef=e,this._animationMode=g,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new qb(this,r,e,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(Ao),m.Y36(lse,8),m.Y36(m.QbO,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&m.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),JM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,Yi]}),n})(),use=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.QbO,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,r){2&e&&m.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),dse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi]}),n})();const NL=new m.OlP("MAT_OPTION_PARENT_COMPONENT"),VL=new m.OlP("MatOptgroup");let hse=0;class fse{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let mse=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Or(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,s,d){this._element=e,this._changeDetectorRef=r,this._parent=s,this.group=d,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+hse++,this.onSelectionChange=new m.vpe,this._stateChanges=new nn.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!av(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new fse(this,e))}}return n.\u0275fac=function(e){m.$Z()},n.\u0275dir=m.lG2({type:n,viewQuery:function(e,r){if(1&e&&m.Gf(Yoe,7),2&e){let s;m.iGM(s=m.CRH())&&(r._text=s.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),XM=(()=>{class n extends mse{constructor(e,r,s,d){super(e,r,s,d)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(NL,8),m.Y36(VL,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,r){1&e&&m.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(d){return r._handleKeydown(d)}),2&e&&(m.Ikx("id",r.id),m.uIk("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),m.ekj("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[m.qOj],ngContentSelectors:ese,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(m.F$t(Xoe),m.YNc(0,Koe,1,2,"mat-pseudo-checkbox",0),m.Hsn(1),m.TgZ(2,"span",1,2),m.Hsn(4,1),m.qZA(),m.YNc(5,Qoe,1,1,"mat-pseudo-checkbox",3),m.YNc(6,Joe,2,1,"span",4),m._UZ(7,"div",5)),2&e&&(m.Q6J("ngIf",r.multiple),m.xp6(5),m.Q6J("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),m.xp6(1),m.Q6J("ngIf",r.group&&r.group._inert),m.xp6(1),m.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[$b,fi,use],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),HL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[JM,ui,Yi,dse]}),n})();const vse=["*",[["mat-toolbar-row"]]],_se=["*","mat-toolbar-row"],bse=JC(class{constructor(n){this._elementRef=n}});let PL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),yse=(()=>{class n extends bse{constructor(e,r,s){super(e),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Ao),m.Y36(Z))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,s){if(1&e&&m.Suo(s,PL,5),2&e){let d;m.iGM(d=m.CRH())&&(r._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&m.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[m.qOj],ngContentSelectors:_se,decls:2,vars:0,template:function(e,r){1&e&&(m.F$t(vse),m.Hsn(0),m.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),RL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,Yi]}),n})();const Cse=["mat-button",""],OL=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],FL=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],kse=["mat-fab",""],Ase=["mat-icon-button",""],Mse=["*"],xse=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Sse=JC(ML(xL(class{constructor(n){this._elementRef=n}})));let ex=(()=>{class n extends Sse{constructor(e,r,s,d){super(e),this._platform=r,this._ngZone=s,this._animationMode=d,this._focusMonitor=(0,m.f3M)(bL),this._isFab=!1;const g=e.nativeElement.classList;for(const w of xse)this._hasHostAttributes(w.selector)&&w.mdcClasses.forEach(x=>{g.add(x)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...e){return e.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){m.$Z()},n.\u0275dir=m.lG2({type:n,viewQuery:function(e,r){if(1&e&&m.Gf($b,5),2&e){let s;m.iGM(s=m.CRH())&&(r.ripple=s.first)}},features:[m.qOj]}),n})(),om=(()=>{class n extends ex{constructor(e,r,s,d){super(e,r,s,d)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Ao),m.Y36(m.R0b),m.Y36(m.QbO,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(m.uIk("disabled",r.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:Cse,ngContentSelectors:FL,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(m.F$t(OL),m._UZ(0,"span",0),m.Hsn(1),m.TgZ(2,"span",1),m.Hsn(3,1),m.qZA(),m.Hsn(4,2),m._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(m.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),m.xp6(6),m.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[$b],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const Dse=new m.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:BL});function BL(){return{color:"accent"}}const jL=BL();let zse=(()=>{class n extends ex{get extended(){return this._extended}set extended(e){this._extended=Or(e)}constructor(e,r,s,d,g){super(e,r,s,d),this._options=g,this._isFab=!0,this._options=this._options||jL,this.color=this.defaultColor=this._options.color||jL.color}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Ao),m.Y36(m.R0b),m.Y36(m.QbO,8),m.Y36(Dse,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,r){2&e&&(m.uIk("disabled",r.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[m.qOj],attrs:kse,ngContentSelectors:FL,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(m.F$t(OL),m._UZ(0,"span",0),m.Hsn(1),m.TgZ(2,"span",1),m.Hsn(3,1),m.qZA(),m.Hsn(4,2),m._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(m.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab),m.xp6(6),m.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[$b],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Ise=(()=>{class n extends ex{constructor(e,r,s,d){super(e,r,s,d)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Ao),m.Y36(m.R0b),m.Y36(m.QbO,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,r){2&e&&(m.uIk("disabled",r.disabled||null),m.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[m.qOj],attrs:Ase,ngContentSelectors:Mse,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,r){1&e&&(m.F$t(),m._UZ(0,"span",0),m.Hsn(1),m._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(m.xp6(3),m.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",r._elementRef.nativeElement))},dependencies:[$b],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),tx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,JM,Yi]}),n})();const Tse=function(){return["link-active"]},Lse=function(){return["/addpost"]},Nse=function(){return["/user-details"]};function Vse(n,t){if(1&n){const e=m.EpF();m.ynx(0),m.TgZ(1,"button",5),m._uU(2,"Add Post"),m.qZA(),m.TgZ(3,"button",1),m._uU(4),m.qZA(),m.TgZ(5,"button",6),m.NdJ("click",function(){m.CHM(e);const s=m.oxw();return m.KtG(s.authService.logout())}),m._uU(6,"Logout"),m.qZA(),m.BQk()}if(2&n){const e=t.ngIf;m.xp6(1),m.Q6J("routerLinkActive",m.DdM(4,Tse))("routerLink",m.DdM(5,Lse)),m.xp6(2),m.Q6J("routerLink",m.DdM(6,Nse)),m.xp6(1),m.Oqu(e.name)}}const Hse=function(){return["/login"]},Pse=function(){return["/signup"]};function Rse(n,t){1&n&&(m.TgZ(0,"button",1),m._uU(1,"Login"),m.qZA(),m.TgZ(2,"button",1),m._uU(3,"Signup"),m.qZA()),2&n&&(m.Q6J("routerLink",m.DdM(2,Hse)),m.xp6(2),m.Q6J("routerLink",m.DdM(3,Pse)))}const Ose=function(){return["/"]};let Fse=(()=>{class n{constructor(e){this.authService=e,this.appUser$=this.authService.appUser$,this.githubIcon=PM}logout(){this.authService.logout()}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(ov))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-nav-bar"]],decls:8,vars:6,consts:[[1,"mat-elevation-z4,","primary"],["mat-button","",3,"routerLink"],["src","assets/University_of_Surrey.jpg","width","40px","height","40px"],[4,"ngIf","ngIfElse"],["anonymousUser",""],["mat-button","",3,"routerLinkActive","routerLink"],["mat-button","",3,"click"]],template:function(r,s){if(1&r&&(m.TgZ(0,"mat-toolbar",0)(1,"mat-toolbar-row")(2,"button",1),m._UZ(3,"img",2),m.qZA(),m.YNc(4,Vse,7,7,"ng-container",3),m.ALo(5,"async"),m.YNc(6,Rse,4,4,"ng-template",null,4,m.W1O),m.qZA()()),2&r){const d=m.MAs(7);m.xp6(2),m.Q6J("routerLink",m.DdM(5,Ose)),m.xp6(2),m.Q6J("ngIf",m.lcZ(5,3,s.authService.appUser$))("ngIfElse",d)}},dependencies:[fi,yse,PL,om,Pd,Bp,Qo],styles:["mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:999}.user-avatar[_ngcontent-%COMP%]{margin:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.github-icon[_ngcontent-%COMP%]{font-size:large}"]})}return n})(),Bse=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}ngOnInit(){this.authService.appUser$.subscribe(e=>{if(e){const r=localStorage.getItem("returnUrl");if(!r)return;localStorage.removeItem("returnUrl"),this.router.navigateByUrl(r)}})}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(ov),m.Y36(Hr))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-10","col-sm-12"]],template:function(r,s){1&r&&(m._UZ(0,"app-nav-bar"),m.TgZ(1,"div",0)(2,"div",1)(3,"div",2),m._UZ(4,"router-outlet"),m.qZA()()())},dependencies:[v6,Fse],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%}"]})}return n})();const UL_firebaseConfig={apiKey:"demo",authDomain:"blogsite-30c69.firebaseapp.com",databaseURL:"demo",projectId:"blogsite-30c69",storageBucket:"demo",messagingSenderId:"demo",appId:"demo"};var XC=Q(7582);const _5=function jse(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},GL="object"==typeof global&&global&&global.Object===Object&&global;var Gse="object"==typeof self&&self&&self.Object===Object&&self;const W4=GL||Gse||Function("return this")(),nx=function(){return W4.Date.now()};var Wse=/\s/;var Kse=/^\s+/;const Jse=function Qse(n){return n&&n.slice(0,function Zse(n){for(var t=n.length;t--&&Wse.test(n.charAt(t)););return t}(n)+1).replace(Kse,"")},uv=W4.Symbol;var qL=Object.prototype,e1e=qL.hasOwnProperty,t1e=qL.toString,Wb=uv?uv.toStringTag:void 0;var o1e=Object.prototype.toString;var $L=uv?uv.toStringTag:void 0;const sm=function u1e(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":$L&&$L in Object(n)?function n1e(n){var t=e1e.call(n,Wb),e=n[Wb];try{n[Wb]=void 0;var r=!0}catch{}var s=t1e.call(n);return r&&(t?n[Wb]=e:delete n[Wb]),s}(n):function s1e(n){return o1e.call(n)}(n)},s7=function d1e(n){return null!=n&&"object"==typeof n};var p1e=/^[-+]0x[0-9a-f]+$/i,g1e=/^0b[01]+$/i,v1e=/^0o[0-7]+$/i,_1e=parseInt;const ZL=function b1e(n){if("number"==typeof n)return n;if(function f1e(n){return"symbol"==typeof n||s7(n)&&"[object Symbol]"==sm(n)}(n))return NaN;if(_5(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=_5(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=Jse(n);var e=g1e.test(n);return e||v1e.test(n)?_1e(n.slice(2),e?2:8):p1e.test(n)?NaN:+n};var C1e=Math.max,w1e=Math.min;const S1e=function x1e(n,t,e){var r=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return _5(e)&&(r="leading"in e?!!e.leading:r,s="trailing"in e?!!e.trailing:s),function k1e(n,t,e){var r,s,d,g,w,x,z=0,N=!1,P=!1,W=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function K(Ct){var sn=r,Ki=s;return r=s=void 0,z=Ct,g=n.apply(Ki,sn)}function ve(Ct){var sn=Ct-x;return void 0===x||sn>=t||sn<0||P&&Ct-z>=d}function Ve(){var Ct=nx();if(ve(Ct))return tt(Ct);w=setTimeout(Ve,function de(Ct){var Fr=t-(Ct-x);return P?w1e(Fr,d-(Ct-z)):Fr}(Ct))}function tt(Ct){return w=void 0,W&&r?K(Ct):(r=s=void 0,g)}function Dt(){var Ct=nx(),sn=ve(Ct);if(r=arguments,s=this,x=Ct,sn){if(void 0===w)return function ie(Ct){return z=Ct,w=setTimeout(Ve,t),N?K(Ct):g}(x);if(P)return clearTimeout(w),w=setTimeout(Ve,t),K(x)}return void 0===w&&(w=setTimeout(Ve,t)),g}return t=ZL(t)||0,_5(e)&&(N=!!e.leading,d=(P="maxWait"in e)?C1e(ZL(e.maxWait)||0,t):d,W="trailing"in e?!!e.trailing:W),Dt.cancel=function st(){void 0!==w&&clearTimeout(w),z=0,r=x=s=w=void 0},Dt.flush=function ft(){return void 0===w?g:tt(nx())},Dt}(n,t,{leading:r,maxWait:t,trailing:s})},YL=function z1e(n,t){return n===t||n!=n&&t!=t},ew=function I1e(n,t){for(var e=n.length;e--;)if(YL(n[e][0],t))return e;return-1};var L1e=Array.prototype.splice;function dv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}dv.prototype.clear=function E1e(){this.__data__=[],this.size=0},dv.prototype.delete=function N1e(n){var t=this.__data__,e=ew(t,n);return!(e<0||(e==t.length-1?t.pop():L1e.call(t,e,1),--this.size,0))},dv.prototype.get=function H1e(n){var t=this.__data__,e=ew(t,n);return e<0?void 0:t[e][1]},dv.prototype.has=function R1e(n){return ew(this.__data__,n)>-1},dv.prototype.set=function F1e(n,t){var e=this.__data__,r=ew(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this};const tw=dv;const KL=function eae(n){if(!_5(n))return!1;var t=sm(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ix=W4["__core-js_shared__"];var QL=function(){var n=/[^.]+$/.exec(ix&&ix.keys&&ix.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var oae=Function.prototype.toString;const am=function sae(n){if(null!=n){try{return oae.call(n)}catch{}try{return n+""}catch{}}return""};var cae=/^\[object .+?Constructor\]$/,fae=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pae=function mae(n){return!(!_5(n)||function nae(n){return!!QL&&QL in n}(n))&&(KL(n)?fae:cae).test(am(n))},cm=function _ae(n,t){var e=function gae(n,t){return n?.[t]}(n,t);return pae(e)?e:void 0},Zb=cm(W4,"Map"),Yb=cm(Object,"create");var Sae=Object.prototype.hasOwnProperty;var Iae=Object.prototype.hasOwnProperty;function hv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}hv.prototype.clear=function Cae(){this.__data__=Yb?Yb(null):{},this.size=0},hv.prototype.delete=function kae(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},hv.prototype.get=function Eae(n){var t=this.__data__;if(Yb){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Sae.call(t,n)?t[n]:void 0},hv.prototype.has=function Tae(n){var t=this.__data__;return Yb?void 0!==t[n]:Iae.call(t,n)},hv.prototype.set=function Vae(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Yb&&void 0===t?"__lodash_hash_undefined__":t,this};const JL=hv,nw=function Bae(n,t){var e=n.__data__;return function Oae(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function fv(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}fv.prototype.clear=function Pae(){this.size=0,this.__data__={hash:new JL,map:new(Zb||tw),string:new JL}},fv.prototype.delete=function jae(n){var t=nw(this,n).delete(n);return this.size-=t?1:0,t},fv.prototype.get=function Gae(n){return nw(this,n).get(n)},fv.prototype.has=function $ae(n){return nw(this,n).has(n)},fv.prototype.set=function Zae(n,t){var e=nw(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this};const Kae=fv;function mv(n){var t=this.__data__=new tw(n);this.size=t.size}mv.prototype.clear=function j1e(){this.__data__=new tw,this.size=0},mv.prototype.delete=function G1e(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},mv.prototype.get=function $1e(n){return this.__data__.get(n)},mv.prototype.has=function Z1e(n){return this.__data__.has(n)},mv.prototype.set=function Jae(n,t){var e=this.__data__;if(e instanceof tw){var r=e.__data__;if(!Zb||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Kae(r)}return e.set(n,t),this.size=e.size,this};const e2e=mv;var i2e=function(){try{var n=cm(Object,"defineProperty");return n({},"",{}),n}catch{}}();const XL=i2e,eN=function r2e(n,t,e){"__proto__"==t&&XL?XL(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e};var s2e=Object.prototype.hasOwnProperty;const tN=function a2e(n,t,e){var r=n[t];(!s2e.call(n,t)||!YL(r,e)||void 0===e&&!(t in n))&&eN(n,t,e)},iw=function c2e(n,t,e,r){var s=!e;e||(e={});for(var d=-1,g=t.length;++d<g;){var w=t[d],x=r?r(e[w],n[w],w,e,n):void 0;void 0===x&&(x=n[w]),s?eN(e,w,x):tN(e,w,x)}return e};const nN=function h2e(n){return s7(n)&&"[object Arguments]"==sm(n)};var iN=Object.prototype,f2e=iN.hasOwnProperty,m2e=iN.propertyIsEnumerable,p2e=nN(function(){return arguments}())?nN:function(n){return s7(n)&&f2e.call(n,"callee")&&!m2e.call(n,"callee")};const g2e=p2e,rx=Array.isArray;var rN="object"==typeof exports&&exports&&!exports.nodeType&&exports,oN=rN&&"object"==typeof module&&module&&!module.nodeType&&module,sN=oN&&oN.exports===rN?W4.Buffer:void 0;const aN=(sN?sN.isBuffer:void 0)||function _2e(){return!1};var A2e=/^(?:0|[1-9]\d*)$/;const x2e=function M2e(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&A2e.test(n))&&n>-1&&n%1==0&&n<t};const cN=function E2e(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var wr={};wr["[object Float32Array]"]=wr["[object Float64Array]"]=wr["[object Int8Array]"]=wr["[object Int16Array]"]=wr["[object Int32Array]"]=wr["[object Uint8Array]"]=wr["[object Uint8ClampedArray]"]=wr["[object Uint16Array]"]=wr["[object Uint32Array]"]=!0,wr["[object Arguments]"]=wr["[object Array]"]=wr["[object ArrayBuffer]"]=wr["[object Boolean]"]=wr["[object DataView]"]=wr["[object Date]"]=wr["[object Error]"]=wr["[object Function]"]=wr["[object Map]"]=wr["[object Number]"]=wr["[object Object]"]=wr["[object RegExp]"]=wr["[object Set]"]=wr["[object String]"]=wr["[object WeakMap]"]=!1;const ox=function tce(n){return function(t){return n(t)}};var lN="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kb=lN&&"object"==typeof module&&module&&!module.nodeType&&module,sx=Kb&&Kb.exports===lN&&GL.process;const pv=function(){try{return Kb&&Kb.require&&Kb.require("util").types||sx&&sx.binding&&sx.binding("util")}catch{}}();var uN=pv&&pv.isTypedArray;const oce=uN?ox(uN):function X2e(n){return s7(n)&&cN(n.length)&&!!wr[sm(n)]};var ace=Object.prototype.hasOwnProperty;const dN=function cce(n,t){var e=rx(n),r=!e&&g2e(n),s=!e&&!r&&aN(n),d=!e&&!r&&!s&&oce(n),g=e||r||s||d,w=g?function l2e(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}(n.length,String):[],x=w.length;for(var z in n)(t||ace.call(n,z))&&(!g||!("length"==z||s&&("offset"==z||"parent"==z)||d&&("buffer"==z||"byteLength"==z||"byteOffset"==z)||x2e(z,x)))&&w.push(z);return w};var lce=Object.prototype;const ax=function uce(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||lce)},hN=function dce(n,t){return function(e){return n(t(e))}},fce=hN(Object.keys,Object);var pce=Object.prototype.hasOwnProperty;const fN=function _ce(n){return null!=n&&cN(n.length)&&!KL(n)},cx=function bce(n){return fN(n)?dN(n):function gce(n){if(!ax(n))return fce(n);var t=[];for(var e in Object(n))pce.call(n,e)&&"constructor"!=e&&t.push(e);return t}(n)};var Mce=Object.prototype.hasOwnProperty;const Sce=function xce(n){if(!_5(n))return function wce(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=ax(n),e=[];for(var r in n)"constructor"==r&&(t||!Mce.call(n,r))||e.push(r);return e},lx=function Ece(n){return fN(n)?dN(n,!0):Sce(n)};var mN="object"==typeof exports&&exports&&!exports.nodeType&&exports,pN=mN&&"object"==typeof module&&module&&!module.nodeType&&module,gN=pN&&pN.exports===mN?W4.Buffer:void 0,vN=gN?gN.allocUnsafe:void 0;const _N=function Rce(){return[]};var Fce=Object.prototype.propertyIsEnumerable,bN=Object.getOwnPropertySymbols,Bce=bN?function(n){return null==n?[]:(n=Object(n),function Hce(n,t){for(var e=-1,r=null==n?0:n.length,s=0,d=[];++e<r;){var g=n[e];t(g,e,n)&&(d[s++]=g)}return d}(bN(n),function(t){return Fce.call(n,t)}))}:_N;const ux=Bce,yN=function Gce(n,t){for(var e=-1,r=t.length,s=n.length;++e<r;)n[s+e]=t[e];return n},dx=hN(Object.getPrototypeOf,Object);var Wce=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)yN(t,ux(n)),n=dx(n);return t}:_N;const CN=Wce,wN=function Kce(n,t,e){var r=t(n);return rx(n)?r:yN(r,e(n))},Jce=function Qce(n){return wN(n,cx,ux)},e3e=function Xce(n){return wN(n,lx,CN)},hx=cm(W4,"DataView"),fx=cm(W4,"Promise"),mx=cm(W4,"Set"),px=cm(W4,"WeakMap");var kN="[object Map]",AN="[object Promise]",MN="[object Set]",xN="[object WeakMap]",SN="[object DataView]",s3e=am(hx),a3e=am(Zb),c3e=am(fx),l3e=am(mx),u3e=am(px),lm=sm;(hx&&lm(new hx(new ArrayBuffer(1)))!=SN||Zb&&lm(new Zb)!=kN||fx&&lm(fx.resolve())!=AN||mx&&lm(new mx)!=MN||px&&lm(new px)!=xN)&&(lm=function(n){var t=sm(n),e="[object Object]"==t?n.constructor:void 0,r=e?am(e):"";if(r)switch(r){case s3e:return SN;case a3e:return kN;case c3e:return AN;case l3e:return MN;case u3e:return xN}return t});const gx=lm;var h3e=Object.prototype.hasOwnProperty;const EN=W4.Uint8Array,vx=function g3e(n){var t=new n.constructor(n.byteLength);return new EN(t).set(new EN(n)),t};var b3e=/\w*$/;var DN=uv?uv.prototype:void 0,zN=DN?DN.valueOf:void 0;const $3e=function q3e(n,t,e){var r=n.constructor;switch(t){case"[object ArrayBuffer]":return vx(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return function v3e(n,t){var e=t?vx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function A3e(n,t){var e=t?vx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}(n,e);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return function y3e(n){var t=new n.constructor(n.source,b3e.exec(n));return t.lastIndex=n.lastIndex,t}(n);case"[object Symbol]":return function w3e(n){return zN?Object(zN.call(n)):{}}(n)}};var IN=Object.create,W3e=function(){function n(){}return function(t){if(!_5(t))return{};if(IN)return IN(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const Z3e=W3e;var TN=pv&&pv.isMap;const tle=TN?ox(TN):function J3e(n){return s7(n)&&"[object Map]"==gx(n)};var LN=pv&&pv.isSet;const sle=LN?ox(LN):function ile(n){return s7(n)&&"[object Set]"==gx(n)};var NN="[object Arguments]",VN="[object Function]",HN="[object Object]",cr={};cr[NN]=cr["[object Array]"]=cr["[object ArrayBuffer]"]=cr["[object DataView]"]=cr["[object Boolean]"]=cr["[object Date]"]=cr["[object Float32Array]"]=cr["[object Float64Array]"]=cr["[object Int8Array]"]=cr["[object Int16Array]"]=cr["[object Int32Array]"]=cr["[object Map]"]=cr["[object Number]"]=cr[HN]=cr["[object RegExp]"]=cr["[object Set]"]=cr["[object String]"]=cr["[object Symbol]"]=cr["[object Uint8Array]"]=cr["[object Uint8ClampedArray]"]=cr["[object Uint16Array]"]=cr["[object Uint32Array]"]=!0,cr["[object Error]"]=cr[VN]=cr["[object WeakMap]"]=!1;const Lle=function rw(n,t,e,r,s,d){var g,w=1&t,x=2&t,z=4&t;if(e&&(g=s?e(n,r,s,d):e(n)),void 0!==g)return g;if(!_5(n))return n;var N=rx(n);if(N){if(g=function f3e(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&h3e.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(n),!w)return function Nce(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}(n,g)}else{var P=gx(n),W=P==VN||"[object GeneratorFunction]"==P;if(aN(n))return function Tce(n,t){if(t)return n.slice();var e=n.length,r=vN?vN(e):new n.constructor(e);return n.copy(r),r}(n,w);if(P==HN||P==NN||W&&!s){if(g=x||W?{}:function Y3e(n){return"function"!=typeof n.constructor||ax(n)?{}:Z3e(dx(n))}(n),!w)return x?function Zce(n,t){return iw(n,CN(n),t)}(n,function Dce(n,t){return n&&iw(t,lx(t),n)}(g,n)):function jce(n,t){return iw(n,ux(n),t)}(n,function yce(n,t){return n&&iw(t,cx(t),n)}(g,n))}else{if(!cr[P])return s?n:{};g=$3e(n,P,w)}}d||(d=new e2e);var K=d.get(n);if(K)return K;d.set(n,g),sle(n)?n.forEach(function(ve){g.add(rw(ve,t,e,ve,n,d))}):tle(n)&&n.forEach(function(ve,Ve){g.set(Ve,rw(ve,t,e,Ve,n,d))});var de=N?void 0:(z?x?e3e:Jce:x?lx:cx)(n);return function t2e(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););}(de||n,function(ve,Ve){de&&(ve=n[Ve=ve]),tN(g,Ve,rw(ve,t,e,Ve,n,d))}),g};var PN=Function.prototype.toString,Ble=Object.prototype.hasOwnProperty,jle=PN.call(Object);const $le=function qle(n){return s7(n)&&1===n.nodeType&&!function Ule(n){if(!s7(n)||"[object Object]"!=sm(n))return!1;var t=dx(n);if(null===t)return!0;var e=Ble.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&PN.call(e)==jle}(n)};function RN(n,t=new Set){const e=[n],r=new Set;let s=0;for(;e.length>s;){const d=e[s++];if(!(r.has(d)||Wle(d)||t.has(d)))if(r.add(d),d[Symbol.iterator])try{for(const g of d)e.push(g)}catch{}else for(const g in d)"defaultValue"!==g&&e.push(d[g])}return r}function Wle(n){const t=Object.prototype.toString.call(n),e=typeof n;return"number"===e||"boolean"===e||"string"===e||"symbol"===e||"function"===e||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==n||n instanceof EventTarget||n instanceof Event}class Kle{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const r=e.error||e.reason;r instanceof Error&&this._handleError(r,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(r=>r!==e)}_fire(t,...e){const r=this._listeners[t]||[];for(const s of r)s.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class Qle extends Kle{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=S1e(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(r,s)=>t.create(r,s),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=r,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function Zle(n,t,e=new Set){if(n===t&&function Yle(n){return"object"==typeof n&&null!==n}(n))return!0;const r=RN(n,e),s=RN(t,e);for(const d of r)if(s.has(d))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return function Hle(n,t){return Lle(n,5,t="function"==typeof t?t:void 0)}(t,(e,r)=>{if($le(e)||"context"===r)return e})}}function ON(...n){const t=(0,Jl.jO)(n),{args:e,keys:r}=o6(n),s=new to.y(d=>{const{length:g}=e;if(!g)return void d.complete();const w=new Array(g);let x=g,z=g;for(let N=0;N<g;N++){let P=!1;(0,Xl.Xf)(e[N]).subscribe((0,mr.x)(d,W=>{P||(P=!0,z--),w[N]=W},()=>x--,void 0,()=>{(!x||!P)&&(z||d.next(r?Y7(r,w):w),d.complete())}))}});return t?s.pipe(l8(t)):s}let FN=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.Qsj),m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n}),n})(),um=(()=>{class n extends FN{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const Z4=new m.OlP("NgValueAccessor"),Xle={provide:Z4,useExisting:(0,m.Gpc)(()=>a7),multi:!0},t4e=new m.OlP("CompositionEventMode");let a7=(()=>{class n extends FN{constructor(e,r,s){super(e,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function e4e(){const n=Y()?Y().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(t4e,8))},n.\u0275dir=m.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&m.NdJ("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[m._Bn([Xle]),m.qOj]}),n})();const n4e=!1;function c7(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function jN(n){return null!=n&&"number"==typeof n.length}const Z1=new m.OlP("NgValidators"),l7=new m.OlP("NgAsyncValidators"),i4e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class UN{static min(t){return function GN(n){return t=>{if(c7(t.value)||c7(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function qN(n){return t=>{if(c7(t.value)||c7(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return $N(t)}static requiredTrue(t){return function WN(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return ZN(t)}static minLength(t){return function YN(n){return t=>c7(t.value)||!jN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function KN(n){return t=>jN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function QN(n){if(!n)return ow;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(c7(r.value))return null;const s=r.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return iV(t)}static composeAsync(t){return rV(t)}}function $N(n){return c7(n.value)?{required:!0}:null}function ZN(n){return c7(n.value)||i4e.test(n.value)?null:{email:!0}}function ow(n){return null}function JN(n){return null!=n}function XN(n){const t=(0,m.QGY)(n)?(0,ri.D)(n):n;if(n4e&&!(0,m.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new m.vHH(-1101,e)}return t}function eV(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function tV(n,t){return t.map(e=>e(n))}function nV(n){return n.map(t=>function r4e(n){return!n.validate}(t)?t:e=>t.validate(e))}function iV(n){if(!n)return null;const t=n.filter(JN);return 0==t.length?null:function(e){return eV(tV(e,t))}}function _x(n){return null!=n?iV(nV(n)):null}function rV(n){if(!n)return null;const t=n.filter(JN);return 0==t.length?null:function(e){return ON(tV(e,t).map(XN)).pipe((0,St.U)(eV))}}function bx(n){return null!=n?rV(nV(n)):null}function oV(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function sV(n){return n._rawValidators}function aV(n){return n._rawAsyncValidators}function yx(n){return n?Array.isArray(n)?n:[n]:[]}function sw(n,t){return Array.isArray(n)?n.includes(t):n===t}function cV(n,t){const e=yx(t);return yx(n).forEach(s=>{sw(e,s)||e.push(s)}),e}function lV(n,t){return yx(t).filter(e=>!sw(n,e))}class uV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_x(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class qa extends uV{get formDirective(){return null}get path(){return null}}class mu extends uV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dV{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dm=(()=>{class n extends dV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(mu,2))},n.\u0275dir=m.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&m.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[m.qOj]}),n})(),gv=(()=>{class n extends dV{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(qa,10))},n.\u0275dir=m.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&m.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[m.qOj]}),n})();function hV(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const kx=!1,Qb="VALID",cw="INVALID",vv="PENDING",Jb="DISABLED";function Ax(n){return(lw(n)?n.validators:n)||null}function Mx(n,t){return(lw(t)?t.asyncValidators:n)||null}function lw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pV{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qb}get invalid(){return this.status===cw}get pending(){return this.status==vv}get disabled(){return this.status===Jb}get enabled(){return this.status!==Jb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(cV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(lV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(lV(t,this._rawAsyncValidators))}hasValidator(t){return sw(this._rawValidators,t)}hasAsyncValidator(t){return sw(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jb,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Qb,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qb||this.status===vv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jb:Qb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vv,this._hasOwnPendingAsyncValidator=!0;const e=XN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,s)=>r&&r._find(s),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Jb:this.errors?cw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vv)?vv:this._anyControlsHaveStatus(cw)?cw:Qb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function d4e(n){return Array.isArray(n)?_x(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function h4e(n){return Array.isArray(n)?bx(n):n||null}(this._rawAsyncValidators)}}class xx extends pV{constructor(t,e,r){super(Ax(e),Mx(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function mV(n,t,e){n._forEachChild((r,s)=>{if(void 0===e[s])throw new m.vHH(1002,kx?function u4e(n,t){return`Must supply a value for form control ${hV(n,t)}`}(t,s):"")})})(this,!0,t),Object.keys(t).forEach(r=>{(function fV(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new m.vHH(1e3,kx?function c4e(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!r[e])throw new m.vHH(1001,kx?function l4e(n,t){return`Cannot find form control ${hV(n,t)}`}(t,e):"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const s=this.controls[r];s&&s.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,s)=>{r.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,s)=>((r.enabled||this.disabled)&&(e[s]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((s,d)=>{r=e(r,s,d)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const _v=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uw}),uw="always";function Xb(n,t,e=uw){Sx(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function p4e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gV(n,t)})}(n,t),function v4e(n,t){const e=(r,s)=>{t.valueAccessor.writeValue(r),s&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function g4e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gV(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function m4e(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hw(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),mw(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function fw(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sx(n,t){const e=sV(n);null!==t.validator?n.setValidators(oV(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=aV(n);null!==t.asyncValidator?n.setAsyncValidators(oV(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();fw(t._rawValidators,s),fw(t._rawAsyncValidators,s)}function mw(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=sV(n);if(Array.isArray(s)&&s.length>0){const d=s.filter(g=>g!==t.validator);d.length!==s.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const s=aV(n);if(Array.isArray(s)&&s.length>0){const d=s.filter(g=>g!==t.asyncValidator);d.length!==s.length&&(e=!0,n.setAsyncValidators(d))}}}const r=()=>{};return fw(t._rawValidators,r),fw(t._rawAsyncValidators,r),e}function gV(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vV(n,t){Sx(n,t)}function _V(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const w4e={provide:qa,useExisting:(0,m.Gpc)(()=>pu)},ey=(()=>Promise.resolve())();let pu=(()=>{class n extends qa{constructor(e,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new xx({},_x(e),bx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ey.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Xb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ey.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ey.then(()=>{const r=this._findContainer(e.path),s=new xx({});vV(s,e),r.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ey.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ey.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,_V(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Z1,10),m.Y36(l7,10),m.Y36(_v,8))},n.\u0275dir=m.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&m.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([w4e]),m.qOj]}),n})();function bV(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function yV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const CV=class extends pV{constructor(t=null,e,r){super(Ax(e),Mx(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lw(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=yV(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){yV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},M4e={provide:mu,useExisting:(0,m.Gpc)(()=>u7)},AV=(()=>Promise.resolve())();let u7=(()=>{class n extends mu{constructor(e,r,s,d,g,w){super(),this._changeDetectorRef=g,this.callSetDisabledState=w,this.control=new CV,this._registered=!1,this.update=new m.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function zx(n,t){if(!t)return null;let e,r,s;return Array.isArray(t),t.forEach(d=>{d.constructor===a7?e=d:function y4e(n){return Object.getPrototypeOf(n.constructor)===um}(d)?r=d:s=d}),s||r||e||null}(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Dx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){AV.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,s=0!==r&&(0,m.D6c)(r);AV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function dw(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(qa,9),m.Y36(Z1,10),m.Y36(l7,10),m.Y36(Z4,10),m.Y36(m.sBO,8),m.Y36(_v,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m._Bn([M4e]),m.qOj,m.TTD]}),n})(),bv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const I4e={provide:qa,useExisting:(0,m.Gpc)(()=>ty)};let ty=(()=>{class n extends qa{constructor(e,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Xb(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){hw(e.control||null,e,!1),function C4e(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,_V(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,s=this.form.get(e.path);r!==s&&(hw(r||null,e),(n=>n instanceof CV)(s)&&(Xb(s,e,this.callSetDisabledState),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);vV(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function _4e(n,t){return mw(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sx(this.form,this),this._oldForm&&mw(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Z1,10),m.Y36(l7,10),m.Y36(_v,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&m.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([I4e]),m.qOj,m.TTD]}),n})(),hm=(()=>{class n{constructor(){this._validator=ow}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ow,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,features:[m.TTD]}),n})();const U4e={provide:Z1,useExisting:(0,m.Gpc)(()=>fm),multi:!0};let fm=(()=>{class n extends hm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.D6c,this.createValidator=e=>$N}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275dir=m.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&m.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[m._Bn([U4e]),m.qOj]}),n})();const q4e={provide:Z1,useExisting:(0,m.Gpc)(()=>Vx),multi:!0};let Vx=(()=>{class n extends hm{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=m.D6c,this.createValidator=e=>ZN}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275dir=m.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[m._Bn([q4e]),m.qOj]}),n})(),Y4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[xV]}),n})(),UV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_v,useValue:e.callSetDisabledState??uw}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Y4e]}),n})();function Q4e(n,t){}const Y1=new Array(256).fill(0).map((n,t)=>("0"+t.toString(16)).slice(-2)),Hx="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let e0e=(()=>{class n{constructor(e,r){this.config={},this.data="",this.tagName="div",this.ready=new m.vpe,this.change=new m.vpe,this.blur=new m.vpe,this.focus=new m.vpe,this.error=new m.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function X4e(){const n=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Y1[n>>0&255]+Y1[n>>8&255]+Y1[n>>16&255]+Y1[n>>24&255]+Y1[t>>0&255]+Y1[t>>8&255]+Y1[t>>16&255]+Y1[t>>24&255]+Y1[e>>0&255]+Y1[e>>8&255]+Y1[e>>16&255]+Y1[e>>24&255]+Y1[r>>0&255]+Y1[r>>8&255]+Y1[r>>16&255]+Y1[r>>24&255]}(),this.ngZone=r,this.elementRef=e;const{CKEDITOR_VERSION:s}=window;if(s){const[d]=s.split(".").map(Number);d<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(e){this.setDisabledState(e)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return(0,XC.mG)(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe(L2()).subscribe(r=>{r.setData(this.data)}))}registerOnChange(e){this.cvaOnChange=e}registerOnTouched(e){this.cvaOnTouched=e}setDisabledState(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode(Hx):this.editorInstance.disableReadOnlyMode(Hx)),this.initiallyDisabled=e}attachToWatchdog(){const e=(w,x)=>(0,XC.mG)(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>(0,XC.mG)(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(w);const z=yield this.editor.create(w,x);return this.initiallyDisabled&&z.enableReadOnlyMode(Hx),this.ngZone.run(()=>{this.ready.emit(z)}),this.setUpEditorEvents(z),z}))}),r=w=>(0,XC.mG)(this,void 0,void 0,function*(){yield w.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),s=()=>{this.ngZone.run(()=>{this.error.emit()})},d=document.createElement(this.tagName),g=this.getConfig();if(this.editorElement=d,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:e,destructor:r,sourceElementOrData:d,config:g}),this.watchdog.on("itemError",(w,{itemId:x})=>{x===this.id&&s()});else{const w=new Qle(this.editor);w.setCreator(e),w.setDestructor(r),w.on("error",s),this.editorWatchdog=w,this.editorWatchdog.create(d,g)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const e=Object.assign({},this.config),r=this.config.initialData||this.data;return r&&(e.initialData=r),e}setUpEditorEvents(e){const s=e.editing.view.document;e.model.document.on("change:data",d=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const g=e.getData();this.cvaOnChange(g)}this.change.emit({event:d,editor:e})})}),s.on("focus",d=>{this.ngZone.run(()=>{this.focus.emit({event:d,editor:e})})}),s.on("blur",d=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:d,editor:e})})})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.R0b))},n.\u0275cmp=m.Xpm({type:n,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[m._Bn([{provide:Z4,useExisting:(0,m.Gpc)(()=>n),multi:!0}])],decls:1,vars:0,template:function(e,r){1&e&&m.YNc(0,Q4e,0,0,"ng-template")},encapsulation:2}),n})(),t0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[UV,ui]}),n})();class pw{}class Px{}class gu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const s=e.slice(0,r),d=s.toLowerCase(),g=e.slice(r+1).trim();this.maybeSetNormalizedName(s,d),this.headers.has(d)?this.headers.get(d).push(g):this.headers.set(d,[g])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{let s;if(s="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(d=>d.toString()),s.length>0){const d=e.toLowerCase();this.headers.set(d,s),this.maybeSetNormalizedName(e,d)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new gu;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof gu?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...r),this.headers.set(e,s);break;case"d":const d=t.value;if(d){let g=this.headers.get(e);if(!g)return;g=g.filter(w=>-1===d.indexOf(w)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class n0e{encodeKey(t){return GV(t)}encodeValue(t){return GV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const r0e=/%(\d[a-f0-9])/gi,o0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GV(n){return encodeURIComponent(n).replace(r0e,(t,e)=>o0e[e]??t)}function gw(n){return`${n}`}class d7{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new n0e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function i0e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const d=s.indexOf("="),[g,w]=-1==d?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,d)),t.decodeValue(s.slice(d+1))],x=e.get(g)||[];x.push(w),e.set(g,x)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],s=Array.isArray(r)?r.map(gw):[gw(r)];this.map.set(e,s)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const s=t[r];Array.isArray(s)?s.forEach(d=>{e.push({param:r,value:d,op:"a"})}):e.push({param:r,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new d7({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(gw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const s=r.indexOf(gw(t.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class s0e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function qV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $V(n){return typeof Blob<"u"&&n instanceof Blob}function WV(n){return typeof FormData<"u"&&n instanceof FormData}class ny{constructor(t,e,r,s){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function a0e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,d=s):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new gu),this.context||(this.context=new s0e),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const w=e.indexOf("?");this.urlWithParams=e+(-1===w?"?":w<e.length-1?"&":"")+g}}else this.params=new d7,this.urlWithParams=e}serializeBody(){return null===this.body?null:qV(this.body)||$V(this.body)||WV(this.body)||function c0e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof d7?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WV(this.body)?null:$V(this.body)?this.body.type||null:qV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof d7?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,w=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let x=t.headers||this.headers,z=t.params||this.params;const N=t.context??this.context;return void 0!==t.setHeaders&&(x=Object.keys(t.setHeaders).reduce((P,W)=>P.set(W,t.setHeaders[W]),x)),t.setParams&&(z=Object.keys(t.setParams).reduce((P,W)=>P.set(W,t.setParams[W]),z)),new ny(e,r,d,{params:z,headers:x,context:N,reportProgress:w,responseType:s,withCredentials:g})}}var ss=(()=>((ss=ss||{})[ss.Sent=0]="Sent",ss[ss.UploadProgress=1]="UploadProgress",ss[ss.ResponseHeader=2]="ResponseHeader",ss[ss.DownloadProgress=3]="DownloadProgress",ss[ss.Response=4]="Response",ss[ss.User=5]="User",ss))();class Rx{constructor(t,e=200,r="OK"){this.headers=t.headers||new gu,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ox extends Rx{constructor(t={}){super(t),this.type=ss.ResponseHeader}clone(t={}){return new Ox({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vw extends Rx{constructor(t={}){super(t),this.type=ss.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vw({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZV extends Rx{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Fx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iy=(()=>{class n{constructor(e){this.handler=e}request(e,r,s={}){let d;if(e instanceof ny)d=e;else{let x,z;x=s.headers instanceof gu?s.headers:new gu(s.headers),s.params&&(z=s.params instanceof d7?s.params:new d7({fromObject:s.params})),d=new ny(e,r,void 0!==s.body?s.body:null,{headers:x,context:s.context,params:z,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const g=yt(d).pipe(Dc(x=>this.handler.handle(x)));if(e instanceof ny||"events"===s.observe)return g;const w=g.pipe(go(x=>x instanceof vw));switch(s.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return w.pipe((0,St.U)(x=>{if(null!==x.body&&!(x.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return x.body}));case"blob":return w.pipe((0,St.U)(x=>{if(null!==x.body&&!(x.body instanceof Blob))throw new Error("Response is not a Blob.");return x.body}));case"text":return w.pipe((0,St.U)(x=>{if(null!==x.body&&"string"!=typeof x.body)throw new Error("Response is not a string.");return x.body}));default:return w.pipe((0,St.U)(x=>x.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new d7).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,s={}){return this.request("PATCH",e,Fx(s,r))}post(e,r,s={}){return this.request("POST",e,Fx(s,r))}put(e,r,s={}){return this.request("PUT",e,Fx(s,r))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(pw))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function YV(n,t){return t(n)}function l0e(n,t){return(e,r)=>t.intercept(e,{handle:s=>n(s,r)})}const d0e=new m.OlP("HTTP_INTERCEPTORS"),ry=new m.OlP("HTTP_INTERCEPTOR_FNS");function h0e(){let n=null;return(t,e)=>(null===n&&(n=((0,m.f3M)(d0e,{optional:!0})??[]).reduceRight(l0e,YV)),n(t,e))}let KV=(()=>{class n extends pw{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=Array.from(new Set(this.injector.get(ry)));this.chain=r.reduceRight((s,d)=>function u0e(n,t,e){return(r,s)=>e.runInContext(()=>t(r,d=>n(d,s)))}(s,d,this.injector),YV)}return this.chain(e,r=>this.backend.handle(r))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Px),m.LFG(m.lqb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const g0e=/^\)\]\}',?\n/;let JV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new to.y(r=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((K,ie)=>s.setRequestHeader(K,ie.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const K=e.detectContentTypeHeader();null!==K&&s.setRequestHeader("Content-Type",K)}if(e.responseType){const K=e.responseType.toLowerCase();s.responseType="json"!==K?K:"text"}const d=e.serializeBody();let g=null;const w=()=>{if(null!==g)return g;const K=s.statusText||"OK",ie=new gu(s.getAllResponseHeaders()),de=function v0e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return g=new Ox({headers:ie,status:s.status,statusText:K,url:de}),g},x=()=>{let{headers:K,status:ie,statusText:de,url:ve}=w(),Ve=null;204!==ie&&(Ve=typeof s.response>"u"?s.responseText:s.response),0===ie&&(ie=Ve?200:0);let tt=ie>=200&&ie<300;if("json"===e.responseType&&"string"==typeof Ve){const st=Ve;Ve=Ve.replace(g0e,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(ft){Ve=st,tt&&(tt=!1,Ve={error:ft,text:Ve})}}tt?(r.next(new vw({body:Ve,headers:K,status:ie,statusText:de,url:ve||void 0})),r.complete()):r.error(new ZV({error:Ve,headers:K,status:ie,statusText:de,url:ve||void 0}))},z=K=>{const{url:ie}=w(),de=new ZV({error:K,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ie||void 0});r.error(de)};let N=!1;const P=K=>{N||(r.next(w()),N=!0);let ie={type:ss.DownloadProgress,loaded:K.loaded};K.lengthComputable&&(ie.total=K.total),"text"===e.responseType&&s.responseText&&(ie.partialText=s.responseText),r.next(ie)},W=K=>{let ie={type:ss.UploadProgress,loaded:K.loaded};K.lengthComputable&&(ie.total=K.total),r.next(ie)};return s.addEventListener("load",x),s.addEventListener("error",z),s.addEventListener("timeout",z),s.addEventListener("abort",z),e.reportProgress&&(s.addEventListener("progress",P),null!==d&&s.upload&&s.upload.addEventListener("progress",W)),s.send(d),r.next({type:ss.Sent}),()=>{s.removeEventListener("error",z),s.removeEventListener("abort",z),s.removeEventListener("load",x),s.removeEventListener("timeout",z),e.reportProgress&&(s.removeEventListener("progress",P),null!==d&&s.upload&&s.upload.removeEventListener("progress",W)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ja))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Bx=new m.OlP("XSRF_ENABLED"),XV=new m.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eH=new m.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tH{}let y0e=(()=>{class n{constructor(e,r,s){this.doc=e,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Q1(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(m.Lbi),m.LFG(XV))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function C0e(n,t){const e=n.url.toLowerCase();if(!(0,m.f3M)(Bx)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=(0,m.f3M)(tH).getToken(),s=(0,m.f3M)(eH);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),t(n)}var Wo=(()=>((Wo=Wo||{})[Wo.Interceptors=0]="Interceptors",Wo[Wo.LegacyInterceptors=1]="LegacyInterceptors",Wo[Wo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Wo[Wo.NoXsrfProtection=3]="NoXsrfProtection",Wo[Wo.JsonpSupport=4]="JsonpSupport",Wo[Wo.RequestsMadeViaParent=5]="RequestsMadeViaParent",Wo))();function yv(n,t){return{\u0275kind:n,\u0275providers:t}}function w0e(...n){const t=[iy,JV,KV,{provide:pw,useExisting:KV},{provide:Px,useExisting:JV},{provide:ry,useValue:C0e,multi:!0},{provide:Bx,useValue:!0},{provide:tH,useClass:y0e}];for(const e of n)t.push(...e.\u0275providers);return(0,m.MR2)(t)}const nH=new m.OlP("LEGACY_INTERCEPTOR_FN");let A0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[w0e(yv(Wo.LegacyInterceptors,[{provide:nH,useFactory:h0e},{provide:ry,useExisting:nH,multi:!0}]))]}),n})();const M0e=["*"],E0e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],D0e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],z0e=new m.OlP("MAT_CARD_CONFIG");let h7=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(z0e,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,r){2&e&&m.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:M0e,decls:1,vars:0,template:function(e,r){1&e&&(m.F$t(),m.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Cv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),f7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),_w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),iH=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,r){2&e&&m.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:D0e,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,r){1&e&&(m.F$t(E0e),m.Hsn(0),m.TgZ(1,"div",0),m.Hsn(2,1),m.qZA(),m.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,ui,Yi]}),n})(),oH=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Or(e)}get inset(){return this._inset}set inset(e){this._inset=Or(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(m.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),m.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,Yi]}),n})();const O0e=["*"];let bw;function oy(n){return function F0e(){if(void 0===bw&&(bw=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(bw=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return bw}()?.createHTML(n)||n}function aH(n){return Error(`Unable to find icon with the name "${n}"`)}function cH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function lH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class pm{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let yw=(()=>{class n{constructor(e,r,s,d){this._httpClient=e,this._sanitizer=r,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(e,r,s){return this.addSvgIconInNamespace("",e,r,s)}addSvgIconLiteral(e,r,s){return this.addSvgIconLiteralInNamespace("",e,r,s)}addSvgIconInNamespace(e,r,s,d){return this._addSvgIconConfig(e,r,new pm(s,null,d))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,s,d){const g=this._sanitizer.sanitize(m.q3G.HTML,s);if(!g)throw lH(s);const w=oy(g);return this._addSvgIconConfig(e,r,new pm("",w,d))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,s){return this._addSvgIconSetConfig(e,new pm(r,null,s))}addSvgIconSetLiteralInNamespace(e,r,s){const d=this._sanitizer.sanitize(m.q3G.HTML,r);if(!d)throw lH(r);const g=oy(d);return this._addSvgIconSetConfig(e,new pm("",g,s))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,e);if(!r)throw cH(e);const s=this._cachedIconsByUrl.get(r);return s?yt(Cw(s)):this._loadSvgIconFromConfig(new pm(e,null)).pipe((0,Ri.b)(d=>this._cachedIconsByUrl.set(r,d)),(0,St.U)(d=>Cw(d)))}getNamedSvgIcon(e,r=""){const s=uH(r,e);let d=this._svgIconConfigs.get(s);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(r,e),d)return this._svgIconConfigs.set(s,d),this._getSvgFromConfig(d);const g=this._iconSetConfigs.get(r);return g?this._getSvgFromIconSetConfigs(e,g):h4(aH(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?yt(Cw(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,St.U)(r=>Cw(r)))}_getSvgFromIconSetConfigs(e,r){const s=this._extractIconWithNameFromAnySet(e,r);return s?yt(s):ON(r.filter(g=>!g.svgText).map(g=>this._loadSvgIconSetFromConfig(g).pipe(zc(w=>{const z=`Loading icon set URL: ${this._sanitizer.sanitize(m.q3G.RESOURCE_URL,g.url)} failed: ${w.message}`;return this._errorHandler.handleError(new Error(z)),yt(null)})))).pipe((0,St.U)(()=>{const g=this._extractIconWithNameFromAnySet(e,r);if(!g)throw aH(e);return g}))}_extractIconWithNameFromAnySet(e,r){for(let s=r.length-1;s>=0;s--){const d=r[s];if(d.svgText&&d.svgText.toString().indexOf(e)>-1){const g=this._svgElementFromConfig(d),w=this._extractSvgIconFromSet(g,e,d.options);if(w)return w}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Ri.b)(r=>e.svgText=r),(0,St.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?yt(null):this._fetchIcon(e).pipe((0,Ri.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,s){const d=e.querySelector(`[id="${r}"]`);if(!d)return null;const g=d.cloneNode(!0);if(g.removeAttribute("id"),"svg"===g.nodeName.toLowerCase())return this._setSvgAttributes(g,s);if("symbol"===g.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(g),s);const w=this._svgElementFromString(oy("<svg></svg>"));return w.appendChild(g),this._setSvgAttributes(w,s)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const r=this._svgElementFromString(oy("<svg></svg>")),s=e.attributes;for(let d=0;d<s.length;d++){const{name:g,value:w}=s[d];"id"!==g&&r.setAttribute(g,w)}for(let d=0;d<e.childNodes.length;d++)e.childNodes[d].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[d].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:s}=e,d=s?.withCredentials??!1;if(!this._httpClient)throw function B0e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const g=this._sanitizer.sanitize(m.q3G.RESOURCE_URL,r);if(!g)throw cH(r);const w=this._inProgressUrlFetches.get(g);if(w)return w;const x=this._httpClient.get(g,{responseType:"text",withCredentials:d}).pipe((0,St.U)(z=>oy(z)),l6(()=>this._inProgressUrlFetches.delete(g)),(0,t4.B)());return this._inProgressUrlFetches.set(g,x),x}_addSvgIconConfig(e,r,s){return this._svgIconConfigs.set(uH(e,r),s),this}_addSvgIconSetConfig(e,r){const s=this._iconSetConfigs.get(e);return s?s.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let s=0;s<this._resolvers.length;s++){const d=this._resolvers[s](r,e);if(d)return U0e(d)?new pm(d.url,null,d.options):new pm(d,null)}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(iy,8),m.LFG(Wr),m.LFG(Z,8),m.LFG(m.qLn))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cw(n){return n.cloneNode(!0)}function uH(n,t){return n+":"+t}function U0e(n){return!(!n.url||!n.options)}const G0e=JC(class{constructor(n){this._elementRef=n}}),q0e=new m.OlP("MAT_ICON_DEFAULT_OPTIONS"),$0e=new m.OlP("mat-icon-location",{providedIn:"root",factory:function W0e(){const n=(0,m.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),dH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Z0e=dH.map(n=>`[${n}]`).join(", "),Y0e=/^url\(['"]?#(.*?)['"]?\)$/;let K0e=(()=>{class n extends G0e{get inline(){return this._inline}set inline(e){this._inline=Or(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,s,d,g,w){super(e),this._iconRegistry=r,this._location=d,this._errorHandler=g,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=d1.w0.EMPTY,w&&(w.color&&(this.color=this.defaultColor=w.color),w.fontSet&&(this.fontSet=w.fontSet)),s||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=e.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>e.classList.remove(s)),r.forEach(s=>e.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((s,d)=>{s.forEach(g=>{d.setAttribute(g.name,`url('${e}#${g.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(Z0e),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<r.length;d++)dH.forEach(g=>{const w=r[d],x=w.getAttribute(g),z=x?x.match(Y0e):null;if(z){let N=s.get(w);N||(N=[],s.set(w,N)),N.push({name:g,value:z[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,s]=this._splitIconName(e);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(ns(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${d.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(yw),m.$8M("aria-hidden"),m.Y36($0e),m.Y36(m.qLn),m.Y36(q0e,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,r){2&e&&(m.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),m.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[m.qOj],ngContentSelectors:O0e,decls:1,vars:0,template:function(e,r){1&e&&(m.F$t(),m.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),hH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,Yi]}),n})();const fH=im({passive:!0});let Q0e=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Da.E;const r=v5(e),s=this._monitoredElements.get(r);if(s)return s.subject;const d=new nn.x,g="cdk-text-field-autofilled",w=x=>{"cdk-text-field-autofill-start"!==x.animationName||r.classList.contains(g)?"cdk-text-field-autofill-end"===x.animationName&&r.classList.contains(g)&&(r.classList.remove(g),this._ngZone.run(()=>d.next({target:x.target,isAutofilled:!1}))):(r.classList.add(g),this._ngZone.run(()=>d.next({target:x.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",w,fH),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:d,unlisten:()=>{r.removeEventListener("animationstart",w,fH)}}),d}stopMonitoring(e){const r=v5(e),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ao),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const X0e=["matFormFieldNotchedOutline",""],e6e=["*"],t6e=["textField"],n6e=["iconPrefixContainer"],i6e=["textPrefixContainer"];function r6e(n,t){1&n&&m._UZ(0,"span",19)}function o6e(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"label",17),m.NdJ("cdkObserveContent",function(){m.CHM(e);const s=m.oxw(2);return m.KtG(s._refreshOutlineNotchWidth())}),m.Hsn(1,1),m.YNc(2,r6e,1,0,"span",18),m.qZA()}if(2&n){const e=m.oxw(2);m.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),m.uIk("for",e._control.id)("aria-owns",e._control.id),m.xp6(2),m.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function s6e(n,t){if(1&n&&m.YNc(0,o6e,3,6,"label",16),2&n){const e=m.oxw();m.Q6J("ngIf",e._hasFloatingLabel())}}function a6e(n,t){1&n&&m._UZ(0,"div",20)}function c6e(n,t){}function l6e(n,t){if(1&n&&m.YNc(0,c6e,0,0,"ng-template",22),2&n){m.oxw(2);const e=m.MAs(1);m.Q6J("ngTemplateOutlet",e)}}function u6e(n,t){if(1&n&&(m.TgZ(0,"div",21),m.YNc(1,l6e,1,1,"ng-template",9),m.qZA()),2&n){const e=m.oxw();m.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),m.xp6(1),m.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function d6e(n,t){1&n&&(m.TgZ(0,"div",23,24),m.Hsn(2,2),m.qZA())}function h6e(n,t){1&n&&(m.TgZ(0,"div",25,26),m.Hsn(2,3),m.qZA())}function f6e(n,t){}function m6e(n,t){if(1&n&&m.YNc(0,f6e,0,0,"ng-template",22),2&n){m.oxw();const e=m.MAs(1);m.Q6J("ngTemplateOutlet",e)}}function p6e(n,t){1&n&&(m.TgZ(0,"div",27),m.Hsn(1,4),m.qZA())}function g6e(n,t){1&n&&(m.TgZ(0,"div",28),m.Hsn(1,5),m.qZA())}function v6e(n,t){1&n&&m._UZ(0,"div",29)}function _6e(n,t){if(1&n&&(m.TgZ(0,"div",30),m.Hsn(1,6),m.qZA()),2&n){const e=m.oxw();m.Q6J("@transitionMessages",e._subscriptAnimationState)}}function b6e(n,t){if(1&n&&(m.TgZ(0,"mat-hint",34),m._uU(1),m.qZA()),2&n){const e=m.oxw(2);m.Q6J("id",e._hintLabelId),m.xp6(1),m.Oqu(e.hintLabel)}}function y6e(n,t){if(1&n&&(m.TgZ(0,"div",31),m.YNc(1,b6e,2,2,"mat-hint",32),m.Hsn(2,7),m._UZ(3,"div",33),m.Hsn(4,8),m.qZA()),2&n){const e=m.oxw();m.Q6J("@transitionMessages",e._subscriptAnimationState),m.xp6(1),m.Q6J("ngIf",e.hintLabel)}}const C6e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],w6e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let m7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-label"]]}),n})(),k6e=0;const mH=new m.OlP("MatError");let pH=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+k6e++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(m.$8M("aria-live"),m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,r){2&e&&m.Ikx("id",r.id)},inputs:{id:"id"},features:[m._Bn([{provide:mH,useExisting:n}])]}),n})(),A6e=0,gH=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+A6e++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,r){2&e&&(m.Ikx("id",r.id),m.uIk("align",null),m.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),n})();const M6e=new m.OlP("MatPrefix"),x6e=new m.OlP("MatSuffix");let vH=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function S6e(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,r){2&e&&m.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating"}}),n})();const _H="mdc-line-ripple--active",ww="mdc-line-ripple--deactivating";let bH=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=s=>{const d=this._elementRef.nativeElement.classList,g=d.contains(ww);"opacity"===s.propertyName&&g&&d.remove(_H,ww)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ww),e.add(_H)}deactivate(){this._elementRef.nativeElement.classList.add(ww)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.R0b))},n.\u0275dir=m.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),yH=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.R0b))},n.\u0275cmp=m.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,r){2&e&&m.ekj("mdc-notched-outline--notched",r.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:X0e,ngContentSelectors:e6e,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,r){1&e&&(m.F$t(),m._UZ(0,"div",0),m.TgZ(1,"div",1),m.Hsn(2),m.qZA(),m._UZ(3,"div",2)),2&e&&(m.xp6(1),m.Udp("width",r._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const E6e={transitionMessages:Kr("transitionMessages",[Et("enter",Hi({opacity:1,transform:"translateY(0%)"})),yi("void => enter",[Hi({opacity:0,transform:"translateY(-5px)"}),Mi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n}),n})();const Ux=new m.OlP("MatFormField"),D6e=new m.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let CH=0,wv=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Or(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,s,d,g,w,x,z){this._elementRef=e,this._changeDetectorRef=r,this._ngZone=s,this._dir=d,this._platform=g,this._defaults=w,this._animationMode=x,this._document=z,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+CH++,this._hintLabelId="mat-mdc-hint-"+CH++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new nn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,w&&(w.appearance&&(this.appearance=w.appearance),this._hideRequiredMarker=Boolean(w?.hideRequiredMarker),w.color&&(this.color=w.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,e4.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Zi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(d=>"start"===d.align):null,s=this._hintChildren?this._hintChildren.find(d=>"end"===d.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,d=r?.getBoundingClientRect().width??0,g=s?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${d+g}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(o7),m.Y36(Ao),m.Y36(D6e,8),m.Y36(m.QbO,8),m.Y36(Z))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,s){if(1&e&&(m.Suo(s,m7,5),m.Suo(s,m7,7),m.Suo(s,jx,5),m.Suo(s,M6e,5),m.Suo(s,x6e,5),m.Suo(s,mH,5),m.Suo(s,gH,5)),2&e){let d;m.iGM(d=m.CRH())&&(r._labelChildNonStatic=d.first),m.iGM(d=m.CRH())&&(r._labelChildStatic=d.first),m.iGM(d=m.CRH())&&(r._formFieldControl=d.first),m.iGM(d=m.CRH())&&(r._prefixChildren=d),m.iGM(d=m.CRH())&&(r._suffixChildren=d),m.iGM(d=m.CRH())&&(r._errorChildren=d),m.iGM(d=m.CRH())&&(r._hintChildren=d)}},viewQuery:function(e,r){if(1&e&&(m.Gf(t6e,5),m.Gf(n6e,5),m.Gf(i6e,5),m.Gf(vH,5),m.Gf(yH,5),m.Gf(bH,5)),2&e){let s;m.iGM(s=m.CRH())&&(r._textField=s.first),m.iGM(s=m.CRH())&&(r._iconPrefixContainer=s.first),m.iGM(s=m.CRH())&&(r._textPrefixContainer=s.first),m.iGM(s=m.CRH())&&(r._floatingLabel=s.first),m.iGM(s=m.CRH())&&(r._notchedOutline=s.first),m.iGM(s=m.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,r){2&e&&m.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[m._Bn([{provide:Ux,useExisting:n}])],ngContentSelectors:w6e,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,r){1&e&&(m.F$t(C6e),m.YNc(0,s6e,1,1,"ng-template",null,0,m.W1O),m.TgZ(2,"div",1,2),m.NdJ("click",function(d){return r._control.onContainerClick&&r._control.onContainerClick(d)}),m.YNc(4,a6e,1,0,"div",3),m.TgZ(5,"div",4),m.YNc(6,u6e,2,3,"div",5),m.YNc(7,d6e,3,0,"div",6),m.YNc(8,h6e,3,0,"div",7),m.TgZ(9,"div",8),m.YNc(10,m6e,1,1,"ng-template",9),m.Hsn(11),m.qZA(),m.YNc(12,p6e,2,0,"div",10),m.YNc(13,g6e,2,0,"div",11),m.qZA(),m.YNc(14,v6e,1,0,"div",12),m.qZA(),m.TgZ(15,"div",13),m.YNc(16,_6e,2,1,"div",14),m.YNc(17,y6e,5,2,"div",15),m.qZA()),2&e&&(m.xp6(2),m.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),m.xp6(2),m.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),m.xp6(2),m.Q6J("ngIf",r._hasOutline()),m.xp6(1),m.Q6J("ngIf",r._hasIconPrefix),m.xp6(1),m.Q6J("ngIf",r._hasTextPrefix),m.xp6(2),m.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),m.xp6(2),m.Q6J("ngIf",r._hasTextSuffix),m.xp6(1),m.Q6J("ngIf",r._hasIconSuffix),m.xp6(1),m.Q6J("ngIf",!r._hasOutline()),m.xp6(1),m.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),m.Q6J("ngSwitch",r._getDisplayedMessages()),m.xp6(1),m.Q6J("ngSwitchCase","error"),m.xp6(1),m.Q6J("ngSwitchCase","hint"))},dependencies:[fi,li,ds,$s,Coe,gH,vH,yH,bH],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[E6e.transitionMessages]},changeDetection:0}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,ui,lL,Yi]}),n})();const T6e=new m.OlP("MAT_INPUT_VALUE_ACCESSOR"),L6e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let N6e=0;const V6e=SL(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r,this.stateChanges=new nn.x}});let sy=(()=>{class n extends V6e{get disabled(){return this._disabled}set disabled(e){this._disabled=Or(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(UN.required)??!1}set required(e){this._required=Or(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&eL().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Or(e)}constructor(e,r,s,d,g,w,x,z,N,P){super(w,d,g,s),this._elementRef=e,this._platform=r,this._autofillMonitor=z,this._formField=P,this._uid="mat-input-"+N6e++,this.focused=!1,this.stateChanges=new nn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ie=>eL().has(ie)),this._iOSKeyupListener=ie=>{const de=ie.target;!de.value&&0===de.selectionStart&&0===de.selectionEnd&&(de.setSelectionRange(1,1),de.setSelectionRange(0,0))};const W=this._elementRef.nativeElement,K=W.nodeName.toLowerCase();this._inputValueAccessor=x||W,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&N.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!P,this._isNativeSelect&&(this.controlType=W.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){L6e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Ao),m.Y36(mu,10),m.Y36(pu,8),m.Y36(ty,8),m.Y36(EL),m.Y36(T6e,10),m.Y36(Q0e),m.Y36(m.R0b),m.Y36(Ux,8))},n.\u0275dir=m.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,r){1&e&&m.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(m.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),m.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),m.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[m._Bn([{provide:jx,useExisting:n}]),m.qOj,m.TTD]}),n})(),AH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Yi,Gx,Gx,J0e,Yi]}),n})();var H6e=Q(1144);const P6e=["addListener","removeListener"],R6e=["addEventListener","removeEventListener"],O6e=["on","off"];function kw(n,t,e,r){if((0,P1.m)(e)&&(r=e,e=void 0),r)return kw(n,t,e).pipe(l8(r));const[s,d]=function j6e(n){return(0,P1.m)(n.addEventListener)&&(0,P1.m)(n.removeEventListener)}(n)?R6e.map(g=>w=>n[g](t,w,e)):function F6e(n){return(0,P1.m)(n.addListener)&&(0,P1.m)(n.removeListener)}(n)?P6e.map(MH(n,t)):function B6e(n){return(0,P1.m)(n.on)&&(0,P1.m)(n.off)}(n)?O6e.map(MH(n,t)):[];if(!s&&(0,H6e.z)(n))return(0,jo.z)(g=>kw(g,t,e))((0,Xl.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new to.y(g=>{const w=(...x)=>g.next(1<x.length?x:x[0]);return s(w),()=>d(w)})}function MH(n,t){return e=>r=>n[e](t,r)}var xH=Q(4408);const ay={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ay;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const s=t(d=>{e=void 0,n(d)});return new d1.w0(()=>e?.(s))},requestAnimationFrame(...n){const{delegate:t}=ay;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ay;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var SH=Q(7565);const q6e=new class G6e extends SH.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;t=t||r.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,s){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw s}}}(class U6e extends xH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ay.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:d}=t;null!=e&&(null===(s=d[d.length-1])||void 0===s?void 0:s.id)!==e&&(ay.cancelAnimationFrame(e),t._scheduled=void 0)}});let qx,$6e=1;const Aw={};function EH(n){return n in Aw&&(delete Aw[n],!0)}const W6e={setImmediate(n){const t=$6e++;return Aw[t]=!0,qx||(qx=Promise.resolve()),qx.then(()=>EH(t)&&n()),t},clearImmediate(n){EH(n)}},{setImmediate:Z6e,clearImmediate:Y6e}=W6e,Mw={setImmediate(...n){const{delegate:t}=Mw;return(t?.setImmediate||Z6e)(...n)},clearImmediate(n){const{delegate:t}=Mw;return(t?.clearImmediate||Y6e)(n)},delegate:void 0},J6e=new class Q6e extends SH.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let s;t=t||r.shift();do{if(s=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,s){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw s}}}(class K6e extends xH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Mw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var s;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:d}=t;null!=e&&(null===(s=d[d.length-1])||void 0===s?void 0:s.id)!==e&&(Mw.clearImmediate(e),t._scheduled=void 0)}});var eue=Q(3532);function DH(n=0,t,e=X8.P){let r=-1;return null!=t&&((0,eue.K)(t)?e=t:r=t),new to.y(s=>{let d=function tue(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;d<0&&(d=0);let g=0;return e.schedule(function(){s.closed||(s.next(g++),0<=r?this.schedule(void 0,r):s.complete())},d)})}function $x(n,t=X8.z){return function X6e(n){return(0,Lr.e)((t,e)=>{let r=!1,s=null,d=null,g=!1;const w=()=>{if(d?.unsubscribe(),d=null,r){r=!1;const z=s;s=null,e.next(z)}g&&e.complete()},x=()=>{d=null,g&&e.complete()};t.subscribe((0,mr.x)(e,z=>{r=!0,s=z,d||(0,Xl.Xf)(n(z)).subscribe(d=(0,mr.x)(e,w,x))},()=>{g=!0,(!r||!d||d.closed)&&e.complete()}))})}(()=>DH(n,t))}const nue=["contentWrapper"],iue=["*"],rue=new m.OlP("VIRTUAL_SCROLL_STRATEGY");let cy=(()=>{class n{constructor(e,r,s){this._ngZone=e,this._platform=r,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new to.y(r=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe($x(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):yt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const s=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(go(d=>!d||s.indexOf(d)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((s,d)=>{this._scrollableContainsElement(d,e)&&r.push(d)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let s=v5(r),d=e.getElementRef().nativeElement;do{if(s==d)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(m.R0b),m.LFG(Ao),m.LFG(Z,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zH=(()=>{class n{constructor(e,r,s,d){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=s,this.dir=d,this._destroyed=new nn.x,this._elementScrolled=new to.y(g=>this.ngZone.runOutsideAngular(()=>kw(this.elementRef.nativeElement,"scroll").pipe(Zi(this._destroyed)).subscribe(g)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),s&&0!=jb()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==jb()?e.left=e.right:1==jb()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;tL()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",s="right",d=this.elementRef.nativeElement;if("top"==e)return d.scrollTop;if("bottom"==e)return d.scrollHeight-d.clientHeight-d.scrollTop;const g=this.dir&&"rtl"==this.dir.value;return"start"==e?e=g?s:r:"end"==e&&(e=g?r:s),g&&2==jb()?e==r?d.scrollWidth-d.clientWidth-d.scrollLeft:d.scrollLeft:g&&1==jb()?e==r?d.scrollLeft+d.scrollWidth-d.clientWidth:-d.scrollLeft:e==r?d.scrollLeft:d.scrollWidth-d.clientWidth-d.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(cy),m.Y36(m.R0b),m.Y36(o7,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),xw=(()=>{class n{constructor(e,r,s){this._platform=e,this._change=new nn.x,this._changeListener=d=>{this._change.next(d)},this._document=s,r.runOutsideAngular(()=>{if(e.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),s=e.documentElement,d=s.getBoundingClientRect();return{top:-d.top||e.body.scrollTop||r.scrollY||s.scrollTop||0,left:-d.left||e.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe($x(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Ao),m.LFG(m.R0b),m.LFG(Z,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IH=new m.OlP("VIRTUAL_SCROLLABLE");let aue=(()=>{class n extends zH{constructor(e,r,s,d){super(e,r,s,d)}measureViewportSize(e){const r=this.elementRef.nativeElement;return"horizontal"===e?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(cy),m.Y36(m.R0b),m.Y36(o7,8))},n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const lue=typeof requestAnimationFrame<"u"?q6e:J6e;let uue=(()=>{class n extends aue{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Or(e)}constructor(e,r,s,d,g,w,x,z){super(e,w,s,g),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=d,this.scrollable=z,this._platform=(0,m.f3M)(Ao),this._detachedSubject=new nn.x,this._renderedRangeSubject=new nn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new to.y(N=>this._scrollStrategy.scrolledIndexChange.subscribe(P=>Promise.resolve().then(()=>this.ngZone.run(()=>N.next(P))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=d1.w0.EMPTY,this._viewportChanges=x.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Z3(null),$x(0,lue)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Zi(this._detachedSubject)).subscribe(r=>{const s=r.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function cue(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){e=this.appendOnly&&"to-start"===r?0:e;const d="horizontal"==this.orientation,g=d?"X":"Y";let x=`translate${g}(${Number((d&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===r&&(x+=` translate${g}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=x&&(this._renderedContentTransform=x,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const s={behavior:r};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollable.scrollTo(s)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){let r;return r=this.scrollable==this?s=>super.measureScrollOffset(s):s=>this.scrollable.measureScrollOffset(s),Math.max(0,r(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let r;const s="left",d="right",g="rtl"==this.dir?.value;r="start"==e?g?d:s:"end"==e?g?s:d:e||("horizontal"===this.orientation?"left":"top");const w=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-w}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(rue,8),m.Y36(o7,8),m.Y36(cy),m.Y36(xw),m.Y36(IH,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&m.Gf(nue,7),2&e){let s;m.iGM(s=m.CRH())&&(r._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&m.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[m._Bn([{provide:zH,useFactory:(t,e)=>t||e,deps:[[new m.FiY,new m.tBr(IH)],n]}]),m.qOj,m.jDz],ngContentSelectors:iue,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA(),m._UZ(3,"div",2)),2&e&&(m.xp6(3),m.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),ly=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),TH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ub,ly,uue,Ub,ly]}),n})();class Wx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Sw extends Wx{constructor(t,e,r,s,d){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=s,this.projectableNodes=d}}class Zx extends Wx{constructor(t,e,r,s){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=s}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class due extends Wx{constructor(t){super(),this.element=t instanceof m.SBq?t.nativeElement:t}}class Yx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Sw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Zx?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof due?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hue extends Yx{constructor(t,e,r,s,d){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=g=>{const w=g.element,x=this._document.createComment("dom-portal");w.parentNode.insertBefore(x,w),this.outletElement.appendChild(w),this._attachedPortal=g,super.setDisposeFn(()=>{x.parentNode&&x.parentNode.replaceChild(w,x)})},this._document=d}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=r.create(t.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(r);-1!==s&&e.remove(s)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let LH=(()=>{class n extends Yx{constructor(e,r,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new m.vpe,this.attachDomPortal=d=>{const g=d.element,w=this._document.createComment("dom-portal");d.setAttachedHost(this),g.parentNode.insertBefore(w,g),this._getRootNode().appendChild(g),this._attachedPortal=d,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(g,w)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,d=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),g=r.createComponent(d,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(g.hostView.rootNodes[0]),super.setDisposeFn(()=>g.destroy()),this._attachedPortal=e,this._attachedRef=g,this.attached.emit(g),g}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m._Vd),m.Y36(m.s_b),m.Y36(Z))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[m.qOj]}),n})(),NH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const VH=tL();class fue{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=os(-this._previousScrollPosition.left),t.style.top=os(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,s=this._document.body.style,d=r.scrollBehavior||"",g=s.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),VH&&(r.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VH&&(r.scrollBehavior=d,s.scrollBehavior=g)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class mue{constructor(t,e,r,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(go(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HH{enable(){}disable(){}attach(){}}function Kx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function PH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class pue{constructor(t,e,r,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:s}=this._viewportRuler.getViewportSize();Kx(e,[{width:r,height:s,bottom:s,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gue=(()=>{class n{constructor(e,r,s,d){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new HH,this.close=g=>new mue(this._scrollDispatcher,this._ngZone,this._viewportRuler,g),this.block=()=>new fue(this._viewportRuler,this._document),this.reposition=g=>new pue(this._scrollDispatcher,this._viewportRuler,this._ngZone,g),this._document=d}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(cy),m.LFG(xw),m.LFG(m.R0b),m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qx{constructor(t){if(this.scrollStrategy=new HH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class vue{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let RH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_ue=(()=>{class n extends RH{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=s=>{const d=this._attachedOverlays;for(let g=d.length-1;g>-1;g--)if(d[g]._keydownEvents.observers.length>0){const w=d[g]._keydownEvents;this._ngZone?this._ngZone.run(()=>w.next(s)):w.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(m.R0b,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bue=(()=>{class n extends RH{constructor(e,r,s){super(e),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=d=>{this._pointerDownEventTarget=i7(d)},this._clickListener=d=>{const g=i7(d),w="click"===d.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:g;this._pointerDownEventTarget=null;const x=this._attachedOverlays.slice();for(let z=x.length-1;z>-1;z--){const N=x[z];if(N._outsidePointerEvents.observers.length<1||!N.hasAttached())continue;if(N.overlayElement.contains(g)||N.overlayElement.contains(w))break;const P=N._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>P.next(d)):P.next(d)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(Ao),m.LFG(m.R0b,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OH=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||BM()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let d=0;d<s.length;d++)s[d].remove()}const r=this._document.createElement("div");r.classList.add(e),BM()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z),m.LFG(Ao))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yue{constructor(t,e,r,s,d,g,w,x,z,N=!1){this._portalOutlet=t,this._host=e,this._pane=r,this._config=s,this._ngZone=d,this._keyboardDispatcher=g,this._document=w,this._location=x,this._outsideClickDispatcher=z,this._animationsDisabled=N,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=d1.w0.EMPTY,this._backdropClickHandler=P=>this._backdropClick.next(P),this._backdropTransitionendHandler=P=>{this._disposeBackdrop(P.target)},this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ns(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=os(this._config.width),t.height=os(this._config.height),t.minWidth=os(this._config.minWidth),t.minHeight=os(this._config.minHeight),t.maxWidth=os(this._config.maxWidth),t.maxHeight=os(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const s=ZC(e||[]).filter(d=>!!d);s.length&&(r?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zi((0,e4.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FH="cdk-overlay-connected-position-bounding-box",Cue=/([A-Za-z%]+)$/;class wue{get positions(){return this._preferredPositions}constructor(t,e,r,s,d){this._viewportRuler=e,this._document=r,this._platform=s,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=d1.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(FH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,s=this._containerRect,d=[];let g;for(let w of this._preferredPositions){let x=this._getOriginPoint(t,s,w),z=this._getOverlayPoint(x,e,w),N=this._getOverlayFit(z,e,r,w);if(N.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(w,x);this._canFitWithFlexibleDimensions(N,z,r)?d.push({position:w,origin:x,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(x,w)}):(!g||g.overlayFit.visibleArea<N.visibleArea)&&(g={overlayFit:N,overlayPoint:z,originPoint:x,position:w,overlayRect:e})}if(d.length){let w=null,x=-1;for(const z of d){const N=z.boundingBoxRect.width*z.boundingBoxRect.height*(z.position.weight||1);N>x&&(x=N,w=z)}return this._isPushed=!1,void this._applyPosition(w.position,w.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(g.position,g.originPoint);this._applyPosition(g.position,g.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let s,d;if("center"==r.originX)s=t.left+t.width/2;else{const g=this._isRtl()?t.right:t.left,w=this._isRtl()?t.left:t.right;s="start"==r.originX?g:w}return e.left<0&&(s-=e.left),d="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(d-=e.top),{x:s,y:d}}_getOverlayPoint(t,e,r){let s,d;return s="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,d="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+s,y:t.y+d}}_getOverlayFit(t,e,r,s){const d=jH(e);let{x:g,y:w}=t,x=this._getOffset(s,"x"),z=this._getOffset(s,"y");x&&(g+=x),z&&(w+=z);let W=0-w,K=w+d.height-r.height,ie=this._subtractOverflows(d.width,0-g,g+d.width-r.width),de=this._subtractOverflows(d.height,W,K),ve=ie*de;return{visibleArea:ve,isCompletelyWithinViewport:d.width*d.height===ve,fitsInViewportVertically:de===d.height,fitsInViewportHorizontally:ie==d.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const s=r.bottom-e.y,d=r.right-e.x,g=BH(this._overlayRef.getConfig().minHeight),w=BH(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=g&&g<=s)&&(t.fitsInViewportHorizontally||null!=w&&w<=d)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=jH(e),d=this._viewportRect,g=Math.max(t.x+s.width-d.width,0),w=Math.max(t.y+s.height-d.height,0),x=Math.max(d.top-r.top-t.y,0),z=Math.max(d.left-r.left-t.x,0);let N=0,P=0;return N=s.width<=d.width?z||-g:t.x<this._viewportMargin?d.left-r.left-t.x:0,P=s.height<=d.height?x||-w:t.y<this._viewportMargin?d.top-r.top-t.y:0,this._previousPushAmount={x:N,y:P},{x:t.x+N,y:t.y+P}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),s=new vue(t,r);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,s=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let d=0;d<e.length;d++)e[d].style.transformOrigin=`${r} ${s}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,s=this._isRtl();let d,g,w,N,P,W;if("top"===e.overlayY)g=t.y,d=r.height-g+this._viewportMargin;else if("bottom"===e.overlayY)w=r.height-t.y+2*this._viewportMargin,d=r.height-w+this._viewportMargin;else{const K=Math.min(r.bottom-t.y+r.top,t.y),ie=this._lastBoundingBoxSize.height;d=2*K,g=t.y-K,d>ie&&!this._isInitialRender&&!this._growAfterOpen&&(g=t.y-ie/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)W=r.width-t.x+this._viewportMargin,N=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)P=t.x,N=r.right-t.x;else{const K=Math.min(r.right-t.x+r.left,t.x),ie=this._lastBoundingBoxSize.width;N=2*K,P=t.x-K,N>ie&&!this._isInitialRender&&!this._growAfterOpen&&(P=t.x-ie/2)}return{top:g,left:P,bottom:w,right:W,width:N,height:d}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,g=this._overlayRef.getConfig().maxWidth;s.height=os(r.height),s.top=os(r.top),s.bottom=os(r.bottom),s.width=os(r.width),s.left=os(r.left),s.right=os(r.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",d&&(s.maxHeight=os(d)),g&&(s.maxWidth=os(g))}this._lastBoundingBoxSize=r,gm(this._boundingBox.style,s)}_resetBoundingBoxStyles(){gm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},s=this._hasExactPosition(),d=this._hasFlexibleDimensions,g=this._overlayRef.getConfig();if(s){const N=this._viewportRuler.getViewportScrollPosition();gm(r,this._getExactOverlayY(e,t,N)),gm(r,this._getExactOverlayX(e,t,N))}else r.position="static";let w="",x=this._getOffset(e,"x"),z=this._getOffset(e,"y");x&&(w+=`translateX(${x}px) `),z&&(w+=`translateY(${z}px)`),r.transform=w.trim(),g.maxHeight&&(s?r.maxHeight=os(g.maxHeight):d&&(r.maxHeight="")),g.maxWidth&&(s?r.maxWidth=os(g.maxWidth):d&&(r.maxWidth="")),gm(this._pane.style,r)}_getExactOverlayY(t,e,r){let s={top:"",bottom:""},d=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,r)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":s.top=os(d.y),s}_getExactOverlayX(t,e,r){let g,s={left:"",right:""},d=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,r)),g=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===g?s.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":s.left=os(d.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:PH(t,r),isOriginOutsideView:Kx(t,r),isOverlayClipped:PH(e,r),isOverlayOutsideView:Kx(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,s)=>r-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ZC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof m.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function gm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Cue);return e&&"px"!==e?null:parseFloat(t)}return n||null}function jH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const UH="cdk-global-overlay-wrapper";class kue{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(UH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:s,height:d,maxWidth:g,maxHeight:w}=r,x=!("100%"!==s&&"100vw"!==s||g&&"100%"!==g&&"100vw"!==g),z=!("100%"!==d&&"100vh"!==d||w&&"100%"!==w&&"100vh"!==w),N=this._xPosition,P=this._xOffset,W="rtl"===this._overlayRef.getConfig().direction;let K="",ie="",de="";x?de="flex-start":"center"===N?(de="center",W?ie=P:K=P):W?"left"===N||"end"===N?(de="flex-end",K=P):("right"===N||"start"===N)&&(de="flex-start",ie=P):"left"===N||"start"===N?(de="flex-start",K=P):("right"===N||"end"===N)&&(de="flex-end",ie=P),t.position=this._cssPosition,t.marginLeft=x?"0":K,t.marginTop=z?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=x?"0":ie,e.justifyContent=de,e.alignItems=z?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(UH),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Aue=(()=>{class n{constructor(e,r,s,d){this._viewportRuler=e,this._document=r,this._platform=s,this._overlayContainer=d}global(){return new kue}flexibleConnectedTo(e){return new wue(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(xw),m.LFG(Z),m.LFG(Ao),m.LFG(OH))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mue=0,b5=(()=>{class n{constructor(e,r,s,d,g,w,x,z,N,P,W,K){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=d,this._keyboardDispatcher=g,this._injector=w,this._ngZone=x,this._document=z,this._directionality=N,this._location=P,this._outsideClickDispatcher=W,this._animationsModuleType=K}create(e){const r=this._createHostElement(),s=this._createPaneElement(r),d=this._createPortalOutlet(s),g=new Qx(e);return g.direction=g.direction||this._directionality.value,new yue(d,r,s,g,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Mue++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new hue(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(gue),m.LFG(OH),m.LFG(m._Vd),m.LFG(Aue),m.LFG(_ue),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(Z),m.LFG(o7),m.LFG(Ze),m.LFG(bue),m.LFG(m.QbO,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xue=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],GH=new m.OlP("cdk-connected-overlay-scroll-strategy");let Jx=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),qH=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Or(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Or(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Or(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Or(e)}get push(){return this._push}set push(e){this._push=Or(e)}constructor(e,r,s,d,g){this._overlay=e,this._dir=g,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=d1.w0.EMPTY,this._attachSubscription=d1.w0.EMPTY,this._detachSubscription=d1.w0.EMPTY,this._positionSubscription=d1.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new m.vpe,this.positionChange=new m.vpe,this.attach=new m.vpe,this.detach=new m.vpe,this.overlayKeydown=new m.vpe,this.overlayOutsideClick=new m.vpe,this._templatePortal=new Zx(r,s),this._scrollStrategyFactory=d,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xue);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!av(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Qx({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Jx?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(m4(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(b5),m.Y36(m.Rgc),m.Y36(m.s_b),m.Y36(GH),m.Y36(o7,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[m.TTD]}),n})();const Eue={provide:GH,deps:[b5],useFactory:function Sue(n){return()=>n.scrollStrategies.reposition()}};let Ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[b5,Eue],imports:[Ub,NH,TH,TH]}),n})();const Tue={provide:new m.OlP("mat-menu-scroll-strategy"),deps:[b5],useFactory:function Iue(n){return()=>n.scrollStrategies.reposition()}};let WH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[Tue],imports:[ui,JM,Yi,Ew,ly,Yi]}),n})();const Lue=["determinateSpinner"];function Nue(n,t){if(1&n&&(m.O4$(),m.TgZ(0,"svg",11),m._UZ(1,"circle",12),m.qZA()),2&n){const e=m.oxw();m.uIk("viewBox",e._viewBox()),m.xp6(1),m.Udp("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),m.uIk("r",e._circleRadius())}}const Vue=JC(class{constructor(n){this._elementRef=n}},"primary"),Hue=new m.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Pue(){return{diameter:ZH}}}),ZH=100;let YH=(()=>{class n extends Vue{constructor(e,r,s){super(e),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=ZH,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,r7(e)))}get diameter(){return this._diameter}set diameter(e){this._diameter=r7(e)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=r7(e)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(m.QbO,8),m.Y36(Hue))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(e,r){if(1&e&&m.Gf(Lue,5),2&e){let s;m.iGM(s=m.CRH())&&(r._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:12,hostBindings:function(e,r){2&e&&(m.uIk("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),m.Udp("width",r.diameter,"px")("height",r.diameter,"px"),m.ekj("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===r.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[m.qOj],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(e,r){if(1&e&&(m.YNc(0,Nue,2,8,"ng-template",null,0,m.W1O),m.TgZ(2,"div",1,2),m.O4$(),m.TgZ(4,"svg",3),m._UZ(5,"circle",4),m.qZA()(),m.kcU(),m.TgZ(6,"div",5)(7,"div",6)(8,"div",7),m.GkF(9,8),m.qZA(),m.TgZ(10,"div",9),m.GkF(11,8),m.qZA(),m.TgZ(12,"div",10),m.GkF(13,8),m.qZA()()()),2&e){const s=m.MAs(1);m.xp6(4),m.uIk("viewBox",r._viewBox()),m.xp6(1),m.Udp("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),m.uIk("r",r._circleRadius()),m.xp6(4),m.Q6J("ngTemplateOutlet",s),m.xp6(2),m.Q6J("ngTemplateOutlet",s),m.xp6(2),m.Q6J("ngTemplateOutlet",s)}},dependencies:[li],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, transparent)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[ui,Yi]}),n})();class Oue{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,r=!0,s){this._multiple=t,this._emitChanges=r,this.compareWith=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new nn.x,e&&e.length&&(t?e.forEach(d=>this._markSelected(d)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(d=>this._markSelected(d)),e.filter(d=>!r.has(d)).forEach(d=>this._unmarkSelected(d));const s=this._hasQueuedChanges();return this._emitChangeEvent(),s}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Fue=["trigger"],Bue=["panel"];function jue(n,t){if(1&n&&(m.TgZ(0,"span",10),m._uU(1),m.qZA()),2&n){const e=m.oxw();m.xp6(1),m.Oqu(e.placeholder)}}function Uue(n,t){if(1&n&&(m.TgZ(0,"span",14),m._uU(1),m.qZA()),2&n){const e=m.oxw(2);m.xp6(1),m.Oqu(e.triggerValue)}}function Gue(n,t){1&n&&m.Hsn(0,0,["*ngSwitchCase","true"])}function que(n,t){if(1&n&&(m.TgZ(0,"span",11),m.YNc(1,Uue,2,1,"span",12),m.YNc(2,Gue,1,0,"ng-content",13),m.qZA()),2&n){const e=m.oxw();m.Q6J("ngSwitch",!!e.customTrigger),m.xp6(2),m.Q6J("ngSwitchCase",!0)}}function $ue(n,t){if(1&n){const e=m.EpF();m.O4$(),m.kcU(),m.TgZ(0,"div",15,16),m.NdJ("@transformPanel.done",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d._handleKeydown(s))}),m.Hsn(2,1),m.qZA()}if(2&n){const e=m.oxw();m.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),m.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),m.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Wue=[[["mat-select-trigger"]],"*"],Zue=["mat-select-trigger","*"],Yue={transformPanelWrap:Kr("transformPanelWrap",[yi("* => void",M3("@transformPanel",[Qr()],{optional:!0}))]),transformPanel:Kr("transformPanel",[Et("void",Hi({opacity:0,transform:"scale(1, 0.8)"})),yi("void => showing",Mi("120ms cubic-bezier(0, 0, 0.2, 1)",Hi({opacity:1,transform:"scale(1, 1)"}))),yi("* => void",Mi("100ms linear",Hi({opacity:0})))])};let QH=0;const JH=new m.OlP("mat-select-scroll-strategy"),Que=new m.OlP("MAT_SELECT_CONFIG"),Jue={provide:JH,deps:[b5],useFactory:function Kue(n){return()=>n.scrollStrategies.reposition()}},Xue=new m.OlP("MatSelectTrigger");class ede{constructor(t,e){this.source=t,this.value=e}}const tde=xL(ise(ML(SL(class{constructor(n,t,e,r,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=s,this.stateChanges=new nn.x}}))));let nde=(()=>{class n extends tde{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(UN.required)??!1}set required(e){this._required=Or(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Or(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Or(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=r7(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,r,s,d,g,w,x,z,N,P,W,K,ie,de){super(g,d,x,z,P),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=s,this._dir=w,this._parentFormField=N,this._liveAnnouncer=ie,this._defaultOptions=de,this._panelOpen=!1,this._compareWith=(ve,Ve)=>ve===Ve,this._uid="mat-select-"+QH++,this._triggerAriaLabelledBy=null,this._destroy=new nn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+QH++,this._panelDoneAnimatingStream=new nn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=d4(()=>{const ve=this.options;return ve?ve.changes.pipe(Z3(ve),Ei(()=>(0,e4.T)(...ve.map(Ve=>Ve.onSelectionChange)))):this._ngZone.onStable.pipe(ns(1),Ei(()=>this.optionSelectionChanges))}),this.openedChange=new m.vpe,this._openedStream=this.openedChange.pipe(go(ve=>ve),(0,St.U)(()=>{})),this._closedStream=this.openedChange.pipe(go(ve=>!ve),(0,St.U)(()=>{})),this.selectionChange=new m.vpe,this.valueChange=new m.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=de?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=de.typeaheadDebounceInterval),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(W)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Oue(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(th(),Zi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Zi(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Z3(null),Zi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,s=40===r||38===r||37===r||39===r,d=13===r||32===r,g=this._keyManager;if(!g.isTyping()&&d&&!av(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const w=this.selected;g.onKeydown(e);const x=this.selected;x&&w!==x&&this._liveAnnouncer.announce(x.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,s=e.keyCode,d=40===s||38===s,g=r.isTyping();if(d&&e.altKey)e.preventDefault(),this.close();else if(g||13!==s&&32!==s||!r.activeItem||av(e))if(!g&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const w=this.options.some(x=>!x.disabled&&!x.selected);this.options.forEach(x=>{x.disabled||(w?x.select():x.deselect())})}else{const w=r.activeItemIndex;r.onKeydown(e),this._multiple&&d&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==w&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ns(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new zoe(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,e4.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Zi(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,e4.T)(...this.options.map(r=>r._stateChanges)).pipe(Zi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,s)=>this.sortComparator?this.sortComparator(r,s,e):e.indexOf(r)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(xw),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(EL),m.Y36(m.SBq),m.Y36(o7,8),m.Y36(pu,8),m.Y36(ty,8),m.Y36(Ux,8),m.Y36(mu,10),m.$8M("tabindex"),m.Y36(JH),m.Y36(KM),m.Y36(Que,8))},n.\u0275dir=m.lG2({type:n,viewQuery:function(e,r){if(1&e&&(m.Gf(Fue,5),m.Gf(Bue,5),m.Gf(qH,5)),2&e){let s;m.iGM(s=m.CRH())&&(r.trigger=s.first),m.iGM(s=m.CRH())&&(r.panel=s.first),m.iGM(s=m.CRH())&&(r._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[m.qOj,m.TTD]}),n})(),XH=(()=>{class n extends nde{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Zi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const s=this.panel.nativeElement,d=function pse(n,t,e){if(e.length){let r=t.toArray(),s=e.toArray(),d=0;for(let g=0;g<n+1;g++)r[g].group&&r[g].group===s[d]&&d++;return d}return 0}(e,this.options,this.optionGroups),g=r._getHostElement();s.scrollTop=0===e&&1===d?0:function gse(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}(g.offsetTop,g.offsetHeight,s.scrollTop,s.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new ede(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof Jx?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Or(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,r,s){if(1&e&&(m.Suo(s,Xue,5),m.Suo(s,XM,5),m.Suo(s,VL,5)),2&e){let d;m.iGM(d=m.CRH())&&(r.customTrigger=d.first),m.iGM(d=m.CRH())&&(r.options=d),m.iGM(d=m.CRH())&&(r.optionGroups=d)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,r){1&e&&m.NdJ("keydown",function(d){return r._handleKeydown(d)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(m.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),m.ekj("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[m._Bn([{provide:jx,useExisting:n},{provide:NL,useExisting:n}]),m.qOj],ngContentSelectors:Zue,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(m.F$t(Wue),m.TgZ(0,"div",0,1),m.NdJ("click",function(){return r.toggle()}),m.TgZ(3,"div",2),m.YNc(4,jue,2,1,"span",3),m.YNc(5,que,3,2,"span",4),m.qZA(),m.TgZ(6,"div",5)(7,"div",6),m.O4$(),m.TgZ(8,"svg",7),m._UZ(9,"path",8),m.qZA()()()(),m.YNc(10,$ue,3,9,"ng-template",9),m.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const s=m.MAs(1);m.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),m.xp6(3),m.Q6J("ngSwitch",r.empty),m.uIk("id",r._valueId),m.xp6(1),m.Q6J("ngSwitchCase",!0),m.xp6(1),m.Q6J("ngSwitchCase",!1),m.xp6(5),m.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Qt,ds,$s,Ai,qH,Jx],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Yue.transformPanel]},changeDetection:0}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[Jue],imports:[ui,Ew,HL,Yi,ly,Gx,HL,Yi]}),n})();function ide(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"div",2)(1,"button",3),m.NdJ("click",function(){m.CHM(e);const s=m.oxw();return m.KtG(s.action())}),m._uU(2),m.qZA()()}if(2&n){const e=m.oxw();m.xp6(2),m.hij(" ",e.data.action," ")}}const rde=["label"];function ode(n,t){}const sde=Math.pow(2,31)-1;class Xx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new nn.x,this._afterOpened=new nn.x,this._onAction=new nn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,sde))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const tP=new m.OlP("MatSnackBarData");class Dw{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ade=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),cde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),lde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),ude=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Xx),m.Y36(tP))},n.\u0275cmp=m.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,r){1&e&&(m.TgZ(0,"div",0),m._uU(1),m.qZA(),m.YNc(2,ide,3,1,"div",1)),2&e&&(m.xp6(1),m.hij(" ",r.data.message,"\n"),m.xp6(1),m.Q6J("ngIf",r.hasAction))},dependencies:[fi,om,ade,cde,lde],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const dde={snackBarState:Kr("state",[Et("void, hidden",Hi({transform:"scale(0.8)",opacity:0})),Et("visible",Hi({transform:"scale(1)",opacity:1})),yi("* => visible",Mi("150ms cubic-bezier(0, 0, 0.2, 1)")),yi("* => void, * => hidden",Mi("75ms cubic-bezier(0.4, 0.0, 1, 1)",Hi({opacity:0})))])};let hde=0,fde=(()=>{class n extends Yx{constructor(e,r,s,d,g){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=s,this._platform=d,this.snackBarConfig=g,this._document=(0,m.f3M)(Z),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new nn.x,this._onExit=new nn.x,this._onEnter=new nn.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+hde++,this.attachDomPortal=w=>{this._assertNotAttached();const x=this._portalOutlet.attachDomPortal(w);return this._afterPortalAttached(),x},this._live="assertive"!==g.politeness||g.announcementMessage?"off"===g.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:s}=e;if(("void"===s&&"void"!==r||"hidden"===s)&&this._completeExit(),"visible"===s){const d=this._onEnter;this._ngZone.run(()=>{d.next(),d.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ns(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>e.classList.add(s)):e.classList.add(r)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const d=r[s],g=d.getAttribute("aria-owns");this._trackedModals.add(d),g?-1===g.indexOf(e)&&d.setAttribute("aria-owns",g+" "+e):d.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const r=e.getAttribute("aria-owns");if(r){const s=r.replace(this._liveElementId,"").trim();s.length>0?e.setAttribute("aria-owns",s):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(s=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.R0b),m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(Ao),m.Y36(Dw))},n.\u0275dir=m.lG2({type:n,viewQuery:function(e,r){if(1&e&&m.Gf(LH,7),2&e){let s;m.iGM(s=m.CRH())&&(r._portalOutlet=s.first)}},features:[m.qOj]}),n})(),mde=(()=>{class n extends fde{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,r="mdc-snackbar__label";e.classList.toggle(r,!e.querySelector(`.${r}`))}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=m.n5z(n)))(r||n)}}(),n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,r){if(1&e&&m.Gf(rde,7),2&e){let s;m.iGM(s=m.CRH())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,r){1&e&&m.WFA("@state.done",function(d){return r.onAnimationEnd(d)}),2&e&&m.d8E("@state",r._animationState)},features:[m.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(m.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),m.YNc(4,ode,0,0,"ng-template",4),m.qZA(),m._UZ(5,"div"),m.qZA()()),2&e&&(m.xp6(5),m.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[LH],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[dde.snackBarState]}}),n})(),eS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ew,NH,ui,tx,Yi,Yi]}),n})();const nP=new m.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function pde(){return new Dw}});let gde=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,s,d,g,w){this._overlay=e,this._live=r,this._injector=s,this._breakpointObserver=d,this._parentSnackBar=g,this._defaultConfig=w,this._snackBarRefAtThisLevel=null}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",s){const d={...this._defaultConfig,...s};return d.data={message:e,action:r},d.announcementMessage===e&&(d.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,d)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const d=m.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Dw,useValue:r}]}),g=new Sw(this.snackBarContainerComponent,r.viewContainerRef,d),w=e.attach(g);return w.instance.snackBarConfig=r,w.instance}_attach(e,r){const s={...new Dw,...this._defaultConfig,...r},d=this._createOverlay(s),g=this._attachSnackBarContainer(d,s),w=new Xx(g,d);if(e instanceof m.Rgc){const x=new Zx(e,null,{$implicit:s.data,snackBarRef:w});w.instance=g.attachTemplatePortal(x)}else{const x=this._createInjector(s,w),z=new Sw(e,void 0,x),N=g.attachComponentPortal(z);w.instance=N.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Zi(d.detachments())).subscribe(x=>{d.overlayElement.classList.toggle(this.handsetCssClass,x.matches)}),s.announcementMessage&&g._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(w,s),this._openedSnackBarRef=w,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new Qx;r.direction=e.direction;let s=this._overlay.position().global();const d="rtl"===e.direction,g="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!d||"end"===e.horizontalPosition&&d,w=!g&&"center"!==e.horizontalPosition;return g?s.left("0"):w?s.right("0"):s.centerHorizontally(),"top"===e.verticalPosition?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(e,r){return m.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Xx,useValue:r},{provide:tP,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(b5),m.LFG(KM),m.LFG(m.zs3),m.LFG(WM),m.LFG(n,12),m.LFG(nP))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),vde=(()=>{class n extends gde{constructor(e,r,s,d,g,w){super(e,r,s,d,g,w),this.simpleSnackBarComponent=ude,this.snackBarContainerComponent=mde,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(b5),m.LFG(KM),m.LFG(m.zs3),m.LFG(WM),m.LFG(n,12),m.LFG(nP))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:eS}),n})();const _de=["tooltip"],iP=new m.OlP("mat-tooltip-scroll-strategy"),Cde={provide:iP,deps:[b5],useFactory:function yde(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},kde=new m.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function wde(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),rP="tooltip-panel",oP=im({passive:!0});let Dde=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Or(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Or(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=r7(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=r7(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,r,s,d,g,w,x,z,N,P,W,K){this._overlay=e,this._elementRef=r,this._scrollDispatcher=s,this._viewContainerRef=d,this._ngZone=g,this._platform=w,this._ariaDescriber=x,this._focusMonitor=z,this._dir=P,this._defaultOptions=W,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new nn.x,this._scrollStrategy=N,this._document=K,W&&(W.position&&(this.position=W.position),W.positionAtOrigin&&(this.positionAtOrigin=W.positionAtOrigin),W.touchGestures&&(this.touchGestures=W.touchGestures)),P.change.pipe(Zi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Zi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,s])=>{e.removeEventListener(r,s,oP)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const s=this._createOverlay(r);this._detach(),this._portal=this._portal||new Sw(this._tooltipComponent,this._viewContainerRef);const d=this._tooltipInstance=s.attach(this._portal).instance;d._triggerElement=this._elementRef.nativeElement,d._mouseLeaveHideDelay=this._hideDelay,d.afterHidden().pipe(Zi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),d.show(e)}hide(e=this.hideDelay){const r=this._tooltipInstance;r&&(r.isVisible()?r.hide(e):(r._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const d=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&d._origin instanceof m.SBq)return this._overlayRef;this._detach()}const r=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return s.positionChanges.pipe(Zi(this._destroyed)).subscribe(d=>{this._updateCurrentPositionClass(d.connectionPair),this._tooltipInstance&&d.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${rP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Zi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Zi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Zi(this._destroyed)).subscribe(d=>{this._isTooltipVisible()&&27===d.keyCode&&!av(d)&&(d.preventDefault(),d.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const r=e.getConfig().positionStrategy,s=this._getOrigin(),d=this._getOverlayPosition();r.withPositions([this._addOffset({...s.main,...d.main}),this._addOffset({...s.fallback,...d.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r||"below"==r?s={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&e||"right"==r&&!e?s={originX:"start",originY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(s={originX:"end",originY:"center"});const{x:d,y:g}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:d,originY:g}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r?s={overlayX:"center",overlayY:"bottom"}:"below"==r?s={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&e||"right"==r&&!e?s={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&e||"left"==r&&!e)&&(s={overlayX:"start",overlayY:"center"});const{x:d,y:g}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:d,overlayY:g}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(ns(1),Zi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:r}}_updateCurrentPositionClass(e){const{overlayY:r,originX:s,originY:d}=e;let g;if(g="center"===r?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===r&&"top"===d?"above":"below",g!==this._currentPosition){const w=this._overlayRef;if(w){const x=`${this._cssClassPrefix}-${rP}-`;w.removePanelClass(x+this._currentPosition),w.addPanelClass(x+g)}this._currentPosition=g}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let r;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(r=e),this.show(void 0,r)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const r=e.targetTouches?.[0],s=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,s),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",r=>{const s=r.relatedTarget;(!s||!this._overlayRef?.overlayElement.contains(s))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",r],["touchcancel",r])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([r,s])=>{this._elementRef.nativeElement.addEventListener(r,s,oP)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(e.clientX,e.clientY),s=this._elementRef.nativeElement;r!==s&&!s.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const r=this._elementRef.nativeElement,s=r.style;("on"===e||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===e||!r.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){m.$Z()},n.\u0275dir=m.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),zde=(()=>{class n extends Dde{constructor(e,r,s,d,g,w,x,z,N,P,W,K){super(e,r,s,d,g,w,x,z,N,P,W,K),this._tooltipComponent=Tde,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const s=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=s?-8:8:"end"===e.originX&&(e.offsetX=s?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(b5),m.Y36(m.SBq),m.Y36(cy),m.Y36(m.s_b),m.Y36(m.R0b),m.Y36(Ao),m.Y36(Eoe),m.Y36(bL),m.Y36(iP),m.Y36(o7,8),m.Y36(kde,8),m.Y36(Z))},n.\u0275dir=m.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[m.qOj]}),n})(),Ide=(()=>{class n{constructor(e,r){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new nn.x,this._animationsDisabled="NoopAnimations"===r}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const r=this._tooltip.nativeElement,s=this._showAnimation,d=this._hideAnimation;if(r.classList.remove(e?d:s),r.classList.add(e?s:d),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const g=getComputedStyle(r);("0s"===g.getPropertyValue("animation-duration")||"none"===g.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.sBO),m.Y36(m.QbO,8))},n.\u0275dir=m.lG2({type:n}),n})(),Tde=(()=>{class n extends Ide{constructor(e,r,s){super(e,s),this._elementRef=r,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(m.QbO,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,r){if(1&e&&m.Gf(_de,7),2&e){let s;m.iGM(s=m.CRH())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,r){1&e&&m.NdJ("mouseleave",function(d){return r._handleMouseLeave(d)}),2&e&&m.Udp("zoom",r.isVisible()?1:null)},features:[m.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,r){1&e&&(m.TgZ(0,"div",0,1),m.NdJ("animationend",function(d){return r._handleAnimationEnd(d)}),m.TgZ(2,"div",2),m._uU(3),m.qZA()()),2&e&&(m.ekj("mdc-tooltip--multiline",r._isMultiline),m.Q6J("ngClass",r.tooltipClass),m.xp6(3),m.Oqu(r.message))},dependencies:[Qt],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[Cde],imports:[Goe,ui,Ew,Yi,Yi,ly]}),n})();const Lde=[RL,tx,rH,AH,hH,sH,WH,eP,eS,KH,sP];let Nde=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=m.oAB({type:n});static#n=this.\u0275inj=m.cJS({imports:[ui,Lde,RL,tx,rH,AH,hH,sH,WH,eP,eS,KH,sP]})}return n})();function Vde(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"a",12),m.NdJ("keyup.enter",function(){m.CHM(e),m.oxw(3);const s=m.MAs(1);return m.KtG(s.previous())})("click",function(){m.CHM(e),m.oxw(3);const s=m.MAs(1);return m.KtG(s.previous())}),m._uU(1),m.TgZ(2,"span",13),m._uU(3),m.qZA()()}if(2&n){const e=m.oxw(3);m.xp6(1),m.hij(" ",e.previousLabel," "),m.xp6(2),m.Oqu(e.screenReaderPageLabel)}}function Hde(n,t){if(1&n&&(m.TgZ(0,"span",14),m._uU(1),m.TgZ(2,"span",13),m._uU(3),m.qZA()()),2&n){const e=m.oxw(3);m.xp6(1),m.hij(" ",e.previousLabel," "),m.xp6(2),m.Oqu(e.screenReaderPageLabel)}}function Pde(n,t){if(1&n&&(m.TgZ(0,"li",9),m.YNc(1,Vde,4,2,"a",10),m.YNc(2,Hde,4,2,"span",11),m.qZA()),2&n){m.oxw(2);const e=m.MAs(1);m.ekj("disabled",e.isFirstPage()),m.xp6(1),m.Q6J("ngIf",1<e.getCurrent()),m.xp6(1),m.Q6J("ngIf",e.isFirstPage())}}function Rde(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"a",12),m.NdJ("keyup.enter",function(){m.CHM(e);const s=m.oxw().$implicit;m.oxw(2);const d=m.MAs(1);return m.KtG(d.setCurrent(s.value))})("click",function(){m.CHM(e);const s=m.oxw().$implicit;m.oxw(2);const d=m.MAs(1);return m.KtG(d.setCurrent(s.value))}),m.TgZ(1,"span",13),m._uU(2),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"number"),m.qZA()()}if(2&n){const e=m.oxw().$implicit,r=m.oxw(2);m.xp6(2),m.hij("",r.screenReaderPageLabel," "),m.xp6(2),m.Oqu("..."===e.label?e.label:m.xi3(5,2,e.label,""))}}function Ode(n,t){if(1&n&&(m.ynx(0),m.TgZ(1,"span",16)(2,"span",13),m._uU(3),m.qZA(),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"number"),m.qZA()(),m.BQk()),2&n){const e=m.oxw().$implicit,r=m.oxw(2);m.xp6(3),m.hij("",r.screenReaderCurrentLabel," "),m.xp6(2),m.Oqu("..."===e.label?e.label:m.xi3(6,2,e.label,""))}}function Fde(n,t){if(1&n&&(m.TgZ(0,"li"),m.YNc(1,Rde,6,5,"a",10),m.YNc(2,Ode,7,5,"ng-container",15),m.qZA()),2&n){const e=t.$implicit;m.oxw(2);const r=m.MAs(1);m.ekj("current",r.getCurrent()===e.value)("ellipsis","..."===e.label),m.xp6(1),m.Q6J("ngIf",r.getCurrent()!==e.value),m.xp6(1),m.Q6J("ngIf",r.getCurrent()===e.value)}}function Bde(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"a",12),m.NdJ("keyup.enter",function(){m.CHM(e),m.oxw(3);const s=m.MAs(1);return m.KtG(s.next())})("click",function(){m.CHM(e),m.oxw(3);const s=m.MAs(1);return m.KtG(s.next())}),m._uU(1),m.TgZ(2,"span",13),m._uU(3),m.qZA()()}if(2&n){const e=m.oxw(3);m.xp6(1),m.hij(" ",e.nextLabel," "),m.xp6(2),m.Oqu(e.screenReaderPageLabel)}}function jde(n,t){if(1&n&&(m.TgZ(0,"span",14),m._uU(1),m.TgZ(2,"span",13),m._uU(3),m.qZA()()),2&n){const e=m.oxw(3);m.xp6(1),m.hij(" ",e.nextLabel," "),m.xp6(2),m.Oqu(e.screenReaderPageLabel)}}function Ude(n,t){if(1&n&&(m.TgZ(0,"li",17),m.YNc(1,Bde,4,2,"a",10),m.YNc(2,jde,4,2,"span",11),m.qZA()),2&n){m.oxw(2);const e=m.MAs(1);m.ekj("disabled",e.isLastPage()),m.xp6(1),m.Q6J("ngIf",!e.isLastPage()),m.xp6(1),m.Q6J("ngIf",e.isLastPage())}}function Gde(n,t){if(1&n&&(m.TgZ(0,"ul",4),m.YNc(1,Pde,3,4,"li",5),m.TgZ(2,"li",6),m._uU(3),m.qZA(),m.YNc(4,Fde,3,6,"li",7),m.YNc(5,Ude,3,4,"li",8),m.qZA()),2&n){const e=m.oxw(),r=m.MAs(1);m.ekj("responsive",e.responsive),m.xp6(1),m.Q6J("ngIf",e.directionLinks),m.xp6(2),m.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),m.xp6(1),m.Q6J("ngForOf",r.pages)("ngForTrackBy",e.trackByIndex),m.xp6(1),m.Q6J("ngIf",e.directionLinks)}}class tS{constructor(){this.change=new m.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let r in this.instances[t.id])t[r]!==this.instances[t.id][r]&&(this.instances[t.id][r]=t[r],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let r=this.instances[t];e<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}}const qde=Number.MAX_SAFE_INTEGER;let $de=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,r){if(!(e instanceof Array)){let P=r.id||this.service.defaultId();return this.state[P]?this.state[P].slice:e}let w,x,s=r.totalItems&&r.totalItems!==e.length,d=this.createInstance(e,r),g=d.id,z=d.itemsPerPage,N=this.service.register(d);if(!s&&e instanceof Array){if(z=+z||qde,w=(d.currentPage-1)*z,x=w+z,this.stateIsIdentical(g,e,w,x))return this.state[g].slice;{let W=e.slice(w,x);return this.saveState(g,e,W,w,x),this.service.change.emit(g),W}}return N&&this.service.change.emit(g),this.saveState(g,e,e,w,x),e}createInstance(e,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||e.length}}checkConfig(e){const s=["itemsPerPage","currentPage"].filter(d=>!(d in e));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(e,r,s,d,g){this.state[e]={collection:r,size:r.length,slice:s,start:d,end:g}}stateIsIdentical(e,r,s,d){let g=this.state[e];return!(!g||g.size!==r.length||g.start!==s||g.end!==d)&&g.slice.every((x,z)=>x===r[s+z])}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(tS,16))},n.\u0275pipe=m.Yjl({name:"paginate",type:n,pure:!1}),n})(),Wde=(()=>{class n{constructor(e,r){this.service=e,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new m.vpe,this.pageBoundsCorrection=new m.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(e);r!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const r=Math.ceil(e.totalItems/e.itemsPerPage);return r<e.currentPage&&0<r?r:e.currentPage<1?1:e.currentPage}createPageArray(e,r,s,d){d=+d;let g=[];const w=Math.max(Math.ceil(s/r),1),x=Math.ceil(d/2),z=e<=x,N=w-x<e,P=!z&&!N;let W=d<w,K=1;for(;K<=w&&K<=d;){let ie,de=this.calculatePageNumber(K,e,d,w);ie=W&&(2===K&&(P||N)||K===d-1&&(P||z))?"...":de,g.push({label:ie,value:de}),K++}return g}calculatePageNumber(e,r,s,d){let g=Math.ceil(s/2);return e===s?d:1===e?e:s<d?d-g<r?d-s+e:g<r?r-g+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(tS),m.Y36(m.sBO))},n.\u0275dir=m.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[m.TTD]}),n})();function nS(n){return!!n&&"false"!==n}let Zde=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new m.vpe,this.pageBoundsCorrection=new m.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=nS(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=nS(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=nS(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,r){if(1&e&&(m.TgZ(0,"pagination-template",0,1),m.NdJ("pageChange",function(d){return r.pageChange.emit(d)})("pageBoundsCorrection",function(d){return r.pageBoundsCorrection.emit(d)}),m.TgZ(2,"nav",2),m.YNc(3,Gde,6,8,"ul",3),m.qZA()()),2&e){const s=m.MAs(1);m.Q6J("id",r.id)("maxSize",r.maxSize),m.xp6(2),m.uIk("aria-label",r.screenReaderPaginationLabel),m.xp6(1),m.Q6J("ngIf",!(r.autoHide&&s.pages.length<=1))}},dependencies:[Wde,fi,qs,J4],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),Yde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[tS],imports:[[ui]]}),n})();var OR={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Ej={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},vU={prefix:"fas",iconName:"angle-up",icon:[448,512,[8963],"f106","M201.4 137.4c12.5-12.5 32.8-12.5 45.3 0l160 160c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L224 205.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l160-160z"]},qU={prefix:"fas",iconName:"calendar",icon:[448,512,[128197,128198],"f133","M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"]},rG={prefix:"fas",iconName:"comment-sms",icon:[512,512,["sms"],"f7cd","M256 448c141.4 0 256-93.1 256-208S397.4 32 256 32S0 125.1 0 240c0 45.1 17.7 86.8 47.7 120.9c-1.9 24.5-11.4 46.3-21.4 62.9c-5.5 9.2-11.1 16.6-15.2 21.6c-2.1 2.5-3.7 4.4-4.9 5.7c-.6 .6-1 1.1-1.3 1.4l-.3 .3 0 0 0 0 0 0 0 0c-4.6 4.6-5.9 11.4-3.4 17.4c2.5 6 8.3 9.9 14.8 9.9c28.7 0 57.6-8.9 81.6-19.3c22.9-10 42.4-21.9 54.3-30.6c31.8 11.5 67 17.9 104.1 17.9zM96 212.8c0-20.3 16.5-36.8 36.8-36.8H152c8.8 0 16 7.2 16 16s-7.2 16-16 16H132.8c-2.7 0-4.8 2.2-4.8 4.8c0 1.6 .8 3.1 2.2 4l29.4 19.6c10.3 6.8 16.4 18.3 16.4 30.7c0 20.3-16.5 36.8-36.8 36.8H112c-8.8 0-16-7.2-16-16s7.2-16 16-16h27.2c2.7 0 4.8-2.2 4.8-4.8c0-1.6-.8-3.1-2.2-4l-29.4-19.6C102.2 236.7 96 225.2 96 212.8zM372.8 176H392c8.8 0 16 7.2 16 16s-7.2 16-16 16H372.8c-2.7 0-4.8 2.2-4.8 4.8c0 1.6 .8 3.1 2.2 4l29.4 19.6c10.2 6.8 16.4 18.3 16.4 30.7c0 20.3-16.5 36.8-36.8 36.8H352c-8.8 0-16-7.2-16-16s7.2-16 16-16h27.2c2.7 0 4.8-2.2 4.8-4.8c0-1.6-.8-3.1-2.2-4l-29.4-19.6c-10.2-6.8-16.4-18.3-16.4-30.7c0-20.3 16.5-36.8 36.8-36.8zm-152 6.4L256 229.3l35.2-46.9c4.1-5.5 11.3-7.8 17.9-5.6s10.9 8.3 10.9 15.2v96c0 8.8-7.2 16-16 16s-16-7.2-16-16V240l-19.2 25.6c-3 4-7.8 6.4-12.8 6.4s-9.8-2.4-12.8-6.4L224 240v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-6.9 4.4-13 10.9-15.2s13.7 .1 17.9 5.6z"]};function BG(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,r)}return e}function Tt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?BG(Object(e),!0).forEach(function(r){xs(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):BG(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function $w(n){return($w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function jG(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xs(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function KS(n,t){return function vVe(n){if(Array.isArray(n))return n}(n)||function bVe(n,t){var e=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var g,w,r=[],s=!0,d=!1;try{for(e=e.call(n);!(s=(g=e.next()).done)&&(r.push(g.value),!t||r.length!==t);s=!0);}catch(x){d=!0,w=x}finally{try{!s&&null!=e.return&&e.return()}finally{if(d)throw w}}return r}}(n,t)||UG(n,t)||function CVe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(n){return function gVe(n){if(Array.isArray(n))return QS(n)}(n)||function _Ve(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||UG(n)||function yVe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UG(n,t){if(n){if("string"==typeof n)return QS(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return QS(n,t)}}function QS(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var GG=function(){},JS={},qG={},$G=null,WG={mark:GG,measure:GG};try{typeof window<"u"&&(JS=window),typeof document<"u"&&(qG=document),typeof MutationObserver<"u"&&($G=MutationObserver),typeof performance<"u"&&(WG=performance)}catch{}var Yw,Kw,Qw,Jw,Xw,ZG=(JS.navigator||{}).userAgent,YG=void 0===ZG?"":ZG,p7=JS,kr=qG,KG=$G,Zw=WG,y5=!!kr.documentElement&&!!kr.head&&"function"==typeof kr.addEventListener&&"function"==typeof kr.createElement,QG=~YG.indexOf("MSIE")||~YG.indexOf("Trident/"),C5="___FONT_AWESOME___",XS=16,JG="fa",XG="svg-inline--fa",vm="data-fa-i2svg",eE="data-fa-pseudo-element",kVe="data-fa-pseudo-element-pending",tE="data-prefix",nE="data-icon",eq="fontawesome-i2svg",AVe="async",MVe=["HTML","HEAD","STYLE","SCRIPT"],tq=function(){try{return!0}catch{return!1}}(),Ar="classic",Mo="sharp",iE=[Ar,Mo];function vy(n){return new Proxy(n,{get:function(e,r){return r in e?e[r]:e[Ar]}})}var _y=vy((xs(Yw={},Ar,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),xs(Yw,Mo,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Yw)),by=vy((xs(Kw={},Ar,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),xs(Kw,Mo,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Kw)),yy=vy((xs(Qw={},Ar,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),xs(Qw,Mo,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Qw)),xVe=vy((xs(Jw={},Ar,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),xs(Jw,Mo,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Jw)),SVe=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,nq="fa-layers-text",EVe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,DVe=vy((xs(Xw={},Ar,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),xs(Xw,Mo,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Xw)),iq=[1,2,3,4,5,6,7,8,9,10],zVe=iq.concat([11,12,13,14,15,16,17,18,19,20]),IVe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],_m={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Cy=new Set;Object.keys(by[Ar]).map(Cy.add.bind(Cy)),Object.keys(by[Mo]).map(Cy.add.bind(Cy));var TVe=[].concat(iE,gy(Cy),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_m.GROUP,_m.SWAP_OPACITY,_m.PRIMARY,_m.SECONDARY]).concat(iq.map(function(n){return"".concat(n,"x")})).concat(zVe.map(function(n){return"w-".concat(n)})),wy=p7.FontAwesomeConfig||{};kr&&"function"==typeof kr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=KS(n,2),r=t[1],s=function NVe(n){return""===n||"false"!==n&&("true"===n||n)}(function LVe(n){var t=kr.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=s&&(wy[r]=s)});var rq={styleDefault:"solid",familyDefault:"classic",cssPrefix:JG,replacementClass:XG,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};wy.familyPrefix&&(wy.cssPrefix=wy.familyPrefix);var kv=Tt(Tt({},rq),wy);kv.autoReplaceSvg||(kv.observeMutations=!1);var Ft={};Object.keys(rq).forEach(function(n){Object.defineProperty(Ft,n,{enumerable:!0,set:function(e){kv[n]=e,ky.forEach(function(r){return r(Ft)})},get:function(){return kv[n]}})}),Object.defineProperty(Ft,"familyPrefix",{enumerable:!0,set:function(t){kv.cssPrefix=t,ky.forEach(function(e){return e(Ft)})},get:function(){return kv.cssPrefix}}),p7.FontAwesomeConfig=Ft;var ky=[],g7=XS,vu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},RVe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ay(){for(var n=12,t="";n-- >0;)t+=RVe[62*Math.random()|0];return t}function Av(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function rE(n){return n.classList?Av(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function oq(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ek(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function oE(n){return n.size!==vu.size||n.x!==vu.x||n.y!==vu.y||n.rotate!==vu.rotate||n.flipX||n.flipY}var jVe=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function sq(){var n=JG,t=XG,e=Ft.cssPrefix,r=Ft.replacementClass,s=jVe;if(e!==n||r!==t){var d=new RegExp("\\.".concat(n,"\\-"),"g"),g=new RegExp("\\--".concat(n,"\\-"),"g"),w=new RegExp("\\.".concat(t),"g");s=s.replace(d,".".concat(e,"-")).replace(g,"--".concat(e,"-")).replace(w,".".concat(r))}return s}var aq=!1;function sE(){Ft.autoAddCss&&!aq&&(function PVe(n){if(n&&y5){var t=kr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=kr.head.childNodes,r=null,s=e.length-1;s>-1;s--){var d=e[s],g=(d.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(g)>-1&&(r=d)}kr.head.insertBefore(t,r)}}(sq()),aq=!0)}var UVe={mixout:function(){return{dom:{css:sq,insertCss:sE}}},hooks:function(){return{beforeDOMElementCreation:function(){sE()},beforeI2svg:function(){sE()}}}},w5=p7||{};w5[C5]||(w5[C5]={}),w5[C5].styles||(w5[C5].styles={}),w5[C5].hooks||(w5[C5].hooks={}),w5[C5].shims||(w5[C5].shims=[]);var Y4=w5[C5],cq=[],tk=!1;function My(n){var t=n.tag,e=n.attributes,r=void 0===e?{}:e,s=n.children,d=void 0===s?[]:s;return"string"==typeof n?oq(n):"<".concat(t," ").concat(function OVe(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(oq(n[e]),'" ')},"").trim()}(r),">").concat(d.map(My).join(""),"</").concat(t,">")}function lq(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}y5&&((tk=(kr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(kr.readyState))||kr.addEventListener("DOMContentLoaded",function n(){kr.removeEventListener("DOMContentLoaded",n),tk=1,cq.map(function(t){return t()})}));var aE=function(t,e,r,s){var x,z,N,d=Object.keys(t),g=d.length,w=void 0!==s?function(t,e){return function(r,s,d,g){return t.call(e,r,s,d,g)}}(e,s):e;for(void 0===r?(x=1,N=t[d[0]]):(x=0,N=r);x<g;x++)N=w(N,t[z=d[x]],z,t);return N};function cE(n){var t=function WVe(n){for(var t=[],e=0,r=n.length;e<r;){var s=n.charCodeAt(e++);if(s>=55296&&s<=56319&&e<r){var d=n.charCodeAt(e++);56320==(64512&d)?t.push(((1023&s)<<10)+(1023&d)+65536):(t.push(s),e--)}else t.push(s)}return t}(n);return 1===t.length?t[0].toString(16):null}function uq(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function lE(n,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,s=void 0!==r&&r,d=uq(t);"function"!=typeof Y4.hooks.addPack||s?Y4.styles[n]=Tt(Tt({},Y4.styles[n]||{}),d):Y4.hooks.addPack(n,uq(t)),"fas"===n&&lE("fa",t)}var nk,ik,rk,Mv=Y4.styles,YVe=Y4.shims,KVe=(xs(nk={},Ar,Object.values(yy[Ar])),xs(nk,Mo,Object.values(yy[Mo])),nk),uE=null,dq={},hq={},fq={},mq={},pq={},QVe=(xs(ik={},Ar,Object.keys(_y[Ar])),xs(ik,Mo,Object.keys(_y[Mo])),ik);var gq=function(){var t=function(d){return aE(Mv,function(g,w,x){return g[x]=aE(w,d,{}),g},{})};dq=t(function(s,d,g){return d[3]&&(s[d[3]]=g),d[2]&&d[2].filter(function(x){return"number"==typeof x}).forEach(function(x){s[x.toString(16)]=g}),s}),hq=t(function(s,d,g){return s[g]=g,d[2]&&d[2].filter(function(x){return"string"==typeof x}).forEach(function(x){s[x]=g}),s}),pq=t(function(s,d,g){var w=d[2];return s[g]=g,w.forEach(function(x){s[x]=g}),s});var e="far"in Mv||Ft.autoFetchSvg,r=aE(YVe,function(s,d){var g=d[0],w=d[1],x=d[2];return"far"===w&&!e&&(w="fas"),"string"==typeof g&&(s.names[g]={prefix:w,iconName:x}),"number"==typeof g&&(s.unicodes[g.toString(16)]={prefix:w,iconName:x}),s},{names:{},unicodes:{}});fq=r.names,mq=r.unicodes,uE=ok(Ft.styleDefault,{family:Ft.familyDefault})};function dE(n,t){return(dq[n]||{})[t]}function bm(n,t){return(pq[n]||{})[t]}function vq(n){return fq[n]||{prefix:null,iconName:null}}function v7(){return uE}(function HVe(n){ky.push(n)})(function(n){uE=ok(n.styleDefault,{family:Ft.familyDefault})}),gq();var hE=function(){return{prefix:null,iconName:null,rest:[]}};function ok(n){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===e?Ar:e;return by[r][n]||by[r][_y[r][n]]||(n in Y4.styles?n:null)||null}var _q=(xs(rk={},Ar,Object.keys(yy[Ar])),xs(rk,Mo,Object.keys(yy[Mo])),rk);function sk(n){var t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,s=void 0!==r&&r,d=(xs(t={},Ar,"".concat(Ft.cssPrefix,"-").concat(Ar)),xs(t,Mo,"".concat(Ft.cssPrefix,"-").concat(Mo)),t),g=null,w=Ar;(n.includes(d[Ar])||n.some(function(z){return _q[Ar].includes(z)}))&&(w=Ar),(n.includes(d[Mo])||n.some(function(z){return _q[Mo].includes(z)}))&&(w=Mo);var x=n.reduce(function(z,N){var P=function XVe(n,t){var e=t.split("-"),r=e[0],s=e.slice(1).join("-");return r!==n||""===s||function JVe(n){return~TVe.indexOf(n)}(s)?null:s}(Ft.cssPrefix,N);if(Mv[N]?(N=KVe[w].includes(N)?xVe[w][N]:N,g=N,z.prefix=N):QVe[w].indexOf(N)>-1?(g=N,z.prefix=ok(N,{family:w})):P?z.iconName=P:N!==Ft.replacementClass&&N!==d[Ar]&&N!==d[Mo]&&z.rest.push(N),!s&&z.prefix&&z.iconName){var W="fa"===g?vq(z.iconName):{},K=bm(z.prefix,z.iconName);W.prefix&&(g=null),z.iconName=W.iconName||K||z.iconName,z.prefix=W.prefix||z.prefix,"far"===z.prefix&&!Mv.far&&Mv.fas&&!Ft.autoFetchSvg&&(z.prefix="fas")}return z},hE());return(n.includes("fa-brands")||n.includes("fab"))&&(x.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(x.prefix="fad"),!x.prefix&&w===Mo&&(Mv.fass||Ft.autoFetchSvg)&&(x.prefix="fass",x.iconName=bm(x.prefix,x.iconName)||x.iconName),("fa"===x.prefix||"fa"===g)&&(x.prefix=v7()||"fas"),x}var nHe=function(){function n(){(function fVe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function mVe(n,t,e){t&&jG(n.prototype,t),e&&jG(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];var g=s.reduce(this._pullDefinitions,{});Object.keys(g).forEach(function(w){e.definitions[w]=Tt(Tt({},e.definitions[w]||{}),g[w]),lE(w,g[w]);var x=yy[Ar][w];x&&lE(x,g[w]),gq()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(d){var g=s[d],w=g.prefix,x=g.iconName,z=g.icon,N=z[2];e[w]||(e[w]={}),N.length>0&&N.forEach(function(P){"string"==typeof P&&(e[w][P]=z)}),e[w][x]=z}),e}}]),n}(),bq=[],xv={},Sv={},iHe=Object.keys(Sv);function fE(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),s=2;s<e;s++)r[s-2]=arguments[s];return(xv[n]||[]).forEach(function(g){t=g.apply(null,[t].concat(r))}),t}function ym(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];(xv[n]||[]).forEach(function(d){d.apply(null,e)})}function k5(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Sv[n]?Sv[n].apply(null,t):void 0}function mE(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||v7();if(t)return t=bm(e,t)||t,lq(yq.definitions,e,t)||lq(Y4.styles,e,t)}var yq=new nHe,sHe={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y5?(ym("beforeI2svg",t),k5("pseudoElements2svg",t),k5("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===Ft.autoReplaceSvg&&(Ft.autoReplaceSvg=!0),Ft.observeMutations=!0,function qVe(n){y5&&(tk?setTimeout(n,0):cq.push(n))}(function(){cHe({autoReplaceSvgRoot:e}),ym("watch",t)})}},Qc={noAuto:function(){Ft.autoReplaceSvg=!1,Ft.observeMutations=!1,ym("noAuto")},config:Ft,dom:sHe,parse:{icon:function(t){if(null===t)return null;if("object"===$w(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:bm(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=ok(t[0]);return{prefix:r,iconName:bm(r,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(Ft.cssPrefix,"-"))>-1||t.match(SVe))){var s=sk(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||v7(),iconName:bm(s.prefix,s.iconName)||s.iconName}}if("string"==typeof t){var d=v7();return{prefix:d,iconName:bm(d,t)||t}}}},library:yq,findIconDefinition:mE,toHtml:My},cHe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===e?kr:e;(Object.keys(Y4.styles).length>0||Ft.autoFetchSvg)&&y5&&Ft.autoReplaceSvg&&Qc.dom.i2svg({node:r})};function ak(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return My(r)})}}),Object.defineProperty(n,"node",{get:function(){if(y5){var r=kr.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function pE(n){var t=n.icons,e=t.main,r=t.mask,s=n.prefix,d=n.iconName,g=n.transform,w=n.symbol,x=n.title,z=n.maskId,N=n.titleId,P=n.extra,W=n.watchable,K=void 0!==W&&W,ie=r.found?r:e,de=ie.width,ve=ie.height,Ve="fak"===s,tt=[Ft.replacementClass,d?"".concat(Ft.cssPrefix,"-").concat(d):""].filter(function(Fr){return-1===P.classes.indexOf(Fr)}).filter(function(Fr){return""!==Fr||!!Fr}).concat(P.classes).join(" "),st={children:[],attributes:Tt(Tt({},P.attributes),{},{"data-prefix":s,"data-icon":d,class:tt,role:P.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(de," ").concat(ve)})},ft=Ve&&!~P.classes.indexOf("fa-fw")?{width:"".concat(de/ve*16*.0625,"em")}:{};K&&(st.attributes[vm]=""),x&&(st.children.push({tag:"title",attributes:{id:st.attributes["aria-labelledby"]||"title-".concat(N||Ay())},children:[x]}),delete st.attributes.title);var Dt=Tt(Tt({},st),{},{prefix:s,iconName:d,main:e,mask:r,maskId:z,transform:g,symbol:w,styles:Tt(Tt({},ft),P.styles)}),Ct=r.found&&e.found?k5("generateAbstractMask",Dt)||{children:[],attributes:{}}:k5("generateAbstractIcon",Dt)||{children:[],attributes:{}},Ki=Ct.attributes;return Dt.children=Ct.children,Dt.attributes=Ki,w?function uHe(n){var e=n.iconName,r=n.children,s=n.attributes,d=n.symbol,g=!0===d?"".concat(n.prefix,"-").concat(Ft.cssPrefix,"-").concat(e):d;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Tt(Tt({},s),{},{id:g}),children:r}]}]}(Dt):function lHe(n){var t=n.children,e=n.main,r=n.mask,s=n.attributes,d=n.styles,g=n.transform;if(oE(g)&&e.found&&!r.found){var z={x:e.width/e.height/2,y:.5};s.style=ek(Tt(Tt({},d),{},{"transform-origin":"".concat(z.x+g.x/16,"em ").concat(z.y+g.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}(Dt)}function Cq(n){var t=n.content,e=n.width,r=n.height,s=n.transform,d=n.title,g=n.extra,w=n.watchable,x=void 0!==w&&w,z=Tt(Tt(Tt({},g.attributes),d?{title:d}:{}),{},{class:g.classes.join(" ")});x&&(z[vm]="");var N=Tt({},g.styles);oE(s)&&(N.transform=function BVe(n){var t=n.transform,e=n.width,s=n.height,d=void 0===s?XS:s,g=n.startCentered,w=void 0!==g&&g,x="";return x+=w&&QG?"translate(".concat(t.x/g7-(void 0===e?XS:e)/2,"em, ").concat(t.y/g7-d/2,"em) "):w?"translate(calc(-50% + ".concat(t.x/g7,"em), calc(-50% + ").concat(t.y/g7,"em)) "):"translate(".concat(t.x/g7,"em, ").concat(t.y/g7,"em) "),(x+="scale(".concat(t.size/g7*(t.flipX?-1:1),", ").concat(t.size/g7*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:s,startCentered:!0,width:e,height:r}),N["-webkit-transform"]=N.transform);var P=ek(N);P.length>0&&(z.style=P);var W=[];return W.push({tag:"span",attributes:z,children:[t]}),d&&W.push({tag:"span",attributes:{class:"sr-only"},children:[d]}),W}var gE=Y4.styles;function vE(n){var t=n[0],e=n[1],d=KS(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(d)?{tag:"g",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(_m.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(_m.SECONDARY),fill:"currentColor",d:d[0]}},{tag:"path",attributes:{class:"".concat(Ft.cssPrefix,"-").concat(_m.PRIMARY),fill:"currentColor",d:d[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d}}}}var hHe={found:!1,width:512,height:512};function _E(n,t){var e=t;return"fa"===t&&null!==Ft.styleDefault&&(t=v7()),new Promise(function(r,s){if(k5("missingIconAbstract"),"fa"===e){var g=vq(n)||{};n=g.iconName||n,t=g.prefix||t}if(n&&t&&gE[t]&&gE[t][n])return r(vE(gE[t][n]));(function fHe(n,t){!tq&&!Ft.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),r(Tt(Tt({},hHe),{},{icon:Ft.showMissingIcons&&n&&k5("missingIconAbstract")||{}}))})}var wq=function(){},bE=Ft.measurePerformance&&Zw&&Zw.mark&&Zw.measure?Zw:{mark:wq,measure:wq},xy='FA "6.5.2"',kq=function(t){bE.mark("".concat(xy," ").concat(t," ends")),bE.measure("".concat(xy," ").concat(t),"".concat(xy," ").concat(t," begins"),"".concat(xy," ").concat(t," ends"))},yE={begin:function(t){return bE.mark("".concat(xy," ").concat(t," begins")),function(){return kq(t)}},end:kq},ck=function(){};function Aq(n){return"string"==typeof(n.getAttribute?n.getAttribute(vm):null)}function _He(n){return kr.createElementNS("http://www.w3.org/2000/svg",n)}function bHe(n){return kr.createElement(n)}function Mq(n){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===e?"svg"===n.tag?_He:bHe:e;if("string"==typeof n)return kr.createTextNode(n);var s=r(n.tag);return Object.keys(n.attributes||[]).forEach(function(g){s.setAttribute(g,n.attributes[g])}),(n.children||[]).forEach(function(g){s.appendChild(Mq(g,{ceFn:r}))}),s}var lk={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(s){e.parentNode.insertBefore(Mq(s),e)}),null===e.getAttribute(vm)&&Ft.keepOriginalSource){var r=kr.createComment(function yHe(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~rE(e).indexOf(Ft.replacementClass))return lk.replace(t);var s=new RegExp("".concat(Ft.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var d=r[0].attributes.class.split(" ").reduce(function(w,x){return x===Ft.replacementClass||x.match(s)?w.toSvg.push(x):w.toNode.push(x),w},{toNode:[],toSvg:[]});r[0].attributes.class=d.toSvg.join(" "),0===d.toNode.length?e.removeAttribute("class"):e.setAttribute("class",d.toNode.join(" "))}var g=r.map(function(w){return My(w)}).join("\n");e.setAttribute(vm,""),e.innerHTML=g}};function xq(n){n()}function Sq(n,t){var e="function"==typeof t?t:ck;if(0===n.length)e();else{var r=xq;Ft.mutateApproach===AVe&&(r=p7.requestAnimationFrame||xq),r(function(){var s=function vHe(){return!0===Ft.autoReplaceSvg?lk.replace:lk[Ft.autoReplaceSvg]||lk.replace}(),d=yE.begin("mutate");n.map(s),d(),e()})}}var CE=!1;function Eq(){CE=!0}function wE(){CE=!1}var uk=null;function Dq(n){if(KG&&Ft.observeMutations){var t=n.treeCallback,e=void 0===t?ck:t,r=n.nodeCallback,s=void 0===r?ck:r,d=n.pseudoElementsCallback,g=void 0===d?ck:d,w=n.observeMutationsRoot,x=void 0===w?kr:w;uk=new KG(function(z){if(!CE){var N=v7();Av(z).forEach(function(P){if("childList"===P.type&&P.addedNodes.length>0&&!Aq(P.addedNodes[0])&&(Ft.searchPseudoElements&&g(P.target),e(P.target)),"attributes"===P.type&&P.target.parentNode&&Ft.searchPseudoElements&&g(P.target.parentNode),"attributes"===P.type&&Aq(P.target)&&~IVe.indexOf(P.attributeName))if("class"===P.attributeName&&function pHe(n){var t=n.getAttribute?n.getAttribute(tE):null,e=n.getAttribute?n.getAttribute(nE):null;return t&&e}(P.target)){var W=sk(rE(P.target)),ie=W.iconName;P.target.setAttribute(tE,W.prefix||N),ie&&P.target.setAttribute(nE,ie)}else(function gHe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Ft.replacementClass)})(P.target)&&s(P.target)})}}),y5&&uk.observe(x,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zq(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=function kHe(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",s=sk(rE(n));return s.prefix||(s.prefix=v7()),t&&e&&(s.prefix=t,s.iconName=e),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=function eHe(n,t){return(hq[n]||{})[t]}(s.prefix,n.innerText)||dE(s.prefix,cE(n.innerText))),!s.iconName&&Ft.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}(n),r=e.iconName,s=e.prefix,d=e.rest,g=function AHe(n){var t=Av(n.attributes).reduce(function(s,d){return"class"!==s.name&&"style"!==s.name&&(s[d.name]=d.value),s},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return Ft.autoA11y&&(e?t["aria-labelledby"]="".concat(Ft.replacementClass,"-title-").concat(r||Ay()):(t["aria-hidden"]="true",t.focusable="false")),t}(n),w=fE("parseNodeAttributes",{},n),x=t.styleParser?function wHe(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,s){var d=s.split(":"),g=d[0],w=d.slice(1);return g&&w.length>0&&(r[g]=w.join(":").trim()),r},{})),e}(n):[];return Tt({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:s,transform:vu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:d,styles:x,attributes:g}},w)}var xHe=Y4.styles;function Iq(n){var t="nest"===Ft.autoReplaceSvg?zq(n,{styleParser:!1}):zq(n);return~t.extra.classes.indexOf(nq)?k5("generateLayersText",n,t):k5("generateSvgReplacementMutation",n,t)}var _7=new Set;function Tq(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!y5)return Promise.resolve();var e=kr.documentElement.classList,r=function(P){return e.add("".concat(eq,"-").concat(P))},s=function(P){return e.remove("".concat(eq,"-").concat(P))},d=Ft.autoFetchSvg?_7:iE.map(function(N){return"fa-".concat(N)}).concat(Object.keys(xHe));d.includes("fa")||d.push("fa");var g=[".".concat(nq,":not([").concat(vm,"])")].concat(d.map(function(N){return".".concat(N,":not([").concat(vm,"])")})).join(", ");if(0===g.length)return Promise.resolve();var w=[];try{w=Av(n.querySelectorAll(g))}catch{}if(!(w.length>0))return Promise.resolve();r("pending"),s("complete");var x=yE.begin("onTree"),z=w.reduce(function(N,P){try{var W=Iq(P);W&&N.push(W)}catch(K){tq||"MissingIcon"===K.name&&console.error(K)}return N},[]);return new Promise(function(N,P){Promise.all(z).then(function(W){Sq(W,function(){r("active"),r("complete"),s("pending"),"function"==typeof t&&t(),x(),N()})}).catch(function(W){x(),P(W)})})}function SHe(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Iq(n).then(function(e){e&&Sq([e],t)})}function EHe(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:mE(t||{}),s=e.mask;return s&&(s=(s||{}).icon?s:mE(s||{})),n(r,Tt(Tt({},e),{},{mask:s}))}}iE.map(function(n){_7.add("fa-".concat(n))}),Object.keys(_y[Ar]).map(_7.add.bind(_7)),Object.keys(_y[Mo]).map(_7.add.bind(_7)),_7=gy(_7);var DHe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,s=void 0===r?vu:r,d=e.symbol,g=void 0!==d&&d,w=e.mask,x=void 0===w?null:w,z=e.maskId,N=void 0===z?null:z,P=e.title,W=void 0===P?null:P,K=e.titleId,ie=void 0===K?null:K,de=e.classes,ve=void 0===de?[]:de,Ve=e.attributes,tt=void 0===Ve?{}:Ve,st=e.styles,ft=void 0===st?{}:st;if(t){var Dt=t.prefix,Ct=t.iconName,sn=t.icon;return ak(Tt({type:"icon"},t),function(){return ym("beforeDOMElementCreation",{iconDefinition:t,params:e}),Ft.autoA11y&&(W?tt["aria-labelledby"]="".concat(Ft.replacementClass,"-title-").concat(ie||Ay()):(tt["aria-hidden"]="true",tt.focusable="false")),pE({icons:{main:vE(sn),mask:x?vE(x.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Dt,iconName:Ct,transform:Tt(Tt({},vu),s),symbol:g,title:W,maskId:N,titleId:ie,extra:{attributes:tt,styles:ft,classes:ve}})})}},zHe={mixout:function(){return{icon:EHe(DHe)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Tq,e.nodeCallback=SHe,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,d=e.callback;return Tq(void 0===r?kr:r,void 0===d?function(){}:d)},t.generateSvgReplacementMutation=function(e,r){var s=r.iconName,d=r.title,g=r.titleId,w=r.prefix,x=r.transform,z=r.symbol,N=r.mask,P=r.maskId,W=r.extra;return new Promise(function(K,ie){Promise.all([_E(s,w),N.iconName?_E(N.iconName,N.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(de){var ve=KS(de,2);K([e,pE({icons:{main:ve[0],mask:ve[1]},prefix:w,iconName:s,transform:x,symbol:z,maskId:P,title:d,titleId:g,extra:W,watchable:!0})])}).catch(ie)})},t.generateAbstractIcon=function(e){var z,r=e.children,s=e.attributes,d=e.main,g=e.transform,x=ek(e.styles);return x.length>0&&(s.style=x),oE(g)&&(z=k5("generateAbstractTransformGrouping",{main:d,transform:g,containerWidth:d.width,iconWidth:d.width})),r.push(z||d.icon),{children:r,attributes:s}}}},IHe={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.classes,d=void 0===s?[]:s;return ak({type:"layer"},function(){ym("beforeDOMElementCreation",{assembler:e,params:r});var g=[];return e(function(w){Array.isArray(w)?w.map(function(x){g=g.concat(x.abstract)}):g=g.concat(w.abstract)}),[{tag:"span",attributes:{class:["".concat(Ft.cssPrefix,"-layers")].concat(gy(d)).join(" ")},children:g}]})}}}},THe={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.title,d=void 0===s?null:s,g=r.classes,w=void 0===g?[]:g,x=r.attributes,z=void 0===x?{}:x,N=r.styles,P=void 0===N?{}:N;return ak({type:"counter",content:e},function(){return ym("beforeDOMElementCreation",{content:e,params:r}),function dHe(n){var t=n.content,e=n.title,r=n.extra,s=Tt(Tt(Tt({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),d=ek(r.styles);d.length>0&&(s.style=d);var g=[];return g.push({tag:"span",attributes:s,children:[t]}),e&&g.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),g}({content:e.toString(),title:d,extra:{attributes:z,styles:P,classes:["".concat(Ft.cssPrefix,"-layers-counter")].concat(gy(w))}})})}}}},LHe={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=r.transform,d=void 0===s?vu:s,g=r.title,w=void 0===g?null:g,x=r.classes,z=void 0===x?[]:x,N=r.attributes,P=void 0===N?{}:N,W=r.styles,K=void 0===W?{}:W;return ak({type:"text",content:e},function(){return ym("beforeDOMElementCreation",{content:e,params:r}),Cq({content:e,transform:Tt(Tt({},vu),d),title:w,extra:{attributes:P,styles:K,classes:["".concat(Ft.cssPrefix,"-layers-text")].concat(gy(z))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var s=r.title,d=r.transform,g=r.extra,w=null,x=null;if(QG){var z=parseInt(getComputedStyle(e).fontSize,10),N=e.getBoundingClientRect();w=N.width/z,x=N.height/z}return Ft.autoA11y&&!s&&(g.attributes["aria-hidden"]="true"),Promise.resolve([e,Cq({content:e.innerHTML,width:w,height:x,transform:d,title:s,extra:g,watchable:!0})])}}},NHe=new RegExp('"',"ug"),Lq=[1105920,1112319];function Nq(n,t){var e="".concat(kVe).concat(t.replace(":","-"));return new Promise(function(r,s){if(null!==n.getAttribute(e))return r();var g=Av(n.children).filter(function(sn){return sn.getAttribute(eE)===t})[0],w=p7.getComputedStyle(n,t),x=w.getPropertyValue("font-family").match(EVe),z=w.getPropertyValue("font-weight"),N=w.getPropertyValue("content");if(g&&!x)return n.removeChild(g),r();if(x&&"none"!==N&&""!==N){var P=w.getPropertyValue("content"),W=~["Sharp"].indexOf(x[2])?Mo:Ar,K=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(x[2])?by[W][x[2].toLowerCase()]:DVe[W][z],ie=function VHe(n){var t=n.replace(NHe,""),e=function ZVe(n,t){var s,e=n.length,r=n.charCodeAt(t);return r>=55296&&r<=56319&&e>t+1&&(s=n.charCodeAt(t+1))>=56320&&s<=57343?1024*(r-55296)+s-56320+65536:r}(t,0),r=e>=Lq[0]&&e<=Lq[1],s=2===t.length&&t[0]===t[1];return{value:cE(s?t[0]:t),isSecondary:r||s}}(P),de=ie.value,ve=ie.isSecondary,Ve=x[0].startsWith("FontAwesome"),tt=dE(K,de),st=tt;if(Ve){var ft=function tHe(n){var t=mq[n],e=dE("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(de);ft.iconName&&ft.prefix&&(tt=ft.iconName,K=ft.prefix)}if(!tt||ve||g&&g.getAttribute(tE)===K&&g.getAttribute(nE)===st)r();else{n.setAttribute(e,st),g&&n.removeChild(g);var Dt=function MHe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:vu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ct=Dt.extra;Ct.attributes[eE]=t,_E(tt,K).then(function(sn){var Ki=pE(Tt(Tt({},Dt),{},{icons:{main:sn,mask:hE()},prefix:K,iconName:st,extra:Ct,watchable:!0})),Fr=kr.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?n.insertBefore(Fr,n.firstChild):n.appendChild(Fr),Fr.outerHTML=Ki.map(function(K4){return My(K4)}).join("\n"),n.removeAttribute(e),r()}).catch(s)}}else r()})}function HHe(n){return Promise.all([Nq(n,"::before"),Nq(n,"::after")])}function PHe(n){return!(n.parentNode===document.head||~MVe.indexOf(n.tagName.toUpperCase())||n.getAttribute(eE)||n.parentNode&&"svg"===n.parentNode.tagName)}function Vq(n){if(y5)return new Promise(function(t,e){var r=Av(n.querySelectorAll("*")).filter(PHe).map(HHe),s=yE.begin("searchPseudoElements");Eq(),Promise.all(r).then(function(){s(),wE(),t()}).catch(function(){s(),wE(),e()})})}var Hq=!1,Pq=function(t){return t.toLowerCase().split(" ").reduce(function(r,s){var d=s.toLowerCase().split("-"),g=d[0],w=d.slice(1).join("-");if(g&&"h"===w)return r.flipX=!0,r;if(g&&"v"===w)return r.flipY=!0,r;if(w=parseFloat(w),isNaN(w))return r;switch(g){case"grow":r.size=r.size+w;break;case"shrink":r.size=r.size-w;break;case"left":r.x=r.x-w;break;case"right":r.x=r.x+w;break;case"up":r.y=r.y-w;break;case"down":r.y=r.y+w;break;case"rotate":r.rotate=r.rotate+w}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},kE={x:0,y:0,width:"100%",height:"100%"};function Rq(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function BHe(n){return"g"===n.tag?n.children:[n]}var jHe={hooks:function(){return{parseNodeAttributes:function(e,r){var s=r.getAttribute("data-fa-mask"),d=s?sk(s.split(" ").map(function(g){return g.trim()})):hE();return d.prefix||(d.prefix=v7()),e.mask=d,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var r=e.children,s=e.attributes,d=e.main,g=e.mask,w=e.maskId,N=d.icon,W=g.icon,K=function FVe(n){var t=n.transform,r=n.iconWidth,s={transform:"translate(".concat(n.containerWidth/2," 256)")},d="translate(".concat(32*t.x,", ").concat(32*t.y,") "),g="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),w="rotate(".concat(t.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(d," ").concat(g," ").concat(w)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:g.width,iconWidth:d.width}),ie={tag:"rect",attributes:Tt(Tt({},kE),{},{fill:"white"})},de=N.children?{children:N.children.map(Rq)}:{},ve={tag:"g",attributes:Tt({},K.inner),children:[Rq(Tt({tag:N.tag,attributes:Tt(Tt({},N.attributes),K.path)},de))]},Ve={tag:"g",attributes:Tt({},K.outer),children:[ve]},tt="mask-".concat(w||Ay()),st="clip-".concat(w||Ay()),ft={tag:"mask",attributes:Tt(Tt({},kE),{},{id:tt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ie,Ve]},Dt={tag:"defs",children:[{tag:"clipPath",attributes:{id:st},children:BHe(W)},ft]};return r.push(Dt,{tag:"rect",attributes:Tt({fill:"currentColor","clip-path":"url(#".concat(st,")"),mask:"url(#".concat(tt,")")},kE)}),{children:r,attributes:s}}}};!function rHe(n,t){var e=t.mixoutsTo;bq=n,xv={},Object.keys(Sv).forEach(function(r){-1===iHe.indexOf(r)&&delete Sv[r]}),bq.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(g){"function"==typeof s[g]&&(e[g]=s[g]),"object"===$w(s[g])&&Object.keys(s[g]).forEach(function(w){e[g]||(e[g]={}),e[g][w]=s[g][w]})}),r.hooks){var d=r.hooks();Object.keys(d).forEach(function(g){xv[g]||(xv[g]=[]),xv[g].push(d[g])})}r.provides&&r.provides(Sv)})}([UVe,zHe,IHe,THe,LHe,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Vq,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node;Ft.searchPseudoElements&&Vq(void 0===r?kr:r)}}},{mixout:function(){return{dom:{unwatch:function(){Eq(),Hq=!0}}}},hooks:function(){return{bootstrap:function(){Dq(fE("mutationObserverCallbacks",{}))},noAuto:function(){!function CHe(){uk&&uk.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;Hq?wE():Dq(fE("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return Pq(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var s=r.getAttribute("data-fa-transform");return s&&(e.transform=Pq(s)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,s=e.transform,g=e.iconWidth,w={transform:"translate(".concat(e.containerWidth/2," 256)")},x="translate(".concat(32*s.x,", ").concat(32*s.y,") "),z="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),N="rotate(".concat(s.rotate," 0 0)"),K={outer:w,inner:{transform:"".concat(x," ").concat(z," ").concat(N)},path:{transform:"translate(".concat(g/2*-1," -256)")}};return{tag:"g",attributes:Tt({},K.outer),children:[{tag:"g",attributes:Tt({},K.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Tt(Tt({},r.icon.attributes),K.path)}]}]}}}},jHe,{provides:function(t){var e=!1;p7.matchMedia&&(e=p7.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},d={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Tt(Tt({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var g=Tt(Tt({},d),{},{attributeName:"opacity"}),w={tag:"circle",attributes:Tt(Tt({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||w.children.push({tag:"animate",attributes:Tt(Tt({},d),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Tt(Tt({},g),{},{values:"1;0;1;1;0;1;"})}),r.push(w),r.push({tag:"path",attributes:Tt(Tt({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Tt(Tt({},g),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:Tt(Tt({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Tt(Tt({},g),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var s=r.getAttribute("data-fa-symbol");return e.symbol=null!==s&&(""===s||s),e}}}}],{mixoutsTo:Qc});var $He=Qc.parse,WHe=Qc.icon;const ZHe=["*"],QHe=n=>{const t={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let ePe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oq=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const s of r.icon[2])"string"==typeof s&&(this.definitions[r.prefix][s]=r)}}addIconPacks(...e){for(const r of e){const s=Object.keys(r).map(d=>r[d]);this.addIcons(...s)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tPe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=m.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[m.TTD]}),n})(),nPe=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.Qsj),m.Y36(m.SBq))},n.\u0275cmp=m.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[m.TTD],ngContentSelectors:ZHe,decls:1,vars:0,template:function(e,r){1&e&&(m.F$t(),m.Hsn(0))},encapsulation:2}),n})(),AE=(()=>{class n{constructor(e,r,s,d,g){this.sanitizer=e,this.config=r,this.iconLibrary=s,this.stackItem=d,this.classes=[],null!=g&&null==d&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(e){this.animation=e?"spin":void 0}set pulse(e){this.animation=e?"spin-pulse":void 0}ngOnChanges(e){if(null!=this.icon||null!=this.config.fallbackIcon){if(e){const s=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=s){const d=this.buildParams();this.renderIcon(s,d)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:t,iconName:n}:{prefix:n[0],iconName:n[1]})(e,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?$He.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...QHe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const s=WHe(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(Wr),m.Y36(ePe),m.Y36(Oq),m.Y36(tPe,8),m.Y36(nPe,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(m.Ikx("innerHTML",r.renderedIconHTML,m.oJD),m.uIk("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[m.TTD],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),Fq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const iPe=[{prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"]},RM,{prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},{prefix:"fab",iconName:"pinterest-p",icon:[384,512,[],"f231","M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"]},{prefix:"fab",iconName:"reddit-alien",icon:[512,512,[],"f281","M373 138.6c-25.2 0-46.3-17.5-51.9-41l0 0c-30.6 4.3-54.2 30.7-54.2 62.4l0 .2c47.4 1.8 90.6 15.1 124.9 36.3c12.6-9.7 28.4-15.5 45.5-15.5c41.3 0 74.7 33.4 74.7 74.7c0 29.8-17.4 55.5-42.7 67.5c-2.4 86.8-97 156.6-213.2 156.6S45.5 410.1 43 323.4C17.6 311.5 0 285.7 0 255.7c0-41.3 33.4-74.7 74.7-74.7c17.2 0 33 5.8 45.7 15.6c34-21.1 76.8-34.4 123.7-36.4l0-.3c0-44.3 33.7-80.9 76.8-85.5C325.8 50.2 347.2 32 373 32c29.4 0 53.3 23.9 53.3 53.3s-23.9 53.3-53.3 53.3zM157.5 255.3c-20.9 0-38.9 20.8-40.2 47.9s17.1 38.1 38 38.1s36.6-9.8 37.8-36.9s-14.7-49.1-35.7-49.1zM395 303.1c-1.2-27.1-19.2-47.9-40.2-47.9s-36.9 22-35.7 49.1c1.2 27.1 16.9 36.9 37.8 36.9s39.3-11 38-38.1zm-60.1 70.8c1.5-3.6-1-7.7-4.9-8.1c-23-2.3-47.9-3.6-73.8-3.6s-50.8 1.3-73.8 3.6c-3.9 .4-6.4 4.5-4.9 8.1c12.9 30.8 43.3 52.4 78.7 52.4s65.8-21.6 78.7-52.4z"]},{prefix:"fab",iconName:"tumblr",icon:[320,512,[],"f173","M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"]},{prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},{prefix:"fab",iconName:"viber",icon:[512,512,[],"f409","M444 49.9C431.3 38.2 379.9.9 265.3.4c0 0-135.1-8.1-200.9 52.3C27.8 89.3 14.9 143 13.5 209.5c-1.4 66.5-3.1 191.1 117 224.9h.1l-.1 51.6s-.8 20.9 13 25.1c16.6 5.2 26.4-10.7 42.3-27.8 8.7-9.4 20.7-23.2 29.8-33.7 82.2 6.9 145.3-8.9 152.5-11.2 16.6-5.4 110.5-17.4 125.7-142 15.8-128.6-7.6-209.8-49.8-246.5zM457.9 287c-12.9 104-89 110.6-103 115.1-6 1.9-61.5 15.7-131.2 11.2 0 0-52 62.7-68.2 79-5.3 5.3-11.1 4.8-11-5.7 0-6.9.4-85.7.4-85.7-.1 0-.1 0 0 0-101.8-28.2-95.8-134.3-94.7-189.8 1.1-55.5 11.6-101 42.6-131.6 55.7-50.5 170.4-43 170.4-43 96.9.4 143.3 29.6 154.1 39.4 35.7 30.6 53.9 103.8 40.6 211.1zm-139-80.8c.4 8.6-12.5 9.2-12.9.6-1.1-22-11.4-32.7-32.6-33.9-8.6-.5-7.8-13.4.7-12.9 27.9 1.5 43.4 17.5 44.8 46.2zm20.3 11.3c1-42.4-25.5-75.6-75.8-79.3-8.5-.6-7.6-13.5.9-12.9 58 4.2 88.9 44.1 87.8 92.5-.1 8.6-13.1 8.2-12.9-.3zm47 13.4c.1 8.6-12.9 8.7-12.9.1-.6-81.5-54.9-125.9-120.8-126.4-8.5-.1-8.5-12.9 0-12.9 73.7.5 133 51.4 133.7 139.2zM374.9 329v.2c-10.8 19-31 40-51.8 33.3l-.2-.3c-21.1-5.9-70.8-31.5-102.2-56.5-16.2-12.8-31-27.9-42.4-42.4-10.3-12.9-20.7-28.2-30.8-46.6-21.3-38.5-26-55.7-26-55.7-6.7-20.8 14.2-41 33.3-51.8h.2c9.2-4.8 18-3.2 23.9 3.9 0 0 12.4 14.8 17.7 22.1 5 6.8 11.7 17.7 15.2 23.8 6.1 10.9 2.3 22-3.7 26.6l-12 9.6c-6.1 4.9-5.3 14-5.3 14s17.8 67.3 84.3 84.3c0 0 9.1.8 14-5.3l9.6-12c4.6-6 15.7-9.8 26.6-3.7 14.7 8.3 33.4 21.2 45.8 32.9 7 5.7 8.6 14.4 3.8 23.6z"]},{prefix:"fab",iconName:"vk",icon:[448,512,[],"f189","M31.4907 63.4907C0 94.9813 0 145.671 0 247.04V264.96C0 366.329 0 417.019 31.4907 448.509C62.9813 480 113.671 480 215.04 480H232.96C334.329 480 385.019 480 416.509 448.509C448 417.019 448 366.329 448 264.96V247.04C448 145.671 448 94.9813 416.509 63.4907C385.019 32 334.329 32 232.96 32H215.04C113.671 32 62.9813 32 31.4907 63.4907ZM75.6 168.267H126.747C128.427 253.76 166.133 289.973 196 297.44V168.267H244.16V242C273.653 238.827 304.64 205.227 315.093 168.267H363.253C359.313 187.435 351.46 205.583 340.186 221.579C328.913 237.574 314.461 251.071 297.733 261.227C316.41 270.499 332.907 283.63 346.132 299.751C359.357 315.873 369.01 334.618 374.453 354.747H321.44C316.555 337.262 306.614 321.61 292.865 309.754C279.117 297.899 262.173 290.368 244.16 288.107V354.747H238.373C136.267 354.747 78.0267 284.747 75.6 168.267Z"]},{prefix:"fab",iconName:"facebook-messenger",icon:[512,512,[],"f39f","M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"]},ZT,{prefix:"fab",iconName:"mix",icon:[448,512,[],"f3cb","M0 64v348.9c0 56.2 88 58.1 88 0V174.3c7.9-52.9 88-50.4 88 6.5v175.3c0 57.9 96 58 96 0V240c5.3-54.7 88-52.5 88 4.3v23.8c0 59.9 88 56.6 88 0V64H0z"]},{prefix:"fab",iconName:"xing",icon:[384,512,[],"f168","M162.7 210c-1.8 3.3-25.2 44.4-70.1 123.5-4.9 8.3-10.8 12.5-17.7 12.5H9.8c-7.7 0-12.1-7.5-8.5-14.4l69-121.3c.2 0 .2-.1 0-.3l-43.9-75.6c-4.3-7.8.3-14.1 8.5-14.1H100c7.3 0 13.3 4.1 18 12.2l44.7 77.5zM382.6 46.1l-144 253v.3L330.2 466c3.9 7.1.2 14.1-8.5 14.1h-65.2c-7.6 0-13.6-4-18-12.2l-92.4-168.5c3.3-5.8 51.5-90.8 144.8-255.2 4.6-8.1 10.4-12.2 17.5-12.2h65.7c8 0 12.3 6.7 8.5 14.1z"]},rG,{prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},{prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},{prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},{prefix:"fas",iconName:"exclamation",icon:[64,512,[10069,10071,61738],"21","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V320c0 17.7 14.3 32 32 32s32-14.3 32-32V64zM32 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},{prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},Ej,{prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},{prefix:"fab",iconName:"line",icon:[512,512,[],"f3c0","M311 196.8v81.3c0 2.1-1.6 3.7-3.7 3.7h-13c-1.3 0-2.4-.7-3-1.5l-37.3-50.3v48.2c0 2.1-1.6 3.7-3.7 3.7h-13c-2.1 0-3.7-1.6-3.7-3.7V196.9c0-2.1 1.6-3.7 3.7-3.7h12.9c1.1 0 2.4 .6 3 1.6l37.3 50.3V196.9c0-2.1 1.6-3.7 3.7-3.7h13c2.1-.1 3.8 1.6 3.8 3.5zm-93.7-3.7h-13c-2.1 0-3.7 1.6-3.7 3.7v81.3c0 2.1 1.6 3.7 3.7 3.7h13c2.1 0 3.7-1.6 3.7-3.7V196.8c0-1.9-1.6-3.7-3.7-3.7zm-31.4 68.1H150.3V196.8c0-2.1-1.6-3.7-3.7-3.7h-13c-2.1 0-3.7 1.6-3.7 3.7v81.3c0 1 .3 1.8 1 2.5c.7 .6 1.5 1 2.5 1h52.2c2.1 0 3.7-1.6 3.7-3.7v-13c0-1.9-1.6-3.7-3.5-3.7zm193.7-68.1H327.3c-1.9 0-3.7 1.6-3.7 3.7v81.3c0 1.9 1.6 3.7 3.7 3.7h52.2c2.1 0 3.7-1.6 3.7-3.7V265c0-2.1-1.6-3.7-3.7-3.7H344V247.7h35.5c2.1 0 3.7-1.6 3.7-3.7V230.9c0-2.1-1.6-3.7-3.7-3.7H344V213.5h35.5c2.1 0 3.7-1.6 3.7-3.7v-13c-.1-1.9-1.7-3.7-3.7-3.7zM512 93.4V419.4c-.1 51.2-42.1 92.7-93.4 92.6H92.6C41.4 511.9-.1 469.8 0 418.6V92.6C.1 41.4 42.2-.1 93.4 0H419.4c51.2 .1 92.7 42.1 92.6 93.4zM441.6 233.5c0-83.4-83.7-151.3-186.4-151.3s-186.4 67.9-186.4 151.3c0 74.7 66.3 137.4 155.9 149.3c21.8 4.7 19.3 12.7 14.4 42.1c-.8 4.7-3.8 18.4 16.1 10.1s107.3-63.2 146.5-108.2c27-29.7 39.9-59.8 39.9-93.1z"]}];let rPe=(()=>{class n{constructor(e){e.addIcons(...iPe)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Oq))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Fq]}),n})();class oPe{constructor(t,e){this._document=e;const r=this._textarea=this._document.createElement("textarea"),s=r.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",r.setAttribute("aria-hidden","true"),r.value=t,r.readOnly=!0,this._document.body.appendChild(r)}copy(){const t=this._textarea;let e=!1;try{if(t){const r=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),r&&r.focus()}}catch{}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let sPe=(()=>{class n{constructor(e){this._document=e}copy(e){const r=this.beginCopy(e),s=r.copy();return r.destroy(),s}beginCopy(e){return new oPe(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function Bq(n,t){return t?e=>a6(t.pipe(ns(1),function cPe(){return(0,Lr.e)((n,t)=>{n.subscribe((0,mr.x)(t,aL.Z))})}()),e.pipe(Bq(n))):(0,jo.z)((e,r)=>n(e,r).pipe(ns(1),ep(e)))}const jq=new m.OlP("shareButtonsConfig");var Ev=(()=>(function(n){n.Anchor="anchor",n.Window="window"}(Ev||(Ev={})),Ev))();function ME(n){return n&&"object"==typeof n&&!Array.isArray(n)}function xE(n,...t){if(!t.length)return n;const e=t.shift();if(ME(n)&&ME(e))for(const r in e)ME(e[r])?(n[r]||Object.assign(n,{[r]:{}}),xE(n[r],e[r])):Object.assign(n,{[r]:e[r]});return xE(n,...t)}const dk={description:n=>n.description?`${n.description}\r\n${n.url}`:n.url},fPe={facebook:{type:"facebook",text:"Facebook",ariaLabel:"Share on Facebook",icon:["fab","facebook-f"],color:"#4267B2",share:{desktop:"https://www.facebook.com/sharer/sharer.php?"},params:{url:"u"}},twitter:{type:"twitter",text:"Twitter",ariaLabel:"Share on Twitter",icon:["fab","twitter"],color:"#00acee",share:{desktop:"https://twitter.com/intent/tweet?"},params:{url:"url",description:"text",tags:"hashtags",via:"via"}},linkedin:{type:"linkedin",text:"LinkedIn",ariaLabel:"Share on LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",share:{desktop:"https://www.linkedin.com/shareArticle?"},params:{url:"url",title:"title",description:"summary"}},pinterest:{type:"pinterest",text:"Pinterest",ariaLabel:"Share on Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",share:{desktop:"https://pinterest.com/pin/create/button/?"},params:{url:"url",description:"description",image:"media"}},reddit:{type:"reddit",text:"Reddit",ariaLabel:"Share on Reddit",icon:["fab","reddit-alien"],color:"#FF4006",share:{desktop:"https://www.reddit.com/submit?"},params:{url:"url",title:"title"}},tumblr:{type:"tumblr",text:"Tumblr",ariaLabel:"Share on Tumblr",icon:["fab","tumblr"],color:"#36465D",share:{desktop:"https://tumblr.com/widgets/share/tool?"},params:{url:"canonicalUrl",description:"caption",tags:"tags"}},mix:{type:"mix",text:"Mix",ariaLabel:"Share on Mix",icon:["fab","mix"],color:"#eb4924",share:{desktop:"https://mix.com/add?"},params:{url:"url"}},viber:{type:"viber",text:"Viber",ariaLabel:"Share on Viber",icon:["fab","viber"],color:"#665ca7",share:{android:"viber://forward?",ios:"viber://forward?"},params:{description:"text"},paramsFunc:dk},vk:{type:"vk",text:"VKontakte",ariaLabel:"Share on VKontakte",icon:["fab","vk"],color:"#4C75A3",share:{desktop:"https://vk.com/share.php?"},params:{url:"url"}},telegram:{type:"telegram",text:"Telegram",ariaLabel:"Share on Telegram",icon:["fab","telegram-plane"],color:"#0088cc",share:{desktop:"https://t.me/share/url?"},params:{url:"url",description:"text"}},messenger:{type:"messenger",text:"Messenger",ariaLabel:"Share on Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",share:{android:"fb-messenger://share/?",ios:"fb-messenger://share/?"},params:{url:"link"}},whatsapp:{type:"whatsapp",text:"WhatsApp",ariaLabel:"Share on WhatsApp",icon:["fab","whatsapp"],color:"#25D366",share:{desktop:"https://web.whatsapp.com/send?",android:"whatsapp://send?",ios:"https://api.whatsapp.com/send?"},params:{description:"text"},paramsFunc:dk},xing:{type:"xing",text:"Xing",ariaLabel:"Share on Xing",icon:["fab","xing"],color:"#006567",share:{desktop:"https://www.xing.com/spi/shares/new?"},params:{url:"url"}},line:{type:"line",text:"Line",ariaLabel:"Share on Line",icon:["fab","line"],color:"#00b900",share:{desktop:"https://social-plugins.line.me/lineit/share?"},params:{url:"url"}},sms:{type:"sms",text:"SMS",ariaLabel:"Share link via SMS",icon:["fas","sms"],color:"#20c16c",share:{desktop:"sms:?",ios:"sms:&"},params:{description:"body"},paramsFunc:dk},email:{type:"email",text:"Email",ariaLabel:"Share link via email",icon:["fas","envelope"],color:"#FF961C",share:{desktop:"mailto:?"},params:{title:"subject",description:"body"},paramsFunc:dk},print:{type:"print",text:"Print",ariaLabel:"Print page",icon:["fas","print"],color:"#765AA2",func:function dPe(){return new to.y(n=>document.defaultView.print())}},copy:{type:"copy",text:"Copy link",ariaLabel:"Copy link",icon:["fas","link"],color:"#607D8B",data:{text:"Copy link",icon:["fas","link"],successText:"Copied",successIcon:["fas","check"],delay:2e3},func:function hPe({params:n,data:t,clipboard:e,updater:r}){return yt(null).pipe((0,Ri.b)(()=>{e.copy(n.url),r.next({icon:t.successIcon,text:t.successText,disabled:!0})}),function lPe(n,t=X8.z){const e=DH(n,t);return Bq(()=>e)}(t.delay),(0,Ri.b)(()=>r.next({icon:t.icon,text:t.text,disabled:!1})),ns(1))}}};let Uq=(()=>{class n{constructor(e,r){this._document=r,this.config={sharerMethod:Ev.Anchor,sharerTarget:"_blank",windowObj:this._document.defaultView,windowFuncName:"open",prop:fPe,theme:"default",include:[],exclude:[],autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus",moreButtonAriaLabel:"Show more share buttons",lessButtonAriaLabel:"Show less share buttons"},this.config$=new _s(this.config),e&&this.setConfig(e)}get prop(){return this.config.prop}get windowSize(){return`width=${this.config.windowWidth}, height=${this.config.windowHeight}`}setConfig(e){this.config=xE(this.config,e),this.config$.next(this.config)}addButton(e,r){this.setConfig({prop:{[e]:r}})}}return n.\u0275fac=function(e){return new(e||n)(m.LFG(jq,8),m.LFG(Z))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mPe=(()=>{class n{constructor(e,r,s,d,g,w,x){this._meta=r,this._platform=s,this._clipboard=d,this._share=g,this._cd=w,this._document=x,this._destroyed=new nn.x,this._updater=new nn.x,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.opened=new m.vpe,this.closed=new m.vpe,this._el=e.nativeElement}share(){if(this._platform.isBrowser&&this.shareButton){const e=this.autoSetMeta?this.getParamsFromMetaTags():this.getParamsFromInputs();(this.shareButton.share?this.open(e):this.shareButton.func({params:e,data:this.shareButton.data,clipboard:this._clipboard,updater:this._updater})).pipe(Zi(this._destroyed)).subscribe()}else console.warn(`${this.text} button is not compatible on this Platform`)}ngOnInit(){this._updater.pipe((0,Ri.b)(e=>{this.icon=e.icon,this.text=e.text,this._el.style.pointerEvents=e.disabled?"none":"auto",this._cd.markForCheck()}),Zi(this._destroyed)).subscribe()}ngOnChanges(e){this._platform.isBrowser&&(this._shareButtonChanged(e.shareButtonName)&&this._createShareButton(),this._urlChanged(e.url)&&(this.url=function uPe(n,t){if(n){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n))return n;console.warn(`[ShareButtons]: Sharing link '${n}' is invalid!`)}return t}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href)))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createShareButton(){const e=this._share.config.prop[this.shareButtonName];e?(this.shareButton=e,this._el.classList.remove(`sb-${this._buttonClass}`),this._el.classList.add(`sb-${this.shareButtonName}`),this._el.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this.color=this.shareButton.color,this.text=this.shareButton.text,this.icon=this.shareButton.icon,this._el.setAttribute("aria-label",e.ariaLabel)):console.error(`[ShareButtons]: The share button '${this.shareButtonName}' does not exist!`)}_getMetaTagContent(e){const r=this._meta.getTag(`property="${e}"`);if(r)return r.getAttribute("content");const s=this._meta.getTag(`name="${e}"`);return s?s.getAttribute("content"):void 0}_shareButtonChanged(e){return e&&(e.firstChange||e.previousValue!==e.currentValue)}_urlChanged(e){return!this.url||e&&e.previousValue!==e.currentValue}getParamsFromMetaTags(){return{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}}getParamsFromInputs(){return{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount}}open(e){let r;if(r=this._platform.IOS&&this.shareButton.share.ios?this.shareButton.share.ios:this._platform.ANDROID&&this.shareButton.share.android?this.shareButton.share.android:this.shareButton.share.desktop,r){this._finalUrl=r+this._serializeParams(e),this._share.config.debug&&console.log("[DEBUG SHARE BUTTON]: ",this._finalUrl);const d=this.shareButton.target||this._share.config.sharerTarget;switch(this.shareButton.method||this._share.config.sharerMethod){case Ev.Anchor:const g=this._document.createElement("a");g.setAttribute("target",d),g.setAttribute("rel","noopener noreferrer"),g.href=this._finalUrl,g.click(),g.remove();break;case Ev.Window:const x=(0,this._share.config.windowObj[this._share.config.windowFuncName])(this._finalUrl,d,this._share.windowSize);if(this._share.config.windowObj.opener=null,x)return new to.y(z=>{const N=this._document.defaultView.setInterval(()=>{x.closed&&(this._document.defaultView.clearInterval(N),this.closed.emit(this.shareButtonName),z.next(),z.complete())},200)})}this.opened.emit(this.shareButtonName)}return Da.E}_serializeParams(e){return Object.entries(this.shareButton.params).map(([r,s])=>{const d=this.shareButton.paramsFunc?this.shareButton.paramsFunc[r]:null;if(e[r]||d){const g=d?d(e):e[r];return`${s}=${encodeURIComponent(g)}`}return""}).filter(r=>""!==r).join("&")}}return n.\u0275fac=function(e){return new(e||n)(m.Y36(m.SBq),m.Y36(Tl),m.Y36(Ao),m.Y36(sPe),m.Y36(Uq),m.Y36(m.sBO),m.Y36(Z))},n.\u0275dir=m.lG2({type:n,selectors:[["","shareButton",""]],hostBindings:function(e,r){1&e&&m.NdJ("click",function(){return r.share()})},inputs:{shareButtonName:["shareButton","shareButtonName"],autoSetMeta:"autoSetMeta",url:"url",title:"title",description:"description",image:"image",tags:"tags"},outputs:{opened:"opened",closed:"closed"},exportAs:["shareButton"],features:[m.TTD]}),n})(),pPe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jq,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[noe,aPe]}),n})();function gPe(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"div",1),m.NdJ("click",function(){m.CHM(e);const s=m.oxw();return m.KtG(s.gotoTop())}),m._UZ(1,"fa-icon",2),m.qZA()}if(2&n){const e=m.oxw();m.xp6(1),m.Q6J("icon",e.faAngleUp)}}let Gq=(()=>{class n{constructor(){this.showScrollerPosition=100,this.faAngleUp=vU}checkScroll(){this.showScroller=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>=this.showScrollerPosition}gotoTop(){window.scroll({top:0,left:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-scroller"]],hostBindings:function(r,s){1&r&&m.NdJ("scroll",function(){return s.checkScroll()},!1,m.Jf7)},decls:1,vars:1,consts:[["class","scroll-to-top",3,"click",4,"ngIf"],[1,"scroll-to-top",3,"click"],[3,"icon"]],template:function(r,s){1&r&&m.YNc(0,gPe,2,1,"div",0),2&r&&m.Q6J("ngIf",s.showScroller)},dependencies:[AE,fi],styles:[".scroll-to-top[_ngcontent-%COMP%]{display:block;background:rgba(100,100,100,.4);color:#fff;bottom:4%;cursor:pointer;position:fixed;right:20px;z-index:999;font-size:24px;text-align:center;width:45px;height:45px;border-radius:50%}.scroll-to-top[_ngcontent-%COMP%]:hover{background-color:#b2b2b2}"]})}return n})(),hk=(()=>{class n{constructor(e){this.http=e,this.apiUrl="http://localhost:8080/api",this.currentUser=null}signup(e){return this.http.post(`${this.apiUrl}/signup`,e)}login(e){return this.http.post(`${this.apiUrl}/login`,e)}storeToken(e){sessionStorage.setItem("jwt_token",e)}getToken(){return sessionStorage.getItem("jwt_token")}setUser(e){this.currentUser=e}getUser(){return this.currentUser}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(iy))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SE=(()=>{class n{constructor(e,r){this.http=e,this.userService=r,this.apiUrl="http://localhost:8080/api"}getAllPosts(){return this.http.get(`${this.apiUrl}/`)}getPostById(e){return this.http.get(`${this.apiUrl}/posts/${e}`)}createPost(e){const r=this.userService.getToken(),s=new gu({Authorization:`Bearer ${r}`});return this.http.post(`${this.apiUrl}/create`,e,{headers:s})}deletePost(e){return this.http.delete(`${this.apiUrl}/posts/${e}`)}updatePost(e,r){return this.http.put(`${this.apiUrl}/${e}`,r)}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(iy),m.LFG(hk))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vPe(n,t){if(1&n&&(m.TgZ(0,"mat-option",5),m._uU(1),m.qZA()),2&n){const e=t.$implicit;m.Q6J("value",e),m.xp6(1),m.hij(" ",e," ")}}let _Pe=(()=>{class n{constructor(e){this.router=e}pageChange(e){this.router.navigate(["/page/",e])}changePageItemCount(e){sessionStorage.setItem("pageSize",e.value),this.config.itemsPerPage=e.value}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Hr))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-paginator"]],inputs:{pageSizeOptions:"pageSizeOptions",config:"config"},decls:9,vars:2,consts:[[1,"d-flex","justify-content-between","py-3"],[1,"my-pagination",3,"pageChange"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(r,s){1&r&&(m.TgZ(0,"div",0)(1,"div")(2,"pagination-controls",1),m.NdJ("pageChange",function(g){return s.pageChange(g)}),m.qZA()(),m.TgZ(3,"div")(4,"mat-form-field",2)(5,"mat-label"),m._uU(6,"Items per page: "),m.qZA(),m.TgZ(7,"mat-select",3),m.NdJ("ngModelChange",function(g){return s.config.itemsPerPage=g})("selectionChange",function(g){return s.changePageItemCount(g)}),m.YNc(8,vPe,2,2,"mat-option",4),m.qZA()()()()),2&r&&(m.xp6(7),m.Q6J("ngModel",s.config.itemsPerPage),m.xp6(1),m.Q6J("ngForOf",s.pageSizeOptions))},dependencies:[Zde,qs,wv,m7,XH,XM,dm,u7],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination{margin:10px 0;padding-inline-start:0px}@media screen and (min-width: 320px) and (max-width: 420px){.paginator-controls[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return n})(),bPe=(()=>{class n{transform(e){const r=e.replace(/(<([^>]+)>)/gi,"");return r.length>300?r.substr(0,300)+" [...]":r}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=m.Yjl({name:"excerpt",type:n,pure:!0})}return n})(),yPe=(()=>{class n{transform(e){return e.trim().toLowerCase().replace(/ /g,"-")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=m.Yjl({name:"slug",type:n,pure:!0})}return n})();function CPe(n,t){1&n&&(m.TgZ(0,"div",3),m._UZ(1,"mat-spinner"),m.qZA())}function wPe(n,t){if(1&n&&(m.TgZ(0,"mat-option",14),m._uU(1),m.qZA()),2&n){const e=t.$implicit;m.Q6J("value",e),m.xp6(1),m.Oqu(e)}}const qq=function(n,t){return["/blog/",n,t]};function kPe(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"div",18)(1,"mat-card",19)(2,"mat-card-header")(3,"a",20),m.ALo(4,"slug"),m.TgZ(5,"h2"),m._uU(6),m.qZA()()(),m.TgZ(7,"mat-card-content"),m._UZ(8,"div",21),m.ALo(9,"excerpt"),m.qZA(),m.TgZ(10,"mat-card-actions",22)(11,"button",23),m.ALo(12,"slug"),m._uU(13,"Read More"),m.qZA(),m.TgZ(14,"button",24),m.NdJ("click",function(){const d=m.CHM(e).$implicit,g=m.oxw(3);return m.KtG(g.toggleLike(d.postId))}),m._uU(15,"Like"),m.qZA()(),m._UZ(16,"mat-divider"),m.qZA()()}if(2&n){const e=t.$implicit,r=m.oxw(3);m.xp6(3),m.Q6J("routerLink",m.WLB(11,qq,e.postId,m.lcZ(4,5,e.title))),m.xp6(3),m.Oqu(e.title),m.xp6(2),m.Q6J("innerHTML",m.lcZ(9,7,e.content),m.oJD),m.xp6(3),m.Q6J("routerLink",m.WLB(14,qq,e.postId,m.lcZ(12,9,e.title))),m.xp6(3),m.Q6J("color",r.likedPosts[e.postId]?"accent":"primary")}}function APe(n,t){if(1&n&&(m.ynx(0),m.TgZ(1,"div",15),m.YNc(2,kPe,17,17,"div",16),m.ALo(3,"paginate"),m.qZA(),m._UZ(4,"app-paginator",17),m.BQk()),2&n){const e=m.oxw().ngIf,r=m.oxw();m.xp6(2),m.Q6J("ngForOf",m.xi3(3,3,e.blogList,r.config)),m.xp6(2),m.Q6J("pageSizeOptions",r.pageSizeOptions)("config",r.config)}}function MPe(n,t){1&n&&(m.TgZ(0,"div",25)(1,"h3"),m._uU(2,"No data found"),m.qZA()())}function xPe(n,t){if(1&n){const e=m.EpF();m.ynx(0,4),m.TgZ(1,"mat-card-header")(2,"h2"),m._uU(3,"Add Post"),m.qZA()(),m.TgZ(4,"mat-card-content")(5,"form",5),m.NdJ("submit",function(){m.CHM(e);const s=m.oxw();return m.KtG(s.createPost())}),m.TgZ(6,"mat-form-field",6)(7,"mat-label"),m._uU(8,"Title"),m.qZA(),m.TgZ(9,"input",7),m.NdJ("ngModelChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.newPostTitle=s)}),m.qZA()(),m.TgZ(10,"mat-form-field",6)(11,"mat-label"),m._uU(12,"Content"),m.qZA(),m.TgZ(13,"textarea",8),m.NdJ("ngModelChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.newPostContent=s)}),m.qZA()(),m.TgZ(14,"mat-form-field",6)(15,"mat-label"),m._uU(16,"Tags"),m.qZA(),m.TgZ(17,"mat-select",9),m.NdJ("valueChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.selectedTags=s)}),m.YNc(18,wPe,2,2,"mat-option",10),m.qZA()(),m.TgZ(19,"button",11),m._uU(20,"Post"),m.qZA()()(),m.YNc(21,APe,5,6,"ng-container",12),m.YNc(22,MPe,3,0,"ng-template",null,13,m.W1O),m.BQk()}if(2&n){const e=t.ngIf,r=m.MAs(23),s=m.oxw();m.xp6(9),m.Q6J("ngModel",s.newPostTitle),m.xp6(4),m.Q6J("ngModel",s.newPostContent),m.xp6(4),m.Q6J("value",s.selectedTags),m.xp6(1),m.Q6J("ngForOf",s.availableTags),m.xp6(3),m.Q6J("ngIf",(null==e.blogList?null:e.blogList.length)>0)("ngIfElse",r)}}class SPe{constructor(){this.blogList=[],this.status=!1}}let EPe=(()=>{class n{constructor(e,r){this.blogService=e,this.userService=r,this.pageSizeOptions=[2,4,6],this.likedPosts={},this.currentUser=null,this.isLoggedIn=!1,this.title="",this.content="",this.message="";const s=sessionStorage.getItem("pageSize");this.config={currentPage:1,itemsPerPage:s?+s:this.pageSizeOptions[0]}}ngOnInit(){this.isLoggedIn=!!this.userService.getToken(),this.currentUser=this.userService.getUser(),this.fetchBlogs()}fetchBlogs(){this.vm$=this.blogService.getAllPosts().pipe((0,St.U)(e=>{let r=new SPe;return r.status=e.status,r.blogList=e.blogPosts.map(s=>({postId:s.id.toString(),title:s.title,content:s.content,author:"",createdDate:new Date})),r}))}toggleLike(e){this.likedPosts[e]=!this.likedPosts[e],console.log(`Like status for post ${e}: ${this.likedPosts[e]}`)}delete(e){confirm("Are you sure?")&&this.blogService.deletePost(e).subscribe(()=>{console.log(`Post ${e} deleted successfully`)})}addComment(e,r){console.log(`Adding comment to post ${e}: ${r}`)}createPost(){this.title&&this.content?this.blogService.createPost({title:this.title,content:this.content,user:{id:this.currentUser.id}}).subscribe(s=>{this.message="Post created successfully!",this.fetchBlogs()},s=>{this.message="Failed to create post. Please try again.",console.error("Error creating post:",s)}):this.message="Please provide both a title and content for the blog post."}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(SE),m.Y36(hk))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-blog-card"]],decls:5,vars:4,consts:[["loading",""],["src","assets/surrey.jpg","alt","uni of surrey",1,"background-image"],["class","full-page-container",4,"ngIf","ngIfElse"],[1,"loading-container"],[1,"full-page-container"],[3,"submit"],["appearance","fill",1,"full-width-input"],["matInput","","name","title",3,"ngModel","ngModelChange"],["matInput","","name","content",3,"ngModel","ngModelChange"],["multiple","",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit"],[4,"ngIf","ngIfElse"],["noData",""],[3,"value"],[1,"full-width-container"],["class","blog-post-card full-page-card",4,"ngFor","ngForOf"],[1,"paginator",3,"pageSizeOptions","config"],[1,"blog-post-card","full-page-card"],[1,"full-width-card"],[1,"blog-title",3,"routerLink"],[3,"innerHTML"],[2,"justify-content","space-between"],["mat-raised-button","","color","primary",2,"font-size","14px","padding","8px 14px",3,"routerLink"],["mat-raised-button","",3,"color","click"],[1,"no-data-container"]],template:function(r,s){if(1&r&&(m.YNc(0,CPe,2,0,"ng-template",null,0,m.W1O),m._UZ(2,"img",1),m.YNc(3,xPe,24,6,"ng-container",2),m.ALo(4,"async")),2&r){const d=m.MAs(1);m.xp6(3),m.Q6J("ngIf",m.lcZ(4,2,s.vm$))("ngIfElse",d)}},dependencies:[qs,fi,om,h7,iH,f7,mm,sy,wv,m7,oH,XH,XM,YH,bv,a7,dm,gv,u7,pu,Pd,_Pe,$de,Qo,bPe,yPe],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;line-height:1.6;color:#333;background-color:#f4f4f4}a[_ngcontent-%COMP%]{color:#06c;text-decoration:none}header[_ngcontent-%COMP%]{background:#333;color:#fff;padding:1rem 0;text-align:center;position:sticky;top:0}.mat-card[_ngcontent-%COMP%]{margin-bottom:2rem;box-shadow:0 2px 5px #0000001a;transition:box-shadow .3s ease-in-out}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0003}.mat-card-header[_ngcontent-%COMP%]{background-color:#009688;color:#fff}.mat-card-content[_ngcontent-%COMP%]{padding:1rem}button.mat-raised-button[_ngcontent-%COMP%]{border:none;border-radius:20px;padding:10px 20px;margin-right:8px;background-color:#06c;color:#fff;cursor:pointer;transition:background-color .3s}button.mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.comments-section[_ngcontent-%COMP%]{background:#f9f9f9;padding:10px;border-top:1px solid #ccc}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-top:8px;border-radius:4px;border:1px solid #ccc}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;margin:0;padding:0;background:#f4f4f4}ng-container[_ngcontent-%COMP%]{width:100%;display:block}.blog-post-card[_ngcontent-%COMP%]{width:100%;margin:0 auto 20px;box-shadow:0 2px 5px #0000001a}.mat-card[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.mat-card-content[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.mat-card[_ngcontent-%COMP%]{padding:0 15px}}.mat-card-header[_ngcontent-%COMP%]{width:calc(100% - 16px);margin:8px}.full-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.full-width-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:stretch;padding:20px}.full-page-card[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.background-image[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;object-fit:fill}.full-width-input[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.post-card[_ngcontent-%COMP%]{width:100%;height:28%}"]})}return n})(),DPe=(()=>{class n{constructor(){this.twitterIcon=RM,this.facebookIcon=RT,this.githubIcon=PM,this.linkedinIcon=HT}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-author-profile"]],decls:0,vars:0,template:function(r,s){},styles:[".twitter-icon[_ngcontent-%COMP%]{color:#55acee}.facebook-icon[_ngcontent-%COMP%]{color:#3b5998}.linkedin-icon[_ngcontent-%COMP%]{color:#0976b4}.github-icon[_ngcontent-%COMP%]{color:#333}fa-icon[_ngcontent-%COMP%]{font-size:2em}.author-image[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin:auto}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0})}return n})(),zPe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-website-info"]],decls:0,vars:0,template:function(r,s){},styles:["a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0})}return n})(),$q=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"row","mt-3"],[1,"col-md-9"],[1,"col-md-3"]],template:function(r,s){1&r&&(m.TgZ(0,"div",0)(1,"div",1),m._UZ(2,"app-website-info")(3,"app-blog-card"),m.qZA(),m.TgZ(4,"div",2),m._UZ(5,"app-author-profile"),m.qZA(),m._UZ(6,"app-scroller"),m.qZA())},dependencies:[Gq,EPe,DPe,zPe],changeDetection:0})}return n})(),IPe=(()=>{class n{constructor(e,r){this.userService=e,this.router=r,this.email="",this.password="",this.message="",this.user={email:"",password:""},this.loginCredentials={email:"",password:""}}login(){this.userService.login({email:this.email,password:this.password}).subscribe(r=>{r.status?(this.userService.storeToken(r.token),this.userService.setUser(r.userResponse),this.message=`Success: ${r.message}`,this.router.navigate(["/home"])):this.message=`Failed: ${r.message}`},r=>{this.message="Login failed. Please try again.",console.error("Error:",r)})}onSubmit(){const e=sessionStorage.getItem("userData");if(e){const r=JSON.parse(e);this.loginCredentials.email===r.email&&this.loginCredentials.password===r.password?(alert("Login successful!"),this.router.navigate(["/"])):alert("Invalid credentials!")}else alert("No user data found. Please sign up.")}loginUser(e){console.log("Logging in user:",e),this.router.navigate(["/"])}goToSignup(){this.router.navigate(["/signup"])}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(hk),m.Y36(Hr))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"login-container"],[1,"login-card"],[2,"font-family","'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","email","name","email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","color","primary","type","button",2,"margin-left","8px",3,"click"]],template:function(r,s){1&r&&(m.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),m._uU(4,"LOGIN"),m.qZA()(),m.TgZ(5,"mat-card-content")(6,"form",3),m.NdJ("ngSubmit",function(){return s.login()}),m.TgZ(7,"mat-form-field",4)(8,"mat-label"),m._uU(9,"Email:"),m.qZA(),m.TgZ(10,"input",5),m.NdJ("ngModelChange",function(g){return s.email=g}),m.qZA()(),m.TgZ(11,"mat-form-field",4)(12,"mat-label"),m._uU(13,"Password:"),m.qZA(),m.TgZ(14,"input",6),m.NdJ("ngModelChange",function(g){return s.password=g}),m.qZA()(),m.TgZ(15,"button",7),m._uU(16,"Login"),m.qZA(),m.TgZ(17,"button",8),m.NdJ("click",function(){return s.goToSignup()}),m._uU(18,"Not a member? Sign up"),m.qZA()()()()()),2&r&&(m.xp6(10),m.Q6J("ngModel",s.email),m.xp6(4),m.Q6J("ngModel",s.password))},dependencies:[om,h7,f7,mm,Cv,sy,wv,m7,bv,a7,dm,gv,fm,u7,pu],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:#000;color:gold}.login-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})();var TPe=Q(6170);class LPe{}function NPe(n,t){1&n&&(m.TgZ(0,"mat-error"),m._uU(1,"Title is required"),m.qZA())}let Wq=(()=>{class n{constructor(e,r,s,d,g){this.activatedRoute=e,this.datePipe=r,this.blogService=s,this.router=d,this.authService=g,this.Editor=TPe,this.postData=new LPe,this.formTitle="Add",this.destroyed$=new Em(1),this.setEditorConfig()}ngOnInit(){this.authService.appUser$.pipe(Zi(this.destroyed$)).subscribe(e=>this.appUser=e),this.fetchBlogDetails()}navigateToHome(){this.router.navigate(["/"])}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}setPostFormData(e){this.postData.title=e.title,this.postData.content=e.content}setEditorConfig(){this.ckeConfig={removePlugins:["ImageUpload","MediaEmbed","EasyImage"],heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"},{model:"Formatted",view:"pre",title:"Formatted"}]}}}fetchBlogDetails(){this.activatedRoute.paramMap.pipe(Ei(e=>(this.postId=e.get("id"),this.postId?this.blogService.getPostById(this.postId):Da.E)),Zi(this.destroyed$)).subscribe({next:e=>{this.setPostFormData(e)},error:e=>{console.error("Error occurred while fetching blog data: ",e)}})}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Fs),m.Y36(nr),m.Y36(SE),m.Y36(Hr),m.Y36(ov))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-blog-editor"]],features:[m._Bn([nr])],decls:21,vars:6,consts:[[1,"mt-2","display-4"],[1,"mat-elevation-z2","my-3"],["accept-charset","UTF-8","novalidate",""],["myForm","ngForm"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Add title...","name","postTitle","required","",3,"ngModel","ngModelChange"],["postTitle","ngModel"],[4,"ngIf"],[1,"form-group"],["name","myckeditor","debounce","300",3,"config","ngModel","editor","ngModelChange"],["myckeditor","ngModel"],["align","end",1,"py-3"],["type","submit","mat-raised-button","","color","primary",1,"me-2"],["mat-raised-button","","color","warn",3,"click"]],template:function(r,s){if(1&r&&(m.TgZ(0,"h1",0),m._uU(1),m.qZA(),m._UZ(2,"hr"),m.TgZ(3,"mat-card",1)(4,"mat-card-content")(5,"form",2,3)(7,"mat-form-field",4)(8,"mat-label"),m._uU(9,"Title"),m.qZA(),m.TgZ(10,"input",5,6),m.NdJ("ngModelChange",function(g){return s.postData.title=g}),m.qZA(),m.YNc(12,NPe,2,0,"mat-error",7),m.qZA(),m.TgZ(13,"div",8)(14,"ckeditor",9,10),m.NdJ("ngModelChange",function(g){return s.postData.content=g}),m.qZA()(),m.TgZ(16,"div",11)(17,"button",12),m._uU(18," Save "),m.qZA(),m.TgZ(19,"button",13),m.NdJ("click",function(){return s.navigateToHome()}),m._uU(20," Cancel "),m.qZA()()()()()),2&r){const d=m.MAs(6),g=m.MAs(11);m.xp6(1),m.hij("",s.formTitle," Post"),m.xp6(9),m.Q6J("ngModel",s.postData.title),m.xp6(2),m.Q6J("ngIf",d.submitted&&(null==g.errors?null:g.errors.required)),m.xp6(2),m.Q6J("config",s.ckeConfig)("ngModel",s.postData.content)("editor",s.Editor)}},dependencies:[fi,om,h7,f7,sy,wv,m7,pH,e0e,bv,a7,dm,gv,fm,u7,pu]})}return n})();class VPe{}const{isArray:HPe}=Array;function PPe(n){return 1===n.length&&HPe(n[0])?n[0]:n}function Zq(...n){const t=(0,Jl.jO)(n);return t?(0,X7.z)(Zq(...n),l8(t)):(0,Lr.e)((e,r)=>{Q7([e,...PPe(n)])(r)})}function RPe(...n){return Zq(...n)}let Yq=(()=>{class n{constructor(e){this.db=e}saveComment(e){const r=JSON.parse(JSON.stringify(e));return this.db.collection("comments").add(r)}getAllCommentsForBlog(e){return this.db.collection("comments",s=>s.where("blogId","==",e).orderBy("commentDate","desc")).snapshotChanges().pipe((0,St.U)(s=>s.map(d=>({commentId:d.payload.doc.id,...d.payload.doc.data()}))))}deleteAllCommentForBlog(e){this.db.collection("comments",s=>s.where("blogId","==",e)).snapshotChanges().forEach(s=>{s.forEach(d=>{this.db.doc("comments/"+d.payload.doc.id).delete()})})}deleteSingleComment(e){return this.db.doc("comments/"+e).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(VM))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OPe=(()=>{class n{constructor(e){this.snackBar=e}showSnackBar(e){this.snackBar.open(e,"Close",{duration:2e3,panelClass:"snackbar-ribon",verticalPosition:"top",horizontalPosition:"center"})}static#e=this.\u0275fac=function(r){return new(r||n)(m.LFG(vde))};static#t=this.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FPe(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"div")(1,"button",5),m.NdJ("click",function(){m.CHM(e);const s=m.oxw().$implicit,d=m.oxw(2);return m.KtG(d.deleteComment(null==s?null:s.commentId))}),m.TgZ(2,"mat-icon"),m._uU(3,"delete"),m.qZA()()()}}function BPe(n,t){if(1&n&&(m.TgZ(0,"mat-card",2)(1,"mat-card-header",3)(2,"mat-card-title")(3,"div"),m._uU(4),m.qZA()(),m.YNc(5,FPe,4,0,"div",0),m.TgZ(6,"mat-card-subtitle"),m._uU(7),m.ALo(8,"date"),m.qZA()(),m.TgZ(9,"mat-card-content",4)(10,"p"),m._uU(11),m.qZA()()()),2&n){const e=t.$implicit,r=m.oxw().ngIf;m.xp6(4),m.hij(" ",null==e?null:e.commentedBy," "),m.xp6(1),m.Q6J("ngIf",null==r.appUser?null:r.appUser.isAdmin),m.xp6(2),m.Oqu(m.xi3(8,4,null==e?null:e.commentDate,"medium")),m.xp6(4),m.Oqu(null==e?null:e.content)}}function jPe(n,t){if(1&n&&(m.ynx(0),m.YNc(1,BPe,12,7,"mat-card",1),m.BQk()),2&n){const e=t.ngIf;m.xp6(1),m.Q6J("ngForOf",e.commentList)}}class UPe{constructor(){this.commentList=[],this.appUser=new VPe}}let GPe=(()=>{class n{constructor(e,r,s){this.commentService=e,this.authService=r,this.snackBarService=s}set blogId(e){this.vm$=this.commentService.getAllCommentsForBlog(e).pipe(RPe(this.authService.appUser$),(0,St.U)(([r,s])=>{let d=new UPe;return d.appUser=s,d.commentList=r,d}))}deleteComment(e){confirm("Do you want to delete this comment!!!")&&this.commentService.deleteSingleComment(e).then(()=>{this.snackBarService.showSnackBar("Comment Deleted successfully")})}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Yq),m.Y36(ov),m.Y36(OPe))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-comments"]],inputs:{blogId:"blogId"},decls:2,vars:3,consts:[[4,"ngIf"],["class","my-3 mat-elevation-z2",4,"ngFor","ngForOf"],[1,"my-3","mat-elevation-z2"],[1,"justify-content-between"],[1,"mt-3"],["mat-icon-button","","matTooltip","Delete comment","matTooltipPosition","before","color","accent",3,"click"]],template:function(r,s){1&r&&(m.YNc(0,jPe,2,1,"ng-container",0),m.ALo(1,"async")),2&r&&m.Q6J("ngIf",m.lcZ(1,1,s.vm$))},dependencies:[qs,fi,Ise,h7,f7,mm,_w,Cv,K0e,zde,Qo,nr],changeDetection:0})}return n})(),qPe=(()=>{class n{constructor(e){this.share=e}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Uq))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-social-share"]],decls:20,vars:24,consts:[[1,"my-3","p-1"],["mat-fab","","shareButton","facebook"],["size","lg",3,"icon"],["mat-fab","","shareButton","twitter"],["mat-fab","","shareButton","linkedin"],["mat-fab","","shareButton","reddit"],["mat-fab","","shareButton","whatsapp"],["mat-fab","","shareButton","telegram"],["mat-fab","","shareButton","print"],["mat-fab","","shareButton","email"]],template:function(r,s){1&r&&(m.TgZ(0,"div",0)(1,"p")(2,"strong"),m._uU(3,"Found this article helpful!!! Share this with your Friends"),m.qZA()(),m.TgZ(4,"button",1),m._UZ(5,"fa-icon",2),m.qZA(),m.TgZ(6,"button",3),m._UZ(7,"fa-icon",2),m.qZA(),m.TgZ(8,"button",4),m._UZ(9,"fa-icon",2),m.qZA(),m.TgZ(10,"button",5),m._UZ(11,"fa-icon",2),m.qZA(),m.TgZ(12,"button",6),m._UZ(13,"fa-icon",2),m.qZA(),m.TgZ(14,"button",7),m._UZ(15,"fa-icon",2),m.qZA(),m.TgZ(16,"button",8),m._UZ(17,"fa-icon",2),m.qZA(),m.TgZ(18,"button",9),m._UZ(19,"fa-icon",2),m.qZA()()),2&r&&(m.xp6(4),m.Udp("background-color",s.share.prop.facebook.color),m.xp6(1),m.Q6J("icon",s.share.prop.facebook.icon),m.xp6(1),m.Udp("background-color",s.share.prop.twitter.color),m.xp6(1),m.Q6J("icon",s.share.prop.twitter.icon),m.xp6(1),m.Udp("background-color",s.share.prop.linkedin.color),m.xp6(1),m.Q6J("icon",s.share.prop.linkedin.icon),m.xp6(1),m.Udp("background-color",s.share.prop.reddit.color),m.xp6(1),m.Q6J("icon",s.share.prop.reddit.icon),m.xp6(1),m.Udp("background-color",s.share.prop.whatsapp.color),m.xp6(1),m.Q6J("icon",s.share.prop.whatsapp.icon),m.xp6(1),m.Udp("background-color",s.share.prop.telegram.color),m.xp6(1),m.Q6J("icon",s.share.prop.telegram.icon),m.xp6(1),m.Udp("background-color",s.share.prop.print.color),m.xp6(1),m.Q6J("icon",s.share.prop.print.icon),m.xp6(1),m.Udp("background-color",s.share.prop.email.color),m.xp6(1),m.Q6J("icon",s.share.prop.email.icon))},dependencies:[AE,mPe,zse],styles:["button[_ngcontent-%COMP%]{margin:5px}"],changeDetection:0})}return n})();class $Pe{}function WPe(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"mat-card",2)(1,"mat-card-content")(2,"a",3),m.NdJ("click",function(){m.CHM(e);const s=m.oxw();return m.KtG(s.login())}),m._uU(3,"Login with Google"),m.qZA(),m._uU(4," to post comments "),m.qZA()()}}function ZPe(n,t){1&n&&(m.TgZ(0,"mat-error"),m._uU(1,"Name is required"),m.qZA())}function YPe(n,t){1&n&&(m.TgZ(0,"mat-error"),m._uU(1,"Email is required"),m.qZA())}function KPe(n,t){1&n&&(m.TgZ(0,"mat-error"),m._uU(1,"Invalid email"),m.qZA())}function QPe(n,t){1&n&&(m.TgZ(0,"mat-error"),m._uU(1,"Comment is required"),m.qZA())}function JPe(n,t){if(1&n){const e=m.EpF();m.TgZ(0,"mat-card",4)(1,"mat-card-header")(2,"mat-card-title"),m._uU(3," Leave a Reply "),m.qZA(),m.TgZ(4,"mat-card-subtitle"),m._uU(5," Your email address will not be published. Required fields are marked * "),m.qZA()(),m.TgZ(6,"mat-card-content")(7,"form",5,6),m.NdJ("ngSubmit",function(){m.CHM(e);const s=m.MAs(8),d=m.oxw();return m.KtG(s.form.valid&&d.onCommentPost(s))}),m.TgZ(9,"mat-form-field",7)(10,"mat-label"),m._uU(11,"Name"),m.qZA(),m.TgZ(12,"input",8,9),m.NdJ("ngModelChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.comments.commentedBy=s)}),m.qZA(),m.YNc(14,ZPe,2,0,"mat-error",10),m.qZA(),m.TgZ(15,"mat-form-field",7)(16,"mat-label"),m._uU(17,"Email"),m.qZA(),m.TgZ(18,"input",11,12),m.NdJ("ngModelChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.comments.email=s)}),m.qZA(),m.YNc(20,YPe,2,0,"mat-error",10),m.YNc(21,KPe,2,0,"mat-error",10),m.qZA(),m.TgZ(22,"mat-form-field",7)(23,"mat-label"),m._uU(24,"Comment"),m.qZA(),m.TgZ(25,"textarea",13,14),m.NdJ("ngModelChange",function(s){m.CHM(e);const d=m.oxw();return m.KtG(d.comments.content=s)}),m.qZA(),m.YNc(27,QPe,2,0,"mat-error",10),m.qZA(),m.TgZ(28,"div")(29,"button",15),m._uU(30," Post Comment "),m.qZA()()()()()}if(2&n){const e=m.MAs(8),r=m.MAs(13),s=m.MAs(19),d=m.MAs(26),g=m.oxw();m.xp6(12),m.Q6J("ngModel",g.comments.commentedBy),m.xp6(2),m.Q6J("ngIf",e.submitted&&(null==r.errors?null:r.errors.required)),m.xp6(4),m.Q6J("ngModel",g.comments.email),m.xp6(2),m.Q6J("ngIf",e.submitted&&(null==s.errors?null:s.errors.required)),m.xp6(1),m.Q6J("ngIf",e.submitted&&(null==s.errors?null:s.errors.email)),m.xp6(4),m.Q6J("ngModel",g.comments.content),m.xp6(2),m.Q6J("ngIf",e.submitted&&(null==d.errors?null:d.errors.required))}}let XPe=(()=>{class n{constructor(e,r,s){this.datePipe=e,this.commentService=r,this.authService=s,this.comments=new $Pe,this.appUser$=this.authService.appUser$}onCommentPost(e){this.comments.commentDate=this.datePipe.transform(Date.now(),"MM-dd-yyyy HH:mm:ss"),this.comments.blogId=this.blogId,this.commentService.saveComment(this.comments).then(e.resetForm())}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(nr),m.Y36(Yq),m.Y36(ov))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-post-comment"]],inputs:{blogId:"blogId"},features:[m._Bn([nr])],decls:4,vars:4,consts:[["anonymousUser",""],["class","my-2 mat-elevation-z2",4,"ngIf","ngIfElse"],[1,"my-3","mat-elevation-z2"],[3,"click"],[1,"my-2","mat-elevation-z2"],["novalidate","",1,"mt-3",3,"ngSubmit"],["commentForm","ngForm"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Name","name","commentedBy","required","",3,"ngModel","ngModelChange"],["commentedBy","ngModel"],[4,"ngIf"],["matInput","","placeholder","Email","name","email","email","","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","placeholder","Comment","name","content","required","",3,"ngModel","ngModelChange"],["content","ngModel"],["type","submit","mat-raised-button","","color","primary"]],template:function(r,s){if(1&r&&(m.YNc(0,WPe,5,0,"ng-template",null,0,m.W1O),m.YNc(2,JPe,31,7,"mat-card",1),m.ALo(3,"async")),2&r){const d=m.MAs(1);m.xp6(2),m.Q6J("ngIf",m.lcZ(3,2,s.appUser$))("ngIfElse",d)}},dependencies:[fi,om,h7,f7,mm,_w,Cv,sy,wv,m7,pH,bv,a7,dm,gv,fm,Vx,u7,pu,Qo],styles:["a[_ngcontent-%COMP%]:not([href]):not([tabindex]){text-decoration:underline;cursor:pointer;color:#1565c0}"]})}return n})();function eRe(n,t){if(1&n&&(m.ynx(0),m.TgZ(1,"mat-card",3)(2,"mat-card-header")(3,"mat-card-title")(4,"h1",4),m._uU(5),m.qZA()(),m.TgZ(6,"mat-card-subtitle",5),m._UZ(7,"fa-icon",6),m._uU(8),m.ALo(9,"date"),m._UZ(10,"fa-icon",7),m._uU(11),m.ALo(12,"titlecase"),m.qZA()(),m.TgZ(13,"mat-card-content"),m._UZ(14,"mat-divider"),m.qZA(),m.TgZ(15,"mat-card-content",8),m._UZ(16,"div",9),m.qZA()(),m.BQk()),2&n){const e=t.ngIf,r=m.oxw();m.xp6(5),m.Oqu(null==e?null:e.title),m.xp6(2),m.Q6J("icon",r.faCalendar),m.xp6(1),m.hij(" ",m.xi3(9,6,null==e?null:e.createdDate,"longDate")," "),m.xp6(2),m.Q6J("icon",r.faUser),m.xp6(1),m.hij(" ",m.lcZ(12,9,null==e?null:e.author)," "),m.xp6(5),m.Q6J("innerHTML",null==e?null:e.content,m.oJD)}}function tRe(n,t){1&n&&(m.TgZ(0,"div",10),m._UZ(1,"mat-spinner"),m.qZA())}let nRe=(()=>{class n{constructor(e,r,s){this.activatedRoute=e,this.blogService=r,this.userService=s,this.faCalendar=qU,this.faUser=OR,this.isLoggedIn=!1,this.title="",this.content="",this.message=""}ngOnInit(){this.isLoggedIn=!!this.userService.getToken(),this.fetchBlogs()}fetchBlogs(){this.blog$=this.activatedRoute.paramMap.pipe(Ei(e=>(this.postId=e.get("id"),this.blogService.getPostById(this.postId))))}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Fs),m.Y36(SE),m.Y36(hk))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-blog"]],decls:9,vars:6,consts:[[4,"ngIf","ngIfElse"],["loader",""],[3,"blogId"],[1,"mt-3","p-1","mat-elevation-z2","bg-white"],[1,"my-2","display-4"],[1,"my-4"],[3,"icon"],[1,"ms-2",3,"icon"],[1,"py-3","align-items-center","align-content-center"],[3,"innerHTML"],[1,"d-flex","justify-content-center"]],template:function(r,s){if(1&r&&(m.YNc(0,eRe,17,11,"ng-container",0),m.ALo(1,"async"),m.YNc(2,tRe,2,0,"ng-template",null,1,m.W1O),m._UZ(4,"app-social-share")(5,"mat-divider")(6,"app-post-comment",2)(7,"app-comments",2)(8,"app-scroller")),2&r){const d=m.MAs(3);m.Q6J("ngIf",m.lcZ(1,4,s.blog$))("ngIfElse",d),m.xp6(6),m.Q6J("blogId",s.postId),m.xp6(1),m.Q6J("blogId",s.postId)}},dependencies:[AE,fi,h7,f7,mm,_w,Cv,oH,YH,GPe,Gq,qPe,XPe,Qo,hr,nr],styles:[".blog-card[_ngcontent-%COMP%]{border-radius:8px;padding:16px;margin-bottom:24px}.blog-title[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.blog-title[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#1976d2}.mat-card-subtitle[_ngcontent-%COMP%]{color:#757575;font-size:.9em;display:flex;align-items:center;gap:8px}.mat-divider[_ngcontent-%COMP%]{margin:8px 0}.footer-info[_ngcontent-%COMP%]{color:#757575;font-size:.9em;gap:16px}.footer-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.blog-content[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px;line-height:1.6em}"],changeDetection:0})}return n})(),iRe=(()=>{class n{constructor(e){this.router=e,this.user={name:"",urn:"",email:"",password:""}}onSignup(){console.log("Signup:",this.user),sessionStorage.setItem("userData",JSON.stringify(this.user)),alert("Signup successful! You can now login with your credentials."),this.router.navigate(["/login"])}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(Hr))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-signup"]],decls:25,vars:4,consts:[[1,"signup-container"],[1,"signup-card"],[3,"ngSubmit"],["appearance","fill"],["matInput","","type","text","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","type","text","name","urn","required","",3,"ngModel","ngModelChange"],["matInput","","type","email","name","email","required","",3,"ngModel","ngModelChange"],["matInput","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,s){1&r&&(m.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),m._uU(4,"Signup"),m.qZA()(),m.TgZ(5,"mat-card-content")(6,"form",2),m.NdJ("ngSubmit",function(){return s.onSignup()}),m.TgZ(7,"mat-form-field",3)(8,"mat-label"),m._uU(9,"Name:"),m.qZA(),m.TgZ(10,"input",4),m.NdJ("ngModelChange",function(g){return s.user.name=g}),m.qZA()(),m.TgZ(11,"mat-form-field",3)(12,"mat-label"),m._uU(13,"URN Number:"),m.qZA(),m.TgZ(14,"input",5),m.NdJ("ngModelChange",function(g){return s.user.urn=g}),m.qZA()(),m.TgZ(15,"mat-form-field",3)(16,"mat-label"),m._uU(17,"Email:"),m.qZA(),m.TgZ(18,"input",6),m.NdJ("ngModelChange",function(g){return s.user.email=g}),m.qZA()(),m.TgZ(19,"mat-form-field",3)(20,"mat-label"),m._uU(21,"Password:"),m.qZA(),m.TgZ(22,"input",7),m.NdJ("ngModelChange",function(g){return s.user.password=g}),m.qZA()(),m.TgZ(23,"button",8),m._uU(24,"Signup"),m.qZA()()()()()),2&r&&(m.xp6(10),m.Q6J("ngModel",s.user.name),m.xp6(4),m.Q6J("ngModel",s.user.urn),m.xp6(4),m.Q6J("ngModel",s.user.email),m.xp6(4),m.Q6J("ngModel",s.user.password))},dependencies:[om,h7,f7,mm,Cv,sy,wv,m7,bv,a7,dm,gv,fm,u7,pu],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px}.signup-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:#000;color:gold}.signup-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})();function rRe(n,t){if(1&n&&(m.TgZ(0,"div")(1,"h1"),m._uU(2,"User Details"),m.qZA(),m.TgZ(3,"p"),m._uU(4),m.qZA(),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.TgZ(7,"p"),m._uU(8),m.qZA()()),2&n){const e=m.oxw();m.xp6(4),m.hij("Name: ",e.user.name,""),m.xp6(2),m.hij("Email: ",e.user.email,""),m.xp6(2),m.hij("URN: ",e.user.urn,"")}}const oRe=[{path:"",component:$q,pathMatch:"full"},{path:"page/:pagenum",component:$q},{path:"addpost",component:Wq},{path:"editpost/:id",component:Wq},{path:"blog/:id/:slug",component:nRe},{path:"login",component:IPe},{path:"signup",component:iRe},{path:"user-details",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.getCurrentUser().subscribe(e=>{this.user=e})}static#e=this.\u0275fac=function(r){return new(r||n)(m.Y36(ov))};static#t=this.\u0275cmp=m.Xpm({type:n,selectors:[["app-user-details"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(r,s){1&r&&(m.TgZ(0,"p"),m._uU(1,"user-details works!"),m.qZA(),m.YNc(2,rRe,9,3,"div",0)),2&r&&(m.xp6(2),m.Q6J("ngIf",s.user))},dependencies:[fi]})}return n})()},{path:"**",redirectTo:""}];let sRe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=m.oAB({type:n});static#n=this.\u0275inj=m.cJS({imports:[Fd.forRoot(oRe),Fd]})}return n})();const aRe={autoSetMeta:!0,twitterAccount:"ankitsharma_007"};let cRe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=m.oAB({type:n,bootstrap:[Bse]});static#n=this.\u0275inj=m.cJS({imports:[R1.hO.initializeApp(UL_firebaseConfig),fK,rPe,Yde,A0e,Fq,pPe.withConfig(aRe),es,Ea,Nde,t0e,UV,Fd,sRe]})}return n})();(0,m.G48)(),Il().bootstrapModule(cRe).catch(n=>console.error(n))},9751:(mt,Re,Q)=>{"use strict";Q.d(Re,{y:()=>F});var m=Q(930),fe=Q(727),Y=Q(8822),se=Q(9635),we=Q(2416),Z=Q(576),ne=Q(2806);let F=(()=>{class G{constructor(He){He&&(this._subscribe=He)}lift(He){const it=new G;return it.source=this,it.operator=He,it}subscribe(He,it,ct){const xe=function U(G){return G&&G instanceof m.Lv||function $(G){return G&&(0,Z.m)(G.next)&&(0,Z.m)(G.error)&&(0,Z.m)(G.complete)}(G)&&(0,fe.Nn)(G)}(He)?He:new m.Hp(He,it,ct);return(0,ne.x)(()=>{const{operator:We,source:je}=this;xe.add(We?We.call(xe,je):je?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(He){try{return this._subscribe(He)}catch(it){He.error(it)}}forEach(He,it){return new(it=ee(it))((ct,xe)=>{const We=new m.Hp({next:je=>{try{He(je)}catch(Ze){xe(Ze),We.unsubscribe()}},error:xe,complete:ct});this.subscribe(We)})}_subscribe(He){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(He)}[Y.L](){return this}pipe(...He){return(0,se.U)(He)(this)}toPromise(He){return new(He=ee(He))((it,ct)=>{let xe;this.subscribe(We=>xe=We,We=>ct(We),()=>it(xe))})}}return G.create=ce=>new G(ce),G})();function ee(G){var ce;return null!==(ce=G??we.v.Promise)&&void 0!==ce?ce:Promise}},7579:(mt,Re,Q)=>{"use strict";Q.d(Re,{x:()=>ne});var m=Q(9751),fe=Q(727);const se=(0,Q(3888).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=Q(8737),Z=Q(2806);let ne=(()=>{class ee extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const G=new F(this,this);return G.operator=U,G}_throwIfClosed(){if(this.closed)throw new se}next(U){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(U)}})}error(U){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:G}=this;for(;G.length;)G.shift().error(U)}})}complete(){(0,Z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:G,isStopped:ce,observers:He}=this;return G||ce?fe.Lc:(this.currentObservers=null,He.push(U),new fe.w0(()=>{this.currentObservers=null,(0,we.P)(He,U)}))}_checkFinalizedStatuses(U){const{hasError:G,thrownError:ce,isStopped:He}=this;G?U.error(ce):He&&U.complete()}asObservable(){const U=new m.y;return U.source=this,U}}return ee.create=($,U)=>new F($,U),ee})();class F extends ne{constructor($,U){super(),this.destination=$,this.source=U}next($){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===G||G.call(U,$)}error($){var U,G;null===(G=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===G||G.call(U,$)}complete(){var $,U;null===(U=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===U||U.call($)}_subscribe($){var U,G;return null!==(G=null===(U=this.source)||void 0===U?void 0:U.subscribe($))&&void 0!==G?G:fe.Lc}}},930:(mt,Re,Q)=>{"use strict";Q.d(Re,{Hp:()=>ct,Lv:()=>G});var m=Q(576),fe=Q(727),Y=Q(2416),se=Q(7849),we=Q(5032);const Z=ee("C",void 0,void 0);function ee(Ge,Le,be){return{kind:Ge,value:Le,error:be}}var $=Q(3410),U=Q(2806);class G extends fe.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,fe.Nn)(Le)&&Le.add(this)):this.destination=Ze}static create(Le,be,Pe){return new ct(Le,be,Pe)}next(Le){this.isStopped?je(function F(Ge){return ee("N",Ge,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?je(function ne(Ge){return ee("E",void 0,Ge)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?je(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ce=Function.prototype.bind;function He(Ge,Le){return ce.call(Ge,Le)}class it{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:be}=this;if(be.next)try{be.next(Le)}catch(Pe){xe(Pe)}}error(Le){const{partialObserver:be}=this;if(be.error)try{be.error(Le)}catch(Pe){xe(Pe)}else xe(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(be){xe(be)}}}class ct extends G{constructor(Le,be,Pe){let q;if(super(),(0,m.m)(Le)||!Le)q={next:Le??void 0,error:be??void 0,complete:Pe??void 0};else{let Fe;this&&Y.v.useDeprecatedNextContext?(Fe=Object.create(Le),Fe.unsubscribe=()=>this.unsubscribe(),q={next:Le.next&&He(Le.next,Fe),error:Le.error&&He(Le.error,Fe),complete:Le.complete&&He(Le.complete,Fe)}):q=Le}this.destination=new it(q)}}function xe(Ge){Y.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Ge):(0,se.h)(Ge)}function je(Ge,Le){const{onStoppedNotification:be}=Y.v;be&&$.z.setTimeout(()=>be(Ge,Le))}const Ze={closed:!0,next:we.Z,error:function We(Ge){throw Ge},complete:we.Z}},727:(mt,Re,Q)=>{"use strict";Q.d(Re,{Lc:()=>Z,w0:()=>we,Nn:()=>ne});var m=Q(576);const Y=(0,Q(3888).d)(ee=>function(U){ee(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((G,ce)=>`${ce+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var se=Q(8737);class we{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const He of U)He.remove(this);else U.remove(this);const{initialTeardown:G}=this;if((0,m.m)(G))try{G()}catch(He){$=He instanceof Y?He.errors:[He]}const{_finalizers:ce}=this;if(ce){this._finalizers=null;for(const He of ce)try{F(He)}catch(it){$=$??[],it instanceof Y?$=[...$,...it.errors]:$.push(it)}}if($)throw new Y($)}}add($){var U;if($&&$!==this)if(this.closed)F($);else{if($ instanceof we){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push($)}}_hasParent($){const{_parentage:U}=this;return U===$||Array.isArray(U)&&U.includes($)}_addParent($){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push($),U):U?[U,$]:$}_removeParent($){const{_parentage:U}=this;U===$?this._parentage=null:Array.isArray(U)&&(0,se.P)(U,$)}remove($){const{_finalizers:U}=this;U&&(0,se.P)(U,$),$ instanceof we&&$._removeParent(this)}}we.EMPTY=(()=>{const ee=new we;return ee.closed=!0,ee})();const Z=we.EMPTY;function ne(ee){return ee instanceof we||ee&&"closed"in ee&&(0,m.m)(ee.remove)&&(0,m.m)(ee.add)&&(0,m.m)(ee.unsubscribe)}function F(ee){(0,m.m)(ee)?ee():ee.unsubscribe()}},2416:(mt,Re,Q)=>{"use strict";Q.d(Re,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,Re,Q)=>{"use strict";Q.d(Re,{E:()=>fe});const fe=new(Q(9751).y)(we=>we.complete())},8996:(mt,Re,Q)=>{"use strict";Q.d(Re,{D:()=>Le});var m=Q(8421),fe=Q(5363),Y=Q(9468),Z=Q(9751),F=Q(2202),ee=Q(576),$=Q(9672);function G(be,Pe){if(!be)throw new Error("Iterable cannot be null");return new Z.y(q=>{(0,$.f)(q,Pe,()=>{const Fe=be[Symbol.asyncIterator]();(0,$.f)(q,Pe,()=>{Fe.next().then(me=>{me.done?q.complete():q.next(me.value)})},0,!0)})})}var ce=Q(3670),He=Q(8239),it=Q(1144),ct=Q(6495),xe=Q(2206),We=Q(4532),je=Q(3260);function Le(be,Pe){return Pe?function Ge(be,Pe){if(null!=be){if((0,ce.c)(be))return function se(be,Pe){return(0,m.Xf)(be).pipe((0,Y.R)(Pe),(0,fe.Q)(Pe))}(be,Pe);if((0,it.z)(be))return function ne(be,Pe){return new Z.y(q=>{let Fe=0;return Pe.schedule(function(){Fe===be.length?q.complete():(q.next(be[Fe++]),q.closed||this.schedule())})})}(be,Pe);if((0,He.t)(be))return function we(be,Pe){return(0,m.Xf)(be).pipe((0,Y.R)(Pe),(0,fe.Q)(Pe))}(be,Pe);if((0,xe.D)(be))return G(be,Pe);if((0,ct.T)(be))return function U(be,Pe){return new Z.y(q=>{let Fe;return(0,$.f)(q,Pe,()=>{Fe=be[F.h](),(0,$.f)(q,Pe,()=>{let me,vt;try{({value:me,done:vt}=Fe.next())}catch(nt){return void q.error(nt)}vt?q.complete():q.next(me)},0,!0)}),()=>(0,ee.m)(Fe?.return)&&Fe.return()})}(be,Pe);if((0,je.L)(be))return function Ze(be,Pe){return G((0,je.Q)(be),Pe)}(be,Pe)}throw(0,We.z)(be)}(be,Pe):(0,m.Xf)(be)}},8421:(mt,Re,Q)=>{"use strict";Q.d(Re,{Xf:()=>ce});var m=Q(7582),fe=Q(1144),Y=Q(8239),se=Q(9751),we=Q(3670),Z=Q(2206),ne=Q(4532),F=Q(6495),ee=Q(3260),$=Q(576),U=Q(7849),G=Q(8822);function ce(Ge){if(Ge instanceof se.y)return Ge;if(null!=Ge){if((0,we.c)(Ge))return function He(Ge){return new se.y(Le=>{const be=Ge[G.L]();if((0,$.m)(be.subscribe))return be.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,fe.z)(Ge))return function it(Ge){return new se.y(Le=>{for(let be=0;be<Ge.length&&!Le.closed;be++)Le.next(Ge[be]);Le.complete()})}(Ge);if((0,Y.t)(Ge))return function ct(Ge){return new se.y(Le=>{Ge.then(be=>{Le.closed||(Le.next(be),Le.complete())},be=>Le.error(be)).then(null,U.h)})}(Ge);if((0,Z.D)(Ge))return We(Ge);if((0,F.T)(Ge))return function xe(Ge){return new se.y(Le=>{for(const be of Ge)if(Le.next(be),Le.closed)return;Le.complete()})}(Ge);if((0,ee.L)(Ge))return function je(Ge){return We((0,ee.Q)(Ge))}(Ge)}throw(0,ne.z)(Ge)}function We(Ge){return new se.y(Le=>{(function Ze(Ge,Le){var be,Pe,q,Fe;return(0,m.mG)(this,void 0,void 0,function*(){try{for(be=(0,m.KL)(Ge);!(Pe=yield be.next()).done;)if(Le.next(Pe.value),Le.closed)return}catch(me){q={error:me}}finally{try{Pe&&!Pe.done&&(Fe=be.return)&&(yield Fe.call(be))}finally{if(q)throw q.error}}Le.complete()})})(Ge,Le).catch(be=>Le.error(be))})}},6451:(mt,Re,Q)=>{"use strict";Q.d(Re,{T:()=>Z});var m=Q(8189),fe=Q(8421),Y=Q(515),se=Q(3269),we=Q(8996);function Z(...ne){const F=(0,se.yG)(ne),ee=(0,se._6)(ne,1/0),$=ne;return $.length?1===$.length?(0,fe.Xf)($[0]):(0,m.J)(ee)((0,we.D)($,F)):Y.E}},5403:(mt,Re,Q)=>{"use strict";Q.d(Re,{x:()=>fe});var m=Q(930);function fe(se,we,Z,ne,F){return new Y(se,we,Z,ne,F)}class Y extends m.Lv{constructor(we,Z,ne,F,ee,$){super(we),this.onFinalize=ee,this.shouldUnsubscribe=$,this._next=Z?function(U){try{Z(U)}catch(G){we.error(G)}}:super._next,this._error=F?function(U){try{F(U)}catch(G){we.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(U){we.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var we;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(we=this.onFinalize)||void 0===we||we.call(this))}}}},4004:(mt,Re,Q)=>{"use strict";Q.d(Re,{U:()=>Y});var m=Q(4482),fe=Q(5403);function Y(se,we){return(0,m.e)((Z,ne)=>{let F=0;Z.subscribe((0,fe.x)(ne,ee=>{ne.next(se.call(we,ee,F++))}))})}},8189:(mt,Re,Q)=>{"use strict";Q.d(Re,{J:()=>Y});var m=Q(5577),fe=Q(4671);function Y(se=1/0){return(0,m.z)(fe.y,se)}},5577:(mt,Re,Q)=>{"use strict";Q.d(Re,{z:()=>F});var m=Q(4004),fe=Q(8421),Y=Q(4482),se=Q(9672),we=Q(5403),ne=Q(576);function F(ee,$,U=1/0){return(0,ne.m)($)?F((G,ce)=>(0,m.U)((He,it)=>$(G,He,ce,it))((0,fe.Xf)(ee(G,ce))),U):("number"==typeof $&&(U=$),(0,Y.e)((G,ce)=>function Z(ee,$,U,G,ce,He,it,ct){const xe=[];let We=0,je=0,Ze=!1;const Ge=()=>{Ze&&!xe.length&&!We&&$.complete()},Le=Pe=>We<G?be(Pe):xe.push(Pe),be=Pe=>{He&&$.next(Pe),We++;let q=!1;(0,fe.Xf)(U(Pe,je++)).subscribe((0,we.x)($,Fe=>{ce?.(Fe),He?Le(Fe):$.next(Fe)},()=>{q=!0},void 0,()=>{if(q)try{for(We--;xe.length&&We<G;){const Fe=xe.shift();it?(0,se.f)($,it,()=>be(Fe)):be(Fe)}Ge()}catch(Fe){$.error(Fe)}}))};return ee.subscribe((0,we.x)($,Le,()=>{Ze=!0,Ge()})),()=>{ct?.()}}(G,ce,ee,U)))}},5363:(mt,Re,Q)=>{"use strict";Q.d(Re,{Q:()=>se});var m=Q(9672),fe=Q(4482),Y=Q(5403);function se(we,Z=0){return(0,fe.e)((ne,F)=>{ne.subscribe((0,Y.x)(F,ee=>(0,m.f)(F,we,()=>F.next(ee),Z),()=>(0,m.f)(F,we,()=>F.complete(),Z),ee=>(0,m.f)(F,we,()=>F.error(ee),Z)))})}},3099:(mt,Re,Q)=>{"use strict";Q.d(Re,{B:()=>we});var m=Q(8421),fe=Q(7579),Y=Q(930),se=Q(4482);function we(ne={}){const{connector:F=(()=>new fe.x),resetOnError:ee=!0,resetOnComplete:$=!0,resetOnRefCountZero:U=!0}=ne;return G=>{let ce,He,it,ct=0,xe=!1,We=!1;const je=()=>{He?.unsubscribe(),He=void 0},Ze=()=>{je(),ce=it=void 0,xe=We=!1},Ge=()=>{const Le=ce;Ze(),Le?.unsubscribe()};return(0,se.e)((Le,be)=>{ct++,!We&&!xe&&je();const Pe=it=it??F();be.add(()=>{ct--,0===ct&&!We&&!xe&&(He=Z(Ge,U))}),Pe.subscribe(be),!ce&&ct>0&&(ce=new Y.Hp({next:q=>Pe.next(q),error:q=>{We=!0,je(),He=Z(Ze,ee,q),Pe.error(q)},complete:()=>{xe=!0,je(),He=Z(Ze,$),Pe.complete()}}),(0,m.Xf)(Le).subscribe(ce))})(G)}}function Z(ne,F,...ee){if(!0===F)return void ne();if(!1===F)return;const $=new Y.Hp({next:()=>{$.unsubscribe(),ne()}});return F(...ee).subscribe($)}},9468:(mt,Re,Q)=>{"use strict";Q.d(Re,{R:()=>fe});var m=Q(4482);function fe(Y,se=0){return(0,m.e)((we,Z)=>{Z.add(Y.schedule(()=>we.subscribe(Z),se))})}},8505:(mt,Re,Q)=>{"use strict";Q.d(Re,{b:()=>we});var m=Q(576),fe=Q(4482),Y=Q(5403),se=Q(4671);function we(Z,ne,F){const ee=(0,m.m)(Z)||ne||F?{next:Z,error:ne,complete:F}:Z;return ee?(0,fe.e)(($,U)=>{var G;null===(G=ee.subscribe)||void 0===G||G.call(ee);let ce=!0;$.subscribe((0,Y.x)(U,He=>{var it;null===(it=ee.next)||void 0===it||it.call(ee,He),U.next(He)},()=>{var He;ce=!1,null===(He=ee.complete)||void 0===He||He.call(ee),U.complete()},He=>{var it;ce=!1,null===(it=ee.error)||void 0===it||it.call(ee,He),U.error(He)},()=>{var He,it;ce&&(null===(He=ee.unsubscribe)||void 0===He||He.call(ee)),null===(it=ee.finalize)||void 0===it||it.call(ee)}))}):se.y}},4408:(mt,Re,Q)=>{"use strict";Q.d(Re,{o:()=>we});var m=Q(727);class fe extends m.w0{constructor(ne,F){super()}schedule(ne,F=0){return this}}const Y={setInterval(Z,ne,...F){const{delegate:ee}=Y;return ee?.setInterval?ee.setInterval(Z,ne,...F):setInterval(Z,ne,...F)},clearInterval(Z){const{delegate:ne}=Y;return(ne?.clearInterval||clearInterval)(Z)},delegate:void 0};var se=Q(8737);class we extends fe{constructor(ne,F){super(ne,F),this.scheduler=ne,this.work=F,this.pending=!1}schedule(ne,F=0){var ee;if(this.closed)return this;this.state=ne;const $=this.id,U=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(U,$,F)),this.pending=!0,this.delay=F,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(U,this.id,F),this}requestAsyncId(ne,F,ee=0){return Y.setInterval(ne.flush.bind(ne,this),ee)}recycleAsyncId(ne,F,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return F;null!=F&&Y.clearInterval(F)}execute(ne,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(ne,F);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,F){let $,ee=!1;try{this.work(ne)}catch(U){ee=!0,$=U||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ne,scheduler:F}=this,{actions:ee}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ee,this),null!=ne&&(this.id=this.recycleAsyncId(F,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,Re,Q)=>{"use strict";Q.d(Re,{v:()=>Y});var m=Q(6063);class fe{constructor(we,Z=fe.now){this.schedulerActionCtor=we,this.now=Z}schedule(we,Z=0,ne){return new this.schedulerActionCtor(this,we).schedule(ne,Z)}}fe.now=m.l.now;class Y extends fe{constructor(we,Z=fe.now){super(we,Z),this.actions=[],this._active=!1}flush(we){const{actions:Z}=this;if(this._active)return void Z.push(we);let ne;this._active=!0;do{if(ne=we.execute(we.state,we.delay))break}while(we=Z.shift());if(this._active=!1,ne){for(;we=Z.shift();)we.unsubscribe();throw ne}}}},4986:(mt,Re,Q)=>{"use strict";Q.d(Re,{P:()=>se,z:()=>Y});var m=Q(4408);const Y=new(Q(7565).v)(m.o),se=Y},6063:(mt,Re,Q)=>{"use strict";Q.d(Re,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(mt,Re,Q)=>{"use strict";Q.d(Re,{z:()=>m});const m={setTimeout(fe,Y,...se){const{delegate:we}=m;return we?.setTimeout?we.setTimeout(fe,Y,...se):setTimeout(fe,Y,...se)},clearTimeout(fe){const{delegate:Y}=m;return(Y?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},2202:(mt,Re,Q)=>{"use strict";Q.d(Re,{h:()=>fe});const fe=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,Re,Q)=>{"use strict";Q.d(Re,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(mt,Re,Q)=>{"use strict";Q.d(Re,{_6:()=>Z,jO:()=>se,yG:()=>we});var m=Q(576),fe=Q(3532);function Y(ne){return ne[ne.length-1]}function se(ne){return(0,m.m)(Y(ne))?ne.pop():void 0}function we(ne){return(0,fe.K)(Y(ne))?ne.pop():void 0}function Z(ne,F){return"number"==typeof Y(ne)?ne.pop():F}},8737:(mt,Re,Q)=>{"use strict";function m(fe,Y){if(fe){const se=fe.indexOf(Y);0<=se&&fe.splice(se,1)}}Q.d(Re,{P:()=>m})},3888:(mt,Re,Q)=>{"use strict";function m(fe){const se=fe(we=>{Error.call(we),we.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}Q.d(Re,{d:()=>m})},2806:(mt,Re,Q)=>{"use strict";Q.d(Re,{O:()=>se,x:()=>Y});var m=Q(2416);let fe=null;function Y(we){if(m.v.useDeprecatedSynchronousErrorHandling){const Z=!fe;if(Z&&(fe={errorThrown:!1,error:null}),we(),Z){const{errorThrown:ne,error:F}=fe;if(fe=null,ne)throw F}}else we()}function se(we){m.v.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=we)}},9672:(mt,Re,Q)=>{"use strict";function m(fe,Y,se,we=0,Z=!1){const ne=Y.schedule(function(){se(),Z?fe.add(this.schedule(null,we)):this.unsubscribe()},we);if(fe.add(ne),!Z)return ne}Q.d(Re,{f:()=>m})},4671:(mt,Re,Q)=>{"use strict";function m(fe){return fe}Q.d(Re,{y:()=>m})},1144:(mt,Re,Q)=>{"use strict";Q.d(Re,{z:()=>m});const m=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},2206:(mt,Re,Q)=>{"use strict";Q.d(Re,{D:()=>fe});var m=Q(576);function fe(Y){return Symbol.asyncIterator&&(0,m.m)(Y?.[Symbol.asyncIterator])}},576:(mt,Re,Q)=>{"use strict";function m(fe){return"function"==typeof fe}Q.d(Re,{m:()=>m})},3670:(mt,Re,Q)=>{"use strict";Q.d(Re,{c:()=>Y});var m=Q(8822),fe=Q(576);function Y(se){return(0,fe.m)(se[m.L])}},6495:(mt,Re,Q)=>{"use strict";Q.d(Re,{T:()=>Y});var m=Q(2202),fe=Q(576);function Y(se){return(0,fe.m)(se?.[m.h])}},8239:(mt,Re,Q)=>{"use strict";Q.d(Re,{t:()=>fe});var m=Q(576);function fe(Y){return(0,m.m)(Y?.then)}},3260:(mt,Re,Q)=>{"use strict";Q.d(Re,{L:()=>se,Q:()=>Y});var m=Q(7582),fe=Q(576);function Y(we){return(0,m.FC)(this,arguments,function*(){const ne=we.getReader();try{for(;;){const{value:F,done:ee}=yield(0,m.qq)(ne.read());if(ee)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(F)}}finally{ne.releaseLock()}})}function se(we){return(0,fe.m)(we?.getReader)}},3532:(mt,Re,Q)=>{"use strict";Q.d(Re,{K:()=>fe});var m=Q(576);function fe(Y){return Y&&(0,m.m)(Y.schedule)}},4482:(mt,Re,Q)=>{"use strict";Q.d(Re,{A:()=>fe,e:()=>Y});var m=Q(576);function fe(se){return(0,m.m)(se?.lift)}function Y(se){return we=>{if(fe(we))return we.lift(function(Z){try{return se(Z,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(mt,Re,Q)=>{"use strict";function m(){}Q.d(Re,{Z:()=>m})},9635:(mt,Re,Q)=>{"use strict";Q.d(Re,{U:()=>Y,z:()=>fe});var m=Q(4671);function fe(...se){return Y(se)}function Y(se){return 0===se.length?m.y:1===se.length?se[0]:function(Z){return se.reduce((ne,F)=>F(ne),Z)}}},7849:(mt,Re,Q)=>{"use strict";Q.d(Re,{h:()=>Y});var m=Q(2416),fe=Q(3410);function Y(se){fe.z.setTimeout(()=>{const{onUnhandledError:we}=m.v;if(!we)throw se;we(se)})}},4532:(mt,Re,Q)=>{"use strict";function m(fe){return new TypeError(`You provided ${null!==fe&&"object"==typeof fe?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(Re,{z:()=>m})},7156:mt=>{function Re(m,fe,Y,se,we,Z,ne){try{var F=m[Z](ne),ee=F.value}catch($){return void Y($)}F.done?fe(ee):Promise.resolve(ee).then(se,we)}mt.exports=function Q(m){return function(){var fe=this,Y=arguments;return new Promise(function(se,we){var Z=m.apply(fe,Y);function ne(ee){Re(Z,se,we,ne,F,"next",ee)}function F(ee){Re(Z,se,we,ne,F,"throw",ee)}ne(void 0)})}},mt.exports.__esModule=!0,mt.exports.default=mt.exports},4650:(mt,Re,Q)=>{"use strict";Q.d(Re,{$8M:()=>t1,$WT:()=>hi,$Z:()=>Q5,AFp:()=>Y6,ALo:()=>ih,AaK:()=>F,AsE:()=>V8,BQk:()=>y4,CHM:()=>rc,CRH:()=>Jf,CZH:()=>Ch,CqO:()=>vd,D6c:()=>Ig,DdM:()=>p1,EJc:()=>B4,EiD:()=>vs,EpF:()=>af,F$t:()=>Tc,F4k:()=>rp,FYo:()=>Ju,FiY:()=>z1,G48:()=>dl,Gf:()=>qd,GfV:()=>Xu,GkF:()=>p8,Gpc:()=>U,Gre:()=>gp,Hsn:()=>b8,Ikx:()=>tl,JOm:()=>Ho,JVY:()=>T0,JZr:()=>ct,Jf7:()=>Y0,KtG:()=>r2,L6k:()=>I2,LAX:()=>eo,LFG:()=>fn,Lbi:()=>wh,Lck:()=>qp,MAs:()=>gd,MMx:()=>Wp,MR2:()=>km,NdJ:()=>v8,O4$:()=>ac,OlP:()=>vn,Oqu:()=>N8,P3R:()=>U0,PXZ:()=>X6,Q6J:()=>f8,QGY:()=>g8,QbO:()=>R_,Qsj:()=>go,R0b:()=>v1,RDi:()=>Zl,Rgc:()=>L4,SBq:()=>W0,Sil:()=>Ii,Suo:()=>uh,TTD:()=>Cl,TgZ:()=>d6,Udp:()=>yd,W1O:()=>e9,WFA:()=>cf,WLB:()=>z6,X6Q:()=>Vh,XFs:()=>zt,Xpm:()=>ls,Xts:()=>B5,Y36:()=>V2,YKP:()=>Rf,YNc:()=>rf,Yjl:()=>cn,Yz7:()=>wt,Z0I:()=>Yn,ZZ4:()=>q4,_Bn:()=>Pf,_UZ:()=>sf,_Vd:()=>Qu,_c5:()=>N9,_uU:()=>A4,aQg:()=>au,c2e:()=>_g,cJS:()=>xt,cg1:()=>yf,d8E:()=>O8,dDg:()=>y9,dqk:()=>An,eBb:()=>L0,eFA:()=>A9,eJc:()=>O6,ekj:()=>B2,eoX:()=>Dh,f3M:()=>Mn,g9A:()=>Bc,h0i:()=>D6,hGG:()=>V9,hij:()=>M4,iGM:()=>Gd,ifc:()=>Ne,ip1:()=>yh,jDz:()=>Yp,kL8:()=>Cf,kYT:()=>Ke,kcU:()=>M1,lG2:()=>Bt,lcZ:()=>Go,lqb:()=>Ea,lri:()=>jc,mCW:()=>Kl,n5z:()=>hc,n_E:()=>T4,oAB:()=>ye,oJD:()=>F0,oxw:()=>h6,pB0:()=>N0,q3G:()=>Si,q4F:()=>G5,qLn:()=>Z0,qOj:()=>u8,qZA:()=>Q3,qzn:()=>Ac,rWj:()=>J6,sBO:()=>U_,s_b:()=>N6,soG:()=>Kd,tBr:()=>Qr,tb:()=>G4,tp0:()=>x3,uIk:()=>fd,vHH:()=>xe,vpe:()=>ks,wAp:()=>qt,xi3:()=>Gf,xp6:()=>Ie,ynx:()=>Oi,z2F:()=>Lh,z3N:()=>xi,zSh:()=>E7,zs3:()=>N2});var m=Q(7579),fe=Q(727),Y=Q(9751),se=Q(6451),we=Q(3099);function Z(a){for(let c in a)if(a[c]===Z)return c;throw Error("Could not find renamed property on target object.")}function ne(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function F(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(F).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function ee(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const $=Z({__forward_ref__:Z});function U(a){return a.__forward_ref__=U,a.toString=function(){return F(this())},a}function G(a){return ce(a)?a():a}function ce(a){return"function"==typeof a&&a.hasOwnProperty($)&&a.__forward_ref__===U}function He(a){return a&&!!a.\u0275providers}const ct="https://g.co/ng/security#xss";class xe extends Error{constructor(c,u){super(We(c,u)),this.code=c}}function We(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function je(a){return"string"==typeof a?a:null==a?"":String(a)}function Pe(a,c){throw new xe(-201,!1)}function Te(a,c){null==a&&function Me(a,c,u,p){throw new Error(`ASSERTION ERROR: ${a}`+(null==p?"":` [Expected=> ${u} ${p} ${c} <=Actual]`))}(c,a,null,"!=")}function wt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function xt(a){return{providers:a.providers||[],imports:a.imports||[]}}function dn(a){return Sn(a,Gt)||Sn(a,xo)}function Yn(a){return null!==dn(a)}function Sn(a,c){return a.hasOwnProperty(c)?a[c]:null}function Ji(a){return a&&(a.hasOwnProperty(Mr)||a.hasOwnProperty(jr))?a[Mr]:null}const Gt=Z({\u0275prov:Z}),Mr=Z({\u0275inj:Z}),xo=Z({ngInjectableDef:Z}),jr=Z({ngInjectorDef:Z});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let ao;function Xi(a){const c=ao;return ao=a,c}function Hn(a,c,u){const p=dn(a);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:u&zt.Optional?null:void 0!==c?c:void Pe(F(a))}const An=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),So={},Eo="__NG_DI_FLAG__",ur="ngTempTokenPath",er="ngTokenPath",bi=/\n/gm,Do="\u0275",Gn="__source";let w1;function gn(a){const c=w1;return w1=a,c}function cs(a,c=zt.Default){if(void 0===w1)throw new xe(-203,!1);return null===w1?Hn(a,void 0,c):w1.get(a,c&zt.Optional?null:void 0,c)}function fn(a,c=zt.Default){return(function vl(){return ao}()||cs)(G(a),c)}function Mn(a,c=zt.Default){return fn(a,Bi(c))}function Bi(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Zo(a){const c=[];for(let u=0;u<a.length;u++){const p=G(a[u]);if(Array.isArray(p)){if(0===p.length)throw new xe(900,!1);let _,y=zt.Default;for(let A=0;A<p.length;A++){const S=p[A],E=Yo(S);"number"==typeof E?-1===E?_=S.token:y|=E:_=S}c.push(fn(_,y))}else c.push(fn(p))}return c}function ni(a,c){return a[Eo]=c,a.prototype[Eo]=c,a}function Yo(a){return a[Eo]}function te(a){return{toString:a}.toString()}var ue=(()=>((ue=ue||{})[ue.OnPush=0]="OnPush",ue[ue.Default=1]="Default",ue))(),Ne=(()=>{return(a=Ne||(Ne={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ne;var a})();const _e={},Je=[],At=Z({\u0275cmp:Z}),bn=Z({\u0275dir:Z}),ai=Z({\u0275pipe:Z}),Qn=Z({\u0275mod:Z}),Vn=Z({\u0275fac:Z}),mn=Z({__NG_ELEMENT_ID__:Z});let Ur=0;function ls(a){return te(()=>{const c=Q2(a),u={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||Ne.Emulated,id:"c"+Ur++,styles:a.styles||Je,_:null,schemas:a.schemas||null,tView:null};bu(u);const p=a.dependencies;return u.directiveDefs=Q1(p,!1),u.pipeDefs=Q1(p,!0),u})}function Es(a){return Lt(a)||xn(a)}function Se(a){return null!==a}function ye(a){return te(()=>({type:a.type,bootstrap:a.bootstrap||Je,declarations:a.declarations||Je,imports:a.imports||Je,exports:a.exports||Je,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Ke(a,c){return te(()=>{const u=wi(a,!0);u.declarations=c.declarations||Je,u.imports=c.imports||Je,u.exports=c.exports||Je})}function It(a,c){if(null==a)return _e;const u={};for(const p in a)if(a.hasOwnProperty(p)){let _=a[p],y=_;Array.isArray(_)&&(y=_[1],_=_[0]),u[_]=p,c&&(c[_]=y)}return u}function Bt(a){return te(()=>{const c=Q2(a);return bu(c),c})}function cn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Lt(a){return a[At]||null}function xn(a){return a[bn]||null}function yn(a){return a[ai]||null}function hi(a){const c=Lt(a)||xn(a)||yn(a);return null!==c&&c.standalone}function wi(a,c){const u=a[Qn]||null;if(!u&&!0===c)throw new Error(`Type ${F(a)} does not have '\u0275mod' property.`);return u}function Q2(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||Je,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:It(a.inputs,c),outputs:It(a.outputs)}}function bu(a){a.features?.forEach(c=>c(a))}function Q1(a,c){if(!a)return null;const u=c?yn:Es;return()=>("function"==typeof a?a():a).map(p=>u(p)).filter(Se)}const tr=0,ut=1,Qt=2,ci=3,Ko=4,Pn=5,ji=6,qs=7,ki=8,us=9,fi=10,Jt=11,J2=12,J1=13,ds=14,$s=15,Ai=16,$a=17,Ws=18,hs=19,X1=20,li=21,qn=22,X2=1,Wa=2,Za=7,k1=8,Qo=9,dr=10;function hr(a){return Array.isArray(a)&&"object"==typeof a[X2]}function Io(a){return Array.isArray(a)&&!0===a[X2]}function ec(a){return 0!=(4&a.flags)}function fs(a){return a.componentOffset>-1}function ea(a){return 1==(1&a.flags)}function nr(a){return!!a.template}function ta(a){return 0!=(256&a[Qt])}function ms(a,c){return a.hasOwnProperty(Vn)?a[Vn]:null}class Dn{constructor(c,u,p){this.previousValue=c,this.currentValue=u,this.firstChange=p}isFirstChange(){return this.firstChange}}function Cl(){return na}function na(a){return a.type.prototype.ngOnChanges&&(a.setInput=ia),wl}function wl(){const a=Qa(this),c=a?.current;if(c){const u=a.previous;if(u===_e)a.previous=c;else for(let p in c)u[p]=c[p];a.current=null,this.ngOnChanges(c)}}function ia(a,c,u,p){const _=this.declaredInputs[u],y=Qa(a)||function Ja(a,c){return a[Ds]=c}(a,{previous:_e,current:null}),A=y.current||(y.current={}),S=y.previous,E=S[_];A[_]=new Dn(E&&E.currentValue,c,S===_e),a[p]=c}Cl.ngInherit=!0;const Ds="__ngSimpleChanges__";function Qa(a){return a[Ds]||null}const Gr=function(a,c,u){},qr="svg";function fr(a){for(;Array.isArray(a);)a=a[tr];return a}function Ks(a,c){return fr(c[a])}function Li(a,c){return fr(c[a.index])}function e0(a,c){return a.data[c]}function $r(a,c){return a[c]}function ir(a,c){const u=c[a];return hr(u)?u:u[tr]}function lo(a){return 64==(64&a[Qt])}function Qs(a,c){return null==c?null:a[c]}function oa(a){a[Ws]=0}function t2(a,c){a[Pn]+=c;let u=a,p=a[ci];for(;null!==p&&(1===c&&1===u[Pn]||-1===c&&0===u[Pn]);)p[Pn]+=c,u=p,p=p[ci]}const Wt={lFrame:l3(null),bindingsEnabled:!0};function ic(){return Wt.bindingsEnabled}function ze(){return Wt.lFrame.lView}function en(){return Wt.lFrame.tView}function rc(a){return Wt.lFrame.contextLView=a,a[ki]}function r2(a){return Wt.lFrame.contextLView=null,a}function Ni(){let a=sa();for(;null!==a&&64===a.type;)a=a.parent;return a}function sa(){return Wt.lFrame.currentTNode}function Sr(a,c){const u=Wt.lFrame;u.currentTNode=a,u.isParent=c}function o3(){return Wt.lFrame.isParent}function s2(){Wt.lFrame.isParent=!1}function Vi(){const a=Wt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function aa(){return Wt.lFrame.bindingIndex++}function Jo(a){const c=Wt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function Ts(a,c){const u=Wt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ui(c)}function Ui(a){Wt.lFrame.currentDirectiveIndex=a}function c2(a){const c=Wt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function l2(){return Wt.lFrame.currentQueryIndex}function u2(a){Wt.lFrame.currentQueryIndex=a}function a0(a){const c=a[ut];return 2===c.type?c.declTNode:1===c.type?a[ji]:null}function a3(a,c,u){if(u&zt.SkipSelf){let _=c,y=a;for(;!(_=_.parent,null!==_||u&zt.Host||(_=a0(y),null===_||(y=y[$s],10&_.type))););if(null===_)return!1;c=_,a=y}const p=Wt.lFrame=d2();return p.currentTNode=c,p.lView=a,!0}function c3(a){const c=d2(),u=a[ut];Wt.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function d2(){const a=Wt.lFrame,c=null===a?null:a.child;return null===c?l3(a):c}function l3(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function sc(){const a=Wt.lFrame;return Wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ml=sc;function u3(){const a=sc();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Er(){return Wt.lFrame.selectedIndex}function Js(a){Wt.lFrame.selectedIndex=a}function mi(){const a=Wt.lFrame;return e0(a.tView,a.selectedIndex)}function ac(){Wt.lFrame.currentNamespace=qr}function M1(){!function ku(){Wt.lFrame.currentNamespace=null}()}function h3(a,c){for(let u=c.directiveStart,p=c.directiveEnd;u<p;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:S,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:V}=y;A&&(a.contentHooks??(a.contentHooks=[])).push(-u,A),S&&((a.contentHooks??(a.contentHooks=[])).push(u,S),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(u,S)),E&&(a.viewHooks??(a.viewHooks=[])).push(-u,E),T&&((a.viewHooks??(a.viewHooks=[])).push(u,T),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(u,T)),null!=V&&(a.destroyHooks??(a.destroyHooks=[])).push(u,V)}}function xl(a,c,u){El(a,c,3,u)}function Sl(a,c,u,p){(3&a[Qt])===u&&El(a,c,u,p)}function l0(a,c){let u=a[Qt];(3&u)===c&&(u&=2047,u+=1,a[Qt]=u)}function El(a,c,u,p){const y=p??-1,A=c.length-1;let S=0;for(let E=void 0!==p?65535&a[Ws]:0;E<A;E++)if("number"==typeof c[E+1]){if(S=c[E],null!=p&&S>=p)break}else c[E]<0&&(a[Ws]+=65536),(S<y||-1==y)&&(h2(a,u,c,E),a[Ws]=(4294901760&a[Ws])+E+2),E++}function h2(a,c,u,p){const _=u[p]<0,y=u[p+1],S=a[_?-u[p]:u[p]];if(_){if(a[Qt]>>11<a[Ws]>>16&&(3&a[Qt])===c){a[Qt]+=2048,Gr(4,S,y);try{y.call(S)}finally{Gr(5,S,y)}}}else{Gr(4,S,y);try{y.call(S)}finally{Gr(5,S,y)}}}const f2=-1;class Xs{constructor(c,u,p){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=p}}function m2(a,c,u){let p=0;for(;p<u.length;){const _=u[p];if("number"==typeof _){if(0!==_)break;p++;const y=u[p++],A=u[p++],S=u[p++];a.setAttribute(c,A,S,y)}else{const y=_,A=u[++p];la(y)?a.setProperty(c,y,A):a.setAttribute(c,y,A),p++}}return p}function m3(a){return 3===a||4===a||6===a}function la(a){return 64===a.charCodeAt(0)}function ua(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let p=0;p<c.length;p++){const _=c[p];"number"==typeof _?u=_:0===u||p3(a,u,_,null,-1===u||2===u?c[++p]:null)}}return a}function p3(a,c,u,p,_){let y=0,A=a.length;if(-1===c)A=-1;else for(;y<a.length;){const S=a[y++];if("number"==typeof S){if(S===c){A=-1;break}if(S>c){A=y-1;break}}}for(;y<a.length;){const S=a[y];if("number"==typeof S)break;if(S===u){if(null===p)return void(null!==_&&(a[y+1]=_));if(p===a[y+1])return void(a[y+2]=_)}y++,null!==p&&y++,null!==_&&y++}-1!==A&&(a.splice(A,0,c),y=A+1),a.splice(y++,0,u),null!==p&&a.splice(y++,0,p),null!==_&&a.splice(y++,0,_)}function da(a){return a!==f2}function e1(a){return 32767&a}function ha(a,c){let u=function Dl(a){return a>>16}(a),p=c;for(;u>0;)p=p[$s],u--;return p}let uc=!0;function In(a){const c=uc;return uc=a,c}const g3=255,u0=5;let S1=0;const Dr={};function v3(a,c){const u=No(a,c);if(-1!==u)return u;const p=c[ut];p.firstCreatePass&&(a.injectorIndex=c.length,p2(p.data,a),p2(c,null),p2(p.blueprint,null));const _=dc(a,c),y=a.injectorIndex;if(da(_)){const A=e1(_),S=ha(_,c),E=S[ut].data;for(let T=0;T<8;T++)c[y+T]=S[A+T]|E[A+T]}return c[y+8]=_,y}function p2(a,c){a.push(0,0,0,0,0,0,0,0,c)}function No(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function dc(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,p=null,_=c;for(;null!==_;){if(p=Ns(_),null===p)return f2;if(u++,_=_[$s],-1!==p.injectorIndex)return p.injectorIndex|u<<16}return f2}function Rn(a,c,u){!function Ls(a,c,u){let p;"string"==typeof u?p=u.charCodeAt(0)||0:u.hasOwnProperty(mn)&&(p=u[mn]),null==p&&(p=u[mn]=S1++);const _=p&g3;c.data[a+(_>>u0)]|=1<<_}(a,c,u)}function _3(a,c,u){if(u&zt.Optional||void 0!==a)return a;Pe()}function b3(a,c,u,p){if(u&zt.Optional&&void 0===p&&(p=null),!(u&(zt.Self|zt.Host))){const _=a[us],y=Xi(void 0);try{return _?_.get(c,p,u&zt.Optional):Hn(c,p,u&zt.Optional)}finally{Xi(y)}}return _3(p,0,u)}function g2(a,c,u,p=zt.Default,_){if(null!==a){if(1024&c[Qt]){const A=function Il(a,c,u,p,_){let y=a,A=c;for(;null!==y&&null!==A&&1024&A[Qt]&&!(256&A[Qt]);){const S=ln(y,A,u,p|zt.Self,Dr);if(S!==Dr)return S;let E=y.parent;if(!E){const T=A[li];if(T){const V=T.get(u,Dr,p);if(V!==Dr)return V}E=Ns(A),A=A[$s]}y=E}return _}(a,c,u,p,Dr);if(A!==Dr)return A}const y=ln(a,c,u,p,Dr);if(y!==Dr)return y}return b3(c,u,p,_)}function ln(a,c,u,p,_){const y=function y3(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(mn)?a[mn]:void 0;return"number"==typeof c?c>=0?c&g3:d0:c}(u);if("function"==typeof y){if(!a3(c,a,p))return p&zt.Host?_3(_,0,p):b3(c,u,p,_);try{const A=y(p);if(null!=A||p&zt.Optional)return A;Pe()}finally{Ml()}}else if("number"==typeof y){let A=null,S=No(a,c),E=f2,T=p&zt.Host?c[Ai][ji]:null;for((-1===S||p&zt.SkipSelf)&&(E=-1===S?dc(a,c):c[S+8],E!==f2&&Jn(p,!1)?(A=c[ut],S=e1(E),c=ha(E,c)):S=-1);-1!==S;){const V=c[ut];if(v2(y,S,V.data)){const B=Gi(S,c,u,A,p,T);if(B!==Dr)return B}E=c[S+8],E!==f2&&Jn(p,c[ut].data[S+8]===T)&&v2(y,S,c)?(A=V,S=e1(E),c=ha(E,c)):S=-1}}return _}function Gi(a,c,u,p,_,y){const A=c[ut],S=A.data[a+8],V=On(S,A,u,null==p?fs(S)&&uc:p!=A&&0!=(3&S.type),_&zt.Host&&y===S);return null!==V?pi(c,A,V,S):Dr}function On(a,c,u,p,_){const y=a.providerIndexes,A=c.data,S=1048575&y,E=a.directiveStart,V=y>>20,X=_?S+V:a.directiveEnd;for(let le=p?S:S+V;le<X;le++){const ke=A[le];if(le<E&&u===ke||le>=E&&ke.type===u)return le}if(_){const le=A[E];if(le&&nr(le)&&le.type===u)return E}return null}function pi(a,c,u,p){let _=a[u];const y=c.data;if(function Au(a){return a instanceof Xs}(_)){const A=_;A.resolving&&function Ge(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function Ze(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():je(a)}(y[u]));const S=In(A.canSeeViewProviders);A.resolving=!0;const E=A.injectImpl?Xi(A.injectImpl):null;a3(a,p,zt.Default);try{_=a[u]=A.factory(void 0,y,a,p),c.firstCreatePass&&u>=p.directiveStart&&function x5(a,c,u){const{ngOnChanges:p,ngOnInit:_,ngDoCheck:y}=c.type.prototype;if(p){const A=na(c);(u.preOrderHooks??(u.preOrderHooks=[])).push(a,A),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,A)}_&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-a,_),y&&((u.preOrderHooks??(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],c)}finally{null!==E&&Xi(E),In(S),A.resolving=!1,Ml()}}return _}function v2(a,c,u){return!!(u[c+(a>>u0)]&1<<a)}function Jn(a,c){return!(a&zt.Self||a&zt.Host&&c)}class Xo{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,p){return g2(this._tNode,this._lView,c,Bi(p),u)}}function d0(){return new Xo(Ni(),ze())}function hc(a){return te(()=>{const c=a.prototype.constructor,u=c[Vn]||zn(c),p=Object.prototype;let _=Object.getPrototypeOf(a.prototype).constructor;for(;_&&_!==p;){const y=_[Vn]||zn(_);if(y&&y!==u)return y;_=Object.getPrototypeOf(_)}return y=>new y})}function zn(a){return ce(a)?()=>{const c=zn(G(a));return c&&c()}:ms(a)}function Ns(a){const c=a[ut],u=c.type;return 2===u?c.declTNode:1===u?a[ji]:null}function t1(a){return function E1(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const p=u.length;let _=0;for(;_<p;){const y=u[_];if(m3(y))break;if(0===y)_+=2;else if("number"==typeof y)for(_++;_<p&&"string"==typeof u[_];)_++;else{if(y===c)return u[_+1];_+=2}}}return null}(Ni(),a)}const es="__parameters__";function o1(a,c,u){return te(()=>{const p=function r1(a){return function(...u){if(a){const p=a(...u);for(const _ in p)this[_]=p[_]}}}(c);function _(...y){if(this instanceof _)return p.apply(this,y),this;const A=new _(...y);return S.annotation=A,S;function S(E,T,V){const B=E.hasOwnProperty(es)?E[es]:Object.defineProperty(E,es,{value:[]})[es];for(;B.length<=V;)B.push(null);return(B[V]=B[V]||[]).push(A),E}}return u&&(_.prototype=Object.create(u.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}class vn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $n(a,c){a.forEach(u=>Array.isArray(u)?$n(u,c):c(u))}function Du(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function ma(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function fc(a,c){const u=[];for(let p=0;p<a;p++)u.push(c);return u}function vi(a,c,u){let p=D1(a,c);return p>=0?a[1|p]=u:(p=~p,function gi(a,c,u,p){let _=a.length;if(_==c)a.push(u,p);else if(1===_)a.push(p,a[0]),a[0]=u;else{for(_--,a.push(a[_-1],a[_]);_>c;)a[_]=a[_-2],_--;a[c]=u,a[c+1]=p}}(a,p,c,u)),p}function Zr(a,c){const u=D1(a,c);if(u>=0)return a[1|u]}function D1(a,c){return function Kr(a,c,u){let p=0,_=a.length>>u;for(;_!==p;){const y=p+(_-p>>1),A=a[y<<u];if(c===A)return y<<u;A>c?_=y:p=y+1}return~(_<<u)}(a,c,1)}const Qr=ni(o1("Inject",a=>({token:a})),-1),z1=ni(o1("Optional"),8),x3=ni(o1("SkipSelf"),4);var Ho=(()=>((Ho=Ho||{})[Ho.Important=1]="Important",Ho[Ho.DashCase=2]="DashCase",Ho))();const yc=new Map;let on=0;const he="__ngContext__";function Ce(a,c){hr(c)?(a[he]=c[X1],function uo(a){yc.set(a[X1],a)}(c)):a[he]=c}let Ro;function k2(a,c){return Ro(a,c)}function A2(a){const c=a[ci];return Io(c)?c[ci]:c}function T3(a){return Ul(a[J1])}function fo(a){return Ul(a[Ko])}function Ul(a){for(;null!==a&&!Io(a);)a=a[Ko];return a}function N1(a,c,u,p,_){if(null!=p){let y,A=!1;Io(p)?y=p:hr(p)&&(A=!0,p=p[tr]);const S=fr(p);0===a&&null!==u?null==_?wc(c,u,S):Cc(c,u,S,_||null,!0):1===a&&null!==u?Cc(c,u,S,_||null,!0):2===a?function H3(a,c,u){const p=wa(a,c);p&&function gs(a,c,u,p){a.removeChild(c,u,p)}(a,p,c,u)}(c,S,A):3===a&&c.destroyNode(S),null!=y&&function Fu(a,c,u,p,_){const y=u[Za];y!==fr(u)&&N1(c,a,p,y,_);for(let S=dr;S<u.length;S++){const E=u[S];$l(E[ut],E,a,c,p,y)}}(c,a,y,u,_)}}function Hu(a,c,u){return a.createElement(c,u)}function M2(a,c){const u=a[Qo],p=u.indexOf(c),_=c[ci];512&c[Qt]&&(c[Qt]&=-513,t2(_,-1)),u.splice(p,1)}function Gl(a,c){if(a.length<=dr)return;const u=dr+c,p=a[u];if(p){const _=p[$a];null!==_&&_!==a&&M2(_,p),c>0&&(a[u-1][Ko]=p[Ko]);const y=ma(a,dr+c);!function I5(a,c){$l(a,c,c[Jt],2,null,null),c[tr]=null,c[ji]=null}(p[ut],p);const A=y[hs];null!==A&&A.detachView(y[ut]),p[ci]=null,p[Ko]=null,p[Qt]&=-65}return p}function y0(a,c){if(!(128&c[Qt])){const u=c[Jt];u.destroyNode&&$l(a,c,u,3,null,null),function T5(a){let c=a[J1];if(!c)return x2(a[ut],a);for(;c;){let u=null;if(hr(c))u=c[J1];else{const p=c[dr];p&&(u=p)}if(!u){for(;c&&!c[Ko]&&c!==a;)hr(c)&&x2(c[ut],c),c=c[ci];null===c&&(c=a),hr(c)&&x2(c[ut],c),u=c&&c[Ko]}c=u}}(c)}}function x2(a,c){if(!(128&c[Qt])){c[Qt]&=-65,c[Qt]|=128,function ql(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let p=0;p<u.length;p+=2){const _=c[u[p]];if(!(_ instanceof Xs)){const y=u[p+1];if(Array.isArray(y))for(let A=0;A<y.length;A+=2){const S=_[y[A]],E=y[A+1];Gr(4,S,E);try{E.call(S)}finally{Gr(5,S,E)}}else{Gr(4,_,y);try{y.call(_)}finally{Gr(5,_,y)}}}}}(a,c),function N3(a,c){const u=a.cleanup,p=c[qs];let _=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const A=u[y+3];A>=0?p[_=A]():p[_=-A].unsubscribe(),y+=2}else{const A=p[_=u[y+1]];u[y].call(A)}if(null!==p){for(let y=_+1;y<p.length;y++)(0,p[y])();c[qs]=null}}(a,c),1===c[ut].type&&c[Jt].destroy();const u=c[$a];if(null!==u&&Io(c[ci])){u!==c[ci]&&M2(u,c);const p=c[hs];null!==p&&p.detachView(a)}!function L(a){yc.delete(a[X1])}(c)}}function C0(a,c,u){return function w0(a,c,u){let p=c;for(;null!==p&&40&p.type;)p=(c=p).parent;if(null===p)return u[tr];{const{componentOffset:_}=p;if(_>-1){const{encapsulation:y}=a.data[p.directiveStart+_];if(y===Ne.None||y===Ne.Emulated)return null}return Li(p,u)}}(a,c.parent,u)}function Cc(a,c,u,p,_){a.insertBefore(c,u,p,_)}function wc(a,c,u){a.appendChild(c,u)}function k0(a,c,u,p,_){null!==p?Cc(a,c,u,p,_):wc(a,c,u)}function wa(a,c){return a.parentNode(c)}function Ru(a,c,u){return S2(a,c,u)}let L5,Wl,O3,kc,S2=function M0(a,c,u){return 40&a.type?Li(a,u):null};function ka(a,c,u,p){const _=C0(a,p,c),y=c[Jt],S=Ru(p.parent||c[ji],p,c);if(null!=_)if(Array.isArray(u))for(let E=0;E<u.length;E++)k0(y,_,u[E],S,!1);else k0(y,_,u,S,!1);void 0!==L5&&L5(y,p,c,u,_)}function S0(a,c){if(null!==c){const u=c.type;if(3&u)return Li(c,a);if(4&u)return V3(-1,a[c.index]);if(8&u){const p=c.child;if(null!==p)return S0(a,p);{const _=a[c.index];return Io(_)?V3(-1,_):fr(_)}}if(32&u)return k2(c,a)()||fr(a[c.index]);{const p=N5(a,c);return null!==p?Array.isArray(p)?p[0]:S0(A2(a[Ai]),p):S0(a,c.next)}}return null}function N5(a,c){return null!==c?a[Ai][ji].projection[c.projection]:null}function V3(a,c){const u=dr+a+1;if(u<c.length){const p=c[u],_=p[ut].firstChild;if(null!==_)return S0(p,_)}return c[Za]}function P3(a,c,u,p,_,y,A){for(;null!=u;){const S=p[u.index],E=u.type;if(A&&0===c&&(S&&Ce(fr(S),p),u.flags|=2),32!=(32&u.flags))if(8&E)P3(a,c,u.child,p,_,y,!1),N1(c,a,_,S,y);else if(32&E){const T=k2(u,p);let V;for(;V=T();)N1(c,a,_,V,y);N1(c,a,_,S,y)}else 16&E?V5(a,c,p,u,_,y):N1(c,a,_,S,y);u=A?u.projectionNext:u.next}}function $l(a,c,u,p,_,y){P3(u,p,a.firstChild,c,_,y,!1)}function V5(a,c,u,p,_,y){const A=u[Ai],E=A[ji].projection[p.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)N1(c,a,_,E[T],y);else P3(a,c,E,A[ci],_,y,!0)}function R3(a,c,u){""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u)}function P5(a,c,u){const{mergedAttrs:p,classes:_,styles:y}=u;null!==p&&m2(a,c,p),null!==_&&R3(a,c,_),null!==y&&function H5(a,c,u){a.setAttribute(c,"style",u)}(a,c,y)}function E2(a){return function ju(){if(void 0===Wl&&(Wl=null,An.trustedTypes))try{Wl=An.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Wl}()?.createHTML(a)||a}function Zl(a){O3=a}function Ma(){if(void 0===kc&&(kc=null,An.trustedTypes))try{kc=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return kc}function Qe(a){return Ma()?.createHTML(a)||a}function xa(a){return Ma()?.createScriptURL(a)||a}class Tr{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class D2 extends Tr{getTypeName(){return"HTML"}}class z2 extends Tr{getTypeName(){return"Style"}}class D0 extends Tr{getTypeName(){return"Script"}}class z0 extends Tr{getTypeName(){return"URL"}}class I0 extends Tr{getTypeName(){return"ResourceURL"}}function xi(a){return a instanceof Tr?a.changingThisBreaksApplicationSecurity:a}function Ac(a,c){const u=function Gu(a){return a instanceof Tr&&a.getTypeName()||null}(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${ct})`)}return u===c}function T0(a){return new D2(a)}function I2(a){return new z2(a)}function L0(a){return new D0(a)}function eo(a){return new z0(a)}function N0(a){return new I0(a)}class H0{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(E2(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class Sa{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=E2(c),u}}const P0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Kl(a){return(a=String(a)).match(P0)?a:"unsafe:"+a}function po(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function T2(...a){const c={};for(const u of a)for(const p in u)u.hasOwnProperty(p)&&(c[p]=!0);return c}const R0=po("area,br,col,hr,img,wbr"),qu=po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$u=po("rp,rt"),M=T2(R0,T2(qu,po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),T2($u,po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),T2($u,qu)),I=po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),re=T2(I,po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ge=po("script,style,template");class qe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,p=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?p=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,p&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let _=this.checkClobberedElement(u,u.nextSibling);if(_){u=_;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!M.hasOwnProperty(u))return this.sanitizedSomething=!0,!ge.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const p=c.attributes;for(let _=0;_<p.length;_++){const y=p.item(_),A=y.name,S=A.toLowerCase();if(!re.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let E=y.value;I[S]&&(E=Kl(E)),this.buf.push(" ",A,'="',lt(E),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();M.hasOwnProperty(u)&&!R0.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(lt(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const et=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_t=/([^\#-~ |!])/g;function lt(a){return a.replace(/&/g,"&amp;").replace(et,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(_t,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tn;function vs(a,c){let u=null;try{Tn=Tn||function V0(a){const c=new Sa(a);return function Yl(){try{return!!(new window.DOMParser).parseFromString(E2(""),"text/html")}catch{return!1}}()?new H0(c):c}(a);let p=c?String(c):"";u=Tn.getInertBodyElement(p);let _=5,y=p;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,p=y,y=u.innerHTML,u=Tn.getInertBodyElement(p)}while(p!==y);return E2((new qe).sanitizeChildren(F3(u)||u))}finally{if(u){const p=F3(u)||u;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function F3(a){return"content"in a&&function B3(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function F0(a){const c=U3();return c?Qe(c.sanitize(Si.HTML,a)||""):Ac(a,"HTML")?Qe(xi(a)):vs(function Uu(){return void 0!==O3?O3:typeof document<"u"?document:void 0}(),je(a))}function j3(a){const c=U3();return c?c.sanitize(Si.URL,a)||"":Ac(a,"URL")?xi(a):Kl(je(a))}function Fo(a){const c=U3();if(c)return xa(c.sanitize(Si.RESOURCE_URL,a)||"");if(Ac(a,"ResourceURL"))return xa(xi(a));throw new xe(904,!1)}function U0(a,c,u){return function O5(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?Fo:j3}(c,u)(a)}function U3(){const a=ze();return a&&a[J2]}const B5=new vn("ENVIRONMENT_INITIALIZER"),Wu=new vn("INJECTOR",-1),M7=new vn("INJECTOR_DEF_TYPES");class H1{get(c,u=So){if(u===So){const p=new Error(`NullInjectorError: No provider for ${F(c)}!`);throw p.name="NullInjectorError",p}return u}}function km(a){return{\u0275providers:a}}function q0(...a){return{\u0275providers:xc(0,a),\u0275fromNgModule:!0}}function xc(a,...c){const u=[],p=new Set;let _;return $n(c,y=>{const A=y;$0(A,u,[],p)&&(_||(_=[]),_.push(A))}),void 0!==_&&Am(_,u),u}function Am(a,c){for(let u=0;u<a.length;u++){const{providers:_}=a[u];j5(_,y=>{c.push(y)})}}function $0(a,c,u,p){if(!(a=G(a)))return!1;let _=null,y=Ji(a);const A=!y&&Lt(a);if(y||A){if(A&&!A.standalone)return!1;_=a}else{const E=a.ngModule;if(y=Ji(E),!y)return!1;_=E}const S=p.has(_);if(A){if(S)return!1;if(p.add(_),A.dependencies){const E="function"==typeof A.dependencies?A.dependencies():A.dependencies;for(const T of E)$0(T,c,u,p)}}else{if(!y)return!1;{if(null!=y.imports&&!S){let T;p.add(_);try{$n(y.imports,V=>{$0(V,c,u,p)&&(T||(T=[]),T.push(V))})}finally{}void 0!==T&&Am(T,c)}if(!S){const T=ms(_)||(()=>new _);c.push({provide:_,useFactory:T,deps:Je},{provide:M7,useValue:_,multi:!0},{provide:B5,useValue:()=>fn(_),multi:!0})}const E=y.providers;null==E||S||j5(E,V=>{c.push(V)})}}return _!==a&&void 0!==a.providers}function j5(a,c){for(let u of a)He(u)&&(u=u.\u0275providers),Array.isArray(u)?j5(u,c):c(u)}const Dv=Z({provide:String,useValue:Z});function U5(a){return null!==a&&"object"==typeof a&&Dv in a}function Ql(a){return"function"==typeof a}const E7=new vn("Set Injector scope."),Zu={},xm={};let Yu;function Ku(){return void 0===Yu&&(Yu=new H1),Yu}class Ea{}class Iv extends Ea{get destroyed(){return this._destroyed}constructor(c,u,p,_){super(),this.parent=u,this.source=p,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ei(c,A=>this.processProvider(A)),this.records.set(Wu,yt(void 0,this)),_.has("environment")&&this.records.set(Ea,yt(void 0,this));const y=this.records.get(E7);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(M7.multi,Je,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=gn(this),p=Xi(void 0);try{return c()}finally{gn(u),Xi(p)}}get(c,u=So,p=zt.Default){this.assertNotDestroyed(),p=Bi(p);const _=gn(this),y=Xi(void 0);try{if(!(p&zt.SkipSelf)){let S=this.records.get(c);if(void 0===S){const E=function mr(a){return"function"==typeof a||"object"==typeof a&&a instanceof vn}(c)&&dn(c);S=E&&this.injectableDefInScope(E)?yt(Sm(c),Zu):null,this.records.set(c,S)}if(null!=S)return this.hydrate(c,S)}return(p&zt.Self?Ku():this.parent).get(c,u=p&zt.Optional&&u===So?null:u)}catch(A){if("NullInjectorError"===A.name){if((A[ur]=A[ur]||[]).unshift(F(c)),_)throw A;return function xr(a,c,u,p){const _=a[ur];throw c[Gn]&&_.unshift(c[Gn]),a.message=function oe(a,c,u,p=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Do?a.slice(2):a;let _=F(c);if(Array.isArray(c))_=c.map(F).join(" -> ");else if("object"==typeof c){let y=[];for(let A in c)if(c.hasOwnProperty(A)){let S=c[A];y.push(A+":"+("string"==typeof S?JSON.stringify(S):F(S)))}_=`{${y.join(", ")}}`}return`${u}${p?"("+p+")":""}[${_}]: ${a.replace(bi,"\n  ")}`}("\n"+a.message,_,u,p),a[er]=_,a[ur]=null,a}(A,c,"R3InjectorError",this.source)}throw A}finally{Xi(y),gn(_)}}resolveInjectorInitializers(){const c=gn(this),u=Xi(void 0);try{const p=this.get(B5.multi,Je,zt.Self);for(const _ of p)_()}finally{gn(c),Xi(u)}}toString(){const c=[],u=this.records;for(const p of u.keys())c.push(F(p));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=Ql(c=G(c))?c:G(c&&c.provide);const p=function Jl(a){return U5(a)?yt(void 0,a.useValue):yt(ri(a),Zu)}(c);if(Ql(c)||!0!==c.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=yt(void 0,Zu,!0),_.factory=()=>Zo(_.multi),this.records.set(u,_)),u=c,_.multi.push(c)}this.records.set(u,p)}hydrate(c,u){return u.value===Zu&&(u.value=xm,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Lr(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=G(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sm(a){const c=dn(a),u=null!==c?c.factory:ms(a);if(null!==u)return u;if(a instanceof vn)throw new xe(204,!1);if(a instanceof Function)return function Ey(a){const c=a.length;if(c>0)throw fc(c,"?"),new xe(204,!1);const u=function Ci(a){return a&&(a[Gt]||a[xo])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new xe(204,!1)}function ri(a,c,u){let p;if(Ql(a)){const _=G(a);return ms(_)||Sm(_)}if(U5(a))p=()=>G(a.useValue);else if(function Mm(a){return!(!a||!a.useFactory)}(a))p=()=>a.useFactory(...Zo(a.deps||[]));else if(function S7(a){return!(!a||!a.useExisting)}(a))p=()=>fn(G(a.useExisting));else{const _=G(a&&(a.useClass||a.provide));if(!function Xl(a){return!!a.deps}(a))return ms(_)||Sm(_);p=()=>new _(...Zo(a.deps))}return p}function yt(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function Ei(a,c){for(const u of a)Array.isArray(u)?Ei(u,c):u&&He(u)?Ei(u.\u0275providers,c):c(u)}class nn{}class _s{}class St{resolveComponentFactory(c){throw function to(a){const c=Error(`No component factory found for ${F(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Qu=(()=>{class a{}return a.NULL=new St,a})();function Em(){return t4(Ni(),ze())}function t4(a,c){return new W0(Li(a,c))}let W0=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Em,a})();function Tv(a){return a instanceof W0?a.nativeElement:a}class Ju{}let go=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Da(){const a=ze(),u=ir(Ni().index,a);return(hr(u)?u:a)[Jt]}(),a})(),ns=(()=>{class a{}return a.\u0275prov=wt({token:a,providedIn:"root",factory:()=>null}),a})();class Xu{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const G5=new Xu("15.2.10"),ed={},n4="ngOriginalError";function P1(a){return a[n4]}class Z0{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&P1(c);for(;u&&P1(u);)u=P1(u);return u||null}}function Y0(a){return a.ownerDocument.defaultView}function O1(a){return a instanceof Function?a():a}function Vv(a,c,u){let p=a.length;for(;;){const _=a.indexOf(c,u);if(-1===_)return _;if(0===_||a.charCodeAt(_-1)<=32){const y=c.length;if(_+y===p||a.charCodeAt(_+y)<=32)return _}u=_+1}}const Hv="ng-template";function Ly(a,c,u){let p=0,_=!0;for(;p<a.length;){let y=a[p++];if("string"==typeof y&&_){const A=a[p++];if(u&&"class"===y&&-1!==Vv(A.toLowerCase(),c,0))return!0}else{if(1===y){for(;p<a.length&&"string"==typeof(y=a[p++]);)if(y.toLowerCase()===c)return!0;return!1}"number"==typeof y&&(_=!1)}}return!1}function Pv(a){return 4===a.type&&a.value!==Hv}function i4(a,c,u){return c===(4!==a.type||u?a.value:Hv)}function nd(a,c,u){let p=4;const _=a.attrs||[],y=function Bo(a){for(let c=0;c<a.length;c++)if(m3(a[c]))return c;return a.length}(_);let A=!1;for(let S=0;S<c.length;S++){const E=c[S];if("number"!=typeof E){if(!A)if(4&p){if(p=2|1&p,""!==E&&!i4(a,E,u)||""===E&&1===c.length){if(De(p))return!1;A=!0}}else{const T=8&p?E:c[++S];if(8&p&&null!==a.attrs){if(!Ly(a.attrs,T,u)){if(De(p))return!1;A=!0}continue}const B=Ln(8&p?"class":E,_,Pv(a),u);if(-1===B){if(De(p))return!1;A=!0;continue}if(""!==T){let X;X=B>y?"":_[B+1].toLowerCase();const le=8&p?X:null;if(le&&-1!==Vv(le,T,0)||2&p&&T!==X){if(De(p))return!1;A=!0}}}}else{if(!A&&!De(p)&&!De(E))return!1;if(A&&De(E))continue;A=!1,p=E|1&p}}return De(p)||A}function De(a){return 0==(1&a)}function Ln(a,c,u,p){if(null===c)return-1;let _=0;if(p||!u){let y=!1;for(;_<c.length;){const A=c[_];if(A===a)return _;if(3===A||6===A)y=!0;else{if(1===A||2===A){let S=c[++_];for(;"string"==typeof S;)S=c[++_];continue}if(4===A)break;if(0===A){_+=4;continue}}_+=y?1:2}return-1}return function Sc(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const p=a[u];if("number"==typeof p)return-1;if(p===c)return u;u++}return-1}(c,a)}function bs(a,c,u=!1){for(let p=0;p<c.length;p++)if(nd(a,c[p],u))return!0;return!1}function Ye(a,c){e:for(let u=0;u<c.length;u++){const p=c[u];if(a.length===p.length){for(let _=0;_<a.length;_++)if(a[_]!==p[_])continue e;return!0}}return!1}function Q0(a,c){return a?":not("+c.trim()+")":c}function qi(a){let c=a[0],u=1,p=2,_="",y=!1;for(;u<a.length;){let A=a[u];if("string"==typeof A)if(2&p){const S=a[++u];_+="["+A+(S.length>0?'="'+S+'"':"")+"]"}else 8&p?_+="."+A:4&p&&(_+=" "+A);else""!==_&&!De(A)&&(c+=Q0(y,_),_=""),p=A,y=y||!De(p);u++}return""!==_&&(c+=Q0(y,_)),c}const tn={};function Ie(a){I7(en(),ze(),Er()+a,!1)}function I7(a,c,u,p){if(!p)if(3==(3&c[Qt])){const y=a.preOrderCheckHooks;null!==y&&xl(c,y,u)}else{const y=a.preOrderHooks;null!==y&&Sl(c,y,0,u)}Js(u)}function J0(a,c=null,u=null,p){const _=ys(a,c,u,p);return _.resolveInjectorInitializers(),_}function ys(a,c=null,u=null,p,_=new Set){const y=[u||Je,q0(a)];return p=p||("object"==typeof a?void 0:F(a)),new Iv(y,c||Ku(),p||null,_)}let N2=(()=>{class a{static create(u,p){if(Array.isArray(u))return J0({name:""},p,u,"");{const _=u.name??"";return J0({name:_},u.parent,u.providers,_)}}}return a.THROW_IF_NOT_FOUND=So,a.NULL=new H1,a.\u0275prov=wt({token:a,providedIn:"any",factory:()=>fn(Wu)}),a.__NG_ELEMENT_ID__=-1,a})();function V2(a,c=zt.Default){const u=ze();return null===u?fn(a,c):g2(Ni(),u,G(a),c)}function Q5(){throw new Error("invalid")}function s4(a,c){const u=a.contentQueries;if(null!==u)for(let p=0;p<u.length;p+=2){const y=u[p+1];if(-1!==y){const A=a.data[y];u2(u[p]),A.contentQueries(2,c[y],y)}}}function Ta(a,c,u,p,_,y,A,S,E,T,V){const B=c.blueprint.slice();return B[tr]=_,B[Qt]=76|p,(null!==V||a&&1024&a[Qt])&&(B[Qt]|=1024),oa(B),B[ci]=B[$s]=a,B[ki]=u,B[fi]=A||a&&a[fi],B[Jt]=S||a&&a[Jt],B[J2]=E||a&&a[J2]||null,B[us]=T||a&&a[us]||null,B[ji]=y,B[X1]=function I3(){return on++}(),B[li]=V,B[Ai]=2==c.type?a[Ai]:B,B}function r6(a,c,u,p,_){let y=a.data[c];if(null===y)y=function J5(a,c,u,p,_){const y=sa(),A=o3(),E=a.data[c]=function Gm(a,c,u,p,_,y){return{type:u,index:p,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?y:y&&y.parent,u,c,p,_);return null===a.firstChild&&(a.firstChild=E),null!==y&&(A?null==y.child&&null!==E.parent&&(y.child=E):null===y.next&&(y.next=E,E.prev=y)),E}(a,c,u,p,_),function s0(){return Wt.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=p,y.attrs=_;const A=function o2(){const a=Wt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();y.injectorIndex=null===A?-1:A.injectorIndex}return Sr(y,!0),y}function H2(a,c,u,p){if(0===u)return-1;const _=c.length;for(let y=0;y<u;y++)c.push(p),a.blueprint.push(p),a.data.push(null);return _}function X5(a,c,u){c3(c);try{const p=a.viewQuery;null!==p&&Km(1,p,u);const _=a.template;null!==_&&jm(a,c,_,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&s4(a,c),a.staticViewQueries&&Km(2,a.viewQuery,u);const y=a.components;null!==y&&function R7(a,c){for(let u=0;u<c.length;u++)$v(a,c[u])}(c,y)}catch(p){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),p}finally{c[Qt]&=-5,u3()}}function e8(a,c,u,p){const _=c[Qt];if(128!=(128&_)){c3(c);try{oa(c),function Is(a){return Wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&jm(a,c,u,2,p);const A=3==(3&_);if(A){const T=a.preOrderCheckHooks;null!==T&&xl(c,T,null)}else{const T=a.preOrderHooks;null!==T&&Sl(c,T,0,null),l0(c,0)}if(function Wm(a){for(let c=T3(a);null!==c;c=fo(c)){if(!c[Wa])continue;const u=c[Qo];for(let p=0;p<u.length;p++){const _=u[p];512&_[Qt]||t2(_[ci],1),_[Qt]|=512}}}(c),function Ny(a){for(let c=T3(a);null!==c;c=fo(c))for(let u=dr;u<c.length;u++){const p=c[u],_=p[ut];lo(p)&&e8(_,p,_.template,p[ki])}}(c),null!==a.contentQueries&&s4(a,c),A){const T=a.contentCheckHooks;null!==T&&xl(c,T)}else{const T=a.contentHooks;null!==T&&Sl(c,T,1),l0(c,1)}!function i6(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let p=0;p<u.length;p++){const _=u[p];if(_<0)Js(~_);else{const y=_,A=u[++p],S=u[++p];Ts(A,y),S(2,c[y])}}}finally{Js(-1)}}(a,c);const S=a.components;null!==S&&function P7(a,c){for(let u=0;u<c.length;u++)qv(a,c[u])}(c,S);const E=a.viewQuery;if(null!==E&&Km(2,E,p),A){const T=a.viewCheckHooks;null!==T&&xl(c,T)}else{const T=a.viewHooks;null!==T&&Sl(c,T,2),l0(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[Qt]&=-41,512&c[Qt]&&(c[Qt]&=-513,t2(c[ci],-1))}finally{u3()}}}function jm(a,c,u,p,_){const y=Er(),A=2&p;try{Js(-1),A&&c.length>qn&&I7(a,c,qn,!1),Gr(A?2:0,_),u(p,_)}finally{Js(y),Gr(A?3:1,_)}}function O7(a,c,u){if(ec(c)){const _=c.directiveEnd;for(let y=c.directiveStart;y<_;y++){const A=a.data[y];A.contentQueries&&A.contentQueries(1,u[y],y)}}}function F7(a,c,u){ic()&&(function Gv(a,c,u,p){const _=u.directiveStart,y=u.directiveEnd;fs(u)&&function Pi(a,c,u){const p=Li(c,a),_=G3(u),y=a[fi],A=o8(a,Ta(a,_,null,u.onPush?32:16,p,c,y,y.createRenderer(p,u),null,null,null));a[c.index]=A}(c,u,a.data[_+u.componentOffset]),a.firstCreatePass||v3(u,c),Ce(p,c);const A=u.initialInputs;for(let S=_;S<y;S++){const E=a.data[S],T=pi(c,a,S,u);Ce(T,c),null!==A&&$7(0,S-_,T,E,0,A),nr(E)&&(ir(u.index,c)[ki]=pi(c,a,S,u))}}(a,c,u,Li(u,c)),64==(64&u.flags)&&Fn(a,c,u))}function B7(a,c,u=Li){const p=c.localNames;if(null!==p){let _=c.index+1;for(let y=0;y<p.length;y+=2){const A=p[y+1],S=-1===A?u(c,a):a[A];a[_++]=S}}}function G3(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=j7(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function j7(a,c,u,p,_,y,A,S,E,T){const V=qn+p,B=V+_,X=function jv(a,c){const u=[];for(let p=0;p<c;p++)u.push(p<a?null:tn);return u}(V,B),le="function"==typeof T?T():T;return X[ut]={type:a,blueprint:X,template:u,queries:null,viewQuery:S,declTNode:c,data:X.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:E,consts:le,incompleteFirstPass:!1}}function ld(a,c,u,p){const _=a4(c);null===u?_.push(p):(_.push(u),a.firstCreatePass&&W7(a).push(p,_.length-1))}function U7(a,c,u,p){for(let _ in a)if(a.hasOwnProperty(_)){u=null===u?{}:u;const y=a[_];null===p?t8(u,c,_,y):p.hasOwnProperty(_)&&t8(u,c,p[_],y)}return u}function t8(a,c,u,p){a.hasOwnProperty(u)?a[u].push(c,p):a[u]=[c,p]}function Rs(a,c,u,p,_,y,A,S){const E=Li(c,u);let V,T=c.inputs;!S&&null!=T&&(V=T[p])?(c8(a,u,V,p,_),fs(c)&&function l1(a,c){const u=ir(c,a);16&u[Qt]||(u[Qt]|=32)}(u,c.index)):3&c.type&&(p=function G7(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(p),_=null!=A?A(_,c.value||"",p):_,y.setProperty(E,p,_))}function q3(a,c,u,p){if(ic()){const _=null===p?null:{"":-1},y=function u1(a,c){const u=a.directiveRegistry;let p=null,_=null;if(u)for(let y=0;y<u.length;y++){const A=u[y];if(bs(c,A.selectors,!1))if(p||(p=[]),nr(A))if(null!==A.findHostDirectiveDefs){const S=[];_=_||new Map,A.findHostDirectiveDefs(A,S,_),p.unshift(...S,A),q7(a,c,S.length)}else p.unshift(A),q7(a,c,0);else _=_||new Map,A.findHostDirectiveDefs?.(A,p,_),p.push(A)}return null===p?null:[p,_]}(a,u);let A,S;null===y?A=S=null:[A,S]=y,null!==A&&i8(a,c,u,A,_,S),_&&function pr(a,c,u){if(c){const p=a.localNames=[];for(let _=0;_<c.length;_+=2){const y=u[c[_+1]];if(null==y)throw new xe(-301,!1);p.push(c[_],y)}}}(u,p,_)}u.mergedAttrs=ua(u.mergedAttrs,u.attrs)}function i8(a,c,u,p,_,y){for(let T=0;T<p.length;T++)Rn(v3(u,c),a,p[T].type);!function Os(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}(u,a.data.length,p.length);for(let T=0;T<p.length;T++){const V=p[T];V.providersResolver&&V.providersResolver(V)}let A=!1,S=!1,E=H2(a,c,p.length,null);for(let T=0;T<p.length;T++){const V=p[T];u.mergedAttrs=ua(u.mergedAttrs,V.hostAttrs),P2(a,u,c,E,V),no(E,V,_),null!==V.contentQueries&&(u.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(u.flags|=64);const B=V.type.prototype;!A&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(u.index),A=!0),!S&&(B.ngOnChanges||B.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(u.index),S=!0),E++}!function Uv(a,c,u){const _=c.directiveEnd,y=a.data,A=c.attrs,S=[];let E=null,T=null;for(let V=c.directiveStart;V<_;V++){const B=y[V],X=u?u.get(B):null,ke=X?X.outputs:null;E=U7(B.inputs,V,E,X?X.inputs:null),T=U7(B.outputs,V,T,ke);const Oe=null===E||null===A||Pv(c)?null:$m(E,V,A);S.push(Oe)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=8),E.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=S,c.inputs=E,c.outputs=T}(a,u,y)}function Fn(a,c,u){const p=u.directiveStart,_=u.directiveEnd,y=u.index,A=function s3(){return Wt.lFrame.currentDirectiveIndex}();try{Js(y);for(let S=p;S<_;S++){const E=a.data[S],T=c[S];Ui(S),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Nr(E,T)}}finally{Js(-1),Ui(A)}}function Nr(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function q7(a,c,u){c.componentOffset=u,(a.components??(a.components=[])).push(c.index)}function no(a,c,u){if(u){if(c.exportAs)for(let p=0;p<c.exportAs.length;p++)u[c.exportAs[p]]=a;nr(c)&&(u[""]=a)}}function P2(a,c,u,p,_){a.data[p]=_;const y=_.factory||(_.factory=ms(_.type)),A=new Xs(y,nr(_),V2);a.blueprint[p]=A,u[p]=A,function r8(a,c,u,p,_){const y=_.hostBindings;if(y){let A=a.hostBindingOpCodes;null===A&&(A=a.hostBindingOpCodes=[]);const S=~c.index;(function ud(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(A)!=S&&A.push(S),A.push(u,p,y)}}(a,c,p,H2(a,u,_.hostVars,tn),_)}function _n(a,c,u,p,_,y){const A=Li(a,c);!function F1(a,c,u,p,_,y,A){if(null==y)a.removeAttribute(c,_,u);else{const S=null==A?je(y):A(y,p||"",_);a.setAttribute(c,_,S,u)}}(c[Jt],A,y,a.value,u,p,_)}function $7(a,c,u,p,_,y){const A=y[c];if(null!==A){const S=p.setInput;for(let E=0;E<A.length;){const T=A[E++],V=A[E++],B=A[E++];null!==S?p.setInput(u,B,T,V):u[V]=B}}}function $m(a,c,u){let p=null,_=0;for(;_<u.length;){const y=u[_];if(0!==y)if(5!==y){if("number"==typeof y)break;if(a.hasOwnProperty(y)){null===p&&(p=[]);const A=a[y];for(let S=0;S<A.length;S+=2)if(A[S]===c){p.push(y,A[S+1],u[_+1]);break}}_+=2}else _+=2;else _+=4}return p}function Nn(a,c,u,p){return[a,!0,!1,c,null,0,p,u,null,null]}function qv(a,c){const u=ir(c,a);if(lo(u)){const p=u[ut];48&u[Qt]?e8(p,u,p.template,u[ki]):u[Pn]>0&&Zm(u)}}function Zm(a){for(let p=T3(a);null!==p;p=fo(p))for(let _=dr;_<p.length;_++){const y=p[_];if(lo(y))if(512&y[Qt]){const A=y[ut];e8(A,y,A.template,y[ki])}else y[Pn]>0&&Zm(y)}const u=a[ut].components;if(null!==u)for(let p=0;p<u.length;p++){const _=ir(u[p],a);lo(_)&&_[Pn]>0&&Zm(_)}}function $v(a,c){const u=ir(c,a),p=u[ut];(function Ym(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(p,u),X5(p,u,u[ki])}function o8(a,c){return a[J1]?a[ds][Ko]=c:a[J1]=c,a[ds]=c,c}function s8(a){for(;a;){a[Qt]|=32;const c=A2(a);if(ta(a)&&!c)return a;a=c}return null}function $3(a,c,u,p=!0){const _=c[fi];_.begin&&_.begin();try{e8(a,c,a.template,u)}catch(A){throw p&&Z7(c,A),A}finally{_.end&&_.end()}}function Km(a,c,u){u2(0),c(a,u)}function a4(a){return a[qs]||(a[qs]=[])}function W7(a){return a.cleanup||(a.cleanup=[])}function a8(a,c,u){return(null===a||nr(a))&&(u=function e2(a){for(;Array.isArray(a);){if("object"==typeof a[X2])return a;a=a[tr]}return null}(u[c.index])),u[Jt]}function Z7(a,c){const u=a[us],p=u?u.get(Z0,null):null;p&&p.handleError(c)}function c8(a,c,u,p,_){for(let y=0;y<u.length;){const A=u[y++],S=u[y++],E=c[A],T=a.data[A];null!==T.setInput?T.setInput(E,_,p,S):E[S]=_}}function R2(a,c,u){const p=Ks(c,a);!function L3(a,c,u){a.setValue(c,u)}(a[Jt],p,u)}function W3(a,c,u){let p=u?a.styles:null,_=u?a.classes:null,y=0;if(null!==c)for(let A=0;A<c.length;A++){const S=c[A];"number"==typeof S?y=S:1==y?_=ee(_,S):2==y&&(p=ee(p,S+": "+c[++A]+";"))}u?a.styles=p:a.stylesWithoutHost=p,u?a.classes=_:a.classesWithoutHost=_}function c4(a,c,u,p,_=!1){for(;null!==u;){const y=c[u.index];if(null!==y&&p.push(fr(y)),Io(y))for(let S=dr;S<y.length;S++){const E=y[S],T=E[ut].firstChild;null!==T&&c4(E[ut],E,T,p)}const A=u.type;if(8&A)c4(a,c,u.child,p);else if(32&A){const S=k2(u,c);let E;for(;E=S();)p.push(E)}else if(16&A){const S=N5(c,u);if(Array.isArray(S))p.push(...S);else{const E=A2(c[Ai]);c4(E[ut],E,S,p,!0)}}u=_?u.projectionNext:u.next}return p}class l4{get rootNodes(){const c=this._lView,u=c[ut];return c4(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(c){this._lView[ki]=c}get destroyed(){return 128==(128&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[ci];if(Io(c)){const u=c[k1],p=u?u.indexOf(this):-1;p>-1&&(Gl(c,p),ma(u,p))}this._attachedToViewContainer=!1}y0(this._lView[ut],this._lView)}onDestroy(c){ld(this._lView[ut],this._lView,null,c)}markForCheck(){s8(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-65}reattach(){this._lView[Qt]|=64}detectChanges(){$3(this._lView[ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pu(a,c){$l(a,c,c[Jt],2,null,null)}(this._lView[ut],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class Wv extends l4{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;$3(c[ut],c,c[ki],!1)}checkNoChanges(){}get context(){return null}}class Qm extends Qu{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=Lt(c);return new o6(u,this.ngModule)}}function u4(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class Ec{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,p){p=Bi(p);const _=this.injector.get(c,ed,p);return _!==ed||u===ed?_:this.parentInjector.get(c,u,p)}}class o6 extends _s{get inputs(){return u4(this.componentDef.inputs)}get outputs(){return u4(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function Im(a){return a.map(qi).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,p,_){let y=(_=_||this.ngModule)instanceof Ea?_:_?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const A=y?new Ec(c,y):c,S=A.get(Ju,null);if(null===S)throw new xe(407,!1);const E=A.get(ns,null),T=S.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",B=p?function Um(a,c,u){return a.selectRootElement(c,u===Ne.ShadowDom)}(T,p,this.componentDef.encapsulation):Hu(T,V,function Zv(a){const c=a.toLowerCase();return"svg"===c?qr:"math"===c?"math":null}(V)),X=this.componentDef.onPush?288:272,le=j7(0,null,null,1,0,null,null,null,null,null),ke=Ta(null,le,null,X,null,null,S,T,E,A,null);let Oe,rt;c3(ke);try{const dt=this.componentDef;let Pt,$e=null;dt.findHostDirectiveDefs?(Pt=[],$e=new Map,dt.findHostDirectiveDefs(dt,Pt,$e),Pt.push(dt)):Pt=[dt];const jt=function dd(a,c){const u=a[ut],p=qn;return a[p]=c,r6(u,p,2,"#host",null)}(ke,B),Bn=function l8(a,c,u,p,_,y,A,S){const E=_[ut];!function Y7(a,c,u,p){for(const _ of a)c.mergedAttrs=ua(c.mergedAttrs,_.hostAttrs);null!==c.mergedAttrs&&(W3(c,c.mergedAttrs,!0),null!==u&&P5(p,u,c))}(p,a,c,A);const T=y.createRenderer(c,u),V=Ta(_,G3(u),null,u.onPush?32:16,_[a.index],a,y,T,S||null,null,null);return E.firstCreatePass&&q7(E,a,p.length-1),o8(_,V),_[a.index]=V}(jt,B,dt,Pt,ke,S,T);rt=e0(le,qn),B&&function K7(a,c,u,p){if(p)m2(a,u,["ng-version",G5.full]);else{const{attrs:_,classes:y}=function id(a){const c=[],u=[];let p=1,_=2;for(;p<a.length;){let y=a[p];if("string"==typeof y)2===_?""!==y&&c.push(y,a[++p]):8===_&&u.push(y);else{if(!De(_))break;_=y}p++}return{attrs:c,classes:u}}(c.selectors[0]);_&&m2(a,u,_),y&&y.length>0&&R3(a,u,y.join(" "))}}(T,dt,B,p),void 0!==u&&function Q7(a,c,u){const p=a.projection=[];for(let _=0;_<c.length;_++){const y=u[_];p.push(null!=y?Array.from(y):null)}}(rt,this.ngContentSelectors,u),Oe=function Kv(a,c,u,p,_,y){const A=Ni(),S=_[ut],E=Li(A,_);i8(S,_,A,u,null,p);for(let V=0;V<u.length;V++)Ce(pi(_,S,A.directiveStart+V,A),_);Fn(S,_,A),E&&Ce(E,_);const T=pi(_,S,A.directiveStart+A.componentOffset,A);if(a[ki]=_[ki]=T,null!==y)for(const V of y)V(T,c);return O7(S,A,a),T}(Bn,dt,Pt,$e,ke,[J7]),X5(le,ke,null)}finally{u3()}return new Jm(this.componentType,Oe,t4(rt,ke),ke,rt)}}class Jm extends nn{constructor(c,u,p,_,y){super(),this.location=p,this._rootLView=_,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new Wv(_),this.componentType=c}setInput(c,u){const p=this._tNode.inputs;let _;if(null!==p&&(_=p[c])){const y=this._rootLView;c8(y[ut],y,_,c,u),s8(ir(this._tNode.index,y))}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function J7(){const a=Ni();h3(ze()[ut],a)}function u8(a){let c=function s6(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const p=[a];for(;c;){let _;if(nr(a))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);_=c.\u0275dir}if(_){if(u){p.push(_);const A=a;A.inputs=d4(a.inputs),A.declaredInputs=d4(a.declaredInputs),A.outputs=d4(a.outputs);const S=_.hostBindings;S&&d1(a,S);const E=_.viewQuery,T=_.contentQueries;if(E&&X7(a,E),T&&h4(a,T),ne(a.inputs,_.inputs),ne(a.declaredInputs,_.declaredInputs),ne(a.outputs,_.outputs),nr(_)&&_.data.animation){const V=a.data;V.animation=(V.animation||[]).concat(_.data.animation)}}const y=_.features;if(y)for(let A=0;A<y.length;A++){const S=y[A];S&&S.ngInherit&&S(a),S===u8&&(u=!1)}}c=Object.getPrototypeOf(c)}!function a6(a){let c=0,u=null;for(let p=a.length-1;p>=0;p--){const _=a[p];_.hostVars=c+=_.hostVars,_.hostAttrs=ua(_.hostAttrs,u=ua(u,_.hostAttrs))}}(p)}function d4(a){return a===_e?{}:a===Je?[]:a}function X7(a,c){const u=a.viewQuery;a.viewQuery=u?(p,_)=>{c(p,_),u(p,_)}:c}function h4(a,c){const u=a.contentQueries;a.contentQueries=u?(p,_,y)=>{c(p,_,y),u(p,_,y)}:c}function d1(a,c){const u=a.hostBindings;a.hostBindings=u?(p,_)=>{c(p,_),u(p,_)}:c}function f4(a){return!!l6(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function l6(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Uo(a,c,u){return a[c]=u}function or(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function di(a,c,u,p){const _=or(a,c,u);return or(a,c+1,p)||_}function fd(a,c,u,p){const _=ze();return or(_,aa(),c)&&(en(),_n(mi(),_,a,c,u,p)),fd}function Ic(a,c,u,p){return or(a,aa(),u)?c+je(u)+p:tn}function md(a,c,u,p,_,y){const S=di(a,function Lo(){return Wt.lFrame.bindingIndex}(),u,_);return Jo(2),S?c+je(u)+p+je(_)+y:tn}function rf(a,c,u,p,_,y,A,S){const E=ze(),T=en(),V=a+qn,B=T.firstCreatePass?function K3(a,c,u,p,_,y,A,S,E){const T=c.consts,V=r6(c,a,4,A||null,Qs(T,S));q3(c,u,V,Qs(T,E)),h3(c,V);const B=V.tView=j7(2,V,p,_,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,V),B.queries=c.queries.embeddedTView(V)),V}(V,T,E,c,u,p,_,y,A):T.data[V];Sr(B,!1);const X=E[Jt].createComment("");ka(T,E,X,B),Ce(X,E),o8(E,E[V]=Nn(X,E,X,B)),ea(B)&&F7(T,E,B),null!=A&&B7(E,B,S)}function gd(a){return $r(function yu(){return Wt.lFrame.contextLView}(),qn+a)}function f8(a,c,u){const p=ze();return or(p,aa(),c)&&Rs(en(),mi(),p,a,c,p[Jt],u,!1),f8}function Vr(a,c,u,p,_){const A=_?"class":"style";c8(a,u,c.inputs[A],A,p)}function d6(a,c,u,p){const _=ze(),y=en(),A=qn+a,S=_[Jt],E=y.firstCreatePass?function b4(a,c,u,p,_,y){const A=c.consts,E=r6(c,a,2,p,Qs(A,_));return q3(c,u,E,Qs(A,y)),null!==E.attrs&&W3(E,E.attrs,!1),null!==E.mergedAttrs&&W3(E,E.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,E),E}(A,y,_,c,u,p):y.data[A],T=_[A]=Hu(S,c,function c0(){return Wt.lFrame.currentNamespace}()),V=ea(E);return Sr(E,!0),P5(S,T,E),32!=(32&E.flags)&&ka(y,_,T,E),0===function t0(){return Wt.lFrame.elementDepthCount}()&&Ce(T,_),function nc(){Wt.lFrame.elementDepthCount++}(),V&&(F7(y,_,E),O7(y,E,_)),null!==p&&B7(_,E),d6}function Q3(){let a=Ni();o3()?s2():(a=a.parent,Sr(a,!1));const c=a;!function n0(){Wt.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(h3(u,a),ec(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function lc(a){return 0!=(8&a.flags)}(c)&&Vr(u,c,ze(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function x1(a){return 0!=(16&a.flags)}(c)&&Vr(u,c,ze(),c.stylesWithoutHost,!1),Q3}function sf(a,c,u,p){return d6(a,c,u,p),Q3(),sf}function Oi(a,c,u){const p=ze(),_=en(),y=a+qn,A=_.firstCreatePass?function m8(a,c,u,p,_){const y=c.consts,A=Qs(y,p),S=r6(c,a,8,"ng-container",A);return null!==A&&W3(S,A,!0),q3(c,u,S,Qs(y,_)),null!==c.queries&&c.queries.elementStart(c,S),S}(y,_,p,c,u):_.data[y];Sr(A,!0);const S=p[y]=p[Jt].createComment("");return ka(_,p,S,A),Ce(S,p),ea(A)&&(F7(_,p,A),O7(_,A,p)),null!=u&&B7(p,A),Oi}function y4(){let a=Ni();const c=en();return o3()?s2():(a=a.parent,Sr(a,!1)),c.firstCreatePass&&(h3(c,a),ec(a)&&c.queries.elementEnd(a)),y4}function p8(a,c,u){return Oi(a,c,u),y4(),p8}function af(){return ze()}function g8(a){return!!a&&"function"==typeof a.then}function rp(a){return!!a&&"function"==typeof a.subscribe}const vd=rp;function v8(a,c,u,p){const _=ze(),y=en(),A=Ni();return sp(y,_,_[Jt],A,a,c,p),v8}function cf(a,c){const u=Ni(),p=ze(),_=en();return sp(_,p,a8(c2(_.data),u,p),u,a,c),cf}function sp(a,c,u,p,_,y,A){const S=ea(p),T=a.firstCreatePass&&W7(a),V=c[ki],B=a4(c);let X=!0;if(3&p.type||A){const Oe=Li(p,c),rt=A?A(Oe):Oe,dt=B.length,Pt=A?jt=>A(fr(jt[p.index])):p.index;let $e=null;if(!A&&S&&($e=function op(a,c,u,p){const _=a.cleanup;if(null!=_)for(let y=0;y<_.length-1;y+=2){const A=_[y];if(A===u&&_[y+1]===p){const S=c[qs],E=_[y+2];return S.length>E?S[E]:null}"string"==typeof A&&(y+=2)}return null}(a,c,_,p.index)),null!==$e)($e.__ngLastListenerFn__||$e).__ngNextListenerFn__=y,$e.__ngLastListenerFn__=y,X=!1;else{y=_8(p,c,V,y,!1);const jt=u.listen(rt,_,y);B.push(y,jt),T&&T.push(_,Pt,dt,dt+1)}}else y=_8(p,c,V,y,!1);const le=p.outputs;let ke;if(X&&null!==le&&(ke=le[_])){const Oe=ke.length;if(Oe)for(let rt=0;rt<Oe;rt+=2){const Bn=c[ke[rt]][ke[rt+1]].subscribe(y),Xn=B.length;B.push(y,Bn),T&&T.push(_,p.index,Xn,-(Xn+1))}}}function ap(a,c,u,p){try{return Gr(6,c,u),!1!==u(p)}catch(_){return Z7(a,_),!1}finally{Gr(7,c,u)}}function _8(a,c,u,p,_){return function y(A){if(A===Function)return p;s8(a.componentOffset>-1?ir(a.index,c):c);let E=ap(c,u,p,A),T=y.__ngNextListenerFn__;for(;T;)E=ap(c,u,T,A)&&E,T=T.__ngNextListenerFn__;return _&&!1===E&&(A.preventDefault(),A.returnValue=!1),E}}function h6(a=1){return function Cu(a){return(Wt.lFrame.contextLView=function d3(a,c){for(;a>0;)c=c[$s],a--;return c}(a,Wt.lFrame.contextLView))[ki]}(a)}function Qv(a,c){let u=null;const p=function Nt(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(a);for(let _=0;_<c.length;_++){const y=c[_];if("*"!==y){if(null===p?bs(a,y,!0):Ye(p,y))return _}else u=_}return u}function Tc(a){const c=ze()[Ai][ji];if(!c.projection){const p=c.projection=fc(a?a.length:1,null),_=p.slice();let y=c.child;for(;null!==y;){const A=a?Qv(y,a):0;null!==A&&(_[A]?_[A].projectionNext=y:p[A]=y,_[A]=y),y=y.next}}}function b8(a,c=0,u){const p=ze(),_=en(),y=r6(_,qn+a,16,null,u||null);null===y.projection&&(y.projection=c),s2(),32!=(32&y.flags)&&function Ou(a,c,u){V5(c[Jt],0,c,u,C0(a,u,c),Ru(u.parent||c[ji],u,c))}(_,p,y)}function F2(a,c){return a<<17|c<<2}function el(a){return a>>17&32767}function uf(a){return 2|a}function Nc(a){return(131068&a)>>2}function Vc(a,c){return-131069&a|c<<2}function Hc(a){return 1|a}function Na(a,c,u,p,_){const y=a[u+1],A=null===c;let S=p?el(y):Nc(y),E=!1;for(;0!==S&&(!1===E||A);){const V=a[S+1];x8(a[S],c)&&(E=!0,a[S+1]=p?Hc(V):uf(V)),S=p?el(V):Nc(V)}E&&(a[u+1]=p?uf(y):Hc(y))}function x8(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&D1(a,c)>=0}const Di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bd(a){return a.substring(Di.key,Di.keyEnd)}function E8(a,c){const u=Di.textEnd;return u===c?-1:(c=Di.keyEnd=function e_(a,c,u){for(;c<u&&a.charCodeAt(c)>32;)c++;return c}(a,Di.key=c,u),C4(a,c,u))}function C4(a,c,u){for(;c<u&&a.charCodeAt(c)<=32;)c++;return c}function yd(a,c,u){return io(a,c,u,!1),yd}function B2(a,c){return io(a,c,null,!0),B2}function j2(a,c){for(let u=function f6(a){return function Va(a){Di.key=0,Di.keyEnd=0,Di.value=0,Di.valueEnd=0,Di.textEnd=a.length}(a),E8(a,C4(a,0,Di.textEnd))}(c);u>=0;u=E8(c,u))vi(a,bd(c),!0)}function io(a,c,u,p){const _=ze(),y=en(),A=Jo(2);y.firstUpdatePass&&Ha(y,a,A,p),c!==tn&&or(_,A,c)&&mf(y,y.data[Er()],_,_[Jt],a,_[A+1]=function i_(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=F(xi(a)))),a}(c,u),p,A)}function wd(a,c){return c>=a.expandoStartIndex}function Ha(a,c,u,p){const _=a.data;if(null===_[u+1]){const y=_[Er()],A=wd(a,u);Pa(y,p)&&null===c&&!A&&(c=!1),c=function w4(a,c,u,p){const _=c2(a);let y=p?c.residualClasses:c.residualStyles;if(null===_)0===(p?c.classBindings:c.styleBindings)&&(u=k4(u=Fs(null,a,c,u,p),c.attrs,p),y=null);else{const A=c.directiveStylingLast;if(-1===A||a[A]!==_)if(u=Fs(_,a,c,u,p),null===y){let E=function D8(a,c,u){const p=u?c.classBindings:c.styleBindings;if(0!==Nc(p))return a[el(p)]}(a,c,p);void 0!==E&&Array.isArray(E)&&(E=Fs(null,a,c,E[1],p),E=k4(E,c.attrs,p),function z8(a,c,u,p){a[el(u?c.classBindings:c.styleBindings)]=p}(a,c,p,E))}else y=function I8(a,c,u){let p;const _=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<_;y++)p=k4(p,a[y].hostAttrs,u);return k4(p,c.attrs,u)}(a,c,p)}return void 0!==y&&(p?c.residualClasses=y:c.residualStyles=y),u}(_,y,c,p),function up(a,c,u,p,_,y){let A=y?c.classBindings:c.styleBindings,S=el(A),E=Nc(A);a[p]=u;let V,T=!1;if(Array.isArray(u)?(V=u[1],(null===V||D1(u,V)>0)&&(T=!0)):V=u,_)if(0!==E){const X=el(a[S+1]);a[p+1]=F2(X,S),0!==X&&(a[X+1]=Vc(a[X+1],p)),a[S+1]=function _d(a,c){return 131071&a|c<<17}(a[S+1],p)}else a[p+1]=F2(S,0),0!==S&&(a[S+1]=Vc(a[S+1],p)),S=p;else a[p+1]=F2(E,0),0===S?S=p:a[E+1]=Vc(a[E+1],p),E=p;T&&(a[p+1]=uf(a[p+1])),Na(a,V,p,!0),Na(a,V,p,!1),function M8(a,c,u,p,_){const y=_?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof c&&D1(y,c)>=0&&(u[p+1]=Hc(u[p+1]))}(c,V,a,p,y),A=F2(S,E),y?c.classBindings=A:c.styleBindings=A}(_,y,c,u,A,p)}}function Fs(a,c,u,p,_){let y=null;const A=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<A&&(y=c[S],p=k4(p,y.hostAttrs,_),y!==a);)S++;return null!==a&&(u.directiveStylingLast=S),p}function k4(a,c,u){const p=u?1:2;let _=-1;if(null!==c)for(let y=0;y<c.length;y++){const A=c[y];"number"==typeof A?_=A:_===p&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),vi(a,A,!!u||c[++y]))}return void 0===a?null:a}function mf(a,c,u,p,_,y,A,S){if(!(3&c.type))return;const E=a.data,T=E[S+1],V=function Xv(a){return 1==(1&a)}(T)?L8(E,c,u,_,Nc(T),A):void 0;m6(V)||(m6(y)||function A8(a){return 2==(2&a)}(T)&&(y=L8(E,null,u,_,S,A)),function Bu(a,c,u,p,_){if(c)_?a.addClass(u,p):a.removeClass(u,p);else{let y=-1===p.indexOf("-")?void 0:Ho.DashCase;null==_?a.removeStyle(u,p,y):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),y|=Ho.Important),a.setStyle(u,p,_,y))}}(p,A,Ks(Er(),u),_,y))}function L8(a,c,u,p,_,y){const A=null===c;let S;for(;_>0;){const E=a[_],T=Array.isArray(E),V=T?E[1]:E,B=null===V;let X=u[_+1];X===tn&&(X=B?Je:void 0);let le=B?Zr(X,p):V===p?X:void 0;if(T&&!m6(le)&&(le=Zr(E,p)),m6(le)&&(S=le,A))return S;const ke=a[_+1];_=A?el(ke):Nc(ke)}if(null!==c){let E=y?c.residualClasses:c.residualStyles;null!=E&&(S=Zr(E,p))}return S}function m6(a){return void 0!==a}function Pa(a,c){return 0!=(a.flags&(c?8:16))}function A4(a,c=""){const u=ze(),p=en(),_=a+qn,y=p.firstCreatePass?r6(p,_,1,c,null):p.data[_],A=u[_]=function Vu(a,c){return a.createText(c)}(u[Jt],c);ka(p,u,A,y),Sr(y,!1)}function N8(a){return M4("",a,""),N8}function M4(a,c,u){const p=ze(),_=Ic(p,a,c,u);return _!==tn&&R2(p,Er(),_),M4}function V8(a,c,u,p,_){const y=ze(),A=md(y,a,c,u,p,_);return A!==tn&&R2(y,Er(),A),V8}function gp(a,c,u){!function f1(a,c,u,p){const _=en(),y=Jo(2);_.firstUpdatePass&&Ha(_,null,y,p);const A=ze();if(u!==tn&&or(A,y,u)){const S=_.data[Er()];if(Pa(S,p)&&!wd(_,y)){let E=p?S.classesWithoutHost:S.stylesWithoutHost;null!==E&&(u=ee(E,u||"")),Vr(_,S,A,u,p)}else!function T8(a,c,u,p,_,y,A,S){_===tn&&(_=Je);let E=0,T=0,V=0<_.length?_[0]:null,B=0<y.length?y[0]:null;for(;null!==V||null!==B;){const X=E<_.length?_[E+1]:void 0,le=T<y.length?y[T+1]:void 0;let Oe,ke=null;V===B?(E+=2,T+=2,X!==le&&(ke=B,Oe=le)):null===B||null!==V&&V<B?(E+=2,ke=V):(T+=2,ke=B,Oe=le),null!==ke&&mf(a,c,u,p,ke,Oe,A,S),V=E<_.length?_[E]:null,B=T<y.length?y[T]:null}}(_,S,A,A[Jt],A[y+1],A[y+1]=function n_(a,c,u){if(null==u||""===u)return Je;const p=[],_=xi(u);if(Array.isArray(_))for(let y=0;y<_.length;y++)a(p,_[y],!0);else if("object"==typeof _)for(const y in _)_.hasOwnProperty(y)&&a(p,y,_[y]);else"string"==typeof _&&c(p,_);return p}(a,c,u),p,y)}}(vi,j2,Ic(ze(),a,c,u),!0)}function tl(a,c,u){const p=ze();return or(p,aa(),c)&&Rs(en(),mi(),p,a,c,p[Jt],u,!0),tl}function O8(a,c,u){const p=ze();if(or(p,aa(),c)){const y=en(),A=mi();Rs(y,A,p,a,c,a8(c2(y.data),A,p),u,!0)}return O8}const z4=void 0;var c_=["en",[["a","p"],["AM","PM"],z4],[["AM","PM"],z4,z4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],z4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],z4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",z4,"{1} 'at' {0}",z4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sd(a){const u=Math.floor(Math.abs(a)),p=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===p?1:5}];let Rc={};function yf(a){const c=function u_(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=b6(c);if(u)return u;const p=c.split("-")[0];if(u=b6(p),u)return u;if("en"===p)return c_;throw new xe(701,!1)}function Cf(a){return yf(a)[qt.PluralCase]}function b6(a){return a in Rc||(Rc[a]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[a]),Rc[a]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const y6="en-US";let wf=y6;function S6(a,c,u,p,_){if(a=G(a),Array.isArray(a))for(let y=0;y<a.length;y++)S6(a[y],c,u,p,_);else{const y=en(),A=ze();let S=Ql(a)?a:G(a.provide),E=ri(a);const T=Ni(),V=1048575&T.providerIndexes,B=T.directiveStart,X=T.providerIndexes>>20;if(Ql(a)||!a.multi){const le=new Xs(E,_,V2),ke=j1(S,c,_?V:V+X,B);-1===ke?(Rn(v3(T,A),y,S),J8(y,a,c.length),c.push(S),T.directiveStart++,T.directiveEnd++,_&&(T.providerIndexes+=1048576),u.push(le),A.push(le)):(u[ke]=le,A[ke]=le)}else{const le=j1(S,c,V+X,B),ke=j1(S,c,V,V+X),rt=ke>=0&&u[ke];if(_&&!rt||!_&&!(le>=0&&u[le])){Rn(v3(T,A),y,S);const dt=function x_(a,c,u,p,_){const y=new Xs(a,u,V2);return y.multi=[],y.index=c,y.componentProviders=0,Vf(y,_,p&&!u),y}(_?Gp:Hf,u.length,_,p,E);!_&&rt&&(u[ke].providerFactory=dt),J8(y,a,c.length,0),c.push(S),T.directiveStart++,T.directiveEnd++,_&&(T.providerIndexes+=1048576),u.push(dt),A.push(dt)}else J8(y,a,le>-1?le:ke,Vf(u[_?ke:le],E,!_&&p));!_&&p&&rt&&u[ke].componentProviders++}}}function J8(a,c,u,p){const _=Ql(c),y=function zv(a){return!!a.useClass}(c);if(_||y){const E=(y?G(c.useClass):c).prototype.ngOnDestroy;if(E){const T=a.destroyHooks||(a.destroyHooks=[]);if(!_&&c.multi){const V=T.indexOf(u);-1===V?T.push(u,[p,E]):T[V+1].push(p,E)}else T.push(u,E)}}}function Vf(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function j1(a,c,u,p){for(let _=u;_<p;_++)if(c[_]===a)return _;return-1}function Hf(a,c,u,p){return E6(this.multi,[])}function Gp(a,c,u,p){const _=this.multi;let y;if(this.providerFactory){const A=this.providerFactory.componentProviders,S=pi(u,u[ut],this.providerFactory.index,p);y=S.slice(0,A),E6(_,y);for(let E=A;E<S.length;E++)y.push(S[E])}else y=[],E6(_,y);return y}function E6(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function Pf(a,c=[]){return u=>{u.providersResolver=(p,_)=>function ol(a,c,u){const p=en();if(p.firstCreatePass){const _=nr(a);S6(u,p.data,p.blueprint,_,!0),S6(c,p.data,p.blueprint,_,!1)}}(p,_?_(a):a,c)}}class D6{}class Rf{}function qp(a,c){return new $p(a,c??null)}class $p extends D6{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qm(this);const p=wi(c);this._bootstrapComponents=O1(p.bootstrap),this._r3Injector=ys(c,u,[{provide:D6,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],F(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Of extends Rf{constructor(c){super(),this.moduleType=c}create(c){return new $p(this.moduleType,c)}}class sl extends D6{constructor(c,u,p){super(),this.componentFactoryResolver=new Qm(this),this.instance=null;const _=new Iv([...c,{provide:D6,useValue:this},{provide:Qu,useValue:this.componentFactoryResolver}],u||Ku(),p,new Set(["environment"]));this.injector=_,_.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Wp(a,c,u=null){return new sl(a,c,u).injector}let Zp=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const p=xc(0,u.type),_=p.length>0?Wp([p],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,_)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=wt({token:a,providedIn:"environment",factory:()=>new a(fn(Ea))}),a})();function Yp(a){a.getStandaloneInjector=c=>c.get(Zp).getOrCreateStandaloneInjector(a)}function p1(a,c,u){const p=Vi()+a,_=ze();return _[p]===tn?Uo(_,p,u?c.call(u):c()):function p4(a,c){return a[c]}(_,p)}function z6(a,c,u,p,_){return T6(ze(),Vi(),a,c,u,p,_)}function I6(a,c){const u=a[c];return u===tn?void 0:u}function T6(a,c,u,p,_,y,A){const S=c+u;return di(a,S,_,y)?Uo(a,S+2,A?p.call(A,_,y):p(_,y)):I6(a,S+2)}function ih(a,c){const u=en();let p;const _=a+qn;u.firstCreatePass?(p=function rh(a,c){if(c)for(let u=c.length-1;u>=0;u--){const p=c[u];if(a===p.name)return p}}(c,u.pipeRegistry),u.data[_]=p,p.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(_,p.onDestroy)):p=u.data[_];const y=p.factory||(p.factory=ms(p.type)),A=Xi(V2);try{const S=In(!1),E=y();return In(S),function pd(a,c,u,p){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=p}(u,ze(),_,E),E}finally{Xi(A)}}function Go(a,c,u){const p=a+qn,_=ze(),y=$r(_,p);return cl(_,p)?function bo(a,c,u,p,_,y){const A=c+u;return or(a,A,_)?Uo(a,A+1,y?p.call(y,_):p(_)):I6(a,A+1)}(_,Vi(),c,y.transform,u,y):y.transform(u)}function Gf(a,c,u,p){const _=a+qn,y=ze(),A=$r(y,_);return cl(y,_)?T6(y,Vi(),c,A.transform,u,p,A):A.transform(u,p)}function cl(a,c){return a[ut].data[c].pure}function oh(a){return c=>{setTimeout(a,void 0,c)}}const ks=class T_ extends m.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,p){let _=c,y=u||(()=>null),A=p;if(c&&"object"==typeof c){const E=c;_=E.next?.bind(E),y=E.error?.bind(E),A=E.complete?.bind(E)}this.__isAsync&&(y=oh(y),_&&(_=oh(_)),A&&(A=oh(A)));const S=super.subscribe({next:_,error:y,complete:A});return c instanceof fe.w0&&c.add(S),S}};function ig(){return this._results[Symbol.iterator]()}class T4{get changes(){return this._changes||(this._changes=new ks)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=T4.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=ig)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const p=this;p.dirty=!1;const _=function Vo(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function k3(a,c,u){if(a.length!==c.length)return!1;for(let p=0;p<a.length;p++){let _=a[p],y=c[p];if(u&&(_=u(_),y=u(y)),y!==_)return!1}return!0}(p._results,_,u))&&(p._results=_,p.length=_.length,p.last=_[this.length-1],p.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let L4=(()=>{class a{}return a.__NG_ELEMENT_ID__=sh,a})();const rg=L4,qf=class extends rg{constructor(c,u,p){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=p}createEmbeddedView(c,u){const p=this._declarationTContainer.tView,_=Ta(this._declarationLView,p,c,16,null,p.declTNode,null,null,null,null,u||null);_[$a]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[hs];return null!==A&&(_[hs]=A.createEmbeddedView(p)),X5(p,_,c),new l4(_)}};function sh(){return L6(Ni(),ze())}function L6(a,c){return 4&a.type?new qf(c,a,t4(a,c)):null}let N6=(()=>{class a{}return a.__NG_ELEMENT_ID__=$f,a})();function $f(){return og(Ni(),ze())}const Wf=N6,ah=class extends Wf{constructor(c,u,p){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=p}get element(){return t4(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const c=dc(this._hostTNode,this._hostLView);if(da(c)){const u=ha(c,this._hostLView),p=e1(c);return new Xo(u[ut].data[p+8],u)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=Zf(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(c,u,p){let _,y;"number"==typeof p?_=p:null!=p&&(_=p.index,y=p.injector);const A=c.createEmbeddedView(u||{},y);return this.insert(A,_),A}createComponent(c,u,p,_,y){const A=c&&!function b2(a){return"function"==typeof a}(c);let S;if(A)S=u;else{const B=u||{};S=B.index,p=B.injector,_=B.projectableNodes,y=B.environmentInjector||B.ngModuleRef}const E=A?c:new o6(Lt(c)),T=p||this.parentInjector;if(!y&&null==E.ngModule){const X=(A?T:this.parentInjector).get(Ea,null);X&&(y=X)}const V=E.create(T,_,void 0,y);return this.insert(V.hostView,S),V}insert(c,u){const p=c._lView,_=p[ut];if(function kl(a){return Io(a[ci])}(p)){const V=this.indexOf(c);if(-1!==V)this.detach(V);else{const B=p[ci],X=new ah(B,B[ji],B[ci]);X.detach(X.indexOf(c))}}const y=this._adjustIndex(u),A=this._lContainer;!function mo(a,c,u,p){const _=dr+p,y=u.length;p>0&&(u[_-1][Ko]=c),p<y-dr?(c[Ko]=u[_],Du(u,dr+p,c)):(u.push(c),c[Ko]=null),c[ci]=u;const A=c[$a];null!==A&&u!==A&&function Ca(a,c){const u=a[Qo];c[Ai]!==c[ci][ci][Ai]&&(a[Wa]=!0),null===u?a[Qo]=[c]:u.push(c)}(A,c);const S=c[hs];null!==S&&S.insertView(a),c[Qt]|=64}(_,p,A,y);const S=V3(y,A),E=p[Jt],T=wa(E,A[Za]);return null!==T&&function ya(a,c,u,p,_,y){p[tr]=_,p[ji]=c,$l(a,p,u,1,_,y)}(_,A[ji],E,p,T,S),c.attachToViewContainerRef(),Du(N4(A),y,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=Zf(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),p=Gl(this._lContainer,u);p&&(ma(N4(this._lContainer),u),y0(p[ut],p))}detach(c){const u=this._adjustIndex(c,-1),p=Gl(this._lContainer,u);return p&&null!=ma(N4(this._lContainer),u)?new l4(p):null}_adjustIndex(c,u=0){return c??this.length+u}};function Zf(a){return a[k1]}function N4(a){return a[k1]||(a[k1]=[])}function og(a,c){let u;const p=c[a.index];if(Io(p))u=p;else{let _;if(8&a.type)_=fr(p);else{const y=c[Jt];_=y.createComment("");const A=Li(a,c);Cc(y,wa(y,A),_,function A0(a,c){return a.nextSibling(c)}(y,A),!1)}c[a.index]=u=Nn(p,c,_,a),o8(c,u)}return new ah(u,a,c)}class V4{constructor(c){this.queryList=c,this.matches=null}clone(){return new V4(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yf{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const p=null!==c.contentQueries?c.contentQueries[0]:u.length,_=[];for(let y=0;y<p;y++){const A=u.getByIndex(y);_.push(this.queries[A.indexInDeclarationView].clone())}return new Yf(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==dh(c,u).matches&&this.queries[u].setDirty()}}class Kf{constructor(c,u,p=null){this.predicate=c,this.flags=u,this.read=p}}class V6{constructor(c=[]){this.queries=c}elementStart(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let p=0;p<this.length;p++){const _=null!==u?u.length:0,y=this.getByIndex(p).embeddedTView(c,_);y&&(y.indexInDeclarationView=p,null!==u?u.push(y):u=[y])}return null!==u?new V6(u):null}template(c,u){for(let p=0;p<this.queries.length;p++)this.queries[p].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class H6{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new H6(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let p=c.parent;for(;null!==p&&8&p.type&&p.index!==u;)p=p.parent;return u===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const p=this.metadata.predicate;if(Array.isArray(p))for(let _=0;_<p.length;_++){const y=p[_];this.matchTNodeWithReadOption(c,u,L_(u,y)),this.matchTNodeWithReadOption(c,u,On(u,c,y,!1,!1))}else p===L4?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,On(u,c,p,!1,!1))}matchTNodeWithReadOption(c,u,p){if(null!==p){const _=this.metadata.read;if(null!==_)if(_===W0||_===N6||_===L4&&4&u.type)this.addMatch(u.index,-2);else{const y=On(u,c,_,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,p)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function L_(a,c){const u=a.localNames;if(null!==u)for(let p=0;p<u.length;p+=2)if(u[p]===c)return u[p+1];return null}function lh(a,c,u,p){return-1===u?function ch(a,c){return 11&a.type?t4(a,c):4&a.type?L6(a,c):null}(c,a):-2===u?function Qf(a,c,u){return u===W0?t4(c,a):u===L4?L6(c,a):u===N6?og(c,a):void 0}(a,c,p):pi(a,a[ut],u,c)}function P6(a,c,u,p){const _=c[hs].queries[p];if(null===_.matches){const y=a.data,A=u.matches,S=[];for(let E=0;E<A.length;E+=2){const T=A[E];S.push(T<0?null:lh(c,y[T],A[E+1],u.metadata.read))}_.matches=S}return _.matches}function R6(a,c,u,p){const _=a.queries.getByIndex(u),y=_.matches;if(null!==y){const A=P6(a,c,_,u);for(let S=0;S<y.length;S+=2){const E=y[S];if(E>0)p.push(A[S/2]);else{const T=y[S+1],V=c[-E];for(let B=dr;B<V.length;B++){const X=V[B];X[$a]===X[ci]&&R6(X[ut],X,T,p)}if(null!==V[Qo]){const B=V[Qo];for(let X=0;X<B.length;X++){const le=B[X];R6(le[ut],le,T,p)}}}}}return p}function Gd(a){const c=ze(),u=en(),p=l2();u2(p+1);const _=dh(u,p);if(a.dirty&&function r3(a){return 4==(4&a[Qt])}(c)===(2==(2&_.metadata.flags))){if(null===_.matches)a.reset([]);else{const y=_.crossesNgTemplate?R6(u,c,p,[]):P6(u,c,_,p);a.reset(y,Tv),a.notifyOnChanges()}return!0}return!1}function qd(a,c,u){const p=en();p.firstCreatePass&&(Xf(p,new Kf(a,c,u),-1),2==(2&c)&&(p.staticViewQueries=!0)),ag(p,ze(),c)}function uh(a,c,u,p){const _=en();if(_.firstCreatePass){const y=Ni();Xf(_,new Kf(c,u,p),y.index),function cg(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(_,a),2==(2&u)&&(_.staticContentQueries=!0)}ag(_,ze(),u)}function Jf(){return function sg(a,c){return a[hs].queries[c].queryList}(ze(),l2())}function ag(a,c,u){const p=new T4(4==(4&u));ld(a,c,p,p.destroy),null===c[hs]&&(c[hs]=new Yf),c[hs].queries.push(new V4(p))}function Xf(a,c,u){null===a.queries&&(a.queries=new V6),a.queries.track(new H6(c,u))}function dh(a,c){return a.queries.getByIndex(c)}function e9(a,c){return L6(a,c)}function O6(a){return!!wi(a)}function W6(...a){}const yh=new vn("Application Initializer");let Ch=(()=>{class a{constructor(u){this.appInits=u,this.resolve=W6,this.reject=W6,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,_)=>{this.resolve=p,this.reject=_})}runInitializers(){if(this.initialized)return;const u=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const y=this.appInits[_]();if(g8(y))u.push(y);else if(vd(y)){const A=new Promise((S,E)=>{y.subscribe({complete:S,error:E})});u.push(A)}}Promise.all(u).then(()=>{p()}).catch(_=>{this.reject(_)}),0===u.length&&p(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(fn(yh,8))},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Y6=new vn("AppId",{providedIn:"root",factory:function Yd(){return`${ul()}${ul()}${ul()}`}});function ul(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Bc=new vn("Platform Initializer"),wh=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),R_=new vn("AnimationModuleType");let _g=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Kd=new vn("LocaleId",{providedIn:"root",factory:()=>Mn(Kd,zt.Optional|zt.SkipSelf)||function p9(){return typeof $localize<"u"&&$localize.locale||y6}()}),B4=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _9{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let Ii=(()=>{class a{compileModuleSync(u){return new Of(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const p=this.compileModuleSync(u),y=O1(wi(u).declarations).reduce((A,S)=>{const E=Lt(S);return E&&A.push(new o6(E)),A},[]);return new _9(p,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const F_=(()=>Promise.resolve(0))();function xh(a){typeof Zone>"u"?F_.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class v1{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&u,_.shouldCoalesceRunChangeDetection=p,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function Qd(){let a=An.requestAnimationFrame,c=An.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const p=c[Zone.__symbol__("OriginalDelegate")];p&&(c=p)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function B_(a){const c=()=>{!function Q6(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(An,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,b9(a),a.isCheckStableRunning=!0,Sh(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),b9(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,p,_,y,A,S)=>{try{return Eh(a),u.invokeTask(_,y,A,S)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&c(),Cg(a)}},onInvoke:(u,p,_,y,A,S,E)=>{try{return Eh(a),u.invoke(_,y,A,S,E)}finally{a.shouldCoalesceRunChangeDetection&&c(),Cg(a)}},onHasTask:(u,p,_,y)=>{u.hasTask(_,y),p===_&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,b9(a),Sh(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,p,_,y)=>(u.handleError(_,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!v1.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(v1.isInAngularZone())throw new xe(909,!1)}run(c,u,p){return this._inner.run(c,u,p)}runTask(c,u,p,_){const y=this._inner,A=y.scheduleEventTask("NgZoneEvent: "+_,c,yg,W6,W6);try{return y.runTask(A,u,p)}finally{y.cancelTask(A)}}runGuarded(c,u,p){return this._inner.runGuarded(c,u,p)}runOutsideAngular(c){return this._outer.run(c)}}const yg={};function Sh(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function b9(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Eh(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Cg(a){a._nesting--,Sh(a)}class Wi{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(c,u,p){return c.apply(u,p)}runGuarded(c,u,p){return c.apply(u,p)}runOutsideAngular(c){return c()}runTask(c,u,p,_){return c.apply(u,p)}}const jc=new vn(""),J6=new vn("");let Zn,y9=(()=>{class a{constructor(u,p,_){this._ngZone=u,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zn||(function wg(a){Zn=a}(_),_.addToWindow(p)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{v1.assertNotInAngularZone(),xh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(u)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,p,_){let y=-1;p&&p>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==y),u(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:_})}whenStable(u,p,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,p,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,p,_){return[]}}return a.\u0275fac=function(u){return new(u||a)(fn(v1),fn(Dh),fn(J6))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})(),Dh=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,p){this._applications.set(u,p)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,p=!0){return Zn?.findTestabilityInTree(this,u,p)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Uc=!1;let Gc=null;const C9=new vn("AllowMultipleToken"),U4=new vn("PlatformDestroyListeners"),G4=new vn("appBootstrapListener");class X6{constructor(c,u){this.name=c,this.token=u}}function A9(a,c,u=[]){const p=`Platform: ${c}`,_=new vn(p);return(y=[])=>{let A=tu();if(!A||A.injector.get(C9,!1)){const S=[...u,...y,{provide:_,useValue:!0}];a?a(S):function eu(a){if(Gc&&!Gc.get(C9,!1))throw new xe(400,!1);Gc=a;const c=a.get(Th);(function Fi(a){const c=a.get(Bc,null);c&&c.forEach(u=>u())})(a)}(function Ih(a=[],c){return N2.create({name:c,providers:[{provide:E7,useValue:"platform"},{provide:U4,useValue:new Set([()=>Gc=null])},...a]})}(S,p))}return function Mg(a){const c=tu();if(!c)throw new xe(401,!1);return c}()}}function tu(){return Gc?.get(Th)??null}let Th=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,p){const _=function iu(a,c){let u;return u="noop"===a?new Wi:("zone.js"===a?void 0:a)||new v1(c),u}(p?.ngZone,function nu(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(p)),y=[{provide:v1,useValue:_}];return _.run(()=>{const A=N2.create({providers:y,parent:this.injector,name:u.moduleType.name}),S=u.create(A),E=S.injector.get(Z0,null);if(!E)throw new xe(402,!1);return _.runOutsideAngular(()=>{const T=_.onError.subscribe({next:V=>{E.handleError(V)}});S.onDestroy(()=>{Jd(this._modules,S),T.unsubscribe()})}),function U1(a,c,u){try{const p=u();return g8(p)?p.catch(_=>{throw c.runOutsideAngular(()=>a.handleError(_)),_}):p}catch(p){throw c.runOutsideAngular(()=>a.handleError(p)),p}}(E,_,()=>{const T=S.injector.get(Ch);return T.runInitializers(),T.donePromise.then(()=>(function F8(a){Te(a,"Expected localeId to be defined"),"string"==typeof a&&(wf=a.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Kd,y6)||y6),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,p=[]){const _=x9({},p);return function zh(a,c,u){const p=new Of(u);return Promise.resolve(p)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,_))}_moduleDoBootstrap(u){const p=u.injector.get(Lh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(_=>p.bootstrap(_));else{if(!u.instance.ngDoBootstrap)throw new xe(-403,!1);u.instance.ngDoBootstrap(p)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const u=this._injector.get(U4,null);u&&(u.forEach(p=>p()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(fn(N2))},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function x9(a,c){return Array.isArray(c)?c.reduce(x9,a):{...a,...c}}let Lh=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,p,_){this._zone=u,this._injector=p,this._exceptionHandler=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new Y.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),A=new Y.y(S=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{v1.assertNotInAngularZone(),xh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{v1.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(y,A.pipe((0,we.B)()))}bootstrap(u,p){const _=u instanceof _s;if(!this._injector.get(Ch).done){!_&&hi(u);throw new xe(405,Uc)}let A;A=_?u:this._injector.get(Qu).resolveComponentFactory(u),this.componentTypes.push(A.componentType);const S=function k9(a){return a.isBoundToModule}(A)?void 0:this._injector.get(D6),T=A.create(N2.NULL,[],p||A.selector,S),V=T.location.nativeElement,B=T.injector.get(jc,null);return B?.registerApplication(V),T.onDestroy(()=>{this.detachView(T.hostView),Jd(this.components,T),B?.unregisterApplication(V)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const p=u;this._views.push(p),p.attachToAppRef(this)}detachView(u){const p=u;Jd(this._views,p),p.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const p=this._injector.get(G4,[]);p.push(...this._bootstrapListeners),p.forEach(_=>_(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Jd(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(fn(v1),fn(Ea),fn(Z0))},a.\u0275prov=wt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Jd(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}function Vh(){return!1}function dl(){}let U_=(()=>{class a{}return a.__NG_ELEMENT_ID__=S9,a})();function S9(a){return function ru(a,c,u){if(fs(a)&&!u){const p=ir(a.index,c);return new l4(p,p)}return 47&a.type?new l4(c[Ai],c):null}(Ni(),ze(),16==(16&a))}class zg{constructor(){}supports(c){return f4(c)}create(c){return new Z2(c)}}const $c=(a,c)=>c;class Z2{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||$c}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,p=this._removalsHead,_=0,y=null;for(;u||p;){const A=!p||u&&u.currentIndex<s5(p,_,y)?u:p,S=s5(A,_,y),E=A.currentIndex;if(A===p)_--,p=p._nextRemoved;else if(u=u._next,null==A.previousIndex)_++;else{y||(y=[]);const T=S-_,V=E-_;if(T!=V){for(let X=0;X<T;X++){const le=X<y.length?y[X]:y[X]=0,ke=le+X;V<=ke&&ke<T&&(y[X]=le+1)}y[A.previousIndex]=V-T}}S!==E&&c(A,S,E)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!f4(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,y,A,u=this._itHead,p=!1;if(Array.isArray(c)){this.length=c.length;for(let S=0;S<this.length;S++)y=c[S],A=this._trackByFn(S,y),null!==u&&Object.is(u.trackById,A)?(p&&(u=this._verifyReinsertion(u,y,A,S)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,A,S),p=!0),u=u._next}else _=0,function ep(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[Symbol.iterator]();let p;for(;!(p=u.next()).done;)c(p.value)}}(c,S=>{A=this._trackByFn(_,S),null!==u&&Object.is(u.trackById,A)?(p&&(u=this._verifyReinsertion(u,S,A,_)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,A,_),p=!0),u=u._next,_++}),this.length=_;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,p,_){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,y,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(p,_))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,y,_)):c=this._addAfter(new D9(u,p),y,_),c}_verifyReinsertion(c,u,p,_){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==y?c=this._reinsertAfter(y,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,y=c._nextRemoved;return null===_?this._removalsHead=y:_._nextRemoved=y,null===y?this._removalsTail=_:y._prevRemoved=_,this._insertAfter(c,u,p),this._addToMoves(c,p),c}_moveAfter(c,u,p){return this._unlink(c),this._insertAfter(c,u,p),this._addToMoves(c,p),c}_addAfter(c,u,p){return this._insertAfter(c,u,p),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,p){const _=null===u?this._itHead:u._next;return c._next=_,c._prev=u,null===_?this._itTail=c:_._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new Wc),this._linkedRecords.put(c),c.currentIndex=p,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,p=c._next;return null===u?this._itHead=p:u._next=p,null===p?this._itTail=u:p._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wc),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class D9{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class o5{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===u||u<=p.currentIndex)&&Object.is(p.trackById,c))return p;return null}remove(c){const u=c._prevDup,p=c._nextDup;return null===u?this._head=p:u._nextDup=p,null===p?this._tail=u:p._prevDup=u,null===this._head}}class Wc{constructor(){this.map=new Map}put(c){const u=c.trackById;let p=this.map.get(u);p||(p=new o5,this.map.set(u,p)),p.add(c)}get(c,u){const _=this.map.get(c);return _?_.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s5(a,c,u){const p=a.previousIndex;if(null===p)return p;let _=0;return u&&p<u.length&&(_=u[p]),p+c+_}class z9{constructor(){}supports(c){return c instanceof Map||l6(c)}create(){return new Zc}}class Zc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||l6(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(p,_)=>{if(u&&u.key===_)this._maybeAddToChanges(u,p),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(_,p);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let p=u;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const p=c._prev;return u._next=c,u._prev=p,c._prev=u,p&&(p._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,u);const y=_._prev,A=_._next;return y&&(y._next=A),A&&(A._prev=y),_._next=null,_._prev=null,_}const p=new G1(c);return this._records.set(c,p),p.currentValue=u,this._addToAdditions(p),p}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(p=>u(c[p],p))}}class G1{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oo(){return new q4([new zg])}let q4=(()=>{class a{constructor(u){this.factories=u}static create(u,p){if(null!=p){const _=p.factories.slice();u=u.concat(_)}return new a(u)}static extend(u){return{provide:a,useFactory:p=>a.create(u,p||oo()),deps:[[a,new x3,new z1]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(null!=p)return p;throw new xe(901,!1)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:oo}),a})();function su(){return new au([new z9])}let au=(()=>{class a{constructor(u){this.factories=u}static create(u,p){if(p){const _=p.factories.slice();u=u.concat(_)}return new a(u)}static extend(u){return{provide:a,useFactory:p=>a.create(u,p||su()),deps:[[a,new x3,new z1]]}}find(u){const p=this.factories.find(_=>_.supports(u));if(p)return p;throw new xe(901,!1)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:su}),a})();const N9=A9(null,"core",[]);let V9=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(fn(Lh))},a.\u0275mod=ye({type:a}),a.\u0275inj=xt({}),a})();function Ig(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(mt,Re,Q)=>{"use strict";Q.d(Re,{Z:()=>it});var m=Q(2090),fe=Q(4859),Y=Q(6881),se=Q(1877);class we{constructor(xe,We){this._delegate=xe,this.firebase=We,(0,Y._addComponent)(xe,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(xe,We=Y._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(xe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(je=Ze.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:We})}_removeServiceInstance(xe,We=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(We)}_addComponent(xe){(0,Y._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,Y._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ee(){const ct=function F(ct){const xe={},We={__esModule:!0,initializeApp:function Ge(q,Fe={}){const me=Y.initializeApp(q,Fe);if((0,m.r3)(xe,me.name))return xe[me.name];const vt=new ct(me,We);return xe[me.name]=vt,vt},app:Ze,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function be(q){const Fe=q.name,me=Fe.replace("-compat","");if(Y._registerComponent(q)&&"PUBLIC"===q.type){const vt=(nt=Ze())=>{if("function"!=typeof nt[me])throw ne.create("invalid-app-argument",{appName:Fe});return nt[me]()};void 0!==q.serviceProps&&(0,m.ZB)(vt,q.serviceProps),We[me]=vt,ct.prototype[me]=function(...nt){return this._getService.bind(this,Fe).apply(this,q.multipleInstances?nt:[])}}return"PUBLIC"===q.type?We[me]:null},removeApp:function je(q){delete xe[q]},useAsService:function Pe(q,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:Y}};function Ze(q){if(!(0,m.r3)(xe,q=q||Y._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:q});return xe[q]}return We.default=We,Object.defineProperty(We,"apps",{get:function Le(){return Object.keys(xe).map(q=>xe[q])}}),Ze.App=ct,We}(we);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function xe(We){(0,m.ZB)(ct,We)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),ct}(),U=new se.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=$;!function He(ct){(0,Y.registerVersion)("@firebase/app-compat","0.2.13",ct)}()},6881:(mt,Re,Q)=>{"use strict";Q.r(Re),Q.d(Re,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>w1,_DEFAULT_ENTRY_NAME:()=>Hn,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Vt,_apps:()=>An,_clearComponents:()=>er,_components:()=>En,_getProvider:()=>Eo,_registerComponent:()=>So,_removeServiceInstance:()=>ur,deleteApp:()=>Kn,getApp:()=>cs,getApps:()=>fn,initializeApp:()=>gn,onLog:()=>Zo,registerVersion:()=>Bi,setLogLevel:()=>ni});var m=Q(5861),fe=Q(4859),Y=Q(1877),se=Q(2090);const we=(Se,ye)=>ye.some(Ke=>Se instanceof Ke);let Z,ne;const $=new WeakMap,U=new WeakMap,G=new WeakMap,ce=new WeakMap,He=new WeakMap;let xe={get(Se,ye,Ke){if(Se instanceof IDBTransaction){if("done"===ye)return U.get(Se);if("objectStoreNames"===ye)return Se.objectStoreNames||G.get(Se);if("store"===ye)return Ke.objectStoreNames[1]?void 0:Ke.objectStore(Ke.objectStoreNames[0])}return Ge(Se[ye])},set:(Se,ye,Ke)=>(Se[ye]=Ke,!0),has:(Se,ye)=>Se instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in Se};function Ze(Se){return"function"==typeof Se?function je(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...ye){return Se.apply(Le(this),ye),Ge($.get(this))}:function(...ye){return Ge(Se.apply(Le(this),ye))}:function(ye,...Ke){const It=Se.call(Le(this),ye,...Ke);return G.set(It,ye.sort?ye.sort():[ye]),Ge(It)}}(Se):(Se instanceof IDBTransaction&&function ct(Se){if(U.has(Se))return;const ye=new Promise((Ke,It)=>{const Bt=()=>{Se.removeEventListener("complete",cn),Se.removeEventListener("error",Lt),Se.removeEventListener("abort",Lt)},cn=()=>{Ke(),Bt()},Lt=()=>{It(Se.error||new DOMException("AbortError","AbortError")),Bt()};Se.addEventListener("complete",cn),Se.addEventListener("error",Lt),Se.addEventListener("abort",Lt)});U.set(Se,ye)}(Se),we(Se,function F(){return Z||(Z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,xe):Se)}function Ge(Se){if(Se instanceof IDBRequest)return function it(Se){const ye=new Promise((Ke,It)=>{const Bt=()=>{Se.removeEventListener("success",cn),Se.removeEventListener("error",Lt)},cn=()=>{Ke(Ge(Se.result)),Bt()},Lt=()=>{It(Se.error),Bt()};Se.addEventListener("success",cn),Se.addEventListener("error",Lt)});return ye.then(Ke=>{Ke instanceof IDBCursor&&$.set(Ke,Se)}).catch(()=>{}),He.set(ye,Se),ye}(Se);if(ce.has(Se))return ce.get(Se);const ye=Ze(Se);return ye!==Se&&(ce.set(Se,ye),He.set(ye,Se)),ye}const Le=Se=>He.get(Se),q=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],me=new Map;function vt(Se,ye){if(!(Se instanceof IDBDatabase)||ye in Se||"string"!=typeof ye)return;if(me.get(ye))return me.get(ye);const Ke=ye.replace(/FromIndex$/,""),It=ye!==Ke,Bt=Fe.includes(Ke);if(!(Ke in(It?IDBIndex:IDBObjectStore).prototype)||!Bt&&!q.includes(Ke))return;const cn=function(){var Lt=(0,m.Z)(function*(xn,...yn){const hi=this.transaction(xn,Bt?"readwrite":"readonly");let wi=hi.store;return It&&(wi=wi.index(yn.shift())),(yield Promise.all([wi[Ke](...yn),Bt&&hi.done]))[0]});return function(yn){return Lt.apply(this,arguments)}}();return me.set(ye,cn),cn}!function We(Se){xe=Se(xe)}(Se=>({...Se,get:(ye,Ke,It)=>vt(ye,Ke)||Se.get(ye,Ke,It),has:(ye,Ke)=>!!vt(ye,Ke)||Se.has(ye,Ke)}));class nt{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function Yt(Se){return"VERSION"===Se.getComponent()?.type}(Ke)){const It=Ke.getImmediate();return`${It.library}/${It.version}`}return null}).filter(Ke=>Ke).join(" ")}}const gt="@firebase/app",Qi=new Y.Yd("@firebase/app"),Hn="[DEFAULT]",_i={[gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},An=new Map,En=new Map;function ht(Se,ye){try{Se.container.addComponent(ye)}catch(Ke){Qi.debug(`Component ${ye.name} failed to register with FirebaseApp ${Se.name}`,Ke)}}function Vt(Se,ye){Se.container.addOrOverwriteComponent(ye)}function So(Se){const ye=Se.name;if(En.has(ye))return Qi.debug(`There were multiple attempts to register component ${ye}.`),!1;En.set(ye,Se);for(const Ke of An.values())ht(Ke,Se);return!0}function Eo(Se,ye){const Ke=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Se.container.getProvider(ye)}function ur(Se,ye,Ke=Hn){Eo(Se,ye).clearInstance(Ke)}function er(){En.clear()}const Do=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gn{constructor(ye,Ke,It){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}const w1="9.23.0";function gn(Se,ye={}){let Ke=Se;"object"!=typeof ye&&(ye={name:ye});const It=Object.assign({name:Hn,automaticDataCollectionEnabled:!1},ye),Bt=It.name;if("string"!=typeof Bt||!Bt)throw Do.create("bad-app-name",{appName:String(Bt)});if(Ke||(Ke=(0,se.aH)()),!Ke)throw Do.create("no-options");const cn=An.get(Bt);if(cn){if((0,se.vZ)(Ke,cn.options)&&(0,se.vZ)(It,cn.config))return cn;throw Do.create("duplicate-app",{appName:Bt})}const Lt=new fe.H0(Bt);for(const yn of En.values())Lt.addComponent(yn);const xn=new Gn(Ke,It,Lt);return An.set(Bt,xn),xn}function cs(Se=Hn){const ye=An.get(Se);if(!ye&&Se===Hn&&(0,se.aH)())return gn();if(!ye)throw Do.create("no-app",{appName:Se});return ye}function fn(){return Array.from(An.values())}function Kn(Se){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,m.Z)(function*(Se){const ye=Se.name;An.has(ye)&&(An.delete(ye),yield Promise.all(Se.container.getProviders().map(Ke=>Ke.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Bi(Se,ye,Ke){var It;let Bt=null!==(It=_i[Se])&&void 0!==It?It:Se;Ke&&(Bt+=`-${Ke}`);const cn=Bt.match(/\s|\//),Lt=ye.match(/\s|\//);if(cn||Lt){const xn=[`Unable to register library "${Bt}" with version "${ye}":`];return cn&&xn.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),cn&&Lt&&xn.push("and"),Lt&&xn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void Qi.warn(xn.join(" "))}So(new fe.wA(`${Bt}-version`,()=>({library:Bt,version:ye}),"VERSION"))}function Zo(Se,ye){if(null!==Se&&"function"!=typeof Se)throw Do.create("invalid-log-argument");(0,Y.Am)(Se,ye)}function ni(Se){(0,Y.Ub)(Se)}const Yo="firebase-heartbeat-database",xr=1,oe="firebase-heartbeat-store";let te=null;function ue(){return te||(te=function be(Se,ye,{blocked:Ke,upgrade:It,blocking:Bt,terminated:cn}={}){const Lt=indexedDB.open(Se,ye),xn=Ge(Lt);return It&&Lt.addEventListener("upgradeneeded",yn=>{It(Ge(Lt.result),yn.oldVersion,yn.newVersion,Ge(Lt.transaction),yn)}),Ke&&Lt.addEventListener("blocked",yn=>Ke(yn.oldVersion,yn.newVersion,yn)),xn.then(yn=>{cn&&yn.addEventListener("close",()=>cn()),Bt&&yn.addEventListener("versionchange",hi=>Bt(hi.oldVersion,hi.newVersion,hi))}).catch(()=>{}),xn}(Yo,xr,{upgrade:(Se,ye)=>{0===ye&&Se.createObjectStore(oe)}}).catch(Se=>{throw Do.create("idb-open",{originalErrorMessage:Se.message})})),te}function _e(){return(_e=(0,m.Z)(function*(Se){try{return yield(yield ue()).transaction(oe).objectStore(oe).get(bn(Se))}catch(ye){if(ye instanceof se.ZR)Qi.warn(ye.message);else{const Ke=Do.create("idb-get",{originalErrorMessage:ye?.message});Qi.warn(Ke.message)}}})).apply(this,arguments)}function Je(Se,ye){return At.apply(this,arguments)}function At(){return(At=(0,m.Z)(function*(Se,ye){try{const It=(yield ue()).transaction(oe,"readwrite");yield It.objectStore(oe).put(ye,bn(Se)),yield It.done}catch(Ke){if(Ke instanceof se.ZR)Qi.warn(Ke.message);else{const It=Do.create("idb-set",{originalErrorMessage:Ke?.message});Qi.warn(It.message)}}})).apply(this,arguments)}function bn(Se){return`${Se.name}!${Se.options.appId}`}class Vn{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new ls(Ke),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var ye=this;return(0,m.Z)(function*(){const It=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=mn();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!ye._heartbeatsCache.heartbeats.some(cn=>cn.date===Bt))return ye._heartbeatsCache.heartbeats.push({date:Bt,agent:It}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(cn=>{const Lt=new Date(cn.date).valueOf();return Date.now()-Lt<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,m.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const Ke=mn(),{heartbeatsToSend:It,unsentEntries:Bt}=function Ur(Se,ye=1024){const Ke=[];let It=Se.slice();for(const Bt of Se){const cn=Ke.find(Lt=>Lt.agent===Bt.agent);if(cn){if(cn.dates.push(Bt.date),Ss(Ke)>ye){cn.dates.pop();break}}else if(Ke.push({agent:Bt.agent,dates:[Bt.date]}),Ss(Ke)>ye){Ke.pop();break}It=It.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:It}}(ye._heartbeatsCache.heartbeats),cn=(0,se.L)(JSON.stringify({version:2,heartbeats:It}));return ye._heartbeatsCache.lastSentHeartbeatDate=Ke,Bt.length>0?(ye._heartbeatsCache.heartbeats=Bt,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),cn})()}}function mn(){return(new Date).toISOString().substring(0,10)}class ls{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,m.Z)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function Ne(Se){return _e.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var Ke=this;return(0,m.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const cn=yield Ke.read();return Je(Ke.app,{lastSentHeartbeatDate:null!==(It=ye.lastSentHeartbeatDate)&&void 0!==It?It:cn.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Ke=this;return(0,m.Z)(function*(){var It;if(yield Ke._canUseIndexedDBPromise){const cn=yield Ke.read();return Je(Ke.app,{lastSentHeartbeatDate:null!==(It=ye.lastSentHeartbeatDate)&&void 0!==It?It:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...ye.heartbeats]})}})()}}function Ss(Se){return(0,se.L)(JSON.stringify({version:2,heartbeats:Se})).length}!function Es(Se){So(new fe.wA("platform-logger",ye=>new nt(ye),"PRIVATE")),So(new fe.wA("heartbeat",ye=>new Vn(ye),"PRIVATE")),Bi(gt,"0.9.13",Se),Bi(gt,"0.9.13","esm2017"),Bi("fire-js","")}("")},4859:(mt,Re,Q)=>{"use strict";Q.d(Re,{H0:()=>F,wA:()=>Y});var m=Q(5861),fe=Q(2090);class Y{constructor($,U,G){this.name=$,this.instanceFactory=U,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class we{constructor($,U){this.name=$,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const U=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(U)){const G=new fe.BH;if(this.instancesDeferred.set(U,G),this.isInitialized(U)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:U});ce&&G.resolve(ce)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate($){var U;const G=this.normalizeInstanceIdentifier($?.identifier),ce=null!==(U=$?.optional)&&void 0!==U&&U;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(He){if(ce)return null;throw He}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ne(ee){return"EAGER"===ee.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[U,G]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(U);try{const He=this.getOrInitializeService({instanceIdentifier:ce});G.resolve(He)}catch{}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,m.Z)(function*(){const U=Array.from($.instances.values());yield Promise.all([...U.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...U.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:U={}}=$,G=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:G,options:U});for(const[He,it]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(He)&&it.resolve(ce);return ce}onInit($,U){var G;const ce=this.normalizeInstanceIdentifier(U),He=null!==(G=this.onInitCallbacks.get(ce))&&void 0!==G?G:new Set;He.add($),this.onInitCallbacks.set(ce,He);const it=this.instances.get(ce);return it&&$(it,ce),()=>{He.delete($)}}invokeOnInitCallbacks($,U){const G=this.onInitCallbacks.get(U);if(G)for(const ce of G)try{ce($,U)}catch{}}getOrInitializeService({instanceIdentifier:$,options:U={}}){let G=this.instances.get($);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=$,ee===se?void 0:ee),options:U}),this.instances.set($,G),this.instancesOptions.set($,U),this.invokeOnInitCallbacks(G,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,G)}catch{}var ee;return G||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor($){this.name=$,this.providers=new Map}addComponent($){const U=this.getProvider($.name);if(U.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);U.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const U=new we($,this);return this.providers.set($,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,Re,Q)=>{"use strict";Q.d(Re,{Am:()=>ee,Ub:()=>F,Yd:()=>ne,in:()=>fe});const m=[];var fe=(()=>{return($=fe||(fe={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",fe;var $})();const Y={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},se=fe.INFO,we={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},Z=($,U,...G)=>{if(U<$.logLevel)return;const ce=(new Date).toISOString(),He=we[U];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[He](`[${ce}]  ${$.name}:`,...G)};class ne{constructor(U){this.name=U,this._logLevel=se,this._logHandler=Z,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in fe))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?Y[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...U),this._logHandler(this,fe.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...U),this._logHandler(this,fe.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...U),this._logHandler(this,fe.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...U),this._logHandler(this,fe.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...U),this._logHandler(this,fe.ERROR,...U)}}function F($){m.forEach(U=>{U.setLogLevel($)})}function ee($,U){for(const G of m){let ce=null;U&&U.level&&(ce=Y[U.level]),G.userLogHandler=null===$?null:(He,it,...ct)=>{const xe=ct.map(We=>{if(null==We)return null;if("string"==typeof We)return We;if("number"==typeof We||"boolean"==typeof We)return We.toString();if(We instanceof Error)return We.message;try{return JSON.stringify(We)}catch{return null}}).filter(We=>We).join(" ");it>=(ce??He.logLevel)&&$({level:fe[it].toLowerCase(),message:xe,args:ct,type:He.name})}}}},259:(mt,Re,Q)=>{"use strict";Q.d(Re,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=Q(6881);(0,m.registerVersion)("firebase","9.23.0","app")},9260:(mt,Re,Q)=>{"use strict";Q.d(Re,{Z:()=>m.Z});var m=Q(3942);m.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(mt,Re,Q)=>{"use strict";Q.r(Re);var m=Q(5861),fe=Q(3942),Y=Q(2090),se=Q(6881),we=Q(7582),Z=Q(1877),ne=Q(4859);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G_EMAIL_SIGNIN="EMAIL_SIGNIN",G_PASSWORD_RESET="PASSWORD_RESET",G_RECOVER_EMAIL="RECOVER_EMAIL",G_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",G_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",G_VERIFY_EMAIL="VERIFY_EMAIL";const it=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ct=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new Z.Yd("@firebase/auth");function Ge(D,...k){je.logLevel<=Z.in.ERROR&&je.error(`Auth (${se.SDK_VERSION}): ${D}`,...k)}function Le(D,...k){throw Fe(D,...k)}function be(D,...k){return Fe(D,...k)}function Pe(D,k,M){const I=Object.assign(Object.assign({},ct()),{[k]:M});return new Y.LL("auth","Firebase",I).create(k,{appName:D.name})}function q(D,k,M){if(!(k instanceof M))throw M.name!==k.constructor.name&&Le(D,"argument-error"),Pe(D,"argument-error",`Type of ${k.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(D,...k){if("string"!=typeof D){const M=k[0],I=[...k.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(M,...I)}return xe.create(D,...k)}function me(D,k,...M){if(!D)throw Fe(k,...M)}function vt(D){const k="INTERNAL ASSERTION FAILED: "+D;throw Ge(k),new Error(k)}function nt(D,k){D||vt(k)}function Yt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function gt(){return"http:"===lr()||"https:"===lr()}function lr(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class as{constructor(k,M){this.shortDelay=k,this.longDelay=M,nt(M>k,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function Qi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pe(D,k){nt(D.emulator,"Emulator should always be set here");const{url:M}=D.emulator;return k?`${M}${k.startsWith("/")?k.slice(1):k}`:M}class Ee{static initialize(k,M,I){this.fetchImpl=k,M&&(this.headersImpl=M),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Me=new as(3e4,6e4);function Ue(D,k){return D.tenantId&&!k.tenantId?Object.assign(Object.assign({},k),{tenantId:D.tenantId}):k}function Be(D,k,M,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(D,k,M,I,R={}){return wt(D,R,(0,m.Z)(function*(){let j={},re={};I&&("GET"===k?re=I:j={body:JSON.stringify(I)});const ge=(0,Y.xO)(Object.assign({key:D.config.apiKey},re)).slice(1),qe=yield D._getAdditionalHeaders();return qe["Content-Type"]="application/json",D.languageCode&&(qe["X-Firebase-Locale"]=D.languageCode),Ee.fetch()(Yn(D,D.config.apiHost,M,ge),Object.assign({method:k,headers:qe,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function wt(D,k,M){return $t.apply(this,arguments)}function $t(){return($t=(0,m.Z)(function*(D,k,M){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Te),k);try{const R=new Sn(D),j=yield Promise.race([M(),R.promise]);R.clearNetworkTimeout();const re=yield j.json();if("needConfirmation"in re)throw Ci(D,"account-exists-with-different-credential",re);if(j.ok&&!("errorMessage"in re))return re;{const ge=j.ok?re.errorMessage:re.error.message,[qe,et]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Ci(D,"credential-already-in-use",re);if("EMAIL_EXISTS"===qe)throw Ci(D,"email-already-in-use",re);if("USER_DISABLED"===qe)throw Ci(D,"user-disabled",re);const _t=I[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Pe(D,_t,et);Le(D,_t)}}catch(R){if(R instanceof Y.ZR)throw R;Le(D,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function xt(D,k,M,I){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.Z)(function*(D,k,M,I,R={}){const j=yield Be(D,k,M,I,R);return"mfaPendingCredential"in j&&Le(D,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Yn(D,k,M,I){const R=`${k}${M}?${I}`;return D.config.emulator?pe(D.config,R):`${D.config.apiScheme}://${R}`}class Sn{constructor(k){this.auth=k,this.timer=null,this.promise=new Promise((M,I)=>{this.timer=setTimeout(()=>I(be(this.auth,"network-request-failed")),Me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ci(D,k,M){const I={appName:D.name};M.email&&(I.email=M.email),M.phoneNumber&&(I.phoneNumber=M.phoneNumber);const R=be(D,k,I);return R.customData._tokenResponse=M,R}function Gt(){return(Gt=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:delete",k)})).apply(this,arguments)}function xo(){return(xo=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:lookup",k)})).apply(this,arguments)}function ao(D){if(D)try{const k=new Date(Number(D));if(!isNaN(k.getTime()))return k.toUTCString()}catch{}}function Hn(){return(Hn=(0,m.Z)(function*(D,k=!1){const M=(0,Y.m9)(D),I=yield M.getIdToken(k),R=An(I);me(R&&R.exp&&R.auth_time&&R.iat,M.auth,"internal-error");const j="object"==typeof R.firebase?R.firebase:void 0,re=j?.sign_in_provider;return{claims:R,token:I,authTime:ao(_i(R.auth_time)),issuedAtTime:ao(_i(R.iat)),expirationTime:ao(_i(R.exp)),signInProvider:re||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function _i(D){return 1e3*Number(D)}function An(D){const[k,M,I]=D.split(".");if(void 0===k||void 0===M||void 0===I)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,Y.tV)(M);return R?JSON.parse(R):(Ge("Failed to decode base64 JWT payload"),null)}catch(R){return Ge("Caught error parsing JWT payload as JSON",R?.toString()),null}}function ht(D,k){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,m.Z)(function*(D,k,M=!1){if(M)return k;try{return yield k}catch(I){throw I instanceof Y.ZR&&function So({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}class Eo{constructor(k){this.user=k,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(k){var M;if(k){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const R=(null!==(M=this.user.stsTokenManager.expirationTime)&&void 0!==M?M:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(k=!1){var M=this;if(!this.isRunning)return;const I=this.getInterval(k);this.timerId=setTimeout((0,m.Z)(function*(){yield M.iteration()}),I)}iteration(){var k=this;return(0,m.Z)(function*(){try{yield k.user.getIdToken(!0)}catch(M){return void("auth/network-request-failed"===M?.code&&k.schedule(!0))}k.schedule()})()}}class ur{constructor(k,M){this.createdAt=k,this.lastLoginAt=M,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(k){this.createdAt=k.createdAt,this.lastLoginAt=k.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(D){return bi.apply(this,arguments)}function bi(){return bi=(0,m.Z)(function*(D){var k;const M=D.auth,I=yield D.getIdToken(),R=yield ht(D,function jr(D,k){return zt.apply(this,arguments)}(M,{idToken:I}));me(R?.users.length,M,"internal-error");const j=R.users[0];D._notifyReloadListener(j);const re=null!==(k=j.providerUserInfo)&&void 0!==k&&k.length?function gn(D){return D.map(k=>{var{providerId:M}=k,I=(0,we._T)(k,["providerId"]);return{providerId:M,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(j.providerUserInfo):[],ge=function w1(D,k){return[...D.filter(I=>!k.some(R=>R.providerId===I.providerId)),...k]}(D.providerData,re),_t=!!D.isAnonymous&&!(D.email&&j.passwordHash||ge?.length),lt={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:ge,metadata:new ur(j.createdAt,j.lastLoginAt),isAnonymous:_t};Object.assign(D,lt)}),bi.apply(this,arguments)}function Gn(){return(Gn=(0,m.Z)(function*(D){const k=(0,Y.m9)(D);yield er(k),yield k.auth._persistUserIfCurrent(k),k.auth._notifyListenersIfCurrent(k)})).apply(this,arguments)}function fn(){return(fn=(0,m.Z)(function*(D,k){const M=yield wt(D,{},(0,m.Z)(function*(){const I=(0,Y.xO)({grant_type:"refresh_token",refresh_token:k}).slice(1),{tokenApiHost:R,apiKey:j}=D.config,re=Yn(D,R,"/v1/token",`key=${j}`),ge=yield D._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(re,{method:"POST",headers:ge,body:I})}));return{accessToken:M.access_token,expiresIn:M.expires_in,refreshToken:M.refresh_token}})).apply(this,arguments)}class Kn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(k){me(k.idToken,"internal-error"),me(typeof k.idToken<"u","internal-error"),me(typeof k.refreshToken<"u","internal-error");const M="expiresIn"in k&&typeof k.expiresIn<"u"?Number(k.expiresIn):function En(D){const k=An(D);return me(k,"internal-error"),me(typeof k.exp<"u","internal-error"),me(typeof k.iat<"u","internal-error"),Number(k.exp)-Number(k.iat)}(k.idToken);this.updateTokensAndExpiration(k.idToken,k.refreshToken,M)}getToken(k,M=!1){var I=this;return(0,m.Z)(function*(){return me(!I.accessToken||I.refreshToken,k,"user-token-expired"),M||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(k,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(k,M){var I=this;return(0,m.Z)(function*(){const{accessToken:R,refreshToken:j,expiresIn:re}=yield function cs(D,k){return fn.apply(this,arguments)}(k,M);I.updateTokensAndExpiration(R,j,Number(re))})()}updateTokensAndExpiration(k,M,I){this.refreshToken=M||null,this.accessToken=k||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(k,M){const{refreshToken:I,accessToken:R,expirationTime:j}=M,re=new Kn;return I&&(me("string"==typeof I,"internal-error",{appName:k}),re.refreshToken=I),R&&(me("string"==typeof R,"internal-error",{appName:k}),re.accessToken=R),j&&(me("number"==typeof j,"internal-error",{appName:k}),re.expirationTime=j),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(k){this.accessToken=k.accessToken,this.refreshToken=k.refreshToken,this.expirationTime=k.expirationTime}_clone(){return Object.assign(new Kn,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Mn(D,k){me("string"==typeof D||typeof D>"u","internal-error",{appName:k})}class Bi{constructor(k){var{uid:M,auth:I,stsTokenManager:R}=k,j=(0,we._T)(k,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=M,this.auth=I,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new ur(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(k){var M=this;return(0,m.Z)(function*(){const I=yield ht(M,M.stsTokenManager.getToken(M.auth,k));return me(I,M.auth,"internal-error"),M.accessToken!==I&&(M.accessToken=I,yield M.auth._persistUserIfCurrent(M),M.auth._notifyListenersIfCurrent(M)),I})()}getIdTokenResult(k){return function Xi(D){return Hn.apply(this,arguments)}(this,k)}reload(){return function Do(D){return Gn.apply(this,arguments)}(this)}_assign(k){this!==k&&(me(this.uid===k.uid,this.auth,"internal-error"),this.displayName=k.displayName,this.photoURL=k.photoURL,this.email=k.email,this.emailVerified=k.emailVerified,this.phoneNumber=k.phoneNumber,this.isAnonymous=k.isAnonymous,this.tenantId=k.tenantId,this.providerData=k.providerData.map(M=>Object.assign({},M)),this.metadata._copy(k.metadata),this.stsTokenManager._assign(k.stsTokenManager))}_clone(k){const M=new Bi(Object.assign(Object.assign({},this),{auth:k,stsTokenManager:this.stsTokenManager._clone()}));return M.metadata._copy(this.metadata),M}_onReload(k){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=k,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(k){this.reloadListener?this.reloadListener(k):this.reloadUserInfo=k}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(k,M=!1){var I=this;return(0,m.Z)(function*(){let R=!1;k.idToken&&k.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(k),R=!0),M&&(yield er(I)),yield I.auth._persistUserIfCurrent(I),R&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var k=this;return(0,m.Z)(function*(){const M=yield k.getIdToken();return yield ht(k,function Ji(D,k){return Gt.apply(this,arguments)}(k.auth,{idToken:M})),k.stsTokenManager.clearRefreshToken(),k.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(k=>Object.assign({},k)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(k,M){var I,R,j,re,ge,qe,et,_t;const lt=null!==(I=M.displayName)&&void 0!==I?I:void 0,Tn=null!==(R=M.email)&&void 0!==R?R:void 0,vs=null!==(j=M.phoneNumber)&&void 0!==j?j:void 0,F3=null!==(re=M.photoURL)&&void 0!==re?re:void 0,B3=null!==(ge=M.tenantId)&&void 0!==ge?ge:void 0,Si=null!==(qe=M._redirectEventId)&&void 0!==qe?qe:void 0,F0=null!==(et=M.createdAt)&&void 0!==et?et:void 0,B0=null!==(_t=M.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:j3,emailVerified:Fo,isAnonymous:Mc,providerData:j0,stsTokenManager:R5}=M;me(j3&&R5,k,"internal-error");const O5=Kn.fromJSON(this.name,R5);me("string"==typeof j3,k,"internal-error"),Mn(lt,k.name),Mn(Tn,k.name),me("boolean"==typeof Fo,k,"internal-error"),me("boolean"==typeof Mc,k,"internal-error"),Mn(vs,k.name),Mn(F3,k.name),Mn(B3,k.name),Mn(Si,k.name),Mn(F0,k.name),Mn(B0,k.name);const U0=new Bi({uid:j3,auth:k,email:Tn,emailVerified:Fo,displayName:lt,isAnonymous:Mc,photoURL:F3,phoneNumber:vs,tenantId:B3,stsTokenManager:O5,createdAt:F0,lastLoginAt:B0});return j0&&Array.isArray(j0)&&(U0.providerData=j0.map(G0=>Object.assign({},G0))),Si&&(U0._redirectEventId=Si),U0}static _fromIdTokenResponse(k,M,I=!1){return(0,m.Z)(function*(){const R=new Kn;R.updateFromServerResponse(M);const j=new Bi({uid:M.localId,auth:k,stsTokenManager:R,isAnonymous:I});return yield er(j),j})()}}const Zo=new Map;function ni(D){nt(D instanceof Function,"Expected a class definition");let k=Zo.get(D);return k?(nt(k instanceof D,"Instance stored in cache mismatched with class"),k):(k=new D,Zo.set(D,k),k)}const xr=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(M,I){var R=this;return(0,m.Z)(function*(){R.storage[M]=I})()}_get(M){var I=this;return(0,m.Z)(function*(){const R=I.storage[M];return void 0===R?null:R})()}_remove(M){var I=this;return(0,m.Z)(function*(){delete I.storage[M]})()}_addListener(M,I){}_removeListener(M,I){}}return D.type="NONE",D})();function oe(D,k,M){return`firebase:${D}:${k}:${M}`}class te{constructor(k,M,I){this.persistence=k,this.auth=M,this.userKey=I;const{config:R,name:j}=this.auth;this.fullUserKey=oe(this.userKey,R.apiKey,j),this.fullPersistenceKey=oe("persistence",R.apiKey,j),this.boundEventHandler=M._onStorageEvent.bind(M),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(k){return this.persistence._set(this.fullUserKey,k.toJSON())}getCurrentUser(){var k=this;return(0,m.Z)(function*(){const M=yield k.persistence._get(k.fullUserKey);return M?Bi._fromJSON(k.auth,M):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(k){var M=this;return(0,m.Z)(function*(){if(M.persistence===k)return;const I=yield M.getCurrentUser();return yield M.removeCurrentUser(),M.persistence=k,I?M.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(k,M,I="authUser"){return(0,m.Z)(function*(){if(!M.length)return new te(ni(xr),k,I);const R=(yield Promise.all(M.map(function(){var et=(0,m.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return et.apply(this,arguments)}}()))).filter(et=>et);let j=R[0]||ni(xr);const re=oe(I,k.config.apiKey,k.name);let ge=null;for(const et of M)try{const _t=yield et._get(re);if(_t){const lt=Bi._fromJSON(k,_t);et!==j&&(ge=lt),j=et;break}}catch{}const qe=R.filter(et=>et._shouldAllowMigration);return j._shouldAllowMigration&&qe.length?(j=qe[0],ge&&(yield j._set(re,ge.toJSON())),yield Promise.all(M.map(function(){var et=(0,m.Z)(function*(_t){if(_t!==j)try{yield _t._remove(re)}catch{}});return function(_t){return et.apply(this,arguments)}}())),new te(j,k,I)):new te(j,k,I)})()}}function ue(D){const k=D.toLowerCase();if(k.includes("opera/")||k.includes("opr/")||k.includes("opios/"))return"Opera";if(At(k))return"IEMobile";if(k.includes("msie")||k.includes("trident/"))return"IE";if(k.includes("edge/"))return"Edge";if(Ne(k))return"Firefox";if(k.includes("silk/"))return"Silk";if(ai(k))return"Blackberry";if(Qn(k))return"Webos";if(_e(k))return"Safari";if((k.includes("chrome/")||Je(k))&&!k.includes("edge/"))return"Chrome";if(bn(k))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Ne(D=(0,Y.z$)()){return/firefox\//i.test(D)}function _e(D=(0,Y.z$)()){const k=D.toLowerCase();return k.includes("safari/")&&!k.includes("chrome/")&&!k.includes("crios/")&&!k.includes("android")}function Je(D=(0,Y.z$)()){return/crios\//i.test(D)}function At(D=(0,Y.z$)()){return/iemobile/i.test(D)}function bn(D=(0,Y.z$)()){return/android/i.test(D)}function ai(D=(0,Y.z$)()){return/blackberry/i.test(D)}function Qn(D=(0,Y.z$)()){return/webos/i.test(D)}function Vn(D=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Ss(D=(0,Y.z$)()){return Vn(D)||bn(D)||Qn(D)||ai(D)||/windows phone/i.test(D)||At(D)}function Se(D,k=[]){let M;switch(D){case"Browser":M=ue((0,Y.z$)());break;case"Worker":M=`${ue((0,Y.z$)())}-${D}`;break;default:M=D}const I=k.length?k.join(","):"FirebaseCore-web";return`${M}/JsCore/${se.SDK_VERSION}/${I}`}function Ke(){return(Ke=(0,m.Z)(function*(D){return(yield Be(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function It(D,k){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,m.Z)(function*(D,k){return Be(D,"GET","/v2/recaptchaConfig",Ue(D,k))})).apply(this,arguments)}function cn(D){return void 0!==D&&void 0!==D.getResponse}function Lt(D){return void 0!==D&&void 0!==D.enterprise}class xn{constructor(k){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===k.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=k.recaptchaKey.split("/")[3],this.emailPasswordEnabled=k.recaptchaEnforcementState.some(M=>"EMAIL_PASSWORD_PROVIDER"===M.provider&&"OFF"!==M.enforcementState)}}function hi(D){return new Promise((k,M)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=k,I.onerror=R=>{const j=be("internal-error");j.customData=R,M(j)},I.type="text/javascript",I.charset="UTF-8",function yn(){var D,k;return null!==(k=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==k?k:document}().appendChild(I)})}function wi(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Q1="NO_RECAPTCHA";class tr{constructor(k){this.type="recaptcha-enterprise",this.auth=Pn(k)}verify(k="verify",M=!1){var I=this;return(0,m.Z)(function*(){function j(){return j=(0,m.Z)(function*(ge){if(!M){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var qe=(0,m.Z)(function*(et,_t){It(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(void 0!==lt.recaptchaKey){const Tn=new xn(lt);return null==ge.tenantId?ge._agentRecaptchaConfig=Tn:ge._tenantRecaptchaConfigs[ge.tenantId]=Tn,et(Tn.siteKey)}_t(new Error("recaptcha Enterprise site key undefined"))}).catch(lt=>{_t(lt)})});return function(et,_t){return qe.apply(this,arguments)}}())}),j.apply(this,arguments)}function re(ge,qe,et){const _t=window.grecaptcha;Lt(_t)?_t.enterprise.ready(()=>{_t.enterprise.execute(ge,{action:k}).then(lt=>{qe(lt)}).catch(()=>{qe(Q1)})}):et(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,qe)=>{(function R(ge){return j.apply(this,arguments)})(I.auth).then(et=>{if(!M&&Lt(window.grecaptcha))re(et,ge,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));hi("https://www.google.com/recaptcha/enterprise.js?render="+et).then(()=>{re(et,ge,qe)}).catch(_t=>{qe(_t)})}}).catch(et=>{qe(et)})})})()}}function ut(D,k,M){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.Z)(function*(D,k,M,I=!1){const R=new tr(D);let j;try{j=yield R.verify(M)}catch{j=yield R.verify(M,!0)}const re=Object.assign({},k);return Object.assign(re,I?{captchaResp:j}:{captchaResponse:j}),Object.assign(re,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(re,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),re})).apply(this,arguments)}class ci{constructor(k){this.auth=k,this.queue=[]}pushCallback(k,M){const I=j=>new Promise((re,ge)=>{try{re(k(j))}catch(qe){ge(qe)}});I.onAbort=M,this.queue.push(I);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(k){var M=this;return(0,m.Z)(function*(){if(M.auth.currentUser===k)return;const I=[];try{for(const R of M.queue)yield R(k),R.onAbort&&I.push(R.onAbort)}catch(R){I.reverse();for(const j of I)try{j()}catch{}throw M.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class Ko{constructor(k,M,I,R){this.app=k,this.heartbeatServiceProvider=M,this.appCheckServiceProvider=I,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=k.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(k,M){var I=this;return M&&(this._popupRedirectResolver=ni(M)),this._initializationPromise=this.queue((0,m.Z)(function*(){var R,j;if(!I._deleted&&(I.persistenceManager=yield te.create(I,k),!I._deleted)){if(null!==(R=I._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(M),I.lastNotifiedUid=(null===(j=I.currentUser)||void 0===j?void 0:j.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var k=this;return(0,m.Z)(function*(){if(k._deleted)return;const M=yield k.assertedPersistence.getCurrentUser();if(k.currentUser||M){if(k.currentUser&&M&&k.currentUser.uid===M.uid)return k._currentUser._assign(M),void(yield k.currentUser.getIdToken());yield k._updateCurrentUser(M,!0)}})()}initializeCurrentUser(k){var M=this;return(0,m.Z)(function*(){var I;const R=yield M.assertedPersistence.getCurrentUser();let j=R,re=!1;if(k&&M.config.authDomain){yield M.getOrInitRedirectPersistenceManager();const ge=null===(I=M.redirectUser)||void 0===I?void 0:I._redirectEventId,qe=j?._redirectEventId,et=yield M.tryRedirectSignIn(k);(!ge||ge===qe)&&et?.user&&(j=et.user,re=!0)}if(!j)return M.directlySetCurrentUser(null);if(!j._redirectEventId){if(re)try{yield M.beforeStateQueue.runMiddleware(j)}catch(ge){j=R,M._popupRedirectResolver._overrideRedirectResult(M,()=>Promise.reject(ge))}return j?M.reloadAndSetCurrentUserOrClear(j):M.directlySetCurrentUser(null)}return me(M._popupRedirectResolver,M,"argument-error"),yield M.getOrInitRedirectPersistenceManager(),M.redirectUser&&M.redirectUser._redirectEventId===j._redirectEventId?M.directlySetCurrentUser(j):M.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(k){var M=this;return(0,m.Z)(function*(){let I=null;try{I=yield M._popupRedirectResolver._completeRedirectFn(M,k,!0)}catch{yield M._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(k){var M=this;return(0,m.Z)(function*(){try{yield er(k)}catch(I){if("auth/network-request-failed"!==I?.code)return M.directlySetCurrentUser(null)}return M.directlySetCurrentUser(k)})()}useDeviceLanguage(){this.languageCode=function Br(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var k=this;return(0,m.Z)(function*(){k._deleted=!0})()}updateCurrentUser(k){var M=this;return(0,m.Z)(function*(){const I=k?(0,Y.m9)(k):null;return I&&me(I.auth.config.apiKey===M.config.apiKey,M,"invalid-user-token"),M._updateCurrentUser(I&&I._clone(M))})()}_updateCurrentUser(k,M=!1){var I=this;return(0,m.Z)(function*(){if(!I._deleted)return k&&me(I.tenantId===k.tenantId,I,"tenant-id-mismatch"),M||(yield I.beforeStateQueue.runMiddleware(k)),I.queue((0,m.Z)(function*(){yield I.directlySetCurrentUser(k),I.notifyAuthListeners()}))})()}signOut(){var k=this;return(0,m.Z)(function*(){return yield k.beforeStateQueue.runMiddleware(null),(k.redirectPersistenceManager||k._popupRedirectResolver)&&(yield k._setRedirectUser(null)),k._updateCurrentUser(null,!0)})()}setPersistence(k){var M=this;return this.queue((0,m.Z)(function*(){yield M.assertedPersistence.setPersistence(ni(k))}))}initializeRecaptchaConfig(){var k=this;return(0,m.Z)(function*(){const M=yield It(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new xn(M);null==k.tenantId?k._agentRecaptchaConfig=I:k._tenantRecaptchaConfigs[k.tenantId]=I,I.emailPasswordEnabled&&new tr(k).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(k){this._errorFactory=new Y.LL("auth","Firebase",k())}onAuthStateChanged(k,M,I){return this.registerStateListener(this.authStateSubscription,k,M,I)}beforeAuthStateChanged(k,M){return this.beforeStateQueue.pushCallback(k,M)}onIdTokenChanged(k,M,I){return this.registerStateListener(this.idTokenSubscription,k,M,I)}toJSON(){var k;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(k=this._currentUser)||void 0===k?void 0:k.toJSON()}}_setRedirectUser(k,M){var I=this;return(0,m.Z)(function*(){const R=yield I.getOrInitRedirectPersistenceManager(M);return null===k?R.removeCurrentUser():R.setCurrentUser(k)})()}getOrInitRedirectPersistenceManager(k){var M=this;return(0,m.Z)(function*(){if(!M.redirectPersistenceManager){const I=k&&ni(k)||M._popupRedirectResolver;me(I,M,"argument-error"),M.redirectPersistenceManager=yield te.create(M,[ni(I._redirectPersistence)],"redirectUser"),M.redirectUser=yield M.redirectPersistenceManager.getCurrentUser()}return M.redirectPersistenceManager})()}_redirectUserForId(k){var M=this;return(0,m.Z)(function*(){var I,R;return M._isInitialized&&(yield M.queue((0,m.Z)(function*(){}))),(null===(I=M._currentUser)||void 0===I?void 0:I._redirectEventId)===k?M._currentUser:(null===(R=M.redirectUser)||void 0===R?void 0:R._redirectEventId)===k?M.redirectUser:null})()}_persistUserIfCurrent(k){var M=this;return(0,m.Z)(function*(){if(k===M.currentUser)return M.queue((0,m.Z)(function*(){return M.directlySetCurrentUser(k)}))})()}_notifyListenersIfCurrent(k){k===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var k,M;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(M=null===(k=this.currentUser)||void 0===k?void 0:k.uid)&&void 0!==M?M:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(k,M,I,R){if(this._deleted)return()=>{};const j="function"==typeof M?M:M.next.bind(M),re=this._isInitialized?Promise.resolve():this._initializationPromise;return me(re,this,"internal-error"),re.then(()=>j(this.currentUser)),"function"==typeof M?k.addObserver(M,I,R):k.addObserver(M)}directlySetCurrentUser(k){var M=this;return(0,m.Z)(function*(){M.currentUser&&M.currentUser!==k&&M._currentUser._stopProactiveRefresh(),k&&M.isProactiveRefreshEnabled&&k._startProactiveRefresh(),M.currentUser=k,k?yield M.assertedPersistence.setCurrentUser(k):yield M.assertedPersistence.removeCurrentUser()})()}queue(k){return this.operations=this.operations.then(k,k),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(k){!k||this.frameworks.includes(k)||(this.frameworks.push(k),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var k=this;return(0,m.Z)(function*(){var M;const I={"X-Client-Version":k.clientVersion};k.app.options.appId&&(I["X-Firebase-gmpid"]=k.app.options.appId);const R=yield null===(M=k.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getHeartbeatsHeader();R&&(I["X-Firebase-Client"]=R);const j=yield k._getAppCheckToken();return j&&(I["X-Firebase-AppCheck"]=j),I})()}_getAppCheckToken(){var k=this;return(0,m.Z)(function*(){var M;const I=yield null===(M=k.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===M?void 0:M.getToken();return I?.error&&function Ze(D,...k){je.logLevel<=Z.in.WARN&&je.warn(`Auth (${se.SDK_VERSION}): ${D}`,...k)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Pn(D){return(0,Y.m9)(D)}class ji{constructor(k){this.auth=k,this.observer=null,this.addObserver=(0,Y.ne)(M=>this.observer=M)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fi(D){const k=D.indexOf(":");return k<0?"":D.substr(0,k+1)}function J2(D){if(!D)return null;const k=Number(D);return isNaN(k)?null:k}class ds{constructor(k,M){this.providerId=k,this.signInMethod=M}toJSON(){return vt("not implemented")}_getIdTokenResponse(k){return vt("not implemented")}_linkToIdToken(k,M){return vt("not implemented")}_getReauthenticationResolver(k){return vt("not implemented")}}function $s(D,k){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:resetPassword",Ue(D,k))})).apply(this,arguments)}function $a(D,k){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function X1(){return(X1=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:update",Ue(D,k))})).apply(this,arguments)}function li(D,k){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithPassword",Ue(D,k))})).apply(this,arguments)}function zo(D,k){return X2.apply(this,arguments)}function X2(){return(X2=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:sendOobCode",Ue(D,k))})).apply(this,arguments)}function Za(){return(Za=(0,m.Z)(function*(D,k){return zo(D,k)})).apply(this,arguments)}function k1(D,k){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,m.Z)(function*(D,k){return zo(D,k)})).apply(this,arguments)}function dr(D,k){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,m.Z)(function*(D,k){return zo(D,k)})).apply(this,arguments)}function Io(){return(Io=(0,m.Z)(function*(D,k){return zo(D,k)})).apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithEmailLink",Ue(D,k))})).apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithEmailLink",Ue(D,k))})).apply(this,arguments)}class ta extends ds{constructor(k,M,I,R=null){super("password",I),this._email=k,this._password=M,this._tenantId=R}static _fromEmailAndPassword(k,M){return new ta(k,M,"password")}static _fromEmailAndCode(k,M,I=null){return new ta(k,M,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(k){const M="string"==typeof k?JSON.parse(k):k;if(M?.email&&M?.password){if("password"===M.signInMethod)return this._fromEmailAndPassword(M.email,M.password);if("emailLink"===M.signInMethod)return this._fromEmailAndCode(M.email,M.password,M.tenantId)}return null}_getIdTokenResponse(k){var M=this;return(0,m.Z)(function*(){var I;switch(M.signInMethod){case"password":const R={returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=k._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const j=yield ut(k,R,"signInWithPassword");return li(k,j)}return li(k,R).catch(function(){var j=(0,m.Z)(function*(re){if("auth/missing-recaptcha-token"===re.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield ut(k,R,"signInWithPassword");return li(k,ge)}return Promise.reject(re)});return function(re){return j.apply(this,arguments)}}());case"emailLink":return function ec(D,k){return fs.apply(this,arguments)}(k,{email:M._email,oobCode:M._password});default:Le(k,"internal-error")}})()}_linkToIdToken(k,M){var I=this;return(0,m.Z)(function*(){switch(I.signInMethod){case"password":return $a(k,{idToken:M,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ea(D,k){return nr.apply(this,arguments)}(k,{idToken:M,email:I._email,oobCode:I._password});default:Le(k,"internal-error")}})()}_getReauthenticationResolver(k){return this._getIdTokenResponse(k)}}function To(D,k){return Q4.apply(this,arguments)}function Q4(){return(Q4=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithIdp",Ue(D,k))})).apply(this,arguments)}class co extends ds{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(k){const M=new co(k.providerId,k.signInMethod);return k.idToken||k.accessToken?(k.idToken&&(M.idToken=k.idToken),k.accessToken&&(M.accessToken=k.accessToken),k.nonce&&!k.pendingToken&&(M.nonce=k.nonce),k.pendingToken&&(M.pendingToken=k.pendingToken)):k.oauthToken&&k.oauthTokenSecret?(M.accessToken=k.oauthToken,M.secret=k.oauthTokenSecret):Le("argument-error"),M}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(k){const M="string"==typeof k?JSON.parse(k):k,{providerId:I,signInMethod:R}=M,j=(0,we._T)(M,["providerId","signInMethod"]);if(!I||!R)return null;const re=new co(I,R);return re.idToken=j.idToken||void 0,re.accessToken=j.accessToken||void 0,re.secret=j.secret,re.nonce=j.nonce,re.pendingToken=j.pendingToken||null,re}_getIdTokenResponse(k){return To(k,this.buildRequest())}_linkToIdToken(k,M){const I=this.buildRequest();return I.idToken=M,To(k,I)}_getReauthenticationResolver(k){const M=this.buildRequest();return M.autoCreate=!1,To(k,M)}buildRequest(){const k={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)k.pendingToken=this.pendingToken;else{const M={};this.idToken&&(M.id_token=this.idToken),this.accessToken&&(M.access_token=this.accessToken),this.secret&&(M.oauth_token_secret=this.secret),M.providerId=this.providerId,this.nonce&&!this.pendingToken&&(M.nonce=this.nonce),k.postBody=(0,Y.xO)(M)}return k}}function bl(){return(bl=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:sendVerificationCode",Ue(D,k))})).apply(this,arguments)}function yl(){return(yl=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithPhoneNumber",Ue(D,k))})).apply(this,arguments)}function Xc(){return(Xc=(0,m.Z)(function*(D,k){const M=yield xt(D,"POST","/v1/accounts:signInWithPhoneNumber",Ue(D,k));if(M.temporaryProof)throw Ci(D,"account-exists-with-different-credential",M);return M})).apply(this,arguments)}const e3={USER_NOT_FOUND:"user-not-found"};function tc(){return(tc=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithPhoneNumber",Ue(D,Object.assign(Object.assign({},k),{operation:"REAUTH"})),e3)})).apply(this,arguments)}class ui extends ds{constructor(k){super("phone","phone"),this.params=k}static _fromVerification(k,M){return new ui({verificationId:k,verificationCode:M})}static _fromTokenResponse(k,M){return new ui({phoneNumber:k,temporaryProof:M})}_getIdTokenResponse(k){return function J4(D,k){return yl.apply(this,arguments)}(k,this._makeVerificationRequest())}_linkToIdToken(k,M){return function M5(D,k){return Xc.apply(this,arguments)}(k,Object.assign({idToken:M},this._makeVerificationRequest()))}_getReauthenticationResolver(k){return function y7(D,k){return tc.apply(this,arguments)}(k,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:k,phoneNumber:M,verificationId:I,verificationCode:R}=this.params;return k&&M?{temporaryProof:k,phoneNumber:M}:{sessionInfo:I,code:R}}toJSON(){const k={providerId:this.providerId};return this.params.phoneNumber&&(k.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(k.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(k.verificationCode=this.params.verificationCode),this.params.verificationId&&(k.verificationId=this.params.verificationId),k}static fromJSON(k){"string"==typeof k&&(k=JSON.parse(k));const{verificationId:M,verificationCode:I,phoneNumber:R,temporaryProof:j}=k;return I||M||R||j?new ui({verificationId:M,verificationCode:I,phoneNumber:R,temporaryProof:j}):null}}class Ka{constructor(k){var M,I,R,j,re,ge;const qe=(0,Y.zd)((0,Y.pd)(k)),et=null!==(M=qe.apiKey)&&void 0!==M?M:null,_t=null!==(I=qe.oobCode)&&void 0!==I?I:null,lt=function X4(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=qe.mode)&&void 0!==R?R:null);me(et&&_t&&lt,"argument-error"),this.apiKey=et,this.operation=lt,this.code=_t,this.continueUrl=null!==(j=qe.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(re=qe.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(ge=qe.tenantId)&&void 0!==ge?ge:null}static parseLink(k){const M=function Ya(D){const k=(0,Y.zd)((0,Y.pd)(D)).link,M=k?(0,Y.zd)((0,Y.pd)(k)).deep_link_id:null,I=(0,Y.zd)((0,Y.pd)(D)).deep_link_id;return(I?(0,Y.zd)((0,Y.pd)(I)).link:null)||I||M||k||D}(k);try{return new Ka(M)}catch{return null}}}let t3=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(M,I){return ta._fromEmailAndPassword(M,I)}static credentialWithLink(M,I){const R=Ka.parseLink(I);return me(R,"argument-error"),ta._fromEmailAndCode(M,R.code,R.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ys{constructor(k){this.providerId=k,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(k){this.defaultLanguageCode=k}setCustomParameters(k){return this.customParameters=k,this}getCustomParameters(){return this.customParameters}}class ms extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(k){return this.scopes.includes(k)||this.scopes.push(k),this}getScopes(){return[...this.scopes]}}class Dn extends ms{static credentialFromJSON(k){const M="string"==typeof k?JSON.parse(k):k;return me("providerId"in M&&"signInMethod"in M,"argument-error"),co._fromParams(M)}credential(k){return this._credential(Object.assign(Object.assign({},k),{nonce:k.rawNonce}))}_credential(k){return me(k.idToken||k.accessToken,"argument-error"),co._fromParams(Object.assign(Object.assign({},k),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(k){return Dn.oauthCredentialFromTaggedObject(k)}static credentialFromError(k){return Dn.oauthCredentialFromTaggedObject(k.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthIdToken:M,oauthAccessToken:I,oauthTokenSecret:R,pendingToken:j,nonce:re,providerId:ge}=k;if(!I&&!R&&!M&&!j||!ge)return null;try{return new Dn(ge)._credential({idToken:M,accessToken:I,nonce:re,pendingToken:j})}catch{return null}}}let Cl=(()=>{class D extends ms{constructor(){super("facebook.com")}static credential(M){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return D.credentialFromTaggedObject(M)}static credentialFromError(M){return D.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return D.credential(M.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),na=(()=>{class D extends ms{constructor(){super("google.com"),this.addScope("profile")}static credential(M,I){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:M,accessToken:I})}static credentialFromResult(M){return D.credentialFromTaggedObject(M)}static credentialFromError(M){return D.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthIdToken:I,oauthAccessToken:R}=M;if(!I&&!R)return null;try{return D.credential(I,R)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),wl=(()=>{class D extends ms{constructor(){super("github.com")}static credential(M){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:M})}static credentialFromResult(M){return D.credentialFromTaggedObject(M)}static credentialFromError(M){return D.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M||!("oauthAccessToken"in M)||!M.oauthAccessToken)return null;try{return D.credential(M.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ds extends ds{constructor(k,M){super(k,k),this.pendingToken=M}_getIdTokenResponse(k){return To(k,this.buildRequest())}_linkToIdToken(k,M){const I=this.buildRequest();return I.idToken=M,To(k,I)}_getReauthenticationResolver(k){const M=this.buildRequest();return M.autoCreate=!1,To(k,M)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(k){const M="string"==typeof k?JSON.parse(k):k,{providerId:I,signInMethod:R,pendingToken:j}=M;return I&&R&&j&&I===R?new Ds(I,j):null}static _create(k,M){return new Ds(k,M)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ja extends Ys{constructor(k){me(k.startsWith("saml."),"argument-error"),super(k)}static credentialFromResult(k){return Ja.samlCredentialFromTaggedObject(k)}static credentialFromError(k){return Ja.samlCredentialFromTaggedObject(k.customData||{})}static credentialFromJSON(k){const M=Ds.fromJSON(k);return me(M,"argument-error"),M}static samlCredentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{pendingToken:M,providerId:I}=k;if(!M||!I)return null;try{return Ds._create(I,M)}catch{return null}}}let Xa=(()=>{class D extends ms{constructor(){super("twitter.com")}static credential(M,I){return co._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:M,oauthTokenSecret:I})}static credentialFromResult(M){return D.credentialFromTaggedObject(M)}static credentialFromError(M){return D.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{oauthAccessToken:I,oauthTokenSecret:R}=M;if(!I||!R)return null;try{return D.credential(I,R)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function A1(D,k){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signUp",Ue(D,k))})).apply(this,arguments)}class qr{constructor(k){this.user=k.user,this.providerId=k.providerId,this._tokenResponse=k._tokenResponse,this.operationType=k.operationType}static _fromIdTokenResponse(k,M,I,R=!1){return(0,m.Z)(function*(){const j=yield Bi._fromIdTokenResponse(k,I,R),re=ra(I);return new qr({user:j,providerId:re,_tokenResponse:I,operationType:M})})()}static _forOperation(k,M,I){return(0,m.Z)(function*(){yield k._updateTokensIfNecessary(I,!0);const R=ra(I);return new qr({user:k,providerId:R,_tokenResponse:I,operationType:M})})()}}function ra(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function e2(){return(e2=(0,m.Z)(function*(D){var k;const M=Pn(D);if(yield M._initializationPromise,null!==(k=M.currentUser)&&void 0!==k&&k.isAnonymous)return new qr({user:M.currentUser,providerId:null,operationType:"signIn"});const I=yield A1(M,{returnSecureToken:!0}),R=yield qr._fromIdTokenResponse(M,"signIn",I,!0);return yield M._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ks extends Y.ZR{constructor(k,M,I,R){var j;super(M.code,M.message),this.operationType=I,this.user=R,Object.setPrototypeOf(this,Ks.prototype),this.customData={appName:k.name,tenantId:null!==(j=k.tenantId)&&void 0!==j?j:void 0,_serverResponse:M.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(k,M,I,R){return new Ks(k,M,I,R)}}function Li(D,k,M,I){return("reauthenticate"===k?M._getReauthenticationResolver(D):M._getIdTokenResponse(D)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?Ks._fromErrorAndOperation(D,j,k,I):j})}function n3(D){return new Set(D.map(({providerId:k})=>k).filter(k=>!!k))}function $r(){return $r=(0,m.Z)(function*(D,k){const M=(0,Y.m9)(D);yield lo(!0,M,k);const{providerUserInfo:I}=yield function Mr(D,k){return xo.apply(this,arguments)}(M.auth,{idToken:yield M.getIdToken(),deleteProvider:[k]}),R=n3(I||[]);return M.providerData=M.providerData.filter(j=>R.has(j.providerId)),R.has("phone")||(M.phoneNumber=null),yield M.auth._persistUserIfCurrent(M),M}),$r.apply(this,arguments)}function ir(D,k){return r3.apply(this,arguments)}function r3(){return(r3=(0,m.Z)(function*(D,k,M=!1){const I=yield ht(D,k._linkToIdToken(D.auth,yield D.getIdToken()),M);return qr._forOperation(D,"link",I)})).apply(this,arguments)}function lo(D,k,M){return kl.apply(this,arguments)}function kl(){return(kl=(0,m.Z)(function*(D,k,M){yield er(k);const R=!1===D?"provider-already-linked":"no-such-provider";me(n3(k.providerData).has(M)===D,k.auth,R)})).apply(this,arguments)}function Qs(D,k){return oa.apply(this,arguments)}function oa(){return(oa=(0,m.Z)(function*(D,k,M=!1){const{auth:I}=D,R="reauthenticate";try{const j=yield ht(D,Li(I,R,k,D),M);me(j.idToken,I,"internal-error");const re=An(j.idToken);me(re,I,"internal-error");const{sub:ge}=re;return me(D.uid===ge,I,"user-mismatch"),qr._forOperation(D,R,j)}catch(j){throw"auth/user-not-found"===j?.code&&Le(I,"user-mismatch"),j}})).apply(this,arguments)}function t2(D,k){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,m.Z)(function*(D,k,M=!1){const I="signIn",R=yield Li(D,I,k),j=yield qr._fromIdTokenResponse(D,I,R);return M||(yield D._updateCurrentUser(j.user)),j})).apply(this,arguments)}function n2(D,k){return Al.apply(this,arguments)}function Al(){return(Al=(0,m.Z)(function*(D,k){return t2(Pn(D),k)})).apply(this,arguments)}function t0(D,k){return nc.apply(this,arguments)}function nc(){return(nc=(0,m.Z)(function*(D,k){const M=(0,Y.m9)(D);return yield lo(!1,M,k.providerId),ir(M,k)})).apply(this,arguments)}function n0(D,k){return ic.apply(this,arguments)}function ic(){return(ic=(0,m.Z)(function*(D,k){return Qs((0,Y.m9)(D),k)})).apply(this,arguments)}function o0(){return(o0=(0,m.Z)(function*(D,k){return xt(D,"POST","/v1/accounts:signInWithCustomToken",Ue(D,k))})).apply(this,arguments)}function en(){return en=(0,m.Z)(function*(D,k){const M=Pn(D),I=yield function r0(D,k){return o0.apply(this,arguments)}(M,{token:k,returnSecureToken:!0}),R=yield qr._fromIdTokenResponse(M,"signIn",I);return yield M._updateCurrentUser(R.user),R}),en.apply(this,arguments)}class rc{constructor(k,M){this.factorId=k,this.uid=M.mfaEnrollmentId,this.enrollmentTime=new Date(M.enrolledAt).toUTCString(),this.displayName=M.displayName}static _fromServerResponse(k,M){return"phoneInfo"in M?r2._fromServerResponse(k,M):"totpInfo"in M?Ni._fromServerResponse(k,M):Le(k,"internal-error")}}class r2 extends rc{constructor(k){super("phone",k),this.phoneNumber=k.phoneInfo}static _fromServerResponse(k,M){return new r2(M)}}class Ni extends rc{constructor(k){super("totp",k)}static _fromServerResponse(k,M){return new Ni(M)}}function sa(D,k,M){var I;me((null===(I=M.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),me(typeof M.dynamicLinkDomain>"u"||M.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),k.continueUrl=M.url,k.dynamicLinkDomain=M.dynamicLinkDomain,k.canHandleCodeInApp=M.handleCodeInApp,M.iOS&&(me(M.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),k.iOSBundleId=M.iOS.bundleId),M.android&&(me(M.android.packageName.length>0,D,"missing-android-pkg-name"),k.androidInstallApp=M.android.installApp,k.androidMinimumVersionCode=M.android.minimumVersion,k.androidPackageName=M.android.packageName)}function Sr(){return Sr=(0,m.Z)(function*(D,k,M){var I;const R=Pn(D),j={requestType:"PASSWORD_RESET",email:k,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const re=yield ut(R,j,"getOobCode",!0);M&&sa(R,re,M),yield k1(R,re)}else M&&sa(R,j,M),yield k1(R,j).catch(function(){var re=(0,m.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield ut(R,j,"getOobCode",!0);M&&sa(R,qe,M),yield k1(R,qe)}});return function(ge){return re.apply(this,arguments)}}())}),Sr.apply(this,arguments)}function s2(){return(s2=(0,m.Z)(function*(D,k,M){yield $s((0,Y.m9)(D),{oobCode:k,newPassword:M})})).apply(this,arguments)}function zs(){return zs=(0,m.Z)(function*(D,k){yield function hs(D,k){return X1.apply(this,arguments)}((0,Y.m9)(D),{oobCode:k})}),zs.apply(this,arguments)}function a2(D,k){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(D,k){const M=(0,Y.m9)(D),I=yield $s(M,{oobCode:k}),R=I.requestType;switch(me(R,M,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(I.newEmail,M,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(I.mfaInfo,M,"internal-error");default:me(I.email,M,"internal-error")}let j=null;return I.mfaInfo&&(j=rc._fromServerResponse(Pn(M),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:j},operation:R}})).apply(this,arguments)}function Is(){return(Is=(0,m.Z)(function*(D,k){const{data:M}=yield a2((0,Y.m9)(D),k);return M.email})).apply(this,arguments)}function Jo(){return Jo=(0,m.Z)(function*(D,k,M){var I;const R=Pn(D),j={returnSecureToken:!0,email:k,password:M,clientType:"CLIENT_TYPE_WEB"};let re;if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const et=yield ut(R,j,"signUpPassword");re=A1(R,et)}else re=A1(R,j).catch(function(){var et=(0,m.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lt=yield ut(R,j,"signUpPassword");return A1(R,lt)}return Promise.reject(_t)});return function(_t){return et.apply(this,arguments)}}());const ge=yield re.catch(et=>Promise.reject(et)),qe=yield qr._fromIdTokenResponse(R,"signIn",ge);return yield R._updateCurrentUser(qe.user),qe}),Jo.apply(this,arguments)}function Ts(){return Ts=(0,m.Z)(function*(D,k,M){var I;const R=Pn(D),j={requestType:"EMAIL_SIGNIN",email:k,clientType:"CLIENT_TYPE_WEB"};function re(ge,qe){me(qe.handleCodeInApp,R,"argument-error"),qe&&sa(R,ge,qe)}if(null!==(I=R._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const ge=yield ut(R,j,"getOobCode",!0);re(ge,M),yield dr(R,ge)}else re(j,M),yield dr(R,j).catch(function(){var ge=(0,m.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const et=yield ut(R,j,"getOobCode",!0);re(et,M),yield dr(R,et)}});return function(qe){return ge.apply(this,arguments)}}())}),Ts.apply(this,arguments)}function c2(){return(c2=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D),R=t3.credentialWithLink(k,M||Yt());return me(R._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),n2(I,R)})).apply(this,arguments)}function u2(){return(u2=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:createAuthUri",Ue(D,k))})).apply(this,arguments)}function a3(){return a3=(0,m.Z)(function*(D,k){const I={identifier:k,continueUri:gt()?Yt():"http://localhost"},{signinMethods:R}=yield function l2(D,k){return u2.apply(this,arguments)}((0,Y.m9)(D),I);return R||[]}),a3.apply(this,arguments)}function d2(){return d2=(0,m.Z)(function*(D,k){const M=(0,Y.m9)(D),R={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};k&&sa(M.auth,R,k);const{email:j}=yield function Wa(D,k){return Za.apply(this,arguments)}(M.auth,R);j!==D.email&&(yield D.reload())}),d2.apply(this,arguments)}function sc(){return sc=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:k};M&&sa(I.auth,j,M);const{email:re}=yield function hr(D,k){return Io.apply(this,arguments)}(I.auth,j);re!==D.email&&(yield D.reload())}),sc.apply(this,arguments)}function u3(){return(u3=(0,m.Z)(function*(D,k){return Be(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function d3(){return d3=(0,m.Z)(function*(D,{displayName:k,photoURL:M}){if(void 0===k&&void 0===M)return;const I=(0,Y.m9)(D),j={idToken:yield I.getIdToken(),displayName:k,photoUrl:M,returnSecureToken:!0},re=yield ht(I,function Ml(D,k){return u3.apply(this,arguments)}(I.auth,j));I.displayName=re.displayName||null,I.photoURL=re.photoUrl||null;const ge=I.providerData.find(({providerId:qe})=>"password"===qe);ge&&(ge.displayName=I.displayName,ge.photoURL=I.photoURL),yield I._updateTokensIfNecessary(re)}),d3.apply(this,arguments)}function mi(D,k,M){return ac.apply(this,arguments)}function ac(){return(ac=(0,m.Z)(function*(D,k,M){const{auth:I}=D,j={idToken:yield D.getIdToken(),returnSecureToken:!0};k&&(j.email=k),M&&(j.password=M);const re=yield ht(D,$a(I,j));yield D._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class M1{constructor(k,M,I={}){this.isNewUser=k,this.providerId=M,this.profile=I}}class ku extends M1{constructor(k,M,I,R){super(k,M,I),this.username=R}}class c0 extends M1{constructor(k,M){super(k,"facebook.com",M)}}class x5 extends ku{constructor(k,M){super(k,"github.com",M,"string"==typeof M?.login?M?.login:null)}}class h3 extends M1{constructor(k,M){super(k,"google.com",M)}}class xl extends ku{constructor(k,M,I){super(k,"twitter.com",M,I)}}function Sl(D){const{user:k,_tokenResponse:M}=D;return k.isAnonymous&&!M?{providerId:null,isNewUser:!1,profile:null}:function wu(D){var k,M;if(!D)return null;const{providerId:I}=D,R=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},j=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&D?.idToken){const re=null===(M=null===(k=An(D.idToken))||void 0===k?void 0:k.firebase)||void 0===M?void 0:M.sign_in_provider;if(re)return new M1(j,"anonymous"!==re&&"custom"!==re?re:null)}if(!I)return null;switch(I){case"facebook.com":return new c0(j,R);case"github.com":return new x5(j,R);case"google.com":return new h3(j,R);case"twitter.com":return new xl(j,R,D.screenName||null);case"custom":case"anonymous":return new M1(j,null);default:return new M1(j,I,R)}}(M)}class x1{constructor(k,M,I){this.type=k,this.credential=M,this.auth=I}static _fromIdtoken(k,M){return new x1("enroll",k,M)}static _fromMfaPendingCredential(k){return new x1("signin",k)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(k){var M,I;if(k?.multiFactorSession){if(null!==(M=k.multiFactorSession)&&void 0!==M&&M.pendingCredential)return x1._fromMfaPendingCredential(k.multiFactorSession.pendingCredential);if(null!==(I=k.multiFactorSession)&&void 0!==I&&I.idToken)return x1._fromIdtoken(k.multiFactorSession.idToken)}return null}}class ca{constructor(k,M,I){this.session=k,this.hints=M,this.signInResolver=I}static _fromError(k,M){const I=Pn(k),R=M.customData._serverResponse,j=(R.mfaInfo||[]).map(ge=>rc._fromServerResponse(I,ge));me(R.mfaPendingCredential,I,"internal-error");const re=x1._fromMfaPendingCredential(R.mfaPendingCredential);return new ca(re,j,function(){var ge=(0,m.Z)(function*(qe){const et=yield qe._process(I,re);delete R.mfaInfo,delete R.mfaPendingCredential;const _t=Object.assign(Object.assign({},R),{idToken:et.idToken,refreshToken:et.refreshToken});switch(M.operationType){case"signIn":const lt=yield qr._fromIdTokenResponse(I,M.operationType,_t);return yield I._updateCurrentUser(lt.user),lt;case"reauthenticate":return me(M.user,I,"internal-error"),qr._forOperation(M.user,M.operationType,_t);default:Le(I,"internal-error")}});return function(qe){return ge.apply(this,arguments)}}())}resolveSignIn(k){var M=this;return(0,m.Z)(function*(){return M.signInResolver(k)})()}}class da{constructor(k){this.user=k,this.enrolledFactors=[],k._onReload(M=>{M.mfaInfo&&(this.enrolledFactors=M.mfaInfo.map(I=>rc._fromServerResponse(k.auth,I)))})}static _fromUser(k){return new da(k)}getSession(){var k=this;return(0,m.Z)(function*(){return x1._fromIdtoken(yield k.user.getIdToken(),k.user.auth)})()}enroll(k,M){var I=this;return(0,m.Z)(function*(){const R=k,j=yield I.getSession(),re=yield ht(I.user,R._process(I.user.auth,j,M));return yield I.user._updateTokensIfNecessary(re),I.user.reload()})()}unenroll(k){var M=this;return(0,m.Z)(function*(){const I="string"==typeof k?k:k.uid,R=yield M.user.getIdToken();try{const j=yield ht(M.user,function p3(D,k){return Be(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ue(D,k))}(M.user.auth,{idToken:R,mfaEnrollmentId:I}));M.enrolledFactors=M.enrolledFactors.filter(({uid:re})=>re!==I),yield M.user._updateTokensIfNecessary(j),yield M.user.reload()}catch(j){throw j}})()}}const e1=new WeakMap,ha="__sak";class uc{constructor(k,M){this.storageRetriever=k,this.type=M}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(k,M){return this.storage.setItem(k,JSON.stringify(M)),Promise.resolve()}_get(k){const M=this.storage.getItem(k);return Promise.resolve(M?JSON.parse(M):null)}_remove(k){return this.storage.removeItem(k),Promise.resolve()}get storage(){return this.storageRetriever()}}const S1=(()=>{class D extends uc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(M,I)=>this.onStorageEvent(M,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function In(){const D=(0,Y.z$)();return _e(D)||Vn(D)}()&&function Es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ss(),this._shouldAllowMigration=!0}forAllChangedKeys(M){for(const I of Object.keys(this.listeners)){const R=this.storage.getItem(I),j=this.localCache[I];R!==j&&M(I,j,R)}}onStorageEvent(M,I=!1){if(!M.key)return void this.forAllChangedKeys((ge,qe,et)=>{this.notifyListeners(ge,et)});const R=M.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(R);if(M.newValue!==ge)null!==M.newValue?this.storage.setItem(R,M.newValue):this.storage.removeItem(R);else if(this.localCache[R]===M.newValue&&!I)return}const j=()=>{const ge=this.storage.getItem(R);!I&&this.localCache[R]===ge||this.notifyListeners(R,ge)},re=this.storage.getItem(R);!function ls(){return(0,Y.w1)()&&10===document.documentMode}()||re===M.newValue||M.newValue===M.oldValue?j():setTimeout(j,10)}notifyListeners(M,I){this.localCache[M]=I;const R=this.listeners[M];if(R)for(const j of Array.from(R))j(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((M,I,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:M,oldValue:I,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(M,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[M]||(this.listeners[M]=new Set,this.localCache[M]=this.storage.getItem(M)),this.listeners[M].add(I)}_removeListener(M,I){this.listeners[M]&&(this.listeners[M].delete(I),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(M,I){var R=()=>super._set,j=this;return(0,m.Z)(function*(){yield R().call(j,M,I),j.localCache[M]=JSON.stringify(I)})()}_get(M){var I=()=>super._get,R=this;return(0,m.Z)(function*(){const j=yield I().call(R,M);return R.localCache[M]=JSON.stringify(j),j})()}_remove(M){var I=()=>super._remove,R=this;return(0,m.Z)(function*(){yield I().call(R,M),delete R.localCache[M]})()}}return D.type="LOCAL",D})(),Ls=(()=>{class D extends uc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(M,I){}_removeListener(M,I){}}return D.type="SESSION",D})();let p2=(()=>{class D{constructor(M){this.eventTarget=M,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(M){const I=this.receivers.find(j=>j.isListeningto(M));if(I)return I;const R=new D(M);return this.receivers.push(R),R}isListeningto(M){return this.eventTarget===M}handleEvent(M){var I=this;return(0,m.Z)(function*(){const R=M,{eventId:j,eventType:re,data:ge}=R.data,qe=I.handlersMap[re];if(!qe?.size)return;R.ports[0].postMessage({status:"ack",eventId:j,eventType:re});const et=Array.from(qe).map(function(){var lt=(0,m.Z)(function*(Tn){return Tn(R.origin,ge)});return function(Tn){return lt.apply(this,arguments)}}()),_t=yield function v3(D){return Promise.all(D.map(function(){var k=(0,m.Z)(function*(M){try{return{fulfilled:!0,value:yield M}}catch(I){return{fulfilled:!1,reason:I}}});return function(M){return k.apply(this,arguments)}}()))}(et);R.ports[0].postMessage({status:"done",eventId:j,eventType:re,response:_t})})()}_subscribe(M,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[M]||(this.handlersMap[M]=new Set),this.handlersMap[M].add(I)}_unsubscribe(M,I){this.handlersMap[M]&&I&&this.handlersMap[M].delete(I),(!I||0===this.handlersMap[M].size)&&delete this.handlersMap[M],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function No(D="",k=10){let M="";for(let I=0;I<k;I++)M+=Math.floor(10*Math.random());return D+M}class dc{constructor(k){this.target=k,this.handlers=new Set}removeMessageHandler(k){k.messageChannel&&(k.messageChannel.port1.removeEventListener("message",k.onMessage),k.messageChannel.port1.close()),this.handlers.delete(k)}_send(k,M,I=50){var R=this;return(0,m.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let re,ge;return new Promise((qe,et)=>{const _t=No("",20);j.port1.start();const lt=setTimeout(()=>{et(new Error("unsupported_event"))},I);ge={messageChannel:j,onMessage(Tn){const vs=Tn;if(vs.data.eventId===_t)switch(vs.data.status){case"ack":clearTimeout(lt),re=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),qe(vs.data.response);break;default:clearTimeout(lt),clearTimeout(re),et(new Error("invalid_response"))}}},R.handlers.add(ge),j.port1.addEventListener("message",ge.onMessage),R.target.postMessage({eventType:k,eventId:_t,data:M},[j.port2])}).finally(()=>{ge&&R.removeMessageHandler(ge)})})()}}function Rn(){return window}function _3(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function g2(){return(g2=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const On="firebaseLocalStorageDb",pi=1,y3="firebaseLocalStorage",v2="fbase_key";class Jn{constructor(k){this.request=k}toPromise(){return new Promise((k,M)=>{this.request.addEventListener("success",()=>{k(this.request.result)}),this.request.addEventListener("error",()=>{M(this.request.error)})})}}function Xo(D,k){return D.transaction([y3],k?"readwrite":"readonly").objectStore(y3)}function hc(){const D=indexedDB.open(On,pi);return new Promise((k,M)=>{D.addEventListener("error",()=>{M(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(y3,{keyPath:v2})}catch(R){M(R)}}),D.addEventListener("success",(0,m.Z)(function*(){const I=D.result;I.objectStoreNames.contains(y3)?k(I):(I.close(),yield function d0(){const D=indexedDB.deleteDatabase(On);return new Jn(D).toPromise()}(),k(yield hc()))}))})}function zn(D,k,M){return Il.apply(this,arguments)}function Il(){return(Il=(0,m.Z)(function*(D,k,M){const I=Xo(D,!0).put({[v2]:k,value:M});return new Jn(I).toPromise()})).apply(this,arguments)}function t1(){return(t1=(0,m.Z)(function*(D,k){const M=Xo(D,!1).get(k),I=yield new Jn(M).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function n1(D,k){const M=Xo(D,!0).delete(k);return new Jn(M).toPromise()}const r1=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var M=this;return(0,m.Z)(function*(){return M.db||(M.db=yield hc()),M.db})()}_withRetries(M){var I=this;return(0,m.Z)(function*(){let R=0;for(;;)try{const j=yield I._openDb();return yield M(j)}catch(j){if(R++>3)throw j;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var M=this;return(0,m.Z)(function*(){return _3()?M.initializeReceiver():M.initializeSender()})()}initializeReceiver(){var M=this;return(0,m.Z)(function*(){M.receiver=p2._getInstance(function Gi(){return _3()?self:null}()),M.receiver._subscribe("keyChanged",function(){var I=(0,m.Z)(function*(R,j){return{keyProcessed:(yield M._poll()).includes(j.key)}});return function(R,j){return I.apply(this,arguments)}}()),M.receiver._subscribe("ping",function(){var I=(0,m.Z)(function*(R,j){return["keyChanged"]});return function(R,j){return I.apply(this,arguments)}}())})()}initializeSender(){var M=this;return(0,m.Z)(function*(){var I,R;if(M.activeServiceWorker=yield function b3(){return g2.apply(this,arguments)}(),!M.activeServiceWorker)return;M.sender=new dc(M.activeServiceWorker);const j=yield M.sender._send("ping",{},800);j&&null!==(I=j[0])&&void 0!==I&&I.fulfilled&&null!==(R=j[0])&&void 0!==R&&R.value.includes("keyChanged")&&(M.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(M){var I=this;return(0,m.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ln(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:M},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const M=yield hc();return yield zn(M,ha,"1"),yield n1(M,ha),!0}catch{}return!1})()}_withPendingWrite(M){var I=this;return(0,m.Z)(function*(){I.pendingWrites++;try{yield M()}finally{I.pendingWrites--}})()}_set(M,I){var R=this;return(0,m.Z)(function*(){return R._withPendingWrite((0,m.Z)(function*(){return yield R._withRetries(j=>zn(j,M,I)),R.localCache[M]=I,R.notifyServiceWorker(M)}))})()}_get(M){var I=this;return(0,m.Z)(function*(){const R=yield I._withRetries(j=>function Ns(D,k){return t1.apply(this,arguments)}(j,M));return I.localCache[M]=R,R})()}_remove(M){var I=this;return(0,m.Z)(function*(){return I._withPendingWrite((0,m.Z)(function*(){return yield I._withRetries(R=>n1(R,M)),delete I.localCache[M],I.notifyServiceWorker(M)}))})()}_poll(){var M=this;return(0,m.Z)(function*(){const I=yield M._withRetries(re=>{const ge=Xo(re,!1).getAll();return new Jn(ge).toPromise()});if(!I)return[];if(0!==M.pendingWrites)return[];const R=[],j=new Set;for(const{fbase_key:re,value:ge}of I)j.add(re),JSON.stringify(M.localCache[re])!==JSON.stringify(ge)&&(M.notifyListeners(re,ge),R.push(re));for(const re of Object.keys(M.localCache))M.localCache[re]&&!j.has(re)&&(M.notifyListeners(re,null),R.push(re));return R})()}notifyListeners(M,I){this.localCache[M]=I;const R=this.listeners[M];if(R)for(const j of Array.from(R))j(I)}startPolling(){var M=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return M._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(M,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[M]||(this.listeners[M]=new Set,this._get(M)),this.listeners[M].add(I)}_removeListener(M,I){this.listeners[M]&&(this.listeners[M].delete(I),0===this.listeners[M].size&&delete this.listeners[M]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),_2=1e12;class C3{constructor(k){this.auth=k,this.counter=_2,this._widgets=new Map}render(k,M){const I=this.counter;return this._widgets.set(I,new w3(k,this.auth.name,M||{})),this.counter++,I}reset(k){var M;const I=k||_2;null===(M=this._widgets.get(I))||void 0===M||M.delete(),this._widgets.delete(I)}getResponse(k){var M;return(null===(M=this._widgets.get(k||_2))||void 0===M?void 0:M.getResponse())||""}execute(k){var M=this;return(0,m.Z)(function*(){var I;return null===(I=M._widgets.get(k||_2))||void 0===I||I.execute(),""})()}}class w3{constructor(k,M,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof k?document.getElementById(k):k;me(R,"argument-error",{appName:M}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Su(D){const k=[],M="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)k.push(M.charAt(Math.floor(Math.random()*M.length)));return k.join("")}(50);const{callback:k,"expired-callback":M}=this.params;if(k)try{k(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,M)try{M()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Eu=wi("rcb"),S5=new as(3e4,6e4);class k7{constructor(){var k;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(k=Rn().grecaptcha)||void 0===k||!k.render)}load(k,M=""){return me(function Cn(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(M),k,"argument-error"),this.shouldResolveImmediately(M)&&cn(Rn().grecaptcha)?Promise.resolve(Rn().grecaptcha):new Promise((I,R)=>{const j=Rn().setTimeout(()=>{R(be(k,"network-request-failed"))},S5.get());Rn()[Eu]=()=>{Rn().clearTimeout(j),delete Rn()[Eu];const ge=Rn().grecaptcha;if(!ge||!cn(ge))return void R(be(k,"internal-error"));const qe=ge.render;ge.render=(et,_t)=>{const lt=qe(et,_t);return this.counter++,lt},this.hostLanguage=M,I(ge)},hi(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Eu,render:"explicit",hl:M})}`).catch(()=>{clearTimeout(j),R(be(k,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(k){var M;return!(null===(M=Rn().grecaptcha)||void 0===M||!M.render)&&(k===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rr{load(k){return(0,m.Z)(function*(){return new C3(k)})()}clearedOneInstance(){}}const Vs="recaptcha",b2={theme:"light",type:"image"};class k3{constructor(k,M=Object.assign({},b2),I){this.parameters=M,this.type=Vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(I),this.isInvisible="invisible"===this.parameters.size,me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof k?document.getElementById(k):k;me(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new k7,this.validateStartingState()}verify(){var k=this;return(0,m.Z)(function*(){k.assertNotDestroyed();const M=yield k.render(),I=k.getAssertedRecaptcha();return I.getResponse(M)||new Promise(j=>{const re=ge=>{ge&&(k.tokenChangeListeners.delete(re),j(ge))};k.tokenChangeListeners.add(re),k.isInvisible&&I.execute(M)})})()}render(){try{this.assertNotDestroyed()}catch(k){return Promise.reject(k)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(k=>{throw this.renderPromise=null,k})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(k=>{this.container.removeChild(k)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(k){return M=>{if(this.tokenChangeListeners.forEach(I=>I(M)),"function"==typeof k)k(M);else if("string"==typeof k){const I=Rn()[k];"function"==typeof I&&I(M)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var k=this;return(0,m.Z)(function*(){if(yield k.init(),!k.widgetId){let M=k.container;if(!k.isInvisible){const I=document.createElement("div");M.appendChild(I),M=I}k.widgetId=k.getAssertedRecaptcha().render(M,k.parameters)}return k.widgetId})()}init(){var k=this;return(0,m.Z)(function*(){me(gt()&&!_3(),k.auth,"internal-error"),yield function Vo(){let D=null;return new Promise(k=>{"complete"!==document.readyState?(D=()=>k(),window.addEventListener("load",D)):k()}).catch(k=>{throw D&&window.removeEventListener("load",D),k})}(),k.recaptcha=yield k._recaptchaLoader.load(k.auth,k.auth.languageCode||void 0);const M=yield function ye(D){return Ke.apply(this,arguments)}(k.auth);me(M,k.auth,"internal-error"),k.parameters.sitekey=M})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $n{constructor(k,M){this.verificationId=k,this.onConfirmation=M}confirm(k){const M=ui._fromVerification(this.verificationId,k);return this.onConfirmation(M)}}function ma(){return(ma=(0,m.Z)(function*(D,k,M){const I=Pn(D),R=yield zr(I,k,(0,Y.m9)(M));return new $n(R,j=>n2(I,j))})).apply(this,arguments)}function A3(){return(A3=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D);yield lo(!1,I,"phone");const R=yield zr(I.auth,k,(0,Y.m9)(M));return new $n(R,j=>t0(I,j))})).apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D),R=yield zr(I.auth,k,(0,Y.m9)(M));return new $n(R,j=>n0(I,j))})).apply(this,arguments)}function zr(D,k,M){return vi.apply(this,arguments)}function vi(){return vi=(0,m.Z)(function*(D,k,M){var I;const R=yield M.verify();try{let j;if(me("string"==typeof R,D,"argument-error"),me(M.type===Vs,D,"argument-error"),j="string"==typeof k?{phoneNumber:k}:k,"session"in j){const re=j.session;if("phoneNumber"in j)return me("enroll"===re.type,D,"internal-error"),(yield function m2(D,k){return Be(D,"POST","/v2/accounts/mfaEnrollment:start",Ue(D,k))}(D,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{me("signin"===re.type,D,"internal-error");const ge=(null===(I=j.multiFactorHint)||void 0===I?void 0:I.uid)||j.multiFactorUid;return me(ge,D,"missing-multi-factor-info"),(yield function o1(D,k){return Be(D,"POST","/v2/accounts/mfaSignIn:start",Ue(D,k))}(D,{mfaPendingCredential:re.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield function A5(D,k){return bl.apply(this,arguments)}(D,{phoneNumber:j.phoneNumber,recaptchaToken:R});return re}}finally{M._reset()}}),vi.apply(this,arguments)}function D1(){return(D1=(0,m.Z)(function*(D,k){yield ir((0,Y.m9)(D),k)})).apply(this,arguments)}let Yr=(()=>{class D{constructor(M){this.providerId=D.PROVIDER_ID,this.auth=Pn(M)}verifyPhoneNumber(M,I){return zr(this.auth,M,(0,Y.m9)(I))}static credential(M,I){return ui._fromVerification(M,I)}static credentialFromResult(M){return D.credentialFromTaggedObject(M)}static credentialFromError(M){return D.credentialFromTaggedObject(M.customData||{})}static credentialFromTaggedObject({_tokenResponse:M}){if(!M)return null;const{phoneNumber:I,temporaryProof:R}=M;return I&&R?ui._fromTokenResponse(I,R):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Kr(D,k){return k?ni(k):(me(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Mi extends ds{constructor(k){super("custom","custom"),this.params=k}_getIdTokenResponse(k){return To(k,this._buildIdpRequest())}_linkToIdToken(k,M){return To(k,this._buildIdpRequest(M))}_getReauthenticationResolver(k){return To(k,this._buildIdpRequest())}_buildIdpRequest(k){const M={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return k&&(M.idToken=k),M}}function zu(D){return t2(D.auth,new Mi(D),D.bypassAuthState)}function Hs(D){const{auth:k,user:M}=D;return me(M,k,"internal-error"),Qs(M,new Mi(D),D.bypassAuthState)}function Hi(D){return Et.apply(this,arguments)}function Et(){return(Et=(0,m.Z)(function*(D){const{auth:k,user:M}=D;return me(M,k,"internal-error"),ir(M,new Mi(D),D.bypassAuthState)})).apply(this,arguments)}class Ll{constructor(k,M,I,R,j=!1){this.auth=k,this.resolver=I,this.user=R,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(M)?M:[M]}execute(){var k=this;return new Promise(function(){var M=(0,m.Z)(function*(I,R){k.pendingPromise={resolve:I,reject:R};try{k.eventManager=yield k.resolver._initialize(k.auth),yield k.onExecution(),k.eventManager.registerConsumer(k)}catch(j){k.reject(j)}});return function(I,R){return M.apply(this,arguments)}}())}onAuthEvent(k){var M=this;return(0,m.Z)(function*(){const{urlResponse:I,sessionId:R,postBody:j,tenantId:re,error:ge,type:qe}=k;if(ge)return void M.reject(ge);const et={auth:M.auth,requestUri:I,sessionId:R,tenantId:re||void 0,postBody:j||void 0,user:M.user,bypassAuthState:M.bypassAuthState};try{M.resolve(yield M.getIdpTask(qe)(et))}catch(_t){M.reject(_t)}})()}onError(k){this.reject(k)}getIdpTask(k){switch(k){case"signInViaPopup":case"signInViaRedirect":return zu;case"linkViaPopup":case"linkViaRedirect":return Hi;case"reauthViaPopup":case"reauthViaRedirect":return Hs;default:Le(this.auth,"internal-error")}}resolve(k){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(k),this.unregisterAndCleanUp()}reject(k){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(k),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yi=new as(2e3,1e4);function Qr(){return(Qr=(0,m.Z)(function*(D,k,M){const I=Pn(D);q(D,k,Ys);const R=Kr(I,M);return new s1(I,"signInViaPopup",k,R).executeNotNull()})).apply(this,arguments)}function M3(){return(M3=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D);q(I.auth,k,Ys);const R=Kr(I.auth,M);return new s1(I.auth,"reauthViaPopup",k,R,I).executeNotNull()})).apply(this,arguments)}function pa(){return(pa=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D);q(I.auth,k,Ys);const R=Kr(I.auth,M);return new s1(I.auth,"linkViaPopup",k,R,I).executeNotNull()})).apply(this,arguments)}let s1=(()=>{class D extends Ll{constructor(M,I,R,j,re){super(M,I,j,re),this.provider=R,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var M=this;return(0,m.Z)(function*(){const I=yield M.execute();return me(I,M.auth,"internal-error"),I})()}onExecution(){var M=this;return(0,m.Z)(function*(){nt(1===M.filter.length,"Popup operations only handle one event");const I=No();M.authWindow=yield M.resolver._openPopup(M.auth,M.provider,M.filter[0],I),M.authWindow.associatedEvent=I,M.resolver._originValidation(M.auth).catch(R=>{M.reject(R)}),M.resolver._isIframeWebStorageSupported(M.auth,R=>{R||M.reject(be(M.auth,"web-storage-unsupported"))}),M.pollUserCancellation()})()}get eventId(){var M;return(null===(M=this.authWindow)||void 0===M?void 0:M.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const M=()=>{var I,R;this.pollId=null!==(R=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(M,yi.get())};M()}}return D.currentPopupAction=null,D})();const I1="pendingRedirect",a1=new Map;class E5 extends Ll{constructor(k,M,I=!1){super(k,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],M,void 0,I),this.eventId=null}execute(){var k=()=>super.execute,M=this;return(0,m.Z)(function*(){let I=a1.get(M.auth._key());if(!I){try{const j=(yield function mc(D,k){return Nl.apply(this,arguments)}(M.resolver,M.auth))?yield k().call(M):null;I=()=>Promise.resolve(j)}catch(R){I=()=>Promise.reject(R)}a1.set(M.auth._key(),I)}return M.bypassAuthState||a1.set(M.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(k){var M=()=>super.onAuthEvent,I=this;return(0,m.Z)(function*(){if("signInViaRedirect"===k.type)return M().call(I,k);if("unknown"!==k.type){if(k.eventId){const R=yield I.auth._redirectUserForId(k.eventId);if(R)return I.user=R,M().call(I,k);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Nl(){return(Nl=(0,m.Z)(function*(D,k){const M=y2(k),I=va(D);if(!(yield I._isAvailable()))return!1;const R="true"===(yield I._get(M));return yield I._remove(M),R})).apply(this,arguments)}function T1(D,k){return ga.apply(this,arguments)}function ga(){return(ga=(0,m.Z)(function*(D,k){return va(D)._set(y2(k),"true")})).apply(this,arguments)}function Vl(D,k){a1.set(D._key(),k)}function va(D){return ni(D._redirectPersistence)}function y2(D){return oe(I1,D.config.apiKey,D.name)}function Hl(D,k,M){return function Pl(D,k,M){return S3.apply(this,arguments)}(D,k,M)}function S3(){return(S3=(0,m.Z)(function*(D,k,M){const I=Pn(D);q(D,k,Ys),yield I._initializationPromise;const R=Kr(I,M);return yield T1(R,I),R._openRedirect(I,k,"signInViaRedirect")})).apply(this,arguments)}function Tu(D,k,M){return function E3(D,k,M){return pc.apply(this,arguments)}(D,k,M)}function pc(){return(pc=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D);q(I.auth,k,Ys),yield I.auth._initializationPromise;const R=Kr(I.auth,M);yield T1(R,I.auth);const j=yield c1(I);return R._openRedirect(I.auth,k,"reauthViaRedirect",j)})).apply(this,arguments)}function Lu(D,k,M){return function D3(D,k,M){return Rl.apply(this,arguments)}(D,k,M)}function Rl(){return(Rl=(0,m.Z)(function*(D,k,M){const I=(0,Y.m9)(D);q(I.auth,k,Ys),yield I.auth._initializationPromise;const R=Kr(I.auth,M);yield lo(!1,I,k.providerId),yield T1(R,I.auth);const j=yield c1(I);return R._openRedirect(I.auth,k,"linkViaRedirect",j)})).apply(this,arguments)}function Wn(){return(Wn=(0,m.Z)(function*(D,k){return yield Pn(D)._initializationPromise,gc(D,k,!1)})).apply(this,arguments)}function gc(D,k){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,m.Z)(function*(D,k,M=!1){const I=Pn(D),R=Kr(I,k),re=yield new E5(I,R,M).execute();return re&&!M&&(delete re.user._redirectEventId,yield I._persistUserIfCurrent(re.user),yield I._setRedirectUser(null,k)),re})).apply(this,arguments)}function c1(D){return vc.apply(this,arguments)}function vc(){return(vc=(0,m.Z)(function*(D){const k=No(`${D.uid}:::`);return D._redirectEventId=k,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),k})).apply(this,arguments)}class C2{constructor(k){this.auth=k,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(k){this.consumers.add(k),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,k)&&(this.sendToConsumer(this.queuedRedirectEvent,k),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(k){this.consumers.delete(k)}onEvent(k){if(this.hasEventBeenHandled(k))return!1;let M=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(k,I)&&(M=!0,this.sendToConsumer(k,I),this.saveEventToCache(k))}),this.hasHandledPotentialRedirect||!function g0(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z3(D);default:return!1}}(k)||(this.hasHandledPotentialRedirect=!0,M||(this.queuedRedirectEvent=k,M=!0)),M}sendToConsumer(k,M){var I;if(k.error&&!z3(k)){const R=(null===(I=k.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";M.onError(be(this.auth,R))}else M.onAuthEvent(k)}isEventForConsumer(k,M){const I=null===M.eventId||!!k.eventId&&k.eventId===M.eventId;return M.filter.includes(k.type)&&I}hasEventBeenHandled(k){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_c(k))}saveEventToCache(k){this.cachedEventUids.add(_c(k)),this.lastProcessedEventTime=Date.now()}}function _c(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(k=>k).join("-")}function z3({type:D,error:k}){return"unknown"===D&&"auth/no-auth-event"===k?.code}function bc(D){return v0.apply(this,arguments)}function v0(){return(v0=(0,m.Z)(function*(D,k={}){return Be(D,"GET","/v1/projects",k)})).apply(this,arguments)}const D5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fl=/^https?/;function ps(){return(ps=(0,m.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:k}=yield bc(D);for(const M of k)try{if(_0(M))return}catch{}Le(D,"unauthorized-domain")})).apply(this,arguments)}function _0(D){const k=Yt(),{protocol:M,hostname:I}=new URL(k);if(D.startsWith("chrome-extension://")){const re=new URL(D);return""===re.hostname&&""===I?"chrome-extension:"===M&&D.replace("chrome-extension://","")===k.replace("chrome-extension://",""):"chrome-extension:"===M&&re.hostname===I}if(!Fl.test(M))return!1;if(D5.test(D))return I===D;const R=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(I)}const _a=new as(3e4,6e4);function Ho(){const D=Rn().___jsl;if(D?.H)for(const k of Object.keys(D.H))if(D.H[k].r=D.H[k].r||[],D.H[k].L=D.H[k].L||[],D.H[k].r=[...D.H[k].L],D.CP)for(let M=0;M<D.CP.length;M++)D.CP[M]=null}let w2=null;const Xe=new as(5e3,15e3),yc="__/auth/iframe",on="emulator/auth/iframe",I3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jl(D){const k=D.config;me(k.authDomain,D,"auth-domain-config-required");const M=k.emulator?pe(k,on):`https://${D.config.authDomain}/${yc}`,I={apiKey:k.apiKey,appName:D.name,v:se.SDK_VERSION},R=uo.get(D.config.apiHost);R&&(I.eid=R);const j=D._getFrameworks();return j.length&&(I.fw=j.join(",")),`${M}?${(0,Y.xO)(I).slice(1)}`}function H(){return H=(0,m.Z)(function*(D){const k=yield function Jr(D){return w2=w2||function L1(D){return new Promise((k,M)=>{var I,R,j;function re(){Ho(),gapi.load("gapi.iframes",{callback:()=>{k(gapi.iframes.getContext())},ontimeout:()=>{Ho(),M(be(D,"network-request-failed"))},timeout:_a.get()})}if(null!==(R=null===(I=Rn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==R&&R.Iframe)k(gapi.iframes.getContext());else{if(null===(j=Rn().gapi)||void 0===j||!j.load){const ge=wi("iframefcb");return Rn()[ge]=()=>{gapi.load?re():M(be(D,"network-request-failed"))},hi(`https://apis.google.com/js/api.js?onload=${ge}`).catch(qe=>M(qe))}re()}}).catch(k=>{throw w2=null,k})}(D),w2}(D),M=Rn().gapi;return me(M,D,"internal-error"),k.open({where:document.body,url:jl(D),messageHandlersFilter:M.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I3,dontclear:!0},I=>new Promise(function(){var R=(0,m.Z)(function*(j,re){yield I.restyle({setHideOnLeave:!1});const ge=be(D,"network-request-failed"),qe=Rn().setTimeout(()=>{re(ge)},Xe.get());function et(){Rn().clearTimeout(qe),j(I)}I.ping(et).then(et,()=>{re(ge)})});return function(j,re){return R.apply(this,arguments)}}()))}),H.apply(this,arguments)}const O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J=500,ae=600,he="_blank",Ce="http://localhost";class ot{constructor(k){this.window=k,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rt="__/auth/handler",Zt="emulator/auth/handler",ho=encodeURIComponent("fac");function ii(D,k,M,I,R,j){return wn.apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(D,k,M,I,R,j){me(D.config.authDomain,D,"auth-domain-config-required"),me(D.config.apiKey,D,"invalid-api-key");const re={apiKey:D.config.apiKey,appName:D.name,authType:M,redirectUrl:I,v:se.SDK_VERSION,eventId:R};if(k instanceof Ys){k.setDefaultLanguage(D.languageCode),re.providerId=k.providerId||"",(0,Y.xb)(k.getCustomParameters())||(re.customParameters=JSON.stringify(k.getCustomParameters()));for(const[_t,lt]of Object.entries(j||{}))re[_t]=lt}if(k instanceof ms){const _t=k.getScopes().filter(lt=>""!==lt);_t.length>0&&(re.scopes=_t.join(","))}D.tenantId&&(re.tid=D.tenantId);const ge=re;for(const _t of Object.keys(ge))void 0===ge[_t]&&delete ge[_t];const qe=yield D._getAppCheckToken(),et=qe?`#${ho}=${encodeURIComponent(qe)}`:"";return`${function Xr({config:D}){return D.emulator?pe(D,Zt):`https://${D.authDomain}/${Rt}`}(D)}?${(0,Y.xO)(ge).slice(1)}${et}`})).apply(this,arguments)}const Ir="webStorageSupport",Ro=class Po{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=gc,this._overrideRedirectResult=Vl}_openPopup(k,M,I,R){var j=this;return(0,m.Z)(function*(){var re;nt(null===(re=j.eventManagers[k._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const ge=yield ii(k,M,I,Yt(),R);return function at(D,k,M,I=J,R=ae){const j=Math.max((window.screen.availHeight-R)/2,0).toString(),re=Math.max((window.screen.availWidth-I)/2,0).toString();let ge="";const qe=Object.assign(Object.assign({},O),{width:I.toString(),height:R.toString(),top:j,left:re}),et=(0,Y.z$)().toLowerCase();M&&(ge=Je(et)?he:M),Ne(et)&&(k=k||Ce,qe.scrollbars="yes");const _t=Object.entries(qe).reduce((Tn,[vs,F3])=>`${Tn}${vs}=${F3},`,"");if(function Ur(D=(0,Y.z$)()){var k;return Vn(D)&&!(null===(k=window.navigator)||void 0===k||!k.standalone)}(et)&&"_self"!==ge)return function Mt(D,k){const M=document.createElement("a");M.href=D,M.target=k;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),M.dispatchEvent(I)}(k||"",ge),new ot(null);const lt=window.open(k||"",ge,_t);me(lt,D,"popup-blocked");try{lt.focus()}catch{}return new ot(lt)}(k,ge,No())})()}_openRedirect(k,M,I,R){var j=this;return(0,m.Z)(function*(){return yield j._originValidation(k),function E1(D){Rn().location.href=D}(yield ii(k,M,I,Yt(),R)),new Promise(()=>{})})()}_initialize(k){const M=k._key();if(this.eventManagers[M]){const{manager:R,promise:j}=this.eventManagers[M];return R?Promise.resolve(R):(nt(j,"If manager is not set, promise should be"),j)}const I=this.initAndGetManager(k);return this.eventManagers[M]={promise:I},I.catch(()=>{delete this.eventManagers[M]}),I}initAndGetManager(k){var M=this;return(0,m.Z)(function*(){const I=yield function L(D){return H.apply(this,arguments)}(k),R=new C2(k);return I.register("authEvent",j=>(me(j?.authEvent,k,"invalid-auth-event"),{status:R.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),M.eventManagers[k._key()]={manager:R},M.iframes[k._key()]=I,R})()}_isIframeWebStorageSupported(k,M){this.iframes[k._key()].send(Ir,{type:Ir},R=>{var j;const re=null===(j=R?.[0])||void 0===j?void 0:j[Ir];void 0!==re&&M(!!re),Le(k,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(k){const M=k._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function Bl(D){return ps.apply(this,arguments)}(k)),this.originValidationPromises[M]}get _shouldInitProactively(){return Ss()||_e()||Vn()}};class k2{constructor(k){this.factorId=k}_process(k,M,I){switch(M.type){case"enroll":return this._finalizeEnroll(k,M.credential,I);case"signin":return this._finalizeSignIn(k,M.credential);default:return vt("unexpected MultiFactorSessionType")}}}class ba extends k2{constructor(k){super("phone"),this.credential=k}static _fromCredential(k){return new ba(k)}_finalizeEnroll(k,M,I){return function m3(D,k){return Be(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ue(D,k))}(k,{idToken:M,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(k,M){return function h0(D,k){return Be(D,"POST","/v2/accounts/mfaSignIn:finalize",Ue(D,k))}(k,{mfaPendingCredential:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let A2=(()=>{class D{constructor(){}static assertion(M){return ba._fromCredential(M)}}return D.FACTOR_ID="phone",D})();var Ul="@firebase/auth";class Vu{constructor(k){this.auth=k,this.internalListeners=new Map}getUid(){var k;return this.assertAuthConfigured(),(null===(k=this.auth.currentUser)||void 0===k?void 0:k.uid)||null}getToken(k){var M=this;return(0,m.Z)(function*(){return M.assertAuthConfigured(),yield M.auth._initializationPromise,M.auth.currentUser?{accessToken:yield M.auth.currentUser.getIdToken(k)}:null})()}addAuthTokenListener(k){if(this.assertAuthConfigured(),this.internalListeners.has(k))return;const M=this.auth.onIdTokenChanged(I=>{k(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(k,M),this.updateProactiveRefresh()}removeAuthTokenListener(k){this.assertAuthConfigured();const M=this.internalListeners.get(k);M&&(this.internalListeners.delete(k),M(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mo(){return window}(0,Y.Pz)("authIdTokenMaxAge"),function z5(D){(0,se._registerComponent)(new ne.wA("auth",(k,{options:M})=>{const I=k.getProvider("app").getImmediate(),R=k.getProvider("heartbeat"),j=k.getProvider("app-check-internal"),{apiKey:re,authDomain:ge}=I.options;me(re&&!re.includes(":"),"invalid-api-key",{appName:I.name});const qe={apiKey:re,authDomain:ge,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(D)},et=new Ko(I,R,j,qe);return function ki(D,k){const M=k?.persistence||[],I=(Array.isArray(M)?M:[M]).map(ni);k?.errorMap&&D._updateErrorMap(k.errorMap),D._initializeWithPersistence(I,k?.popupRedirectResolver)}(et,M),et},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((k,M,I)=>{k.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ne.wA("auth-internal",k=>{const M=Pn(k.getProvider("auth").getImmediate());return new Vu(M)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Ul,"0.23.2",function L3(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,se.registerVersion)(Ul,"0.23.2","esm2017")}("Browser");const Ca=2e3;function Gl(){return Gl=(0,m.Z)(function*(D,k,M){var I;const{BuildInfo:R}=mo();nt(k.sessionId,"AuthEvent did not contain a session ID");const j=yield function Cc(D){return wc.apply(this,arguments)}(k.sessionId),re={};return Vn()?re.ibi=R.packageName:bn()?re.apn=R.packageName:Le(D,"operation-not-supported-in-this-environment"),R.displayName&&(re.appDisplayName=R.displayName),re.sessionId=j,ii(D,M,k.type,void 0,null!==(I=k.eventId)&&void 0!==I?I:void 0,re)}),Gl.apply(this,arguments)}function x2(){return(x2=(0,m.Z)(function*(D){const{BuildInfo:k}=mo(),M={};Vn()?M.iosBundleId=k.packageName:bn()?M.androidPackageName=k.packageName:Le(D,"operation-not-supported-in-this-environment"),yield bc(D,M)})).apply(this,arguments)}function C0(){return(C0=(0,m.Z)(function*(D,k,M){const{cordova:I}=mo();let R=()=>{};try{yield new Promise((j,re)=>{let ge=null;function qe(){var lt;j();const Tn=null===(lt=I.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Tn&&Tn(),"function"==typeof M?.close&&M.close()}function et(){ge||(ge=window.setTimeout(()=>{re(be(D,"redirect-cancelled-by-user"))},Ca))}function _t(){"visible"===document?.visibilityState&&et()}k.addPassiveListener(qe),document.addEventListener("resume",et,!1),bn()&&document.addEventListener("visibilitychange",_t,!1),R=()=>{k.removePassiveListener(qe),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",_t,!1),ge&&window.clearTimeout(ge)}})}finally{R()}})).apply(this,arguments)}function wc(){return(wc=(0,m.Z)(function*(D){const k=function k0(D){if(nt(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const k=new ArrayBuffer(D.length),M=new Uint8Array(k);for(let I=0;I<D.length;I++)M[I]=D.charCodeAt(I);return M}(D),M=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(M)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const gs=20;class A7 extends C2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(M=>M(k)),super.onEvent(k)}initialized(){var k=this;return(0,m.Z)(function*(){yield k.initPromise})()}}function Ru(D){return M0.apply(this,arguments)}function M0(){return(M0=(0,m.Z)(function*(D){const k=yield x0()._get(ka(D));return k&&(yield x0()._remove(ka(D))),k})).apply(this,arguments)}function L5(){const D=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<gs;M++){const I=Math.floor(Math.random()*k.length);D.push(k.charAt(I))}return D.join("")}function x0(){return ni(S1)}function ka(D){return oe("authEvent",D.config.apiKey,D.name)}function V3(D){if(!D?.includes("?"))return{};const[k,...M]=D.split("?");return(0,Y.zd)(M.join("?"))}const $l=class P3{constructor(){this._redirectPersistence=Ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gc,this._overrideRedirectResult=Vl}_initialize(k){var M=this;return(0,m.Z)(function*(){const I=k._key();let R=M.eventManagers.get(I);return R||(R=new A7(k),M.eventManagers.set(I,R),M.attachCallbackListeners(k,R)),R})()}_openPopup(k){Le(k,"operation-not-supported-in-this-environment")}_openRedirect(k,M,I,R){var j=this;return(0,m.Z)(function*(){!function w0(D){var k,M,I,R,j,re,ge,qe,et,_t;const lt=mo();me("function"==typeof(null===(k=lt?.universalLinks)||void 0===k?void 0:k.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof(null===(M=lt?.BuildInfo)||void 0===M?void 0:M.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(j=null===(R=null===(I=lt?.cordova)||void 0===I?void 0:I.plugins)||void 0===R?void 0:R.browsertab)||void 0===j?void 0:j.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(qe=null===(ge=null===(re=lt?.cordova)||void 0===re?void 0:re.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===qe?void 0:qe.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(_t=null===(et=lt?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===_t?void 0:_t.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const re=yield j._initialize(k);yield re.initialized(),re.resetRedirect(),function Iu(){a1.clear()}(),yield j._originValidation(k);const ge=function wa(D,k,M=null){return{type:k,eventId:M,urlResponse:null,sessionId:L5(),postBody:null,tenantId:D.tenantId,error:be(D,"no-auth-event")}}(k,I,R);yield function A0(D,k){return x0()._set(ka(D),k)}(k,ge);const qe=yield function M2(D,k,M){return Gl.apply(this,arguments)}(k,ge,M),et=yield function N3(D){const{cordova:k}=mo();return new Promise(M=>{k.plugins.browsertab.isAvailable(I=>{let R=null;I?k.plugins.browsertab.openUrl(D):R=k.InAppBrowser.open(D,function mn(D=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),M(R)})})}(qe);return function ql(D,k,M){return C0.apply(this,arguments)}(k,re,et)})()}_isIframeWebStorageSupported(k,M){throw new Error("Method not implemented.")}_originValidation(k){const M=k._key();return this.originValidationPromises[M]||(this.originValidationPromises[M]=function y0(D){return x2.apply(this,arguments)}(k)),this.originValidationPromises[M]}attachCallbackListeners(k,M){const{universalLinks:I,handleOpenURL:R,BuildInfo:j}=mo(),re=setTimeout((0,m.Z)(function*(){yield Ru(k),M.onEvent(Ou())}),500),ge=function(){var _t=(0,m.Z)(function*(lt){clearTimeout(re);const Tn=yield Ru(k);let vs=null;Tn&&lt?.url&&(vs=function S2(D,k){var M,I;const R=function N5(D){const k=V3(D),M=k.link?decodeURIComponent(k.link):void 0,I=V3(M).link,R=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return V3(R).link||R||I||M||D}(k);if(R.includes("/__/auth/callback")){const j=V3(R),re=j.firebaseError?function S0(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(j.firebaseError)):null,ge=null===(I=null===(M=re?.code)||void 0===M?void 0:M.split("auth/"))||void 0===I?void 0:I[1],qe=ge?be(ge):null;return qe?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:R,postBody:null}}return null}(Tn,lt.url)),M.onEvent(vs||Ou())});return function(Tn){return _t.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,ge);const qe=R,et=`${j.packageName.toLowerCase()}://`;mo().handleOpenURL=function(){var _t=(0,m.Z)(function*(lt){if(lt.toLowerCase().startsWith(et)&&ge({url:lt}),"function"==typeof qe)try{qe(lt)}catch(Tn){console.error(Tn)}});return function(lt){return _t.apply(this,arguments)}}()}};function Ou(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}const H5=1e3;function R3(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function Wl(D=(0,Y.z$)()){return!("file:"!==R3()&&"ionic:"!==R3()&&"capacitor:"!==R3()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function E0(){try{const D=self.localStorage,k=No();if(D)return D.setItem(k,"1"),D.removeItem(k),!function Oo(D=(0,Y.z$)()){return function E2(){return(0,Y.w1)()&&11===document?.documentMode}()||function Aa(D=(0,Y.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,Y.hl)()}catch{return V1()&&(0,Y.hl)()}return!1}function V1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function O3(){return(function P5(){return"http:"===R3()||"https:"===R3()}()||(0,Y.ru)()||Wl())&&!function ju(){return(0,Y.b$)()||(0,Y.UG)()}()&&E0()&&!V1()}function Zl(){return Wl()&&typeof document<"u"}function kc(){return(kc=(0,m.Z)(function*(){return!!Zl()&&new Promise(D=>{const k=setTimeout(()=>{D(!1)},H5);document.addEventListener("deviceready",()=>{clearTimeout(k),D(!0)})})})).apply(this,arguments)}const Qe={LOCAL:"local",NONE:"none",SESSION:"session"},Ot=me,xa="persistence";function D2(D){return z2.apply(this,arguments)}function z2(){return(z2=(0,m.Z)(function*(D){yield D._initializationPromise;const k=z0(),M=oe(xa,D.config.apiKey,D.name);k&&k.setItem(M,D._getPersistence())})).apply(this,arguments)}function z0(){var D;try{return(null===(D=function Ma(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const I0=me;class xi{constructor(){this.browserResolver=ni(Ro),this.cordovaResolver=ni($l),this.underlyingResolver=null,this._redirectPersistence=Ls,this._completeRedirectFn=gc,this._overrideRedirectResult=Vl}_initialize(k){var M=this;return(0,m.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,M,I,R){var j=this;return(0,m.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(k,M,I,R)})()}_openRedirect(k,M,I,R){var j=this;return(0,m.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(k,M,I,R)})()}_isIframeWebStorageSupported(k,M){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,M)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Zl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return I0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,m.Z)(function*(){if(k.underlyingResolver)return;const M=yield function Uu(){return kc.apply(this,arguments)}();k.underlyingResolver=M?k.cordovaResolver:k.browserResolver})()}}function Ac(D){return D.unwrap()}function T0(D){return L0(D)}function L0(D){const{_tokenResponse:k}=D instanceof Y.ZR?D.customData:D;if(!k)return null;if(!(D instanceof Y.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return Yr.credentialFromResult(D);const M=k.providerId;if(!M||M===ee.PASSWORD)return null;let I;switch(M){case ee.GOOGLE:I=na;break;case ee.FACEBOOK:I=Cl;break;case ee.GITHUB:I=wl;break;case ee.TWITTER:I=Xa;break;default:const{oauthIdToken:R,oauthAccessToken:j,oauthTokenSecret:re,pendingToken:ge,nonce:qe}=k;return j||re||R||ge?ge?M.startsWith("saml.")?Ds._create(M,ge):co._fromParams({providerId:M,signInMethod:M,pendingToken:ge,idToken:R,accessToken:j}):new Dn(M).credential({idToken:R,accessToken:j,rawNonce:qe}):null}return D instanceof Y.ZR?I.credentialFromError(D):I.credentialFromResult(D)}function eo(D,k){return k.catch(M=>{throw M instanceof Y.ZR&&function I2(D,k){var M;const I=null===(M=k.customData)||void 0===M?void 0:M._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new H0(D,function f3(D,k){var M;const I=(0,Y.m9)(D),R=k;return me(k.customData.operationType,I,"argument-error"),me(null===(M=R.customData._serverResponse)||void 0===M?void 0:M.mfaPendingCredential,I,"argument-error"),ca._fromError(I,R)}(D,k));else if(I){const R=L0(k),j=k;R&&(j.credential=R,j.tenantId=I.tenantId||void 0,j.email=I.email||void 0,j.phoneNumber=I.phoneNumber||void 0)}}(D,M),M}).then(M=>{const R=M.user;return{operationType:M.operationType,credential:T0(M),additionalUserInfo:Sl(M),user:Sa.getOrCreate(R)}})}function N0(D,k){return V0.apply(this,arguments)}function V0(){return(V0=(0,m.Z)(function*(D,k){const M=yield k;return{verificationId:M.verificationId,confirm:I=>eo(D,M.confirm(I))}})).apply(this,arguments)}class H0{constructor(k,M){this.resolver=M,this.auth=function Gu(D){return D.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return eo(Ac(this.auth),this.resolver.resolveSignIn(k))}}class Sa{constructor(k){this._delegate=k,this.multiFactor=function Dl(D){const k=(0,Y.m9)(D);return e1.has(k)||e1.set(k,da._fromUser(k)),e1.get(k)}(k)}static getOrCreate(k){return Sa.USER_MAP.has(k)||Sa.USER_MAP.set(k,new Sa(k)),Sa.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var M=this;return(0,m.Z)(function*(){return eo(M.auth,t0(M._delegate,k))})()}linkWithPhoneNumber(k,M){var I=this;return(0,m.Z)(function*(){return N0(I.auth,function fc(D,k,M){return A3.apply(this,arguments)}(I._delegate,k,M))})()}linkWithPopup(k){var M=this;return(0,m.Z)(function*(){return eo(M.auth,function x3(D,k,M){return pa.apply(this,arguments)}(M._delegate,k,xi))})()}linkWithRedirect(k){var M=this;return(0,m.Z)(function*(){return yield D2(Pn(M.auth)),Lu(M._delegate,k,xi)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var M=this;return(0,m.Z)(function*(){return eo(M.auth,n0(M._delegate,k))})()}reauthenticateWithPhoneNumber(k,M){return N0(this.auth,function Wr(D,k,M){return gi.apply(this,arguments)}(this._delegate,k,M))}reauthenticateWithPopup(k){return eo(this.auth,function z1(D,k,M){return M3.apply(this,arguments)}(this._delegate,k,xi))}reauthenticateWithRedirect(k){var M=this;return(0,m.Z)(function*(){return yield D2(Pn(M.auth)),Tu(M._delegate,k,xi)})()}sendEmailVerification(k){return function c3(D,k){return d2.apply(this,arguments)}(this._delegate,k)}unlink(k){var M=this;return(0,m.Z)(function*(){return yield function e0(D,k){return $r.apply(this,arguments)}(M._delegate,k),M})()}updateEmail(k){return function Er(D,k){return mi((0,Y.m9)(D),k,null)}(this._delegate,k)}updatePassword(k){return function Js(D,k){return mi((0,Y.m9)(D),null,k)}(this._delegate,k)}updatePhoneNumber(k){return function Zr(D,k){return D1.apply(this,arguments)}(this._delegate,k)}updateProfile(k){return function Cu(D,k){return d3.apply(this,arguments)}(this._delegate,k)}verifyBeforeUpdateEmail(k,M){return function l3(D,k,M){return sc.apply(this,arguments)}(this._delegate,k,M)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sa.USER_MAP=new WeakMap;const Yl=me;let P0=(()=>{class D{constructor(M,I){if(this.app=M,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=M.options;Yl(R,"invalid-api-key",{appName:M.name}),Yl(R,"invalid-api-key",{appName:M.name});const j=typeof window<"u"?xi:void 0;this._delegate=I.initialize({options:{persistence:po(R,M.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(it),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(M){this._delegate.languageCode=M}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(M){this._delegate.tenantId=M}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(M,I){!function us(D,k,M){const I=Pn(D);me(I._canInitEmulator,I,"emulator-config-failed"),me(/^https?:\/\//.test(k),I,"invalid-emulator-scheme");const R=!!M?.disableWarnings,j=fi(k),{host:re,port:ge}=function Jt(D){const k=fi(D),M=/(\/\/)?([^?#/]+)/.exec(D.substr(k.length));if(!M)return{host:"",port:null};const I=M[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(I);if(R){const j=R[1];return{host:j,port:J2(I.substr(j.length+1))}}{const[j,re]=I.split(":");return{host:j,port:J2(re)}}}(k);I.config.emulator={url:`${j}//${re}${null===ge?"":`:${ge}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:re,port:ge,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function J1(){function D(){const k=document.createElement("p"),M=k.style;k.innerText="Running in emulator mode. Do not use with production credentials.",M.position="fixed",M.width="100%",M.backgroundColor="#ffffff",M.border=".1em solid #000000",M.color="#b50000",M.bottom="0px",M.left="0px",M.margin="0px",M.zIndex="10000",M.textAlign="center",k.classList.add("firebase-emulator-warning"),document.body.appendChild(k)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,M,I)}applyActionCode(M){return function yu(D,k){return zs.apply(this,arguments)}(this._delegate,M)}checkActionCode(M){return a2(this._delegate,M)}confirmPasswordReset(M,I){return function o3(D,k,M){return s2.apply(this,arguments)}(this._delegate,M,I)}createUserWithEmailAndPassword(M,I){var R=this;return(0,m.Z)(function*(){return eo(R._delegate,function aa(D,k,M){return Jo.apply(this,arguments)}(R._delegate,M,I))})()}fetchProvidersForEmail(M){return this.fetchSignInMethodsForEmail(M)}fetchSignInMethodsForEmail(M){return function a0(D,k){return a3.apply(this,arguments)}(this._delegate,M)}isSignInWithEmailLink(M){return function s3(D,k){return"EMAIL_SIGNIN"===Ka.parseLink(k)?.operation}(0,M)}getRedirectResult(){var M=this;return(0,m.Z)(function*(){Yl(O3(),M._delegate,"operation-not-supported-in-this-environment");const I=yield function m0(D,k){return Wn.apply(this,arguments)}(M._delegate,xi);return I?eo(M._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(M){!function V5(D,k){Pn(D)._logFramework(k)}(this._delegate,M)}onAuthStateChanged(M,I,R){const{next:j,error:re,complete:ge}=Kl(M,I,R);return this._delegate.onAuthStateChanged(j,re,ge)}onIdTokenChanged(M,I,R){const{next:j,error:re,complete:ge}=Kl(M,I,R);return this._delegate.onIdTokenChanged(j,re,ge)}sendSignInLinkToEmail(M,I){return function oc(D,k,M){return Ts.apply(this,arguments)}(this._delegate,M,I)}sendPasswordResetEmail(M,I){return function o2(D,k,M){return Sr.apply(this,arguments)}(this._delegate,M,I||void 0)}setPersistence(M){var I=this;return(0,m.Z)(function*(){let R;switch(function Tr(D,k){Ot(Object.values(Qe).includes(k),D,"invalid-persistence-type"),(0,Y.b$)()?Ot(k!==Qe.SESSION,D,"unsupported-persistence-type"):(0,Y.UG)()?Ot(k===Qe.NONE,D,"unsupported-persistence-type"):V1()?Ot(k===Qe.NONE||k===Qe.LOCAL&&(0,Y.hl)(),D,"unsupported-persistence-type"):Ot(k===Qe.NONE||E0(),D,"unsupported-persistence-type")}(I._delegate,M),M){case Qe.SESSION:R=Ls;break;case Qe.LOCAL:R=(yield ni(r1)._isAvailable())?r1:S1;break;case Qe.NONE:R=xr;break;default:return Le("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(M){return this.signInWithCredential(M)}signInAnonymously(){return eo(this._delegate,function fr(D){return e2.apply(this,arguments)}(this._delegate))}signInWithCredential(M){return eo(this._delegate,n2(this._delegate,M))}signInWithCustomToken(M){return eo(this._delegate,function ze(D,k){return en.apply(this,arguments)}(this._delegate,M))}signInWithEmailAndPassword(M,I){return eo(this._delegate,function s0(D,k,M){return n2((0,Y.m9)(D),t3.credential(k,M))}(this._delegate,M,I))}signInWithEmailLink(M,I){return eo(this._delegate,function Ui(D,k,M){return c2.apply(this,arguments)}(this._delegate,M,I))}signInWithPhoneNumber(M,I){return N0(this._delegate,function Du(D,k,M){return ma.apply(this,arguments)}(this._delegate,M,I))}signInWithPopup(M){var I=this;return(0,m.Z)(function*(){return Yl(O3(),I._delegate,"operation-not-supported-in-this-environment"),eo(I._delegate,function un(D,k,M){return Qr.apply(this,arguments)}(I._delegate,M,xi))})()}signInWithRedirect(M){var I=this;return(0,m.Z)(function*(){return Yl(O3(),I._delegate,"operation-not-supported-in-this-environment"),yield D2(I._delegate),Hl(I._delegate,M,xi)})()}updateCurrentUser(M){return this._delegate.updateCurrentUser(M)}verifyPasswordResetCode(M){return function Lo(D,k){return Is.apply(this,arguments)}(this._delegate,M)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Qe,D})();function Kl(D,k,M){let I=D;"function"!=typeof D&&({next:I,error:k,complete:M}=D);const R=I;return{next:re=>R(re&&Sa.getOrCreate(re)),error:k,complete:M}}function po(D,k){const M=function D0(D,k){const M=z0();if(!M)return[];const I=oe(xa,D,k);switch(M.getItem(I)){case Qe.NONE:return[xr];case Qe.LOCAL:return[r1,Ls];case Qe.SESSION:return[Ls];default:return[]}}(D,k);if(typeof self<"u"&&!M.includes(r1)&&M.push(r1),typeof window<"u")for(const I of[S1,Ls])M.includes(I)||M.push(I);return M.includes(xr)||M.push(xr),M}class T2{constructor(){this.providerId="phone",this._delegate=new Yr(Ac(fe.Z.auth()))}static credential(k,M){return Yr.credential(k,M)}verifyPhoneNumber(k,M){return this._delegate.verifyPhoneNumber(k,M)}unwrap(){return this._delegate}}T2.PHONE_SIGN_IN_METHOD=Yr.PHONE_SIGN_IN_METHOD,T2.PROVIDER_ID=Yr.PROVIDER_ID;const R0=me;class qu{constructor(k,M,I=fe.Z.app()){var R;R0(null===(R=I.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new k3(k,M,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function O0(D){D.INTERNAL.registerComponent(new ne.wA("auth-compat",k=>{const M=k.getProvider("app-compat").getImmediate(),I=k.getProvider("auth");return new P0(M,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:G_EMAIL_SIGNIN,PASSWORD_RESET:G_PASSWORD_RESET,RECOVER_EMAIL:G_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:G_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:G_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:G_VERIFY_EMAIL}},EmailAuthProvider:t3,FacebookAuthProvider:Cl,GithubAuthProvider:wl,GoogleAuthProvider:na,OAuthProvider:Dn,SAMLAuthProvider:Ja,PhoneAuthProvider:T2,PhoneMultiFactorGenerator:A2,RecaptchaVerifier:qu,TwitterAuthProvider:Xa,Auth:P0,AuthCredential:ds,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.4.2")}(fe.Z)},5861:(mt,Re,Q)=>{"use strict";function m(Y,se,we,Z,ne,F,ee){try{var $=Y[F](ee),U=$.value}catch(G){return void we(G)}$.done?se(U):Promise.resolve(U).then(Z,ne)}function fe(Y){return function(){var se=this,we=arguments;return new Promise(function(Z,ne){var F=Y.apply(se,we);function ee(U){m(F,Z,ne,ee,$,"next",U)}function $(U){m(F,Z,ne,ee,$,"throw",U)}ee(void 0)})}}Q.d(Re,{Z:()=>fe})},7582:(mt,Re,Q)=>{"use strict";function se(pe,Ee){var Te={};for(var Me in pe)Object.prototype.hasOwnProperty.call(pe,Me)&&Ee.indexOf(Me)<0&&(Te[Me]=pe[Me]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Me=Object.getOwnPropertySymbols(pe);Ue<Me.length;Ue++)Ee.indexOf(Me[Ue])<0&&Object.prototype.propertyIsEnumerable.call(pe,Me[Ue])&&(Te[Me[Ue]]=pe[Me[Ue]])}return Te}function G(pe,Ee,Te,Me){return new(Te||(Te=Promise))(function(Be,kt){function wt(dn){try{xt(Me.next(dn))}catch(Yn){kt(Yn)}}function $t(dn){try{xt(Me.throw(dn))}catch(Yn){kt(Yn)}}function xt(dn){dn.done?Be(dn.value):function Ue(Be){return Be instanceof Te?Be:new Te(function(kt){kt(Be)})}(dn.value).then(wt,$t)}xt((Me=Me.apply(pe,Ee||[])).next())})}function Ge(pe){return this instanceof Ge?(this.v=pe,this):new Ge(pe)}function Le(pe,Ee,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Me=Te.apply(pe,Ee||[]),Be=[];return Ue={},kt("next"),kt("throw"),kt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function kt(Sn){Me[Sn]&&(Ue[Sn]=function(Ci){return new Promise(function(Ji,Gt){Be.push([Sn,Ci,Ji,Gt])>1||wt(Sn,Ci)})})}function wt(Sn,Ci){try{!function $t(Sn){Sn.value instanceof Ge?Promise.resolve(Sn.value.v).then(xt,dn):Yn(Be[0][2],Sn)}(Me[Sn](Ci))}catch(Ji){Yn(Be[0][3],Ji)}}function xt(Sn){wt("next",Sn)}function dn(Sn){wt("throw",Sn)}function Yn(Sn,Ci){Sn(Ci),Be.shift(),Be.length&&wt(Be[0][0],Be[0][1])}}function Pe(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Ee=pe[Symbol.asyncIterator];return Ee?Ee.call(pe):(pe=function ct(pe){var Ee="function"==typeof Symbol&&Symbol.iterator,Te=Ee&&pe[Ee],Me=0;if(Te)return Te.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Me>=pe.length&&(pe=void 0),{value:pe&&pe[Me++],done:!pe}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Te={},Me("next"),Me("throw"),Me("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Me(Be){Te[Be]=pe[Be]&&function(kt){return new Promise(function(wt,$t){!function Ue(Be,kt,wt,$t){Promise.resolve($t).then(function(xt){Be({value:xt,done:wt})},kt)}(wt,$t,(kt=pe[Be](kt)).done,kt.value)})}}}Q.d(Re,{FC:()=>Le,KL:()=>Pe,_T:()=>se,mG:()=>G,qq:()=>Ge}),"function"==typeof SuppressedError&&SuppressedError}},mt=>{mt(mt.s=311)}]);